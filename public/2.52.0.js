/*! For license information please see main.bundle.js.LICENSE.txt */
/**
 * The `cdApi` object provides configuration management, context switching, and session control
 * for the client application. It retrieves configuration values, posts messages to the window,
 * and manages customer session and brand information.
 *
 * If the meta tag `isHybeid` is present and set to true, only `cdApi` is appended to the global scope.
 * If the meta tag `isHybeid` is absent or set to false,`BcClient` are appended.
 * Once the bcClient.Start was triggerd the `cdApi` will be appended to the window as-well. (so old integration will not break - they will still have access to the `cdApi` object)
 *
 * This logic allows the application to adapt its available APIs based on the environment or integration mode.
 */

(function (window, document) {
  "use strict";
  const getMetatagContent = (name) => {
    const elem = document.querySelector(`meta[name="${name}"]`);
    return elem ? elem.getAttribute("content") : "";
  };

  const isHybrid = getMetatagContent("isHybrid");

  if (isHybrid === "false") {
    console.log("Hybrid mode is false, using cdApi"); // remember to delete this line in production
    const cdApi = {
      configurationKeys: {
        wupServerURL: "wupServerURL",
        logServerURL: "logServerURL",
        enableCustomElementsProcessing: "enableCustomElementsProcessing",
        collectionSettings: "collectionSettings",
        maxShadowDepth: "maxShadowDepth",
      },

      getMetatagContent: (name) => {
        const elem = document.querySelector(`meta[name="${name}"]`);
        return elem ? elem.getAttribute("content") : "";
      },

      getConfigurations: function (callback) {
        const configurations = {};
        configurations[cdApi.configurationKeys.wupServerURL] =
          "https://wup-bladetest.au.v2.customers.biocatch.com/client/v3.1/web/wup?v=1&cid=bladetest";
        configurations[cdApi.configurationKeys.logServerURL] =
          "https://log-bladetest.au.v2.customers.biocatch.com/api/v1/sendLogs";
        configurations[
          cdApi.configurationKeys.enableCustomElementsProcessing
        ] = true;
        configurations[cdApi.configurationKeys.maxShadowDepth] = 25;
        configurations[cdApi.configurationKeys.collectionSettings] = {
          elementSettings: { customElementAttribute: "data-bb" },
        };
        callback(configurations);
      },

      postMessage: function (message) {
        window.postMessage(message, window.location.origin);
      },

      changeContext: function (contextName) {
        this.postMessage({
          type: "ContextChange",
          context: contextName,
        });
      },

      startNewSession: function (csid) {
        this.postMessage({
          type: "ResetSession",
          resetReason: "customerApi",
          csid,
        });
      },

      setCustomerSessionId: function (csid) {
        this.postMessage({ type: "cdSetCsid", csid: csid });
      },

      setCustomerBrand: function (brand) {
        this.postMessage({
          type: "cdSetCustomerBrand",
          brand: brand,
        });
      },
    };
    window.cdApi = cdApi;
  } 
  
  else {
    console.log("Hybrid mode is true, using bcClient"); // remember to delete this line in production
    const bcGetMetatagContent = (name) => {
      const elem = document.querySelector(`meta[name="${name}"]`);
      return elem ? elem.getAttribute("content") : "";
    };
    const bcGetCookiesContent = (key) => {
      let result = new RegExp(
        "(?:^|; )" + encodeURIComponent(key) + "=([^;]*)"
      ).exec(document.cookie);
      return result ? decodeURIComponent(result[1]) : "";
    };
    const bcClientConfiguration = {};
    bcClientConfiguration["logServerURL"] =
      "https://log-bladetest.au.v2.customers.biocatch.com/api/v1/sendLogs";
    bcClientConfiguration["enableCustomElementsProcessing"] = true;
    bcClientConfiguration["collectionSettings"] = {
      mode: {
        agentType: "secondary",
        collectionMode: "lean",
      },
    };
    window.bcClientConfiguration = bcClientConfiguration;
    window.bcGetMetatagContent = bcGetMetatagContent;
    window.bcGetCookiesContent = bcGetCookiesContent;
  }
})(window, document);
/*! For license information please see main.bundle.js.LICENSE.txt */
var cdwpb;
!(function () {
  var t = {
      4060: function (t) {
        "use strict";
        t.exports = JSON.parse(
          '{"selectors":["input","textarea","select","button"]}'
        );
      },
      5512: function (t) {
        "use strict";
        t.exports = function (t, e, n, r) {
          var o = self || window;
          try {
            try {
              var i;
              try {
                i = new o.Blob([t]);
              } catch (e) {
                (i = new (o.BlobBuilder ||
                  o.WebKitBlobBuilder ||
                  o.MozBlobBuilder ||
                  o.MSBlobBuilder)()).append(t),
                  (i = i.getBlob());
              }
              var a = o.URL || o.webkitURL,
                u = a.createObjectURL(i),
                s = new o[e](u, n);
              return a.revokeObjectURL(u), s;
            } catch (r) {
              return new o[e](
                "data:application/javascript,".concat(encodeURIComponent(t)),
                n
              );
            }
          } catch (t) {
            if (!r) throw Error("Inline worker is not supported");
            return new o[e](r, n);
          }
        };
      },
      5727: function (t) {
        "use strict";
        t.exports = JSON.parse(
          '{"attributes":["class","name","id","placeholder","aria-label","data-label","aria-describedby","title","autocomplete","data-placeholder","data-hint","aria-placeholder","aria-labelledby","formcontrolname","role","data-type","data-field","data-name","inputmode","data-test-id","data-value","data-format"]}'
        );
      },
      6542: function (t) {
        "use strict";
        t.exports = JSON.parse(
          '{"username":"0001","user name":"0001","user-name":"0001","user_id":"0001","userid":"0001","user-id":"0001","login name":"0001","loginname":"0001","login_id":"0001","loginid":"0001","login-user":"0001","login_user":"0001","account name":"0001","accountname":"0001","account_name":"0001","account id":"0006","accountid":"0006","account_id":"0001","uname":"0001","member id":"0120","password":"0002","pass word":"0002","pass-word":"0002","passwd":"0002","pwd":"0002","p/w":"0002","pword":"0002","pass_code":"0002","passcode":"0002","password_input":"0002","pass input":"0002","password field":"0002","passwordfield":"0002","user password":"0002","userpassword":"0002","account password":"0002","accountpassword":"0002","login password":"0002","loginpassword":"0002","secret password":"0002","otp":"0003","one time password":"0003","one-time password":"0003","onetime password":"0003","one time pin":"0003","one-time pin":"0003","otp code":"0003","otpcode":"0003","verification code":"0128","verify code":"0003","verificationcode":"0003","auth code":"0003","authcode":"0003","authentication code":"0003","2fa code":"0003","two factor code":"0003","two-factor code":"0003","2fa":"0003","security code":"0128","pin code":"0003","amount":"0004","payment amount":"0004","transfer amount":"0004","total amount":"0004","money":"0004","value":"0004","sum":"0004","price":"0004","fee":"0004","charge":"0004","cost":"0004","amount due":"0004","balance":"0004","payable amount":"0004","bill amount":"0004","transaction amount":"0004","withdrawal amount":"0004","deposit amount":"0004","loan amount":"0004","subtotal":"0004","new payee":"0005","add payee":"0005","payee name":"0005","payee":"0005","recipient name":"0005","recipient":"0005","beneficiary":"0005","beneficiary name":"0005","payee account":"0005","payee_account":"0005","recipient account":"0005","recipient_account":"0005","payee id":"0005","payeeid":"0005","beneficiary id":"0005","beneficiaryid":"0005","new recipient":"0005","add beneficiary":"0005","payee details":"0005","recipient details":"0005","account number":"0006","acc number":"0006","acct number":"0006","account no":"0006","account #":"0006","account#":"0006","accountnum":"0006","accountnum#":"0006","bank account":"0006","bankaccount":"0006","bank account number":"0006","bankaccountnumber":"0006","accountnumbr":"0006","acct no":"0006","acct#":"0006","acctno":"0006","account identifier":"0006","account code":"0006","change password":"0007","update password":"0007","reset password":"0007","new password":"0007","set password":"0007","create password":"0007","re-enter password":"0007","confirm password":"0007","modify password":"0007","password change":"0007","password reset":"0007","password update":"0007","change passcode":"0007","update passcode":"0007","reset passcode":"0007","change pwd":"0007","update pwd":"0007","reset pwd":"0007","change secret":"0007","update secret":"0007","change phone":"0008","update phone":"0008","new phone":"0008","phone update":"0008","change number":"0008","phone number change":"0008","update number":"0008","modify phone":"0008","modify number":"0008","phone change":"0008","phone edit":"0008","edit phone":"0008","replace phone":"0008","replace number":"0008","new phone number":"0008","add phone number":"0008","set phone number":"0008","set phone":"0008","phone update request":"0008","update mobile":"0008","change email":"0009","update email":"0009","new email":"0009","email update":"0009","change e-mail":"0009","e-mail update":"0009","email address change":"0009","update email address":"0009","change email address":"0009","modify email":"0009","modify e-mail":"0009","edit email":"0009","email change":"0009","replace email":"0009","new email address":"0009","set email":"0009","update mail":"0009","change mail":"0009","mail update":"0009","email modifications":"0009","change address":"0010","update address":"0010","new address":"0010","address update":"0010","edit address":"0010","modify address":"0010","replace address":"0010","address change":"0010","address edit":"0010","address modification":"0010","set address":"0010","update location":"0010","change location":"0010","new location":"0010","location update":"0010","shipping address change":"0010","billing address change":"0010","change street":"0010","update street":"0010","change home address":"0010","login":"0011","sign in":"0011","sign-in":"0011","signin":"0011","submit login":"0011","login button":"0011","log in":"0011","log-in":"0011","login submit":"0011","submit credentials":"0011","sign in button":"0011","sign in submit":"0011","connect":"0011","access account":"0011","enter":"0011","enter site":"0011","authenticate":"0011","proceed login":"0011","start session":"0011","begin session":"0011","first name":"0100","firstname":"0100","given name":"0100","your first name":"0100","first-name":"0100","forename":"0100","christian name":"0100","personal name":"0100","first":"0100","initial name":"0100","givenname":"0100","firstn":"0100","fname":"0100","first name field":"0100","customer first name":"0100","applicant first name":"0100","user first name":"0100","first name input":"0100","first name enter":"0100","first-name-entry":"0100","last name":"0101","lastname":"0101","surname":"0101","family name":"0101","last-name":"0101","l-name":"0101","lname":"0101","second name":"0102","lastn":"0101","last name field":"0101","customer last name":"0101","applicant last name":"0101","user last name":"0101","surname field":"0101","familyname":"0101","last name input":"0101","last name enter":"0101","surname input":"0101","surname enter":"0101","surname entry":"0101","middle name":"0102","middlename":"0102","middle-name":"0102","middle initial":"0102","middleinitial":"0102","m name":"0102","mname":"0102","middle":"0102","middle n.":"0102","middle name field":"0102","middle name input":"0102","middle name enter":"0102","middle name entry":"0102","mi":"0102","middle initial field":"0102","middleinitial field":"0102","middle initial input":"0102","middle initial entry":"0102","m.i.":"0102","email":"0103","email address":"0103","e-mail":"0103","mail address":"0103","your email":"0103","your e-mail":"0103","email id":"0103","emailid":"0103","email_id":"0103","mail id":"0103","mailid":"0103","mail_id":"0103","emailaddress":"0103","email addr":"0103","email field":"0103","email input":"0103","email enter":"0103","email entry":"0103","emailaccount":"0103","email account":"0103","ssn":"0104","social security number":"0104","social security #":"0104","ssn number":"0104","soc sec number":"0104","social-sec-number":"0104","social security no":"0104","ss no":"0104","ss#":"0104","ss number":"0104","socsec":"0104","social security id":"0104","social security identifier":"0104","social security code":"0104","ssnid":"0104","ssn id":"0104","ssn field":"0104","ssn input":"0104","ssn enter":"0104","ssn entry":"0104","phone number":"0105","phone":"0105","mobile number":"0105","mobile":"0105","telephone":"0105","cell number":"0105","cellphone":"0105","your phone":"0105","contact number":"0105","contact #":"0105","phone no":"0105","phone#":"0105","tel":"0105","tel number":"0105","telephone number":"0105","mobile phone":"0105","cell":"0105","cell phone":"0105","phone field":"0105","phone input":"0105","street address":"0106","address":"0106","home address":"0106","residential address":"0106","mailing address":"0106","your address":"0106","street":"0106","street address line":"0106","streetaddr":"0106","address line":"0106","street address field":"0106","street address input":"0106","address field":"0106","address input":"0106","address enter":"0106","address entry":"0106","house address":"0106","road address":"0106","streetname":"0106","street line":"0106","dob":"0107","date of birth":"0107","birth date":"0107","full dob":"0107","your birthdate":"0107","birthdate":"0107","birth date full":"0107","full date of birth":"0107","dob full":"0107","dob field":"0107","dob input":"0107","dob enter":"0107","birthdate field":"0107","birthday":"0107","birthday full":"0107","birthday date":"0107","date-of-birth":"0107","birth date input":"0107","birth date entry":"0107","dob complete":"0107","dob day":"0108","birth day":"0108","day of birth":"0108","birth day of month":"0108","day of month":"0108","dob-day":"0108","birth day field":"0108","birth day input":"0108","day field":"0108","day input":"0108","dob day field":"0108","birth day entry":"0108","day birth":"0108","day dob":"0108","birth-day":"0108","dayofbirth":"0108","day-of-birth":"0108","date day":"0108","day value":"0108","dob d":"0108","dob month":"0109","birth month":"0109","month of birth":"0109","month born":"0109","dob-month":"0109","birth month field":"0109","month field":"0109","month input":"0109","month entry":"0109","dob mth":"0109","dob m":"0109","month dob":"0109","birth-month":"0109","monthofbirth":"0109","month-of-birth":"0109","month value":"0109","month dob field":"0109","month dob input":"0109","birth mth":"0109","dob month value":"0109","dob year":"0110","birth year":"0110","year of birth":"0110","year born":"0110","dob-year":"0110","birth year field":"0110","year field":"0110","year input":"0110","year entry":"0110","dob yr":"0110","birth-year":"0110","yearofbirth":"0110","year-of-birth":"0110","yr of birth":"0110","dob y":"0110","birthyear":"0110","year value":"0110","dob year field":"0110","year dob":"0110","dob yyyy":"0110","annual income":"0111","income":"0111","yearly income":"0111","salary":"0111","earnings":"0111","yearly salary":"0111","annual salary":"0111","monthly income":"0111","income per year":"0111","yearly earnings":"0111","income yearly":"0111","total income":"0111","gross income":"0111","net income":"0111","income amount":"0111","income field":"0111","income input":"0111","salary amount":"0111","salary field":"0111","salary input":"0111","zip code":"0112","postal code":"0112","zipcode":"0112","zip":"0112","post code":"0112","zip-code":"0112","zip number":"0112","zip no":"0112","postal":"0112","postal no":"0112","postal number":"0112","postalcode":"0112","post code number":"0112","zip field":"0112","zip input":"0112","zip entry":"0112","postcode field":"0112","postal code field":"0112","zip_digit":"0112","zipcode field":"0112","city":"0113","town":"0113","city name":"0113","town name":"0113","your city":"0113","municipality":"0113","city/town":"0113","citytown":"0113","city or town":"0113","locality":"0113","village":"0113","hometown":"0113","city field":"0113","city input":"0113","city entry":"0113","city value":"0113","town field":"0113","town input":"0113","cityname":"0113","city location":"0113","state":"0114","province":"0114","territory":"0114","region":"0114","your state":"0114","state/region":"0114","state name":"0114","province name":"0114","province/state":"0114","county":"0114","state field":"0114","state input":"0114","state entry":"0114","region field":"0114","region input":"0114","regional":"0114","state value":"0114","state id":"0114","statecode":"0114","statecode field":"0114","country":"0115","nation":"0115","country name":"0115","your country":"0115","country/region":"0115","nationality":"0115","nation name":"0115","country field":"0115","country input":"0115","country entry":"0115","country code":"0115","countrycode":"0115","country id":"0115","country identifier":"0115","country of residence":"0115","residing country":"0115","country value":"0115","countryname":"0115","home country":"0115","birth country":"0115","address line 1":"0116","street line 1":"0116","address1":"0116","street address 1":"0116","address first line":"0116","addr line 1":"0116","address line1":"0116","streetline1":"0116","addressl1":"0116","street addr 1":"0116","line1 address":"0116","address primary":"0116","primary address":"0116","address_part1":"0116","address part 1":"0116","house number":"0116","house no":"0116","block":"0116","building number":"0116","building no":"0116","address line 2":"0117","street line 2":"0117","address2":"0117","street address 2":"0117","address second line":"0117","addr line 2":"0117","address line2":"0117","streetline2":"0117","addressl2":"0117","street addr 2":"0117","line2 address":"0117","secondary address":"0117","secondary addr":"0117","address_part2":"0117","address part 2":"0117","apartment":"0117","apt number":"0117","suite":"0117","unit":"0117","floor":"0117","submit application":"0118","application submit":"0118","apply button":"0118","submit form":"0118","send application":"0118","apply now":"0118","application button":"0118","submit app":"0118","apply":"0118","submit application button":"0118","application submit button":"0118","send form":"0118","submit request":"0118","send request":"0118","proceed":"0118","continue application":"0118","submit":"0118","continue":"0118","next":"0118","finish application":"0118","iban":"0119","international bank account number":"0119","iban number":"0119","iban no":"0119","bank iban":"0119","iban code":"0119","iban field":"0119","iban input":"0119","iban entry":"0119","iban#":"0119","account iban":"0119","account_iban":"0119","iban id":"0119","iban identifier":"0119","iban value":"0119","iban digits":"0119","iban account":"0119","iban acct":"0119","acct iban":"0119","iban code number":"0119","membership id":"0120","membership number":"0120","member number":"0120","membership no":"0120","member no":"0120","membership#":"0120","member#":"0120","membershipid":"0120","memberid":"0120","member identifier":"0120","membership identifier":"0120","membership code":"0120","membership code number":"0120","membership account":"0120","account membership":"0120","membership field":"0120","member field":"0120","membership input":"0120","member input":"0120","mother name":"0121","mother\'s name":"0121","mom name":"0121","mom\'s name":"0121","maternal name":"0121","mothername":"0121","momname":"0121","mother full name":"0121","mother fullname":"0121","mums name":"0121","mother field":"0121","mother input":"0121","mother entry":"0121","mom field":"0121","mom input":"0121","mother\'s full name":"0121","maternal fullname":"0121","mothername field":"0121","mother first name":"0121","mother last name":"0121","routing number":"0122","bank routing number":"0122","routing no":"0122","routing #":"0122","routing code":"0122","bank routing code":"0122","routingnum":"0122","routingnum#":"0122","routing number field":"0122","routing field":"0122","routing input":"0122","routing entry":"0122","aba number":"0122","aba routing":"0122","aba code":"0122","aba routing number":"0122","aba routing no":"0122","transit number":"0122","bank transit number":"0122","transit code":"0122","sort code":"0123","bank sort code":"0123","sortcode":"0123","sort-code":"0123","sort code number":"0123","bank sort code number":"0123","sort code field":"0123","sort code input":"0123","sort code entry":"0123","sort no":"0123","sort#":"0123","bank sort#":"0123","bank sort no":"0123","sort identifier":"0123","bank code":"0123","bank sort identifier":"0123","bank code number":"0123","bank sort":"0123","clearing code":"0123","sort digits":"0123","passport number":"0124","passport no":"0124","passport id":"0124","passport #":"0124","passportnum":"0124","passport#":"0124","passport identifier":"0124","passport code":"0124","passport field":"0124","passport input":"0124","passport entry":"0124","passport document number":"0124","passportdocument":"0124","passport doc no":"0124","passport doc#":"0124","passport serial":"0124","passport serial number":"0124","passport num field":"0124","travel document number":"0124","passport digits":"0124","driving licence number":"0125","driver\'s license number":"0125","driver licence number":"0125","dl number":"0125","drivers license":"0125","driving license":"0125","licence number":"0125","driver license no":"0125","driver license #":"0125","driverlicense":"0125","driving licence no":"0125","dl no":"0125","license number":"0125","driving licence id":"0125","driver id":"0125","driver\'s licence id":"0125","driving permit number":"0125","driving licence field":"0125","dl field":"0125","dl input":"0125","business name":"0126","company name":"0126","organization name":"0126","business":"0126","company":"0126","organization":"0126","enterprise name":"0126","enterprise":"0126","corporate name":"0126","corporate":"0126","businessname":"0126","companyname":"0126","company title":"0126","firm name":"0126","firm":"0126","business title":"0126","business field":"0126","company field":"0126","organization field":"0126","company input":"0126","card number":"0127","credit card number":"0127","debit card number":"0127","card no":"0127","card #":"0127","cardnum":"0127","card#":"0127","card digits":"0127","card id":"0127","card identifier":"0127","cc number":"0127","cc#":"0127","creditcard":"0127","debitcard":"0127","card number field":"0127","card input":"0127","card entry":"0127","payment card number":"0127","card account number":"0127","card acct number":"0127","cvv":"0128","cvc":"0128","card security code":"0128","card cvv":"0128","card cvc":"0128","cvv2":"0128","cvv code":"0128","cvc code":"0128","card code":"0128","card verification value":"0128","card verification code":"0128","card verification":"0128","security number":"0128","card security number":"0128","cvv field":"0128","cvv input":"0128","cvv entry":"0128","cvc2":"0128","card expiration":"0129","expiry date":"0129","expiration date":"0129","card expiry":"0129","expiration":"0129","exp date":"0129","exp":"0129","card exp":"0129","card expiration date":"0129","card expiry date":"0129","expiry":"0129","cardexp":"0129","card exp date":"0129","expdate":"0129","expiration field":"0129","expiry field":"0129","expiration input":"0129","expiry input":"0129","expiration entry":"0129","exp date field":"0129","employer name":"0130","company you work for":"0130","workplace":"0130","work name":"0130","employer":"0130","employername":"0130","company employer":"0130","work employer":"0130","organization employer":"0130","employer field":"0130","employer input":"0130","employer entry":"0130","job employer":"0130","employer company":"0130","employer organization":"0130","employer details":"0130","employer info":"0130","employer id":"0130","employer title":"0130","employer company name":"0130","security question 1":"0131","security q1":"0131","security question one":"0131","security question first":"0131","first security question":"0131","securityquestion1":"0131","securityquestionone":"0131","sec q1":"0131","sec question 1":"0131","sq1":"0131","security qn1":"0131","sec ques 1":"0131","security question field 1":"0131","security question input 1":"0131","security question 1 field":"0131","question 1":"0131","security quest 1":"0131","personal question 1":"0131","secret question 1":"0131","challenge question 1":"0131","security question 2":"0132","security q2":"0132","security question two":"0132","security question second":"0132","second security question":"0132","securityquestion2":"0132","securityquestiontwo":"0132","sec q2":"0132","sec question 2":"0132","sq2":"0132","security qn2":"0132","sec ques 2":"0132","security question field 2":"0132","security question input 2":"0132","security question 2 field":"0132","question 2":"0132","security quest 2":"0132","personal question 2":"0132","secret question 2":"0132","challenge question 2":"0132"}'
        );
      },
      7521: function (t) {
        t.exports = {
          unlabled: [
            "adobe jenson",
            "adobe text",
            "albertus",
            "aldus",
            "alexandria",
            "algerian",
            "american typewriter",
            "antiqua",
            "arno",
            "aster",
            "aurora",
            "baskerville",
            "bell",
            "bembo",
            "bembo schoolbook",
            "benguiat",
            "berkeley old style",
            "bernhard modern",
            "bodoni",
            "book antiqua",
            "bookman",
            "bordeaux roman",
            "californian fb",
            "calisto",
            "capitals",
            "cambria",
            "cartier",
            "caslon",
            "caslon antique",
            "catull",
            "centaur",
            "century old style",
            "century schoolbook",
            "new century schoolbook",
            "chaparral",
            "charis sil",
            "cheltenham",
            "clearface",
            "cochin",
            "colonna",
            "computer modern",
            "concrete roman",
            "constantia",
            "cooper black",
            "corona",
            "dejavu fonts",
            "ecotype",
            "elephant",
            "espy serif",
            "excelsior",
            "fairfield",
            "ff scala",
            "footlight",
            "freeserif",
            "friz quadrata",
            "garamond",
            "gentium",
            "georgia",
            "gloucester",
            "goudy old style",
            "goudy schoolbook",
            "goudy pro font",
            "granjon",
            "heather",
            "hercules",
            "high tower text",
            "hiroshige",
            "hoefler text",
            "humana serif",
            "imprint",
            "ionic no. 5",
            "janson",
            "jenson",
            "joanna",
            "korinna",
            "kursivschrift",
            "legacy serif",
            "lexicon",
            "liberation fonts",
            "linux libertine",
            "literaturnaya",
            "lucida",
            "melior",
            "memphis",
            "miller",
            "minion",
            "didone",
            "mona lisa",
            "mrs eaves",
            "ms serif",
            "new york",
            "nimbus roman",
            "nps rawlinson roadway",
            "ocr a extended",
            "palatino",
            "perpetua",
            "plantin",
            "plantin schoolbook",
            "playbill",
            "poor richard",
            "rawlinson roadway",
            "renault",
            "requiem",
            "roman",
            "rotis serif",
            "sabon",
            "seagull",
            "sistina",
            "souvenir",
            "stix",
            "stone informal",
            "stone serif",
            "sylfaen",
            "times new roman",
            "times",
            "trajan",
            "trinité",
            "trump mediaeval",
            "utopia",
            "vale type",
            "bitstream vera",
            "versailles",
            "wanted",
            "weiss",
            "wide latin",
            "windsor",
            "xits",
            "apex",
            "archer",
            "athens",
            "city",
            "cholla slab",
            "clarendon",
            "courier",
            "egyptienne",
            "guardian egyptian",
            "lexia",
            "museo slab",
            "rockwell",
            "nilland",
            "skeleton antique",
            "tower",
            "allegro",
            "amiri",
            "athelas",
            "belwe",
            "bookerly",
            "bulmer",
            "caledonia",
            "constructium",
            "copperplate Gothic",
            "dejaVu serif",
            "didot",
            "droid serif",
            "emerson",
            "galliard",
            "iowan old style",
            "itc lubalin graph",
            "ibm plex",
            "ibm plex serif",
            "junicode",
            "literata",
            "lucida bright",
            "rotis",
            "serifa",
            "source serif pro",
            "theano",
            "zilla slab",
            "bitstream charter",
            "roboto slab",
            "university of california old style",
            "berkeley old style",
            "candida",
            "doves",
            "hightower",
            "liberation sans",
            "lucida grande",
            "vera sans",
            "vercetti regular",
            "computer modern sans",
            "rotis ii sans",
            "sherbrooke",
            "tilson",
            "triplex",
            "abadi",
            "agency fb",
            "akzidenz grotesk",
            "aptifer",
            "arial",
            "arial unicode ms",
            "avant garde",
            "avenir",
            "bank gothic",
            "barmeno",
            "bauhaus",
            "bell centennial",
            "bell gothic",
            "benguiat gothic",
            "berlin sans",
            "beteckna",
            "brandon grotesque",
            "cabin",
            "cafeteria",
            "calibri",
            "century gothic",
            "charcoal",
            "chicago",
            "clearface gothic",
            "clearview",
            "co headline",
            "co text",
            "compacta",
            "corbel",
            "ff dax",
            "dotum",
            "droid",
            "dyslexie",
            "ecofont",
            "eras",
            "espy sans",
            "nu sans",
            "eurocrat",
            "eurostile",
            "ff meta",
            "flama",
            "formata",
            "freesans",
            "franklin gothic",
            "frutiger",
            "futura",
            "geneva",
            "gill sans",
            "gill sans schoolbook",
            "gotham",
            "handel gothic",
            "denmark",
            "haettenschweiler",
            "hei",
            "helvetica",
            "helvetica neue",
            "swiss 721",
            "highway gothic",
            "hiroshige sans",
            "hobo",
            "impact",
            "industria",
            "interstate",
            "johnston",
            "kabel",
            "lato",
            "legacy sans",
            "lexia readable",
            "meiryo",
            "microgramma",
            "motorway",
            "ms sans serif",
            "museo sans",
            "myriad",
            "neutraface",
            "neuzeit s",
            "news gothic",
            "nimbus sans l",
            "nina",
            "optima",
            "parisine",
            "pricedown",
            "prima sans",
            "pt sans",
            "rail alphabet",
            "revue",
            "roboto",
            "rotis sans",
            "ff scala sans",
            "segoe",
            "skia",
            "souvenir gothic",
            "stone sans",
            "syntax",
            "tahoma",
            "template gothic",
            "tiresias",
            "trade gothic",
            "transport alphabet",
            "trebuchet ms",
            "trump gothic",
            "tw cen",
            "twentieth century",
            "ubuntu font family",
            "univers",
            "zurich",
            "verdana",
            "virtue",
            "acumin",
            "akzidenz-grotesk",
            "amplitude",
            "andalé sans",
            "antique olive",
            "archivo",
            "austria",
            "itc avant garde",
            "itc avant garde gothic",
            "averta",
            "bahnschrift",
            "barlow",
            "bobcaygeon",
            "breeze sans",
            "cantarell",
            "caractères",
            "cera Pro",
            "cisco sans",
            "adobe clean",
            "clear sans",
            "comic neue",
            "dejaVu sans",
            "din 1451",
            "dosis",
            "drogowskaz",
            "droid sans",
            "dubai",
            "e-ukraine",
            "fira sans",
            "folio",
            "gerstner programm",
            "grand slang",
            "harmonyos sans",
            "ibm plex sans",
            "inter",
            "ge inspira",
            "karrik",
            "klavika",
            "libre franklin",
            "linux biolinum",
            "fs me",
            "ff meta",
            "montserrat",
            "national trust",
            "nokia pure",
            "noto sans",
            "nunito sans",
            "open sans",
            "overpass",
            "oxygen",
            "poppins",
            "proxima nova",
            "radis sans",
            "raleway",
            "Selawik",
            "semplicità",
            "seravek",
            "oneplus",
            "snv",
            "source sans pro",
            "sweden sans",
            "thesis sans",
            "transport",
            "tratex",
            "unica",
            "universalis",
            "vag rounded",
            "whitney",
            "aphont",
            "ff clan",
            "gilroy",
            "greycliff",
            "nobel",
            "andale mono",
            "anonymous",
            "consolas",
            "courierhp",
            "courier new",
            "courierps",
            "fontcraft courier",
            "everson mono",
            "fedra mono",
            "fixed",
            "fixedsys",
            "fixedsys excelsior",
            "inconsolata",
            "hyperfont",
            "letter gothic",
            "magnetic ink character recognition",
            "menlo",
            "miriam fixed",
            "monaco",
            "monofur",
            "monospace",
            "ms gothic",
            "ms mincho",
            "nimbus mono l",
            "ocr-a",
            "ocr-b",
            "orator",
            "ormaxx",
            "pragmatapro",
            "prestige elite",
            "profont",
            "proggy programming fonts",
            "small fonts",
            "sydnie",
            "terminal",
            "tex gyre cursor",
            "um typewriter",
            "william monospace",
            "balloon",
            "brush script",
            "dragonwick",
            "choc",
            "dom casual",
            "mistral",
            "papyrus",
            "tempus sans",
            "amazone",
            "ams euler",
            "apple chancery",
            "aristocrat",
            "bickley script",
            "civitype",
            "codex",
            "edwardian script",
            "forte",
            "french script",
            "kuenstler script",
            "monotype corsiva",
            "old english text mt",
            "palace script",
            "park avenue",
            "scriptina",
            "shelley volante",
            "vivaldi",
            "vladimir script",
            "zapf chancery",
            "zapfino",
            "andy",
            "ashley script",
            "chalkboard",
            "comic sans",
            "cezanne",
            "fontoon",
            "irregularis",
            "jefferson",
            "kristen",
            "lucida handwriting",
            "rage italic",
            "rufscript",
            "scribble",
            "soupbone",
            "tekton",
            "alecko",
            "cinderella",
            "cupola",
            "curlz",
            "magnificat",
            "script",
            "american text",
            "cloister black",
            "fraktur",
            "goudy text",
            "old english text",
            "wedding text",
            "aegyptus",
            "aharoni",
            "aisha",
            "amienne",
            "batak script",
            "chandas",
            "hanacaraka",
            "japanese gothic typeface",
            "jomolhari",
            "kochi font",
            "lontara script",
            "maiola",
            "minchō",
            "mona font",
            "nassim",
            "nastaliq navees",
            "neacademia",
            "perpetua greek",
            "simsun",
            "skolar",
            "skolar devanagari",
            "sundanese unicode",
            "sutturah",
            "tai le valentinium",
            "tengwar",
            "tibetan machine uni",
            "tunga",
            "wadalab",
            "apple symbols",
            "bookshelf symbol 7",
            "braille",
            "commercial pi",
            "corel",
            "erler dingbats",
            "hm phonetic",
            "mathematical pi",
            "morse code",
            "opensymbol",
            "richstyle",
            "symbol",
            "symbolps",
            "wingdings",
            "webdings",
            "zapf dingbats",
            "abracadabra",
            "ad lib",
            "allegro",
            "andreas",
            "arnold böcklin",
            "astur",
            "balloon pop outlaw black",
            "banco",
            "beat",
            "braggadocio",
            "broadway",
            "ellington",
            "exablock",
            "exocet",
            "fig script",
            "gigi",
            "harlow solid",
            "harrington",
            "horizon",
            "jim crow",
            "jokerman",
            "juice",
            "lo-type",
            "magneto",
            "megadeth",
            "neuland",
            "peignot",
            "ravie",
            "san francisco",
            "showcard gothic",
            "snap",
            "stencil",
            "umbra",
            "westminster",
            "willow",
            "bagel",
            "lithos",
            "aldhabi",
            "andalus",
            "angsana new",
            "angsanaupc",
            "aparajita",
            "arabic typesetting",
            "arial narrow",
            "arial rounded mt bold",
            "baskerville old face",
            "batang",
            "batangche",
            "bell mt",
            "berlin sans fb",
            "berlin sans fb demi",
            "bernard mt condensed",
            "blackadder itc",
            "bodoni mt",
            "bodoni mt poster compressed",
            "bookman old style",
            "bradley hand itc",
            "britannic bold",
            "browallia new",
            "browalliaupc",
            "brush script mt",
            "buxton sketch",
            "calisto mt",
            "cambria math",
            "candara",
            "castellar",
            "century",
            "chiller",
            "colonna mt",
            "comic sans ms",
            "cordia new",
            "cordiaupc",
            "curlz mt",
            "daunpenh",
            "david",
            "dfkai-sb",
            "dilleniaupc",
            "dokchampa",
            "dotumche",
            "ebrima",
            "edwardian script itc",
            "engravers mt",
            "eras bold itc",
            "eras demi itc",
            "eras light itc",
            "eras medium itc",
            "estrangelo edessa",
            "eucrosiaupc",
            "euphemia",
            "fangsong",
            "felix titling",
            "footlight mt light",
            "franklin gothic demi",
            "franklin gothic demi cond",
            "franklin gothic medium cond",
            "frankruehl",
            "freesiaupc",
            "freestyle script",
            "french script mt",
            "gabriola",
            "gadugi",
            "gautami",
            "gill sans mt",
            "gill sans mt ext condensed bold",
            "gisha",
            "gloucester mt extra condensed",
            "goudy stout",
            "gulim",
            "gulimche",
            "gungsuh",
            "gungsuhche",
            "imprint mt shadow",
            "informal roman",
            "irisupc",
            "iskoola pota",
            "jasmineupc",
            "javanese text",
            "juice itc",
            "kaiti",
            "kalinga",
            "kartika",
            "khmer ui",
            "kodchiangupc",
            "kokila",
            "kristen itc",
            "kunstler script",
            "lao ui",
            "latha",
            "leelawadee",
            "leelawadee ui",
            "levenim mt",
            "lilyupc",
            "lucida bright",
            "lucida calligraphy",
            "lucida console",
            "lucida fax",
            "lucida sans",
            "lucida sans typewriter",
            "lucida sans unicode",
            "maiandra gd",
            "malgun gothic",
            "mangal",
            "marlett",
            "matura mt script capitals",
            "meiryo ui",
            "microsoft himalaya",
            "microsoft jhenghei",
            "microsoft jhenghei ui",
            "microsoft new tai lue",
            "microsoft phagspa",
            "microsoft sans serif",
            "microsoft tai le",
            "microsoft uighur",
            "microsoft yahei",
            "microsoft yahei ui",
            "microsoft yi baiti",
            "mingliu",
            "mingliu-extb",
            "mingliu_hkscs",
            "mingliu_hkscs-extb",
            "miriam",
            "modern",
            "modern no. 20",
            "mongolian baiti",
            "moolboran",
            "ms outlook",
            "ms pgothic",
            "ms pmincho",
            "ms reference sans serif",
            "ms reference specialty",
            "ms ui gothic",
            "mt extra",
            "mv boli",
            "myanmar text",
            "narkisim",
            "niagara engraved",
            "niagara solid",
            "nirmala ui",
            "nsimsun",
            "nyala",
            "onyx",
            "palace script mt",
            "palatino linotype",
            "parchment",
            "perpetua titling mt",
            "plantagenet cherokee",
            "pmingliu",
            "pmingliu-extb",
            "pristina",
            "raavi",
            "rockwell extra bold",
            "rod",
            "sakkal majalla",
            "script mt bold",
            "segoe marker",
            "segoe print",
            "segoe script",
            "segoe ui",
            "segoe ui emoji",
            "segoe ui symbol",
            "shonar bangla",
            "shruti",
            "simhei",
            "simplified arabic",
            "simplified arabic fixed",
            "simsun-extb",
            "sitka banner",
            "sitka display",
            "sitka heading",
            "sitka small",
            "sitka subheading",
            "sitka text",
            "sketchflow print",
            "snap itc",
            "system",
            "tempus sans itc",
            "traditional arabic",
            "tw cen mt",
            "tw cen mt condensed extra bold",
            "urdu typesetting",
            "utsaah",
            "vani",
            "vijaya",
            "viner hand itc",
            "vrinda",
            "yu gothic",
            "yu mincho",
            "yu mincho demibold",
            "bitstream vera sans mono",
            "cascadia code",
            "century schoolbook monospace",
            "comic mono",
            "computer modern mono",
            "typewriter",
            "curier",
            "cousine",
            "dejavu sans mono",
            "droid sans mono",
            "envy code r",
            "fantasque sans",
            "fira code",
            "fira mono",
            "freemono",
            "gnu freefont",
            "go mono",
            "hack",
            "ibm monochrome display adapter",
            "ibm mda",
            "ibm plex mono",
            "input",
            "iosevka",
            "jetbrains mono",
            "juliamono",
            "liberation mono",
            "nk57 monospace",
            "noto mono",
            "operator mono",
            "overpass mono",
            "oxygen mono",
            "pt mono",
            "recursive mono",
            "roboto mono",
            "sf mono",
            "source code pro",
            "spleen",
            "terminus",
            "ubuntu mono",
            "victor mono",
            "wumpus mono",
            "Teamviewer11",
            "Teamviewer12",
            "Teamviewer13",
            "Teamviewer14",
            "Teamviewer15",
            "36p Kana Demibold",
            "8Pin Matrix",
            "A Sensible Armadillo",
            "A bite",
            "A.Lewis",
            "ABIGAIL",
            "ABSALOM",
            "ABeeZee",
            "ADMUI2Lg",
            "ADMUI2Sm",
            "ADMUI3Lg",
            "ADMUI3Sm",
            "AG",
            "AGA Arabesque",
            "AGA Arabesque Desktop",
            "AIGDT",
            "AL Cinderella",
            "ALS Script",
            "AMGDT",
            "ANDROID ROBOT",
            "AR BERKLEY",
            "AR BLANCA",
            "AR BONNIE",
            "AR CARTER",
            "AR CENA",
            "AR CHRISTY",
            "AR DARLING",
            "AR DECODE",
            "AR DELANEY",
            "AR DESTINE",
            "AR ESSENCE",
            "AR HERMANN",
            "AR JULIAN",
            "AR Sans Serif",
            "ARDS1",
            "AS-TTDurga",
            "AT*Fujiyama",
            "AT*Fujiyama2",
            "AV-Font-Ben1",
            "AV-Font-Guj1",
            "AV-Font-Hin1",
            "AV-Font-Kan1",
            "AV-Font-Mal1",
            "AV-Font-Sin",
            "AV-Font-Sin1",
            "AV-Font-Symbol",
            "AV-Font-Tam1",
            "AV-Web-Hin1",
            "AV-Web-Tam1",
            "AV-Web-Tel1",
            "AVGmdBU",
            "AajaxSurrealFreak",
            "Aardvark Cafe",
            "AardvarkBold",
            "Abduction2002",
            "Abel",
            "Aberration",
            "Aboriginal Sans",
            "Aboriginal Serif",
            "Abril Fatface",
            "Abscissa",
            "Abstrakt",
            "Abyssinica SIL",
            "AcadEref",
            "Academy Engraved LET Plain:1.0",
            "Accanthis ADF Std",
            "Accanthis ADF Std No2",
            "Accanthis ADF Std No3",
            "Accent SF",
            "Accord Heavy SF",
            "Accord Light SF",
            "Accord SF",
            "AcmeFont",
            "Action Jackson",
            "Adamsky SF",
            "AddJazz",
            "AdineKirnberg",
            "AdineKirnberg-Script",
            "Adler",
            "Admisi Display SSi",
            "Adobe Arabic",
            "Adobe Caslon",
            "Adobe Caslon Pro",
            "Adobe Caslon Pro SmBd",
            "Adobe Devanagari",
            "Adobe Fan Heiti Std",
            "Adobe Fan Heiti Std B",
            "Adobe Fangsong Std",
            "Adobe Fangsong Std R",
            "Adobe Garamond",
            "Adobe Garamond Pro",
            "Adobe Gothic Std",
            "Adobe Gothic Std B",
            "Adobe Gurmukhi",
            "Adobe Hebrew",
            "Adobe Heiti Std",
            "Adobe Heiti Std R",
            "Adobe Kaiti Std",
            "Adobe Kaiti Std R",
            "Adobe Ming Std",
            "Adobe Ming Std L",
            "Adobe Myungjo Std",
            "Adobe Myungjo Std M",
            "Adobe Naskh",
            "Adobe Pi Std",
            "Adobe Song Std",
            "Adobe Song Std L",
            "Aerovias Brasil NF",
            "African",
            "Aftermath",
            "Aftershock Debris",
            "Ahnberg",
            "Aileron",
            "Air Conditioner",
            "Airstream",
            "Airstream NF",
            "Akaash",
            "Akhbar MT",
            "Akshar Unicode",
            "AksharUnicode",
            "Al Bayan",
            "Al Bayan Plain",
            "Al Nile",
            "Al Tarikh",
            "Albany AMT",
            "Alegreya Sans SC",
            "AlekyaBold",
            "AlekyaExtraBold",
            "AlekyaMedium",
            "AlekyaThin",
            "Aleo",
            "Alex Brush",
            "Alexandra Script",
            "Alfredo",
            "Alfredo's Dance",
            "Alibi",
            "Alice and the Wicked Monster",
            "Alien Encounters",
            "All Caps",
            "Alligator Puree",
            "Allura",
            "Almonte Snow",
            "Alpha CLOWN",
            "Alternate Gothic No2 D",
            "AlternateGothic2 BT",
            "Amadeus",
            "Amatic",
            "Amatic SC",
            "Amazone BT",
            "Ambages",
            "AmdtSymbols",
            "AmerType Md BT",
            "Amerika",
            "Amerika Alternates",
            "Amerika Sans",
            "Amethyst",
            "Amethyst Zucchini",
            "Amiri Quran",
            "Amudham",
            "Analgesics",
            "AnandapatraCMJ",
            "AnastasiaScript",
            "Ancuu",
            "Andale Mono IPA",
            "Andale Sans for VST",
            "Andong",
            "Angelica",
            "Angiang",
            "Angioma AOE",
            "Angleterre Book - DGL",
            "Angostura",
            "Angstrom",
            "AnjaliOldLipi",
            "Annabelle",
            "Annie BTN",
            "Anonymice Powerline",
            "AntFarm GoneCamping",
            "AnticFont",
            "Antonio",
            "Apple Boy BTN",
            "Apple Braille",
            "Apple Casual",
            "Apple Color Emoji",
            "Apple LiGothic",
            "Apple LiSung",
            "Apple SD Gothic Neo",
            "AppleGothic",
            "AppleMyungjo",
            "Aquaduct Plain",
            "Aquaduct Warp",
            "Arabic Transparent",
            "Archicoco",
            "Architects Daughter",
            "Archive",
            "Arctic",
            "Argos MF",
            "ArhialkhanMJ",
            "ArhialkhanOMJ",
            "Arial (Arabic)",
            "Arial AMU",
            "Arial Baltic",
            "Arial CE",
            "Arial CYR",
            "Arial Greek",
            "Arial Hebrew",
            "Arial Hebrew Scholar",
            "Arial MT",
            "Arial Nova",
            "Arial Nova Cond",
            "Arial Symbol",
            "Arial TUR",
            "Arial monospaced for SAP",
            "Arimo",
            "Arimo Bold Italic for Powerline",
            "Arimo Bold for Powerline",
            "Arimo Italic for Powerline",
            "Arimo for Powerline",
            "Ariston",
            "Arkhip",
            "Army",
            "Arno Pro",
            "Arno Pro Smbd",
            "Arrobatherapy",
            "Arrus BT",
            "Arvo",
            "Asana Math",
            "Asenine",
            "Ashwariya",
            "Asimov",
            "Atlas",
            "AtraiMJ",
            "AtraiOMJ",
            "Atzur",
            "Augusta",
            "Aurora Cn BT",
            "Autour One",
            "Autumn",
            "AvantGarde Bk BT",
            "AvantGarde Md BT",
            "Avanti",
            "Avenir Next",
            "Avenir Next W1G Demi",
            "AvenirBlk_PFL",
            "AvenirLt_PFL",
            "AvenirMd_PFL",
            "Averia",
            "Averia Sans",
            "Averia Serif",
            "Avinor",
            "Ayuthaya",
            "B095",
            "BATAVIA",
            "BJCree Uni",
            "BN Jinx",
            "BN Machine",
            "BN-TTDurga",
            "BOUTON International Symbols",
            "BPG Classic 99U",
            "BPG Paata Khutsuri U",
            "BRADDON",
            "Baamini",
            "Baby Kruffy",
            "BacktalkSerif BTN",
            "Baclieu",
            "BadaBoom BB",
            "Baghdad",
            "Bahiana",
            "Baiduan Number",
            "BaluBold",
            "BaluBrush",
            "BaluScript",
            "Bamini",
            "Bangkok Cirilica",
            "Bangla MN",
            "Bangla Sangam MN",
            "BankGothic Lt BT",
            "BankGothic Md BT",
            "Banmai Times",
            "Baoli SC",
            "Baron Neue",
            "Barrio",
            "Bastion",
            "BauerBodni BT",
            "Bazooka",
            "Beatnik SF",
            "Becky",
            "Beirut",
            "Belfast Heavy SF",
            "Belfast Light SF",
            "Belfast SF",
            "Bellota",
            "Belwe Bd BT",
            "Belwe Cn BT",
            "Belwe Lt BT",
            "Benguiat Bk BT",
            "Bentham",
            "Berkshire Swash",
            "Berling",
            "BerlingRoman",
            "BernhardFashion BT",
            "BernhardMod BT",
            "Bevan",
            "BhagirathiMJ",
            "BhagirathiOMJ",
            "BhairabMJ",
            "BhairabOMJ",
            "Bhuma",
            "BiauKai",
            "Bickham Script One",
            "Bickham Script Pro 3",
            "Bickham Script Pro Semibold",
            "Bickham Script Two",
            "Bienhoa",
            "Bifurk",
            "Big Caslon",
            "Biko",
            "Binhdinh",
            "Binhlong",
            "BinnerD",
            "Birch Std",
            "Bitstream Vera Sans",
            "Bitstream Vera Serif",
            "BlackJackRegular",
            "Blackletter686 BT",
            "Blackmoor LET",
            "Blackmoor LET Plain:2.0",
            "Blackoak Std",
            "Blackout",
            "Blade Runner Movie Font",
            "BlairMdITC TT",
            "Blockbuster",
            "Bobcat",
            "Bodoni MT Poste...d",
            "Bodoni Ornaments",
            "Bold Italic Art",
            "BolsterBold",
            "BongshaiMJ",
            "BongshaiOMJ",
            "Boogaloo",
            "Bookshelf Symbol 1",
            "Bookshelf Symbol 2",
            "Bookshelf Symbol 3",
            "BorakMJ",
            "BorakOMJ",
            "Bordeaux Roman Bold LET",
            "Bordeaux Roman Bold LET Plain",
            "Bordeaux Roman Bold LET Plain:1.0",
            "Borealis",
            "BorhalMJ",
            "Bowlby One SC",
            "Bradley Hand",
            "BrahmaputraMJ",
            "Brandish",
            "Bree Serif",
            "BriLliant",
            "Broadway BT",
            "Broadway Copyist",
            "Broadway Copyist Perc",
            "Broadway Copyist Text Ext",
            "Broken Planewing",
            "Brush Script Std",
            "Brussels",
            "Bubblegum Sans",
            "BuiltTitlingRg-Bold",
            "BuiltTitlingRg-BoldItalic",
            "BuiltTitlingRg-Regular",
            "BurigangaKamalaOMJ",
            "BurigangaMJ",
            "BurigangaOMJ",
            "BurigangaSushreeMJ",
            "BurigangaSushreeOMJ",
            "Burst My Bubble",
            "C-Medium",
            "C-MediumHWL",
            "CAC Champagne",
            "CAMPBELL",
            "CASMIRA",
            "CATIA Symbols",
            "CDT Khmer",
            "CHANL",
            "CL",
            "CLARENCE",
            "CSD16",
            "CSongGB18030C-Light",
            "CSongGB18030C-LightHWL",
            "CZEC",
            "CabinSketch",
            "Caflisch Script Pro",
            "Cairo SF",
            "Caladea",
            "Calligraffitti",
            "Calligraph",
            "Calligraph421 BT",
            "Calligraphic",
            "Calvin",
            "Camau",
            "Camranh",
            "Candles",
            "Candy Round BTN",
            "Candy Round BTN Cond",
            "Canter Bold 3D",
            "Canter Bold Strips",
            "Cantho",
            "Carbon Block",
            "Carlito",
            "Carolina",
            "Carrois Gothic SC",
            "Castro Script PERSONAL USE ONLY",
            "Casual",
            "Cataneo BT",
            "Caviar Dreams",
            "CentSchbook BT",
            "Century Schoolbook L",
            "Ceremonious Two",
            "Chalkboard SE",
            "Chalkduster",
            "Chancery Cursive",
            "ChandrabatiMJ",
            "ChandrabatiMatraMJ",
            "ChandrabatiMatraOMJ",
            "ChandrabatiOMJ",
            "ChandrabatiSushreeMJ",
            "Chaparral Pro",
            "Charcoal CY",
            "Charis SIL Compact",
            "Charlemagne Std",
            "Charter",
            "Chess Alpha",
            "Chess Berlin",
            "Chess Marroquin",
            "Chess Maya",
            "Chess Merida",
            "Chewy",
            "Chinyen",
            "Chipotle",
            "ChitraMJ",
            "ChitraOMJ",
            "ChitraSMJ",
            "ChondanaMJ",
            "ChondanaOMJ",
            "Cinzel",
            "Cir Arial",
            "CityBlueprint",
            "Clarendon BT",
            "Clarendon Blk BT",
            "Clarendon Cn BT",
            "Clarendon Hv BT",
            "Clarendon Lt BT",
            "CloisterBlack BT",
            "Clubland",
            "Coda",
            "Code2000",
            "Code39AzaleaNarrow1",
            "Code39AzaleaNarrow2",
            "Code39AzaleaNarrow3",
            "Code39AzaleaRegular1",
            "Code39AzaleaRegular2",
            "Code39AzaleaRegular3",
            "Code39AzaleaWide1",
            "Code39AzaleaWide2",
            "Code39AzaleaWide3",
            "Colbert",
            "ColdSpaghetti BTN",
            "Comfortaa",
            "Comic Relief",
            "CommercialPi BT",
            "CommercialScript BT",
            "Commons",
            "Complete in Him",
            "Complex",
            "ConcursoItalian BTN",
            "Cookie",
            "Coolsville",
            "Coolvetica",
            "Cooper Std",
            "Copperplate",
            "CopprplGoth BT",
            "Copyist",
            "Corporate",
            "Corsiva Hebrew",
            "Cortoba",
            "CountryBlueprint",
            "Courier MM Screenwriter",
            "Courier MM Screenwriter BoldIt",
            "Courier New (Arabic)",
            "Courier New Baltic",
            "Courier New CE",
            "Courier New CYR",
            "Courier New Greek",
            "Courier New TUR",
            "Courier Std",
            "Courier10 BT",
            "Cousine Bold Italic for Powerline",
            "Cousine Bold for Powerline",
            "Cousine Italic for Powerline",
            "Cousine for Powerline",
            "Cracked",
            "Cracked Johnnie",
            "Creepygirl",
            "Cronos Pro",
            "Crystal",
            "Cumberland AMT",
            "Cut Me Out",
            "Cuulong",
            "DFKGothic-Md",
            "DFMaruGothic-Md",
            "DIN 1451 Mittelschrift",
            "DIN Alternate",
            "DIN-BlackAlternate",
            "DIN-Bold",
            "DIN-Light",
            "DIN-LightAlternate",
            "DIN-Medium",
            "DIN-MediumAlternate",
            "DIN-Regular",
            "DIN-RegularAlternate",
            "DINPro-Black",
            "DINPro-Bold",
            "DINPro-Light",
            "DINPro-Medium",
            "DINPro-Regular",
            "DS Crystal",
            "DV-TTYogesh",
            "DV1-TTYogesh",
            "DYMO Symbols",
            "DYMObvba",
            "Daclac",
            "Damascus",
            "Dancing Script",
            "Dancing Script OT",
            "Darlin BTN",
            "David Transparent",
            "Dayton",
            "DecoType Naskh",
            "DecoType Naskh Extensions",
            "DecoType Naskh Special",
            "DecoType Naskh Swashes",
            "DecoType Naskh Variants",
            "DecoType Thuluth",
            "Decor",
            "Deepa",
            "Deepak",
            "DejaVu Math TeX Gyre",
            "DejaVu Sans Mono Bold Oblique for Powerline",
            "DejaVu Sans Mono Bold for Powerline",
            "DejaVu Sans Mono Oblique for Powerline",
            "DejaVu Sans Mono for Powerline",
            "Deneane",
            "DengXian",
            "Desdemona",
            "Detente",
            "Devanagari MT",
            "Devanagari Sangam MN",
            "DhakarchithiMJ",
            "DhakarchithiOMJ",
            "DhanshirhiMJ",
            "DhanshirhiOMJ",
            "DholeshwariMJ",
            "DholeshwariOMJ",
            "DhonooMJ",
            "DhonooOMJ",
            "DhorolaMJ",
            "DhorolaOMJ",
            "DigifaceWide",
            "Digifit",
            "Digital Readout Upright",
            "Dingbats",
            "Dirty Headline",
            "Distant Galaxy",
            "Divya",
            "Diwan Kufi",
            "Diwan Thuluth",
            "Diwani Bent",
            "Diwani Letter",
            "Diwani Simple Outline 2",
            "Dollar",
            "Dominican",
            "Dot",
            "Dot-Matrix",
            "Doulos SIL",
            "Drivebye 1",
            "Drivebye 2",
            "Drivebye 3",
            "Drivebye 4",
            "Droid Arabic Naskh",
            "Droid Naskh Shift",
            "Droid Naskh Shift Alt",
            "Droid Naskh System UI",
            "Droid Naskh UI",
            "Droid Sans Arabic",
            "Droid Sans Armenian",
            "Droid Sans Ethiopic",
            "Droid Sans Fallback",
            "Droid Sans Georgian",
            "Droid Sans Hebrew",
            "Droid Sans Japanese",
            "Droid Sans Mono Dotted for Powerline",
            "Droid Sans Mono Slashed for Powerline",
            "Droid Sans Mono for Powerline",
            "Droid Sans Thai",
            "DroidSansFallback",
            "Ducmy",
            "Dutch801 Rm BT",
            "Dutch801 XBd BT",
            "Dynalight",
            "DynameBlackSSK",
            "Dyuthi",
            "ELANGO-TML-Panchali-Normal",
            "ELEGANCE",
            "ELLIS",
            "ENGL",
            "EQUIS",
            "ESTO",
            "EXCESS",
            "Eccentric Std",
            "Egyptian710 BT",
            "Ekushey Punarbhaba",
            "Ela Sans Light Caps",
            "ElegantIcons",
            "Embassy BT",
            "Emily Austin",
            "Emma Script Mvb",
            "Emmett",
            "English157 BT",
            "EngraverFontExtras",
            "EngraverFontSet",
            "EngraverTextH",
            "EngraverTextNCS",
            "EngraverTextT",
            "EngraverTime",
            "Enliven",
            "Ethiopia Jiret",
            "Ethnocentric",
            "Euclid",
            "Euclid Extra",
            "Euclid Fraktur",
            "Euclid Math One",
            "Euclid Math Two",
            "Euclid Symbol",
            "Euphemia UCAS",
            "Euro Sign",
            "EuroRoman",
            "Ezra SIL",
            "Ezra SIL SR",
            "FELIZ",
            "FFF Tusj",
            "FML-Akhila",
            "FML-Indulekha",
            "FML-IndulekhaHeavy",
            "FML-Karthika",
            "FML-Leela",
            "FML-LeelaHeavy",
            "FML-Mohini",
            "FML-Nanditha",
            "FML-Padmanabha",
            "FML-Revathi",
            "FML-Sruthy",
            "FML-TTAathira",
            "FML-TTAmbili",
            "FML-TTAnakha",
            "FML-TTAnjali",
            "FML-TTAparna",
            "FML-TTAshtamudi",
            "FML-TTAshtamudiExBold",
            "FML-TTAswathi",
            "FML-TTAtchu",
            "FML-TTAyilyamBold",
            "FML-TTBeckalBold",
            "FML-TTBhavana",
            "FML-TTChandrika",
            "FML-TTChithira",
            "FML-TTChithiraHeavy",
            "FML-TTDevika",
            "FML-TTGauri",
            "FML-TTGauriHeavy",
            "FML-TTGeethika",
            "FML-TTGopika",
            "FML-TTGuruvayur",
            "FML-TTIndulekha",
            "FML-TTIndulekhaHeavy",
            "FML-TTJaya",
            "FML-TTJyothy",
            "FML-TTJyotsna",
            "FML-TTKala",
            "FML-TTKamini",
            "FML-TTKanika",
            "FML-TTKarthika",
            "FML-TTKaumudi",
            "FML-TTKeerthi",
            "FML-TTLeela",
            "FML-TTLeelaHeavy",
            "FML-TTMadhaviExBold",
            "FML-TTMalavika",
            "FML-TTMangalaExBold",
            "FML-TTMayoori",
            "FML-TTNalini",
            "FML-TTNandini",
            "FML-TTNanditha",
            "FML-TTNarmadaExBold",
            "FML-TTNila",
            "FML-TTOnam",
            "FML-TTPeriyar",
            "FML-TTPooram",
            "FML-TTPoornima",
            "FML-TTRavivarma",
            "FML-TTRevathi",
            "FML-TTRohini",
            "FML-TTSabari",
            "FML-TTSankara",
            "FML-TTSarada",
            "FML-TTSruthy",
            "FML-TTSugatha",
            "FML-TTSuparna",
            "FML-TTSurya",
            "FML-TTSwathyBold",
            "FML-TTThakazhi",
            "FML-TTTheyyam",
            "FML-TTThiruvathira",
            "FML-TTThunchan",
            "FML-TTVaisali",
            "FML-TTVarsha",
            "FML-TTVeenaHeavy",
            "FML-TTVinay",
            "FML-TTVisakham",
            "FML-TTVishu",
            "FML-TTYashasri",
            "FMLTTAathira",
            "FREH",
            "FTEasci1",
            "FTEasci1-f",
            "FTEasci2",
            "FTEasci2-f",
            "FTEbaudo",
            "FTEbaudo-f",
            "FTEebcd1",
            "FTEebcd1-f",
            "FTEebcd2",
            "FTEebcd2-f",
            "FTEspec",
            "FTEspec-f",
            "FZLanTingHeiS-UL-GB",
            "Fabrica",
            "Fanwood",
            "Farah",
            "Farisi",
            "Fascinate",
            "Fences",
            "Ferro Rosso",
            "Finale AlphaNotes",
            "Finale Copyist Text Ext",
            "Finale Mallets",
            "Finale Numerics",
            "Finale Percussion",
            "Finger Paint",
            "Fingerpop",
            "Fira Mono Bold for Powerline",
            "Fira Mono Medium for Powerline",
            "Firenze SF",
            "Fixed Miriam Transparent",
            "Flamenco",
            "FlemishScript BT",
            "Floraless",
            "Flubber",
            "Fluffy Slacks BTN",
            "Folio XBd BT",
            "FontAwesome",
            "FordLineDraw",
            "Formal436 BT",
            "Francois One",
            "Frankfurter Venetian TT",
            "Fredericka the Great",
            "Freebooter Script",
            "Freehand",
            "Freehand521 BT",
            "Freehand575 BT",
            "Fren",
            "Futura Book BT",
            "Futura Book Italic BT",
            "Futura Light BT",
            "Futura Light Condensed BT",
            "Futura Light Italic BT",
            "Futura Md BT",
            "Futura Medium BT",
            "GB18030 Bitmap",
            "GDT",
            "GENISO",
            "GENUINE",
            "GF Zemen Unicode",
            "GFS Artemisia",
            "GFS Baskerville",
            "GFS BodoniClassic",
            "GFS Complutum",
            "GFS Didot",
            "GFS Didot Classic",
            "GFS Gazis",
            "GFS Neohellenic",
            "GFS Olga",
            "GFS Porson",
            "GFS Solomos",
            "GFS Theokritos",
            "GJ-TTAvantika",
            "GLYPHICONS Halflings",
            "GROBOLD",
            "Galatia SIL",
            "Galeforce BTN",
            "GaneshBlack",
            "GaneshBold",
            "GaneshExtraBold",
            "GaneshMedium",
            "GaneshNarrow",
            "GaneshThin",
            "GangaMJ",
            "GangaOMJ",
            "GangaSagarMJ",
            "Garamond Premier Pro",
            "Garamond Premr Pro",
            "Garamond Premr Pro Smbd",
            "Garuda",
            "Gauge",
            "Gayathri",
            "Gazzarelli",
            "Geeza Pro",
            "Gelfling SF",
            "Gen W01",
            "Gentium Basic",
            "Gentium Book Basic",
            "GentiumAlt",
            "Georgia Pro",
            "Georgia Pro Cond",
            "Geotype TT",
            "Germ",
            "Germanica",
            "GhorautraMJ",
            "GhorautraOMJ",
            "Giadinh",
            "Giddyup Std",
            "Gidole",
            "Gill Sans Nova",
            "Gill Sans Nova Cond",
            "Gill Sans Nova Cond XBd",
            "Gillius ADF",
            "Gillius ADF Cd",
            "Gillius ADF No2",
            "Gillius ADF No2 Cd",
            "Giolinh",
            "GiovanniITCTT",
            "Glegoo",
            "Glockenspiel",
            "Gocong",
            "Good Times",
            "GoomtiMJ",
            "GoraiMJ",
            "GoraiOMJ",
            "Gotham Narrow Ultra",
            "Gothic720 BT",
            "Gothic720 Lt BT",
            "GothicE",
            "GothicG",
            "GothicI",
            "GothicNo13 BT",
            "GoudyHandtooled BT",
            "Grand Hotel",
            "Gravity",
            "Great Vibes",
            "Greek Diner Inline TT",
            "GreekC",
            "GreekS",
            "Gridnik",
            "GrilledCheese BTN",
            "GrilledCheese BTN Toasted",
            "GrilledCheese BTN Wide Blk",
            "Gujarati MT",
            "Gujarati Sangam MN",
            "GungSeo",
            "Gunplay",
            "Gurmukhi MN",
            "Gurmukhi MT",
            "Gurmukhi Sangam MN",
            "Guttman Yad",
            "HANA",
            "HELTERSKELTER",
            "HERMAN",
            "HGHangle",
            "HGHeiseiKakugothictaiW3",
            "HGHeiseiKakugothictaiW5",
            "HGHeiseiKakugothictaiW9",
            "HGHeiseiMinchotaiW3",
            "HGHeiseiMinchotaiW9",
            "HGMinchoL",
            "HGP-AGothic2-Latin1K",
            "HGPHeiseiKakugothictaiW3",
            "HGPHeiseiKakugothictaiW5",
            "HGPHeiseiKakugothictaiW9",
            "HGPHeiseiMinchotaiW3",
            "HGPHeiseiMinchotaiW9",
            "HGPMinchoL",
            "HGSHeiseiKakugothictaiW3",
            "HGSHeiseiKakugothictaiW5",
            "HGSHeiseiKakugothictaiW9",
            "HGSHeiseiMinchotaiW3",
            "HGSHeiseiMinchotaiW9",
            "HGSMinchoL",
            "HKSCS",
            "HKSCS-ExtB",
            "HP PSG",
            "HP Simplified",
            "HUNTSON",
            "HYSWLongFangSong",
            "HYSerif",
            "Hadong",
            "HaldaMJ",
            "HaldaOMJ",
            "Halong",
            "Hand Me Down S (BRK)",
            "Handwriting - Dakota",
            "Hannotate SC",
            "Hannotate TC",
            "Hansen",
            "HanziPen SC",
            "HanziPen TC",
            "HariSree",
            "Harry P",
            "Harvest",
            "HarvestItal",
            "Haxton Logos TT",
            "HeadLineA",
            "Heather BTN",
            "Heather Script One",
            "Heavy",
            "Heavy Heap",
            "Hebar",
            "HeiT",
            "Heiti SC",
            "Heiti TC",
            "HelvLight",
            "HelveticaNeue",
            "HelveticaNeueLT Std",
            "HelveticaNeueVN-Bold",
            "Henny Penny",
            "Herculanum",
            "Highlight LET",
            "Hiragino Kaku Gothic Pro",
            "Hiragino Mincho Pro",
            "Hiragino Sans",
            "Hobo Std",
            "Hoefler Text Ornaments",
            "Hoian",
            "Holiday Springs BTN",
            "Holiday Springs BTN Quill",
            "HolidayPi BT",
            "Hollywood Hills",
            "Hombre",
            "HooglyMJ",
            "HooglyOMJ",
            "Hot Mustard BTN",
            "Hot Mustard BTN Poster",
            "HucklebuckJF",
            "Hue",
            "Humanist",
            "Humanst521 BT",
            "Humanst521 XBd BT",
            "Huxley Titling",
            "Hypatia Sans Pro",
            "IBM3270",
            "IDAutomationPDF417n2",
            "IDAutomationPDF417n3",
            "IDAutomationPDF417n4",
            "IDAutomationPDF417n5",
            "IM FELL DW Pica",
            "IMG Baby",
            "IMG Extreme",
            "IMG Love",
            "IMG Seasons",
            "IMG Symbols",
            "IMG Travel",
            "INSPECTIONXPERT GDT FRAMES",
            "INSPECTIONXPERT GDT NOFRMS",
            "IPAGothic",
            "IPAMincho",
            "IPAPGothic",
            "IPAPMincho",
            "IPAexGothic",
            "IPAexMincho",
            "IRIS",
            "ISABELLE",
            "ISOCP",
            "ISOCP2",
            "ISOCP3",
            "ISOCPEUR",
            "ISOCT",
            "ISOCT2",
            "ISOCT3",
            "ISOCTEUR",
            "ITAN",
            "ITF Devanagari",
            "ITF Devanagari Demi",
            "ITF Devanagari Marathi",
            "ITF Devanagari Marathi Demi",
            "Ice kingdom",
            "IchamotiMJ",
            "IchamotiOMJ",
            "IguanaLover BTN",
            "Impregnable Personal Use Only",
            "InaiMathi",
            "Incised901 BdCn BT",
            "Incised901 Ct BT",
            "Incised901 Nd BT",
            "Incised901 NdIt BT",
            "Inconsolata for Powerline",
            "Inconsolata-dz for Powerline",
            "Inconsolata-g for Powerline",
            "Inder",
            "Indie Flower",
            "Induction",
            "Industrial736 BT",
            "Iowan Old Style Titling",
            "Ital",
            "Italianate",
            "Italic",
            "Italic Outline Art",
            "ItalicC",
            "ItalicT",
            "JACKIE",
            "JF Armenian Serif",
            "JF Georgian Contrast",
            "JLS Data GothicC  NC",
            "JLS Data GothicR  NC",
            "JLS Space GothicC  NC",
            "JLS Space GothicR NC",
            "JUSTICE",
            "JaJaDiMJ",
            "JaJaDiOMJ",
            "Jameel Noori Nastaleeq",
            "Janaranjani",
            "JaneAusten",
            "Jayanthi",
            "Jazz",
            "Jazz LET",
            "Jazz LET Plain:1.0",
            "JazzCord",
            "JazzPerc",
            "JazzText",
            "JazzTextExtended",
            "Joan",
            "John Handy LET",
            "Jokerman Alts LET",
            "Jokerman LET",
            "JomunaMJ",
            "Josefin Slab",
            "Judson",
            "JugantorMJ",
            "Julius Sans One",
            "JumunaOMJ",
            "JuneBug",
            "Just Another Hand",
            "Jwala",
            "KB Vibrocentric",
            "KG Corner of the Sky",
            "KG Fall For You",
            "KG Neatly Printed",
            "KG Part of Me",
            "KG Primary Penmanship",
            "KG Shake it Off Chunky",
            "KN-TTUma",
            "KacstArt",
            "KacstBook",
            "KacstDecorative",
            "KacstDigital",
            "KacstFarsi",
            "KacstLetter",
            "KacstNaskh",
            "KacstOffice",
            "KacstOne",
            "KacstPen",
            "KacstPoster",
            "KacstQurn",
            "KacstScreen",
            "KacstTitle",
            "KacstTitleL",
            "KaiTi_GB2312",
            "Kailasa",
            "Kaiti SC",
            "Kaiti TC",
            "Kalakaumudi",
            "KalegongaMJ",
            "KalegongaOMJ",
            "KalindiMJ",
            "KalindiOMJ",
            "KalindiSMJ",
            "Kalpurush",
            "Kalpurush ANSI",
            "Kalyani",
            "Kanalisirung",
            "KanchanMJ",
            "KanchanOMJ",
            "Kannada Sangam MN",
            "KarnaphuliMJ",
            "KarnaphuliOMJ",
            "KasseFLF",
            "Kaushan Script",
            "Kedage",
            "Kefa",
            "Kerala",
            "Kh-SrokKhleang",
            "Khalid Art bold",
            "Khanhoa",
            "Khmer MN",
            "Khmer OS",
            "Khmer OS Fasthand",
            "Khmer OS Freehand",
            "Khmer OS Metal Chrieng",
            "Khmer OS Muol",
            "Khmer OS System",
            "Khmer Sangam MN",
            "Kievit Offc Pro",
            "KievitPro-Regular",
            "Kingthings Versalis",
            "Kinnari",
            "Kino MT",
            "Kiran",
            "Klee",
            "Klee Demibold",
            "Kohinoor Bangla",
            "Kohinoor Devanagari",
            "Kohinoor Devanagari Demi",
            "Kohinoor Telugu",
            "Kokonor",
            "Kozuka Gothic Pr6N",
            "Kozuka Gothic Pr6N B",
            "Kozuka Gothic Pr6N EL",
            "Kozuka Gothic Pr6N H",
            "Kozuka Gothic Pr6N L",
            "Kozuka Gothic Pr6N M",
            "Kozuka Gothic Pr6N R",
            "Kozuka Gothic Pro",
            "Kozuka Gothic Pro B",
            "Kozuka Gothic Pro EL",
            "Kozuka Gothic Pro H",
            "Kozuka Gothic Pro L",
            "Kozuka Gothic Pro M",
            "Kozuka Gothic Pro R",
            "Kozuka Mincho Pr6N",
            "Kozuka Mincho Pr6N B",
            "Kozuka Mincho Pr6N EL",
            "Kozuka Mincho Pr6N H",
            "Kozuka Mincho Pr6N L",
            "Kozuka Mincho Pr6N M",
            "Kozuka Mincho Pr6N R",
            "Kozuka Mincho Pro",
            "Kozuka Mincho Pro B",
            "Kozuka Mincho Pro EL",
            "Kozuka Mincho Pro H",
            "Kozuka Mincho Pro L",
            "Kozuka Mincho Pro M",
            "Kozuka Mincho Pro R",
            "Kristi",
            "Krungthep",
            "Kruti Astro",
            "Ktav",
            "KufiStandardGK",
            "Kumudam",
            "Kundli",
            "Kundli English",
            "LA Headlights BTN",
            "LCD",
            "LETT",
            "LIVINGWELL",
            "LKLUG",
            "LT-ET-Ramya",
            "LT-TM-Barani",
            "LT-TM-Lakshman",
            "LTHYSZK",
            "La Bamba LET",
            "Laksaman",
            "Langdon",
            "Lantinghei SC",
            "Lantinghei SC Demibold",
            "Lantinghei SC Extralight",
            "Lantinghei TC",
            "Lantinghei TC Demibold",
            "Lantinghei TC Extralight",
            "Lao MN",
            "Lao Sangam MN",
            "Lapidary333 Blk BT",
            "Latienne Pro",
            "Latin Modern Math",
            "Latin Modern Mono",
            "Latin Modern Mono Caps",
            "Latin Modern Mono Light Cond",
            "Latin Modern Mono Prop",
            "Latin Modern Mono Slanted",
            "Latin Modern Roman Caps",
            "Latin Modern Roman Demi",
            "Latin Modern Roman Dunhill",
            "Latin Modern Roman Slanted",
            "Latin Modern Roman Unslanted",
            "Latin Modern Sans",
            "Latin Modern Sans Demi Cond",
            "Latin Modern Sans Quotation",
            "Latino Elongated LET Plain:1.0",
            "Lato Hairline",
            "LaurenScript",
            "Lavanderia",
            "Learning Curve Dashed Pro",
            "Learning Curve Pro",
            "Led Italic Font",
            "Leitura Display Swashes",
            "Letter Gothic Std",
            "Letter Gothic Std Bold Slanted",
            "Letter Gothic Std Slanted",
            "LetterOMatic!",
            "LeviBrush",
            "LiHei Pro",
            "LiSong Pro",
            "Libel Suit",
            "Liberation Serfi",
            "Liberation Serif",
            "Libertinus Math",
            "Libian SC",
            "Light",
            "LightSC",
            "Likhan",
            "Limousine",
            "Linden Hill",
            "Lingoes Unicode",
            "Linowrite",
            "Linux Biolinum G",
            "Linux Biolinum Keyboard O",
            "Linux Biolinum O",
            "Linux Libertine Display G",
            "Linux Libertine Display O",
            "Linux Libertine G",
            "Linux Libertine Initials O",
            "Linux Libertine Mono O",
            "Linux Libertine O",
            "Literation Mono Powerline",
            "Lithos Pro",
            "LittleLordFontleroy",
            "Lobster",
            "Lobster Two",
            "Logo3Mtt",
            "Logo3Mv3tt",
            "Lohit Bengali",
            "Lohit Devanagari",
            "Lohit Gujarati",
            "Lohit Hindi",
            "Lohit Punjabi",
            "Lohit Tamil",
            "Loma",
            "Lucida Blackletter",
            "Lucida Bright Demibold",
            "Lucida Fax Demibold",
            "Luminari",
            "Luna Bar",
            "LuzSans-Book",
            "LuzSans-Light",
            "MAC C Times",
            "MANDELA",
            "MARKETPRO",
            "MATTEROFFACT",
            "MAXIMO",
            "ML-IndulekhaHeavy",
            "ML-NILA01",
            "ML-NILA02",
            "ML-NILA03",
            "ML-NILA04",
            "ML-NILA05",
            "ML-NILA06",
            "ML-NILA07",
            "ML-TTAathira",
            "ML-TTAmbili",
            "ML-TTAnakha",
            "ML-TTAnjali",
            "ML-TTAparna",
            "ML-TTAshtamudi",
            "ML-TTAshtamudiExBold",
            "ML-TTAswathi",
            "ML-TTAtchu",
            "ML-TTAyilyamBold",
            "ML-TTBeckalBold",
            "ML-TTBhavana",
            "ML-TTChandrika",
            "ML-TTChithira",
            "ML-TTChithiraHeavy",
            "ML-TTDevika",
            "ML-TTGauri",
            "ML-TTGauriHeavy",
            "ML-TTGeethika",
            "ML-TTGopika",
            "ML-TTGuruvayur",
            "ML-TTIndulekha",
            "ML-TTIndulekhaHeavy",
            "ML-TTJaya",
            "ML-TTJyothy",
            "ML-TTJyotsna",
            "ML-TTKala",
            "ML-TTKamini",
            "ML-TTKanika",
            "ML-TTKarthika",
            "ML-TTKaumudi",
            "ML-TTKeerthi",
            "ML-TTLeela",
            "ML-TTLeelaHeavy",
            "ML-TTMadhaviExBold",
            "ML-TTMalavika",
            "ML-TTMangalaExBold",
            "ML-TTMayoori",
            "ML-TTNalini",
            "ML-TTNandini",
            "ML-TTNanditha",
            "ML-TTNarmadaExBold",
            "ML-TTNila",
            "ML-TTOnam",
            "ML-TTPeriyar",
            "ML-TTPooram",
            "ML-TTPoornima",
            "ML-TTRavivarma",
            "ML-TTRevathi",
            "ML-TTRohini",
            "ML-TTSabari",
            "ML-TTSankara",
            "ML-TTSarada",
            "ML-TTSruthy",
            "ML-TTSugatha",
            "ML-TTSuparna",
            "ML-TTSurya",
            "ML-TTSwathyBold",
            "ML-TTThakazhi",
            "ML-TTTheyyam",
            "ML-TTThiruvathira",
            "ML-TTThunchan",
            "ML-TTVaisali",
            "ML-TTVarsha",
            "ML-TTVeenaHeavy",
            "ML-TTVinay",
            "ML-TTVisakham",
            "ML-TTVishu",
            "ML-TTYashasri",
            "ML1-TTAmbili",
            "ML1-TTAswathi",
            "ML1-TTIndulekha",
            "MLB-TTAmbili",
            "MLB-TTAswathi",
            "MLB-TTIndulekha",
            "MLU-Panini",
            "MLW-TTKarthika",
            "MMArrow",
            "MMBinary",
            "MMCenturyNew",
            "MMCenturyNewRD",
            "MMCenturyOld",
            "MMCenturyOldGreek",
            "MMEtc",
            "MMExtra",
            "MMGreek",
            "MMNegate",
            "MMRelation",
            "MMSchoolRD",
            "MMTextBook",
            "MMTextBookB",
            "MMTimes",
            "MMVariable",
            "MMVariable2",
            "MMVariableA",
            "MMVariableB",
            "MMVariableC",
            "MMVariableD",
            "MMVariableF",
            "MMa Arrow",
            "MMa Arrow S",
            "MMa Arrow SS",
            "MMa Binary",
            "MMa Binary S",
            "MMa Binary SS",
            "MMa Century",
            "MMa CenturyK",
            "MMa CenturyKS",
            "MMa CenturyKSS",
            "MMa CenturyS",
            "MMa CenturySS",
            "MMa Etc",
            "MMa Etc S",
            "MMa Etc SS",
            "MMa Extra",
            "MMa Extra S",
            "MMa Extra SS",
            "MMa Fermat",
            "MMa Fraktur",
            "MMa Gauss",
            "MMa Greek",
            "MMa GreekS",
            "MMa GreekSS",
            "MMa Negate",
            "MMa Negate S",
            "MMa Negate SS",
            "MMa Pascal",
            "MMa Relation",
            "MMa Relation S",
            "MMa Relation SS",
            "MMa TextBook",
            "MMa Variable",
            "MMa Variable S",
            "MMa Variable SS",
            "MMa Variable2",
            "MMa Variable2 S",
            "MMa Variable2 SS",
            "MMa VariableA",
            "MMa VariableA S",
            "MMa VariableA SS",
            "MMa VariableB",
            "MMa VariableB S",
            "MMa VariableB SS",
            "MMa VariableC",
            "MMa VariableC S",
            "MMa VariableC SS",
            "MMa VariableD",
            "MMa VariableD S",
            "MMa VariableD SS",
            "MMa VariableF",
            "MMa VariableF S",
            "MS Dialog",
            "MS Reference 1",
            "MS Reference 2",
            "MS Reference Serif",
            "MS Song",
            "MS SystemEx",
            "MT Extra Tiger",
            "MYRIAD PRO",
            "MYingHei",
            "Madre Script",
            "Mael",
            "Maestro",
            "Maestro Percussion",
            "MaestroTimes",
            "Magic School One",
            "Magic School Two",
            "Maiden Orange",
            "Malayalam MN",
            "Malayalam Sangam MN",
            "Mallige",
            "Manorama",
            "Manorly",
            "Map Symbols",
            "MapInfo Cartographic",
            "Marion",
            "Marker Felt",
            "Marquisette BTN",
            "Marquisette BTN Lined",
            "Martina",
            "Master Of Break",
            "Math1",
            "Math1Mono",
            "Math2",
            "Math2Mono",
            "Math3",
            "Math3Mono",
            "Math4",
            "Math4Mono",
            "Math5",
            "Math5Mono",
            "Mathilde",
            "Matisse ITC",
            "Mayence Premium",
            "Medlin",
            "Meera",
            "Mekanik LET",
            "MelodBold",
            "Merriweather UltraBold",
            "Meslo LG L DZ Regular for Powerline",
            "Meslo LG L Regular for Powerline",
            "Meslo LG M DZ Regular for Powerline",
            "Meslo LG M Regular for Powerline",
            "Meslo LG S DZ Regular for Powerline",
            "Meslo LG S Regular for Powerline",
            "Mesquite Std",
            "Metamorphous",
            "Miama",
            "Microdot",
            "Microsoft MHei",
            "Microsoft NeoGothic",
            "Milano LET",
            "Minerva",
            "Ming(for ISO10646)",
            "Minion Pro",
            "Minion Pro Bold Cond",
            "Minion Pro Cond",
            "Minion Pro Med",
            "Minion Pro SmBd",
            "Minisystem",
            "Miriam Transparent",
            "Mishafi",
            "Mishafi Gold",
            "MisterEarl BT",
            "Mitra Mono",
            "Ml",
            "Modena printed",
            "Modern Antiqua",
            "Modern No",
            "Mona Lisa Solid ITC TT",
            "Monospac821 BT",
            "Monoton",
            "Monotxt",
            "Monotype Koufi",
            "Monotype Sorts",
            "Monotype.com",
            "Montserrat Hairline",
            "Moon Flower",
            "Moonbeam",
            "MotoyaLCedar",
            "MotoyaLMaru",
            "MrsEavesRoman",
            "Mshtakan",
            "Mshtakan BoldOblique",
            "Mudir MT",
            "Muli",
            "Muna",
            "Myanmar MN",
            "Myanmar Sangam MN",
            "Mycalc",
            "Myriad Arabic",
            "Myriad CAD",
            "Myriad Hebrew",
            "Myriad Pro Black Cond",
            "Myriad Pro Black SemiCond",
            "Myriad Pro Black SemiCondensed",
            "Myriad Pro Black SemiExt",
            "Myriad Pro Black SemiExtended",
            "Myriad Pro Bold SemiCondensed",
            "Myriad Pro Bold SemiExtended",
            "Myriad Pro Cond",
            "Myriad Pro Cond It",
            "Myriad Pro It",
            "Myriad Pro Light Cond",
            "Myriad Pro Light Sans Hebrew",
            "Myriad Pro Light SemiCond",
            "Myriad Pro Light SemiCondensed",
            "Myriad Pro Light SemiExt",
            "Myriad Pro Light SemiExtended",
            "Myriad Pro Semi bold",
            "Myriad Pro SemiCond",
            "Myriad Pro SemiCondensed",
            "Myriad Pro SemiExt",
            "Myriad Pro SemiExtended",
            "Myriad Pro Semibold It",
            "Myriad Pro Semibold SemiCondensed",
            "Myriad Pro Semibold SemiExtended",
            "Myriad Web Pro",
            "MyriadPro-Semibold",
            "Mytho",
            "NATURALBORN",
            "NBP Informa FiveSix",
            "NBP Informa FiveThree",
            "NEOLITH",
            "NORMAL",
            "Nadeem",
            "Nafees Web Naskh",
            "Nanum Brush Script",
            "Nanum Gothic",
            "Nanum Myeongjo",
            "Nanum Pen Script",
            "NanumBarunGothic",
            "Napa SF",
            "Nasalization",
            "Neon Lights",
            "NeueHaasGroteskText Pro",
            "New Athena Unicode",
            "New Gulim",
            "New Peninim MT",
            "New Peninim MT Bold Inclined",
            "New Peninim MT Inclined",
            "New Renex Special Graphics",
            "New Renex Terminal",
            "NewRocker",
            "News Cycle",
            "News Gothic MT",
            "News Gothic MT Alt 1",
            "News Gothic MT Alt 2",
            "News Gothic MT Alt 3",
            "News Gothic MT Alt 4",
            "News Gothic MT Alt 5",
            "News Gothic MT Alt 6",
            "News GothicMT",
            "NewsGoth BT",
            "Newton Phonetic ABBYY",
            "Nexa XBold",
            "Nightclub BTN",
            "Nightclub BTN UltraCn",
            "Nimbus Roman No 9 L",
            "Nimbus Roman No9 L",
            "Nixie One",
            "NixieOneRegular",
            "No Flash",
            "Nobile",
            "Nonfiction",
            "Norasi",
            "Note this",
            "Noteworthy",
            "Noto Color Emoji",
            "Noto Emoji",
            "Noto Naskh Arabic",
            "Noto Sans Armenian",
            "Noto Sans Avestan",
            "Noto Sans Bamum",
            "Noto Sans Batak",
            "Noto Sans Brahmi",
            "Noto Sans Buhid",
            "Noto Sans CJK JP",
            "Noto Sans CJK KR",
            "Noto Sans CJK SC",
            "Noto Sans CJK TC",
            "Noto Sans Carian",
            "Noto Sans Coptic",
            "Noto Sans Cuneiform",
            "Noto Sans Cypriot",
            "Noto Sans Devanagari",
            "Noto Sans Devanagari UI",
            "Noto Sans Egyptian Hieroglyphs",
            "Noto Sans Ethiopic",
            "Noto Sans Georgian",
            "Noto Sans Glagolitic",
            "Noto Sans Gothic",
            "Noto Sans Gujarati",
            "Noto Sans Gurmukhi",
            "Noto Sans Hanunoo",
            "Noto Sans Hebrew",
            "Noto Sans Imperial Aramaic",
            "Noto Sans Inscriptional Pahlavi",
            "Noto Sans Inscriptional Parthian",
            "Noto Sans JP",
            "Noto Sans KR",
            "Noto Sans Kayah Li",
            "Noto Sans Kharoshthi",
            "Noto Sans Lao",
            "Noto Sans Lao UI",
            "Noto Sans Limbu",
            "Noto Sans Linear B",
            "Noto Sans Lisu",
            "Noto Sans Lycian",
            "Noto Sans Lydian",
            "Noto Sans Malayalam",
            "Noto Sans Mandaic",
            "Noto Sans Mongolian",
            "Noto Sans Mono CJK JP",
            "Noto Sans Mono CJK KR",
            "Noto Sans Mono CJK SC",
            "Noto Sans Mono CJK TC",
            "Noto Sans NKo",
            "Noto Sans New Tai Lue",
            "Noto Sans Ogham",
            "Noto Sans Ol Chiki",
            "Noto Sans Old Persian",
            "Noto Sans Old South Arabian",
            "Noto Sans Old Turkic",
            "Noto Sans Osmanya",
            "Noto Sans Phags Pa",
            "Noto Sans Phoenician",
            "Noto Sans Rejang",
            "Noto Sans Runic",
            "Noto Sans SC",
            "Noto Sans Samaritan",
            "Noto Sans Saurashtra",
            "Noto Sans Shavian",
            "Noto Sans Syloti Nagri",
            "Noto Sans Syriac Eastern",
            "Noto Sans TC",
            "Noto Sans Tagalog",
            "Noto Sans Tagbanwa",
            "Noto Sans Tai Le",
            "Noto Sans Tai Viet",
            "Noto Sans Tamil",
            "Noto Sans Tamil UI",
            "Noto Sans Thai",
            "Noto Sans Thai UI",
            "Noto Sans Tifinagh",
            "Noto Sans UI",
            "Noto Sans Ugaritic",
            "Noto Sans Vai",
            "Noto Sans Yi",
            "Noto Serif",
            "Noto Serif Ahom",
            "Noto Serif Armenian",
            "Noto Serif CJK JP",
            "Noto Serif CJK KR",
            "Noto Serif CJK SC",
            "Noto Serif CJK TC",
            "Noto Serif Georgian",
            "Noto Serif Lao",
            "Noto Serif Thai",
            "Notram",
            "Nova Cut",
            "Nova Flat",
            "Nova Oval",
            "Nova Round",
            "Nova Script",
            "Nova Slim",
            "Nova Square",
            "November",
            "Nueva Std",
            "Nueva Std Bold Cond",
            "Nueva Std Cond",
            "Nunito",
            "OCR A Std",
            "OCR B MT",
            "OCR-A BT",
            "OCR-A II",
            "OCRA",
            "OLF SimpleSansOC",
            "OLIVEOIL",
            "OPENCLASSIC",
            "OR-TTSarala",
            "Odessa LET",
            "Old Antic Decorative",
            "Old Century",
            "Old English",
            "One Stroke Script LET",
            "Onyx BT",
            "OpineHeavy",
            "Optima ExtraBlack",
            "Optima LT Std",
            "Opus",
            "Opus Chords",
            "Opus Chords Sans",
            "Opus Figured Bass",
            "Opus Figured Bass Extras",
            "Opus Function Symbols",
            "Opus Japanese Chords",
            "Opus Metronome",
            "Opus Note Names",
            "Opus Ornaments",
            "Opus Percussion",
            "Opus PlainChords",
            "Opus Roman Chords",
            "Opus Special",
            "Opus Special Extra",
            "Orator Std",
            "Orator Std Slanted",
            "Origin",
            "Oriya MN",
            "Oriya Sangam MN",
            "OskiDakelh",
            "Ostrich Sans",
            "Ostrich Sans Dashed",
            "Ostrich Sans Rounded",
            "Oswald",
            "Ouverture script",
            "OzHandicraft BT",
            "PAINTSTROKE",
            "PCMyungjo",
            "PFDaVinciScriptPro-Inked",
            "PFDaVinciScriptPro-Regular",
            "PFFuelPro-Regular",
            "PN-TTAmar",
            "POLI",
            "PRETEXT",
            "PT Bold Arch",
            "PT Bold Broken",
            "PT Bold Dusky",
            "PT Bold Heading",
            "PT Bold Mirror",
            "PT Bold Stars",
            "PT Separated Baloon",
            "PT Serif",
            "PT Simple Bold Ruled",
            "PTBarnum BT",
            "PUPPYLIKE",
            "Pacifico",
            "Padauk",
            "Pamela want a Bike to Ride",
            "Pamela wants to Ride",
            "PanRoman",
            "Parisian BT",
            "ParkAvenue BT",
            "Parry Hotter",
            "Party LET",
            "Party LET Plain:1.0",
            "ParvathiBold",
            "ParvathiMedium",
            "ParvathiThin",
            "Patrick Hand SC",
            "Pegasus",
            "Pegypta",
            "Penultimate",
            "PenultimateLight",
            "PenultimateLightItal",
            "Permanent Marker",
            "Persia BT",
            "Petrucci",
            "Phatdiem",
            "Phetsarath OT",
            "PhnomPenh OT",
            "Phosphate",
            "Photoshop Large",
            "Photoshop Small",
            "PhrasticMedium",
            "Pickwick",
            "Pigiarniq",
            "PilGi",
            "PingFang HK",
            "PingFang SC",
            "PingFang TC",
            "Piranesi It BT",
            "Pirate",
            "Playfair Display SC",
            "Pleasantly Plump",
            "PoetsenOne",
            "Pointedly Mad",
            "Poiret One",
            "PondAllRounder",
            "PondFreeBoss",
            "PondFreeMe",
            "PondFreeZoo",
            "Poplar Std",
            "PortagoITC TT",
            "Poster",
            "PosterBodoni BT",
            "Pothana",
            "Pothana2000",
            "Power Clear",
            "Power Green",
            "Power Green Small",
            "Power Red and Blue",
            "Power Red and Blue Intl",
            "Power Red and Green",
            "Praveen",
            "Praxis",
            "Prema",
            "Press Start 2P",
            "Prestige Elite Std",
            "Prestige Elite Std Bd",
            "Pricedown Bl",
            "PrimaSans BT",
            "Princetown LET",
            "Priori Serif OT",
            "Prisoner SF",
            "Proxima Nova Condensed Semibold",
            "Proxima Nova Rg",
            "Proxima Nova Soft Semibold",
            "Proxy 1",
            "Proxy 2",
            "Proxy 3",
            "Proxy 4",
            "Proxy 5",
            "Proxy 6",
            "Proxy 7",
            "Proxy 8",
            "Proxy 9",
            "Pujeeta",
            "PujeetaItalic",
            "PujeetaNarrow",
            "PujeetaSpecial",
            "Purisa",
            "Pythagoras",
            "Qaskin Black Personal Use",
            "Qaskin White Personal Use",
            "Quangngai",
            "QuickType II",
            "QuickType II Mono",
            "QuickType II Pi",
            "Quickpen",
            "Quicksand",
            "Quicksand Dash",
            "Quincho Script PERSONAL USE",
            "Quinhon",
            "QuiverItal",
            "Quixley LET",
            "QumpellkaNo12",
            "RADAGUND",
            "RUMA",
            "Raanana",
            "Rachana",
            "Rachana_w01",
            "Rachgia",
            "Racing Sans One",
            "Radha",
            "RadhaBold",
            "Rage Italic LET",
            "Raghindi",
            "RaghuMalayalam",
            "Raisin des Sables",
            "Rakesly Bk",
            "Rakesly El",
            "Rakesly Lt",
            "Rakesly Rg",
            "Rakesly Ul",
            "RamuBrush",
            "RamuScript",
            "RamuScriptMedium",
            "Realvirtue",
            "Redressed",
            "Reginet",
            "Rekha",
            "Remachine Script Personal Use",
            "Reswysokr",
            "Ribbon131 Bd BT",
            "Rock Salt",
            "Rocket Arabic Fixed",
            "Rockwell Nova",
            "Rockwell Nova Cond",
            "Rod Transparent",
            "Roman Mono",
            "RomanC",
            "RomanD",
            "RomanS",
            "RomanT",
            "Romantic",
            "Rondalo",
            "Rosewood Std",
            "Rouge Script",
            "RowdyHeavy",
            "Ruach LET",
            "Rumburak",
            "Rundkursiv",
            "Rupee Foradian",
            "Russel Write TT",
            "SAF",
            "SAPDings",
            "SAPGUI-Icons",
            "SAPIcons",
            "SAS Monospace",
            "SC",
            "SD-TTSurekh",
            "SERB",
            "SF Compact Rounded",
            "SF Compact Rounded Ultralight",
            "SF Distant Galaxy",
            "SF Distant Galaxy AltOutline",
            "SF Distant Galaxy Alternate",
            "SF Movie Poster",
            "SF Slapstick Comic",
            "SHELMAN",
            "SOLIDWORKS GDT",
            "SPAN",
            "STHupo",
            "STIX Math",
            "STIX Two Math",
            "STIXGeneral",
            "STIXIntegralsD",
            "STIXIntegralsSm",
            "STIXIntegralsUp",
            "STIXIntegralsUpD",
            "STIXIntegralsUpSm",
            "STIXNonUnicode",
            "STIXSizeFiveSym",
            "STIXSizeFourSym",
            "STIXSizeOneSym",
            "STIXSizeThreeSym",
            "STIXSizeTwoSym",
            "STIXVariants",
            "STLiti",
            "STSong",
            "STXingkai",
            "STXinwei",
            "STZhongsong",
            "SWAstro",
            "SWComp",
            "SWED",
            "SWGDT",
            "SWGamekeys MT",
            "SWGothe",
            "SWGothg",
            "SWGothi",
            "SWGrekc",
            "SWGreks",
            "SWIsop1",
            "SWIsop2",
            "SWIsop3",
            "SWIsot1",
            "SWIsot2",
            "SWIsot3",
            "SWItal",
            "SWItalc",
            "SWItalt",
            "SWLink",
            "SWMacro",
            "SWMap",
            "SWMath",
            "SWMeteo",
            "SWMono",
            "SWMusic",
            "SWRomnc",
            "SWRomnd",
            "SWRomns",
            "SWRomnt",
            "SWScrpc",
            "SWScrps",
            "SWSimp",
            "SWTOR Trajan",
            "SWTxt",
            "Saab",
            "Sabrina",
            "Sacred Geometry",
            "SaiEmbed",
            "SaiIndira",
            "SaiMeera",
            "SaiSai",
            "SaiVrishin",
            "Saint Andrew des Kiwis",
            "Salilam",
            "Salina",
            "Samathwa",
            "SamsungImagination",
            "SamsungImaginationBold",
            "Sana",
            "Sanpya",
            "Sans",
            "SansSerif",
            "Sanskrit",
            "Sanskrit New",
            "Santa Fe LET",
            "Santa Fe LET Plain:1.0",
            "Sasfont",
            "Sathu",
            "Sauce Code Powerline",
            "Savoye LET",
            "Savoye LET Plain",
            "Savoye LET Plain CC",
            "Savoye LET Plain CC.:1.0",
            "Savoye LET Plain:1.0",
            "Sawasdee",
            "Sceptre",
            "SchoolHouse Cursive B",
            "SchoolHouse Printed A",
            "ScriptC",
            "ScriptKleio",
            "ScriptS",
            "Seagull APL",
            "Segoe MDL2 Assets",
            "Segoe UI Historic",
            "Segoe WP",
            "Selena",
            "SemiBold",
            "Serifa BT",
            "Serifa Th BT",
            "Seville",
            "ShelleyVolante BT",
            "Sherwood",
            "Shree Devanagari 714",
            "Shree-Kan-0853",
            "Shree-Mal-0502",
            "Shree-Tel-0900",
            "Sigmar",
            "SignPainter",
            "SignPainter-HouseScript",
            "Signboard",
            "Silent Reaction",
            "Silom",
            "Simple Bold Jut Out",
            "Simple Outline Pat",
            "Simplex",
            "Sinhala MN",
            "Sinhala Sangam MN",
            "Six Caps",
            "Siyam Rupali",
            "Siyam Rupali ANSI",
            "Sketch Block",
            "Sketch Match",
            "Sketch Rockwell",
            "Skinny",
            "Skype UI Symbol",
            "SmartGothic",
            "Smarty Pants BTN",
            "Smokum",
            "Smooth",
            "Smudger Alts LET",
            "Smudger LET",
            "Sneakerhead BTN",
            "Snell Roundhand",
            "Sniglet",
            "Snowdrift",
            "Socket",
            "Sofia",
            "Soho Gothic Pro ExtraBold It",
            "Soho Gothic Pro Ultra",
            "Songti SC",
            "Songti TC",
            "Sonic XBd BT",
            "SonicCutThru Hv BT",
            "Sorts Mill Goudy",
            "Souvenir Lt BT",
            "Space Age",
            "Space Bd BT",
            "Special Elite",
            "Spicy Rice",
            "Spirituality",
            "Splash",
            "Square721 BT",
            "Staccato222 BT",
            "Standard Symbols L",
            "Starliner BTN",
            "Steamer",
            "Stencil Std",
            "Stephen",
            "Steppes TT",
            "Stez Sans",
            "Stone Sans ITC TT",
            "Stone Sans Sem ITC TT",
            "Storybook",
            "Stylus BT",
            "Subway",
            "Sue Ellen Francisco",
            "Sugarskin BTN",
            "Sukhumvit Set",
            "Sun-ExtA",
            "Superclarendon",
            "Supernatural Knight",
            "Suruma",
            "SutonnyMJ",
            "SutonnyOMJ",
            "Swis721 BT",
            "Swis721 BdCnOul BT",
            "Swis721 BdOul BT",
            "Swis721 Blk BT",
            "Swis721 BlkCn BT",
            "Swis721 BlkEx BT",
            "Swis721 BlkOul BT",
            "Swis721 Cn BT",
            "Swis721 Ex BT",
            "Swis721 Hv BT",
            "Swis721 Lt BT",
            "Swis721 LtCn BT",
            "Swis721 LtEx BT",
            "Swiss 721 Bold BT",
            "Swiss911 XCm BT",
            "Swiss921 BT",
            "Syastro",
            "Symap",
            "Symath",
            "Symbol MT",
            "Symbol Neu for Powerline",
            "Symbol Tiger",
            "Symbol Tiger Expert",
            "SymbolMono BT",
            "SymbolProp BT",
            "Symbola",
            "Symeteo",
            "Symusic",
            "Synchro LET",
            "System Font Bold G1",
            "TAB",
            "TAC-Barathi",
            "TAC-Kabilar",
            "TAC-Kambar",
            "TAC-Valluvar",
            "TAM",
            "TAM-Kavi",
            "TAM-Shree800",
            "TAMElango",
            "TAMILFIX",
            "TAMILNET",
            "TAMLKamban",
            "TAU-Barathi",
            "TAU-Kabilar",
            "TAU-Kambar",
            "TAU-Kaveri",
            "TAU-Valluvar",
            "TG Pagella Math",
            "TG Termes Math",
            "TITUS Cyberbit Basic",
            "TL-TTHemalatha",
            "TLArabic",
            "TLPashto",
            "TLUrdu",
            "TM-TTValluvar",
            "TMBW-TTValluvar",
            "TRIAL",
            "TSCu",
            "TURK",
            "Tahoma Negreta",
            "TakaoPGothic",
            "Tall Boy 3D",
            "Tall Boy West",
            "Tamburo",
            "Tamil MN",
            "Tamil-Aiswarya",
            "Tangerine",
            "TanglewoodTales",
            "Tarzan",
            "TeX",
            "TeX Gyre Adventor",
            "TeX Gyre Bonum",
            "TeX Gyre Bonum Math",
            "TeX Gyre Chorus",
            "TeX Gyre Heros",
            "TeX Gyre Pagella",
            "TeX Gyre Pagella Math",
            "TeX Gyre Schola",
            "TeX Gyre Termes",
            "TeX Gyre Termes Math",
            "TeamViewer10",
            "TeamViewer7",
            "TeamViewer8",
            "TeamViewer9",
            "Technic",
            "TechnicBold",
            "TechnicLite",
            "Technical",
            "Teen",
            "Tekton Pro",
            "Tele-Marines",
            "Teletype",
            "Telugu MN",
            "Tera Special",
            "Terminal Greek 737 (437G)",
            "Terminal Greek 869",
            "Terminator Real NFI",
            "Terminator Two",
            "TextilePiEF",
            "Thanhoa",
            "Theatre Antoine",
            "Thonburi",
            "ThoolikaUnicode",
            "Thorndale AMT",
            "Thorndale for VST",
            "Throw My Hands Up in the Air",
            "Tiger",
            "Tiger Expert",
            "TimeA1",
            "Timeless",
            "Times CE",
            "Times CY",
            "Times New Roman (Arabic)",
            "Times New Roman Baltic",
            "Times New Roman CE",
            "Times New Roman CYR",
            "Times New Roman Greek",
            "Times New Roman PS",
            "Times New Roman Symbol",
            "Times New Roman TUR",
            "Times New Roman Uni",
            "TimesTen",
            "Tinos for Powerline",
            "Tiranti Solid LET",
            "Titan One",
            "Titillium",
            "TitilliumText22L-Bold",
            "Tlwg Mono",
            "Tlwg Typewriter",
            "Tlwg Typist",
            "Tlwg Typo",
            "TlwgMono",
            "TlwgTypewriter",
            "Toledo",
            "Trade Gothic LT Std",
            "Trajan Pro",
            "Trattatello",
            "Trebuchet_PFL",
            "Tristan",
            "Trocchi",
            "True Lies",
            "Tsukushi A Round Gothic",
            "Tsukushi B Round Gothic",
            "TtsNote",
            "Tubular",
            "Tuyenduc",
            "Twemoji Mozilla",
            "Txt",
            "Type Embellishments One LET",
            "Type Embellishments One LET Embellishments One LET Plain:1.0",
            "TypoUpright BT",
            "URW Antiqua T",
            "URW Bookman L",
            "URW Chancery L",
            "URW Gothic L",
            "URW Grotesk T",
            "URW Palladio L",
            "Ubuntu",
            "Ubuntu Mono derivative Powerline",
            "Ultra",
            "Ume Gothic",
            "Ume Mincho",
            "Ume P Gothic",
            "Ume P Mincho",
            "Ume UI Gothic",
            "Umpush",
            "UnBatang",
            "UnDinaru",
            "UnDotum",
            "UnGraphic",
            "UnGungseo",
            "UnPilgi",
            "Uncial Antiqua",
            "Unicorn",
            "UnitedStates",
            "UniversalMath1 BT",
            "University Roman Alts LET",
            "University Roman LET",
            "Unknown Caller BTN SC",
            "Untitled1",
            "Uqammaq",
            "Urdu Naskh Asiatype",
            "Urvasi",
            "Uttara",
            "VAGRounded BT",
            "VANAVIL-Avvaiyar",
            "VISCII Sample Font",
            "VL Gothic",
            "VL PGothic",
            "VN-NTime",
            "VNI Aptima",
            "VNI Cambodia",
            "VNI Greece",
            "VNI Helve",
            "VNI Helve Condense",
            "VNI Laos",
            "VNI Russia",
            "VNI Times",
            "VNI-Algerian",
            "VNI-Allegie",
            "VNI-Aptima",
            "VNI-Arial Rounded",
            "VNI-Ariston",
            "VNI-Auchon",
            "VNI-Avo",
            "VNI-Awchon",
            "VNI-Aztek",
            "VNI-Bandit",
            "VNI-Bauhaus",
            "VNI-Baybuom",
            "VNI-Bazooka",
            "VNI-Bodon",
            "VNI-Bodon-Poster",
            "VNI-Book",
            "VNI-Bragga",
            "VNI-Briquet",
            "VNI-Broad",
            "VNI-Brush",
            "VNI-Butlong",
            "VNI-Centur",
            "VNI-Chaucer",
            "VNI-Colonna",
            "VNI-Commerce",
            "VNI-Cooper",
            "VNI-Coronet",
            "VNI-Couri",
            "VNI-DOS Sample Font",
            "VNI-DesdemonaU",
            "VNI-Disney",
            "VNI-Diudang",
            "VNI-Dom",
            "VNI-Duff",
            "VNI-Dur",
            "VNI-Fato",
            "VNI-Fillmore",
            "VNI-Franko",
            "VNI-Free",
            "VNI-Garam",
            "VNI-GlabXb",
            "VNI-Goudy",
            "VNI-HLThuphap",
            "VNI-Harrington",
            "VNI-Heather",
            "VNI-Helve",
            "VNI-Helve-Condense",
            "VNI-Hobo",
            "VNI-Internet Mail",
            "VNI-Jamai",
            "VNI-Juni",
            "VNI-Korin",
            "VNI-Kun",
            "VNI-Linus",
            "VNI-Lithos",
            "VNI-Lydi",
            "VNI-Maria",
            "VNI-Matisse",
            "VNI-Meli",
            "VNI-Murray",
            "VNI-Netbut",
            "VNI-Nhatban",
            "VNI-OngDoHL",
            "VNI-Palatin",
            "VNI-Park",
            "VNI-Present",
            "VNI-Revue",
            "VNI-Scribble",
            "VNI-Script",
            "VNI-Shadow",
            "VNI-ShellaL",
            "VNI-Slogan",
            "VNI-Souvir",
            "VNI-StageCoach",
            "VNI-Standout",
            "VNI-StencilU",
            "VNI-Stylus",
            "VNI-Swiss-Condense",
            "VNI-Tekon",
            "VNI-Thanhcao",
            "VNI-Thufap1",
            "VNI-Thufap2",
            "VNI-Thufap3",
            "VNI-Thufapfan",
            "VNI-Times",
            "VNI-Top",
            "VNI-Truck",
            "VNI-Tubes",
            "VNI-Univer",
            "VNI-Vari",
            "VNI-Viettay",
            "VNI-Vivi",
            "VNI-WIN Sample Font",
            "VNI-Whimsy",
            "VNI-Wide Latin",
            "VNI-Yahoo",
            "VNI-Zap",
            "VNtimes new roman",
            "Vagabond",
            "Valerie Hand",
            "Valken",
            "Valluvan",
            "Vanilla",
            "Vemana2000",
            "Ventilla Script",
            "Verdana Pro",
            "Verdana Pro Cond",
            "Verona",
            "Vikatan",
            "Vineta BT",
            "Vinhan",
            "Violetta",
            "Virtual DJ",
            "Visitor TT1 BRK",
            "Visitor TT2 BRK",
            "Visual Geez Unicode",
            "Visual Geez Unicode Agazian",
            "Visual Geez Unicode Title",
            "VnTimes",
            "VnTimes2",
            "Vodafone Rg",
            "Vogue",
            "Vonique 64",
            "Voyager NBP",
            "WP Arabic Sihafa",
            "WP ArabicScript Sihafa",
            "WP BoxDrawing",
            "WP CyrillicA",
            "WP CyrillicB",
            "WP Greek Century",
            "WP Greek Courier",
            "WP Greek Helve",
            "WP Hebrew David",
            "WP IconicSymbolsA",
            "WP IconicSymbolsB",
            "WP Japanese",
            "WP MathA",
            "WP MathB",
            "WP MathExtendedA",
            "WP MathExtendedB",
            "WP MultinationalA Courier",
            "WP MultinationalA Helve",
            "WP MultinationalB Courier",
            "WP MultinationalB Helve",
            "WP Phonetic",
            "WP TypographicSymbols",
            "WST",
            "WST_Czec",
            "WST_Engl",
            "WST_Fren",
            "WST_Germ",
            "WST_Ital",
            "WST_Span",
            "WST_Swed",
            "Walter",
            "Waree",
            "Warnock Pro",
            "Warnock Pro SmBd",
            "Warsaw",
            "Waseem",
            "Waverly",
            "Wawati SC",
            "Wawati TC",
            "Web Serveroff",
            "Webdunia",
            "Weibei SC",
            "Weibei TC",
            "Wellfleet",
            "WenQuanYi Micro Hei",
            "WenQuanYi Micro Hei Mono",
            "Western Bang Bang",
            "Whimsy TT",
            "Wolf in the City",
            "Woodcut",
            "X-Files",
            "XITS Math",
            "Xerox Malfunction BRK",
            "Xingkai SC",
            "Xirod",
            "Xpress Heavy SF",
            "Xpress SF",
            "YD2002",
            "Year supply of fairy cakes",
            "Yellowtail",
            "Yeseva One",
            "Yu Gothic UI",
            "YuCiril Helvetica",
            "YuGothic",
            "YuMincho",
            "YuMincho Demibold",
            "Yuanti SC",
            "Yuanti TC",
            "Yuppy SC",
            "Yuppy TC",
            "Z@R11F8.tmp",
            "Z@R120A.tmp",
            "Z@R123A.tmp",
            "Z@R13D5.tmp",
            "Z@R16EB.tmp",
            "Z@R16FD.tmp",
            "Z@R170E.tmp",
            "Z@R1720.tmp",
            "Z@R1751.tmp",
            "Z@R1762.tmp",
            "Z@R1774.tmp",
            "Z@R1816.tmp",
            "Z@R1828.tmp",
            "Z@R183A.tmp",
            "Z@R184B.tmp",
            "Z@R185D.tmp",
            "Z@R195D.tmp",
            "Z@R277C.tmp",
            "ZDingbats",
            "ZWAdobeF",
            "ZapfEllipt BT",
            "ZapfHumnst BT",
            "ZapfHumnst Dm BT",
            "ZapfHumnst Ult BT",
            "Zapfino Extra LT Four",
            "Zapfino Extra LT Ligatures",
            "Zapfino Extra LT One",
            "Zapfino Extra LT Two",
            "Zirkon",
            "Zolano Sans BTN",
            "Zolano Serif BTN",
            "Zurich BlkEx BT",
            "Zurich Ex BT",
            "Zuzumbo",
            "academy engraved let",
            "ae",
            "akaDora",
            "amaze",
            "at most sphere",
            "athletic",
            "balonez fantasia",
            "balonez fantasia br",
            "balthazar",
            "bart",
            "bimini",
            "boot",
            "cafeta",
            "ceriph 05",
            "ceriph 07",
            "chs",
            "cht",
            "classic 10",
            "cmb10",
            "cmbsy10",
            "cmbsy6",
            "cmbsy7",
            "cmbsy8",
            "cmbsy9",
            "cmbx10",
            "cmbx12",
            "cmbx5",
            "cmbx6",
            "cmbx7",
            "cmbx8",
            "cmbx9",
            "cmbxsl10",
            "cmbxti10",
            "cmcsc10",
            "cmcsc8",
            "cmcsc9",
            "cmdunh10",
            "cmex10",
            "cmex7",
            "cmex8",
            "cmex9",
            "cmff10",
            "cmfi10",
            "cmfib8",
            "cminch",
            "cmitt10",
            "cmmi10",
            "cmmi12",
            "cmmi5",
            "cmmi6",
            "cmmi7",
            "cmmi8",
            "cmmi9",
            "cmmib10",
            "cmmib6",
            "cmmib7",
            "cmmib8",
            "cmmib9",
            "cmr10",
            "cmr12",
            "cmr17",
            "cmr5",
            "cmr6",
            "cmr7",
            "cmr8",
            "cmr9",
            "cmsl10",
            "cmsl12",
            "cmsl8",
            "cmsl9",
            "cmsltt10",
            "cmss10",
            "cmss12",
            "cmss17",
            "cmss8",
            "cmss9",
            "cmssbx10",
            "cmssdc10",
            "cmssi10",
            "cmssi12",
            "cmssi17",
            "cmssi8",
            "cmssi9",
            "cmssq8",
            "cmssqi8",
            "cmsy10",
            "cmsy10orig",
            "cmsy5",
            "cmsy6",
            "cmsy7",
            "cmsy8",
            "cmsy9",
            "cmtcsc10",
            "cmtex10",
            "cmtex8",
            "cmtex9",
            "cmti10",
            "cmti12",
            "cmti7",
            "cmti8",
            "cmti9",
            "cmtt10",
            "cmtt12",
            "cmtt8",
            "cmtt9",
            "cmu10",
            "cmvtt10",
            "cnefont",
            "cnefonts",
            "copy 08",
            "copy 09",
            "copy 10",
            "croissant sandwich",
            "cursive",
            "dbldwrsw",
            "euex10",
            "euex7",
            "euex8",
            "euex9",
            "eufb10",
            "eufb5",
            "eufb6",
            "eufb7",
            "eufb8",
            "eufb9",
            "eufm10",
            "eufm5",
            "eufm6",
            "eufm7",
            "eufm8",
            "eufm9",
            "eurb10",
            "eurb5",
            "eurb6",
            "eurb7",
            "eurb8",
            "eurb9",
            "eurm10",
            "eurm5",
            "eurm6",
            "eurm7",
            "eurm8",
            "eurm9",
            "eusb10",
            "eusb5",
            "eusb6",
            "eusb7",
            "eusb8",
            "eusb9",
            "eusm10",
            "eusm5",
            "eusm6",
            "eusm7",
            "eusm8",
            "eusm9",
            "fakefont2",
            "fantasy",
            "fox in the snow",
            "future",
            "gargi",
            "header 08",
            "header 17",
            "hooge 04",
            "hooge 05",
            "hooge 06",
            "iso 08",
            "jpn",
            "kawoszeh",
            "kor",
            "kroeger 04",
            "kroeger 05",
            "kroeger 06",
            "kroeger 07",
            "lcircle10",
            "lcirclew10",
            "lcmss8",
            "lcmssb8",
            "lcmssi8",
            "lettau 06",
            "line10",
            "linew10",
            "mixtapeMike",
            "modstmary10",
            "mono 07",
            "mono 08",
            "monoeger 05",
            "monofur bold for Powerline",
            "monofur for Powerline",
            "monofur italic for Powerline",
            "monooge 05",
            "mry",
            "mry_KacstQurn",
            "msam10",
            "msam5",
            "msam6",
            "msam7",
            "msam8",
            "msam9",
            "msbm10",
            "msbm5",
            "msbm6",
            "msbm7",
            "msbm8",
            "msbm9",
            "olddreadfulno7 bt",
            "orange let",
            "ori1Uni",
            "pump demi bold let",
            "roland",
            "sans-serif",
            "saxMono",
            "schoenecker 10",
            "scruff let",
            "serif",
            "short hand",
            "signs normal",
            "simpson",
            "smart watch",
            "spinwerad",
            "standard 07",
            "standard 09",
            "stmary10",
            "superfrench",
            "surfer",
            "terk",
            "trendy",
            "type 07",
            "uni 05",
            "victorian let",
            "vivian",
            "w01",
            "western",
            "westwood let",
            "Univers CE 55 Medium",
            "Futura Bk BT",
            "AcademyEngravedLetPlain",
            "AlBayanPlain",
            "AlTarikh",
            "AppleSDGothicNeo-Regular",
            "Athelas-Regular",
            "AvenirNext-Regular",
            "Avenir-Roman",
            "BigCaslon-Medium",
            "BradleyHandITCTT-Bold",
            "BrushScriptMT",
            "ChalkboardSE-Regular",
            "Charter-Roman",
            "DecotypeNaskh",
            "DINAlternate-Bold",
            "DiwanKufi",
            "DiwanThuluth",
            "Futura-Medium",
            "GeezaPro",
            "STHeitiSC-Medium",
            "STHeitiTC-Medium",
            "HiraKakuPro-W3",
            "HiraMinPro-W3",
            "HiraginoSans-W3",
            "IowanOldStyle-Roman",
            "ITFDevanagariMarathi",
            "ITFDevanagari",
            "Kefa-Regular",
            "KohinoorDevanagari-Regular",
            "Marion-Regular",
            "MarkerFelt-Thin",
            "Menlo-Regular",
            "DiwanMishafiGold",
            "DiwanMishafi",
            "Noteworthy-Light",
            "NotoSansGothic-Regular",
            "NotoSansLinearB-Regular",
            "NotoSerifAhom-Regular",
            "Optima-Regular",
            "PartyLetPlain",
            "Phosphate-Regular",
            "PingFangHK-Regular",
            "PingFangSC-Regular",
            "PingFangTC-Regular",
            "SavoyeLetPlain",
            "SignPainter-HouseScript",
            "Skia-Regular",
            "SongtiSC-Regular",
            "SongtiTC-Regular",
            "STIXGeneral-Regular",
            "STIXIntegralsD-Regular",
            "STIXIntegralsSM-Regular",
            "STIXIntegralsUp-Regular",
            "STIXIntegralsUpD-Regular",
            "STIXIntegralsUpSM-Regular",
            "STIXNonUnicode-Regular",
            "STIXSizeFiveSym-Regular",
            "STIXSizeFourSym-Regular",
            "STIXSizeOneSym-Regular",
            "STIXSizeThreeSym-Regular",
            "STIXSizeTwoSym-Regular",
            "STIXVariants-Regular",
            "SukhumvitSet-Text",
            "Superclarendon-Regular",
            "Aptos",
            "Bebas Neue",
            "Bitter",
            "Chivo",
            "Crimson Pro",
            "DM Sans",
            "EB Garamond",
            "Exo 2",
            "Fraunces",
            "Gabarito",
            "Heebo",
            "Josefin Sans",
            "Karla",
            "Lora",
            "Manrope",
            "Merriweather",
            "Mulish",
            "Playfair Display",
            "Public Sans",
            "Red Hat Display",
            "Rubik",
            "Space Grotesk",
            "Spectral",
            "Syne",
            "Tinos",
            "Varela Round",
            "Work Sans",
            "Cardo",
            "Lexend",
            "Sora",
            "Nexa Rust",
            "HoloLens MDL2 Assets",
            "Ink Free",
            "Lucid Sans",
            "Neuropol",
            "Sitka",
            "Segoe Fluent Icons",
            "Kohinoor Devanagari Medium",
            "PingFang HK Light",
            "American Typewriter Semibold",
            "Futura Bold",
            "SignPainter-HouseScript Semibold",
            "InaiMathi Bold",
            "Galvji",
            "MuktaMahee Regular",
            "Noto Sans Gunjala Gondi Regular",
            "Noto Sans Masaram Gondi Regular",
            "Noto Serif Yezidi Regular",
            "Apple SD Gothic Neo ExtraBold",
            "STIX Two Math Regular",
            "STIX Two Text Regular",
            "Noto Sans Canadian Aboriginal Regular",
            "Akaya Kanadaka",
            "Kannada MN",
            "Adelle Sans Devanagari",
            "Kohinoor Bangla",
            "Baloo Bhaina 2",
            "Katari",
            "Chilanka",
            "MONO",
          ],
        };
      },
      7837: function (t) {
        t.exports = {
          serif: [
            "adobe jenson",
            "adobe text",
            "albertus",
            "aldus",
            "alexandria",
            "algerian",
            "american typewriter",
            "antiqua",
            "arno",
            "aster",
            "aurora",
            "baskerville",
            "bell",
            "bembo",
            "bembo schoolbook",
            "benguiat",
            "berkeley old style",
            "bernhard modern",
            "bodoni",
            "book antiqua",
            "bookman",
            "bordeaux roman",
            "californian fb",
            "calisto",
            "capitals",
            "cambria",
            "cartier",
            "caslon",
            "caslon antique",
            "catull",
            "centaur",
            "century old style",
            "century schoolbook",
            "new century schoolbook",
            "chaparral",
            "charis sil",
            "cheltenham",
            "clearface",
            "cochin",
            "colonna",
            "computer modern",
            "concrete roman",
            "constantia",
            "cooper black",
            "corona",
            "dejavu fonts",
            "ecotype",
            "elephant",
            "espy serif",
            "excelsior",
            "fairfield",
            "ff scala",
            "footlight",
            "freeserif",
            "friz quadrata",
            "garamond",
            "gentium",
            "georgia",
            "gloucester",
            "goudy old style",
            "goudy schoolbook",
            "goudy pro font",
            "granjon",
            "heather",
            "hercules",
            "high tower text",
            "hiroshige",
            "hoefler text",
            "humana serif",
            "imprint",
            "ionic no. 5",
            "janson",
            "jenson",
            "joanna",
            "korinna",
            "kursivschrift",
            "legacy serif",
            "lexicon",
            "liberation fonts",
            "linux libertine",
            "literaturnaya",
            "lucida",
            "melior",
            "memphis",
            "miller",
            "minion",
            "didone",
            "mona lisa",
            "mrs eaves",
            "ms serif",
            "new york",
            "nimbus roman",
            "nps rawlinson roadway",
            "ocr a extended",
            "palatino",
            "perpetua",
            "plantin",
            "plantin schoolbook",
            "playbill",
            "poor richard",
            "rawlinson roadway",
            "renault",
            "requiem",
            "roman",
            "rotis serif",
            "sabon",
            "seagull",
            "sistina",
            "souvenir",
            "stix",
            "stone informal",
            "stone serif",
            "sylfaen",
            "times new roman",
            "times",
            "trajan",
            "trinité",
            "trump mediaeval",
            "utopia",
            "vale type",
            "bitstream vera",
            "versailles",
            "wanted",
            "weiss",
            "wide latin",
            "windsor",
            "xits",
            "apex",
            "archer",
            "athens",
            "city",
            "cholla slab",
            "clarendon",
            "courier",
            "egyptienne",
            "guardian egyptian",
            "lexia",
            "museo slab",
            "rockwell",
            "nilland",
            "skeleton antique",
            "tower",
            "allegro",
            "amiri",
            "athelas",
            "belwe",
            "bookerly",
            "bulmer",
            "caledonia",
            "constructium",
            "copperplate Gothic",
            "dejaVu serif",
            "didot",
            "droid serif",
            "emerson",
            "galliard",
            "iowan old style",
            "itc lubalin graph",
            "ibm plex",
            "ibm plex serif",
            "junicode",
            "literata",
            "lucida bright",
            "rotis",
            "serifa",
            "source serif pro",
            "theano",
            "zilla slab",
            "bitstream charter",
            "roboto slab",
            "university of california old style",
            "berkeley old style",
            "candida",
            "doves",
            "hightower",
            "liberation sans",
            "lucida grande",
            "vera sans",
            "vercetti regular",
            "computer modern sans",
            "rotis ii sans",
            "sherbrooke",
            "tilson",
            "triplex",
          ],
          "sans-serif": [
            "abadi",
            "agency fb",
            "akzidenz grotesk",
            "aptifer",
            "arial",
            "arial unicode ms",
            "avant garde",
            "avenir",
            "bank gothic",
            "barmeno",
            "bauhaus",
            "bell centennial",
            "bell gothic",
            "benguiat gothic",
            "berlin sans",
            "beteckna",
            "brandon grotesque",
            "cabin",
            "cafeteria",
            "calibri",
            "century gothic",
            "charcoal",
            "chicago",
            "clearface gothic",
            "clearview",
            "co headline",
            "co text",
            "compacta",
            "corbel",
            "ff dax",
            "dotum",
            "droid",
            "dyslexie",
            "ecofont",
            "eras",
            "espy sans",
            "nu sans",
            "eurocrat",
            "eurostile",
            "ff meta",
            "flama",
            "formata",
            "freesans",
            "franklin gothic",
            "frutiger",
            "futura",
            "geneva",
            "gill sans",
            "gill sans schoolbook",
            "gotham",
            "handel gothic",
            "denmark",
            "haettenschweiler",
            "hei",
            "helvetica",
            "helvetica neue",
            "swiss 721",
            "highway gothic",
            "hiroshige sans",
            "hobo",
            "impact",
            "industria",
            "interstate",
            "johnston",
            "kabel",
            "lato",
            "legacy sans",
            "lexia readable",
            "meiryo",
            "microgramma",
            "motorway",
            "ms sans serif",
            "museo sans",
            "myriad",
            "neutraface",
            "neuzeit s",
            "news gothic",
            "nimbus sans l",
            "nina",
            "optima",
            "parisine",
            "pricedown",
            "prima sans",
            "pt sans",
            "rail alphabet",
            "revue",
            "roboto",
            "rotis sans",
            "ff scala sans",
            "segoe",
            "skia",
            "souvenir gothic",
            "stone sans",
            "syntax",
            "tahoma",
            "template gothic",
            "tiresias",
            "trade gothic",
            "transport alphabet",
            "trebuchet ms",
            "trump gothic",
            "tw cen",
            "twentieth century",
            "ubuntu font family",
            "univers",
            "zurich",
            "verdana",
            "virtue",
            "acumin",
            "akzidenz-grotesk",
            "amplitude",
            "andalé sans",
            "antique olive",
            "archivo",
            "austria",
            "itc avant garde",
            "itc avant garde gothic",
            "averta",
            "bahnschrift",
            "barlow",
            "bobcaygeon",
            "breeze sans",
            "cantarell",
            "caractères",
            "cera Pro",
            "cisco sans",
            "adobe clean",
            "clear sans",
            "comic neue",
            "dejaVu sans",
            "din 1451",
            "dosis",
            "drogowskaz",
            "droid sans",
            "dubai",
            "e-ukraine",
            "fira sans",
            "folio",
            "gerstner programm",
            "grand slang",
            "harmonyos sans",
            "ibm plex sans",
            "inter",
            "ge inspira",
            "karrik",
            "klavika",
            "libre franklin",
            "linux biolinum",
            "fs me",
            "ff meta",
            "montserrat",
            "national trust",
            "nokia pure",
            "noto sans",
            "nunito sans",
            "open sans",
            "overpass",
            "oxygen",
            "poppins",
            "proxima nova",
            "radis sans",
            "raleway",
            "Selawik",
            "semplicità",
            "seravek",
            "oneplus",
            "snv",
            "source sans pro",
            "sweden sans",
            "thesis sans",
            "transport",
            "tratex",
            "unica",
            "universalis",
            "vag rounded",
            "whitney",
            "aphont",
            "ff clan",
            "gilroy",
            "greycliff",
            "nobel",
          ],
          monospace: [
            "andale mono",
            "anonymous",
            "consolas",
            "courierhp",
            "courier new",
            "courierps",
            "fontcraft courier",
            "everson mono",
            "fedra mono",
            "fixed",
            "fixedsys",
            "fixedsys excelsior",
            "inconsolata",
            "hyperfont",
            "letter gothic",
            "magnetic ink character recognition",
            "menlo",
            "miriam fixed",
            "monaco",
            "monofur",
            "monospace",
            "ms gothic",
            "ms mincho",
            "nimbus mono l",
            "ocr-a",
            "ocr-b",
            "orator",
            "ormaxx",
            "pragmatapro",
            "prestige elite",
            "profont",
            "proggy programming fonts",
            "small fonts",
            "sydnie",
            "terminal",
            "tex gyre cursor",
            "um typewriter",
            "william monospace",
            "balloon",
            "brush script",
            "dragonwick",
            "choc",
            "dom casual",
            "mistral",
            "papyrus",
            "tempus sans",
            "amazone",
            "ams euler",
            "apple chancery",
            "aristocrat",
            "bickley script",
            "civitype",
            "codex",
            "edwardian script",
            "forte",
            "french script",
            "kuenstler script",
            "monotype corsiva",
            "old english text mt",
            "palace script",
            "park avenue",
            "scriptina",
            "shelley volante",
            "vivaldi",
            "vladimir script",
            "zapf chancery",
            "zapfino",
            "andy",
            "ashley script",
            "chalkboard",
            "comic sans",
            "cezanne",
            "fontoon",
            "irregularis",
            "jefferson",
            "kristen",
            "lucida handwriting",
            "rage italic",
            "rufscript",
            "scribble",
            "soupbone",
            "tekton",
            "alecko",
            "cinderella",
            "cupola",
            "curlz",
            "magnificat",
            "script",
            "american text",
            "cloister black",
            "fraktur",
            "goudy text",
            "old english text",
            "wedding text",
            "aegyptus",
            "aharoni",
            "aisha",
            "amienne",
            "batak script",
            "chandas",
            "hanacaraka",
            "japanese gothic typeface",
            "jomolhari",
            "kochi font",
            "lontara script",
            "maiola",
            "minchō",
            "mona font",
            "nassim",
            "nastaliq navees",
            "neacademia",
            "perpetua greek",
            "simsun",
            "skolar",
            "skolar devanagari",
            "sundanese unicode",
            "sutturah",
            "tai le valentinium",
            "tengwar",
            "tibetan machine uni",
            "tunga",
            "wadalab",
            "apple symbols",
            "bookshelf symbol 7",
            "braille",
            "commercial pi",
            "corel",
            "erler dingbats",
            "hm phonetic",
            "mathematical pi",
            "morse code",
            "opensymbol",
            "richstyle",
            "symbol",
            "symbolps",
            "wingdings",
            "wingdings 2",
            "wingdings 3",
            "webdings",
            "zapf dingbats",
            "abracadabra",
            "ad lib",
            "allegro",
            "andreas",
            "arnold böcklin",
            "astur",
            "balloon pop outlaw black",
            "banco",
            "beat",
            "braggadocio",
            "broadway",
            "ellington",
            "exablock",
            "exocet",
            "fig script",
            "gigi",
            "harlow solid",
            "harrington",
            "horizon",
            "jim crow",
            "jokerman",
            "juice",
            "lo-type",
            "magneto",
            "megadeth",
            "neuland",
            "peignot",
            "ravie",
            "san francisco",
            "showcard gothic",
            "snap",
            "stencil",
            "umbra",
            "westminster",
            "willow",
            "bagel",
            "lithos",
            "aldhabi",
            "andalus",
            "angsana new",
            "angsanaupc",
            "aparajita",
            "arabic typesetting",
            "arial black",
            "arial narrow",
            "arial rounded mt bold",
            "baskerville old face",
            "batang",
            "batangche",
            "bauhaus 93",
            "bell mt",
            "berlin sans fb",
            "berlin sans fb demi",
            "bernard mt condensed",
            "blackadder itc",
            "bodoni mt",
            "bodoni mt black",
            "bodoni mt condensed",
            "bodoni mt poster compressed",
            "bookman old style",
            "bradley hand itc",
            "britannic bold",
            "browallia new",
            "browalliaupc",
            "brush script mt",
            "buxton sketch",
            "calibri light",
            "calisto mt",
            "cambria math",
            "candara",
            "castellar",
            "century",
            "chiller",
            "colonna mt",
            "comic sans ms",
            "copperplate gothic bold",
            "copperplate gothic light",
            "cordia new",
            "cordiaupc",
            "curlz mt",
            "daunpenh",
            "david",
            "dfkai-sb",
            "dilleniaupc",
            "dokchampa",
            "dotumche",
            "ebrima",
            "edwardian script itc",
            "engravers mt",
            "eras bold itc",
            "eras demi itc",
            "eras light itc",
            "eras medium itc",
            "estrangelo edessa",
            "eucrosiaupc",
            "euphemia",
            "fangsong",
            "felix titling",
            "footlight mt light",
            "franklin gothic book",
            "franklin gothic demi",
            "franklin gothic demi cond",
            "franklin gothic heavy",
            "franklin gothic medium",
            "franklin gothic medium cond",
            "frankruehl",
            "freesiaupc",
            "freestyle script",
            "french script mt",
            "gabriola",
            "gadugi",
            "gautami",
            "gill sans mt",
            "gill sans mt condensed",
            "gill sans mt ext condensed bold",
            "gill sans ultra bold",
            "gill sans ultra bold condensed",
            "gisha",
            "gloucester mt extra condensed",
            "goudy stout",
            "gulim",
            "gulimche",
            "gungsuh",
            "gungsuhche",
            "harlow solid italic",
            "imprint mt shadow",
            "informal roman",
            "irisupc",
            "iskoola pota",
            "jasmineupc",
            "javanese text",
            "juice itc",
            "kaiti",
            "kalinga",
            "kartika",
            "khmer ui",
            "kodchiangupc",
            "kokila",
            "kristen itc",
            "kunstler script",
            "lao ui",
            "latha",
            "leelawadee",
            "leelawadee ui",
            "leelawadee ui semilight",
            "levenim mt",
            "lilyupc",
            "lucida bright",
            "lucida calligraphy",
            "lucida console",
            "lucida fax",
            "lucida sans",
            "lucida sans typewriter",
            "lucida sans unicode",
            "maiandra gd",
            "malgun gothic",
            "mangal",
            "marlett",
            "matura mt script capitals",
            "meiryo ui",
            "microsoft himalaya",
            "microsoft jhenghei",
            "microsoft jhenghei light",
            "microsoft jhenghei ui",
            "microsoft jhenghei ui light",
            "microsoft new tai lue",
            "microsoft phagspa",
            "microsoft sans serif",
            "microsoft tai le",
            "microsoft uighur",
            "microsoft yahei",
            "microsoft yahei light",
            "microsoft yahei ui",
            "microsoft yahei ui light",
            "microsoft yi baiti",
            "mingliu",
            "mingliu-extb",
            "mingliu_hkscs",
            "mingliu_hkscs-extb",
            "miriam",
            "modern",
            "modern no. 20",
            "mongolian baiti",
            "moolboran",
            "ms outlook",
            "ms pgothic",
            "ms pmincho",
            "ms reference sans serif",
            "ms reference specialty",
            "ms ui gothic",
            "mt extra",
            "mv boli",
            "myanmar text",
            "narkisim",
            "niagara engraved",
            "niagara solid",
            "nirmala ui",
            "nirmala ui semilight",
            "nsimsun",
            "nyala",
            "onyx",
            "palace script mt",
            "palatino linotype",
            "parchment",
            "perpetua titling mt",
            "plantagenet cherokee",
            "pmingliu",
            "pmingliu-extb",
            "pristina",
            "raavi",
            "rockwell condensed",
            "rockwell extra bold",
            "rod",
            "sakkal majalla",
            "script mt bold",
            "segoe marker",
            "segoe print",
            "segoe script",
            "segoe ui",
            "segoe ui black",
            "segoe ui emoji",
            "segoe ui light",
            "segoe ui semibold",
            "segoe ui semilight",
            "segoe ui symbol",
            "shonar bangla",
            "shruti",
            "simhei",
            "simplified arabic",
            "simplified arabic fixed",
            "simsun-extb",
            "sitka banner",
            "sitka display",
            "sitka heading",
            "sitka small",
            "sitka subheading",
            "sitka text",
            "sketchflow print",
            "snap itc",
            "system",
            "tempus sans itc",
            "traditional arabic",
            "tw cen mt",
            "tw cen mt condensed",
            "tw cen mt condensed extra bold",
            "urdu typesetting",
            "utsaah",
            "vani",
            "vijaya",
            "viner hand itc",
            "vrinda",
            "yu gothic",
            "yu gothic light",
            "yu mincho",
            "yu mincho demibold",
            "yu mincho light",
            "bitstream vera sans mono",
            "cascadia code",
            "century schoolbook monospace",
            "comic mono",
            "computer modern mono",
            "typewriter",
            "curier",
            "cousine",
            "dejavu sans mono",
            "droid sans mono",
            "envy code r",
            "fantasque sans",
            "fira code",
            "fira mono",
            "freemono",
            "gnu freefont",
            "go mono",
            "hack",
            "ibm monochrome display adapter",
            "ibm mda",
            "ibm plex mono",
            "input",
            "iosevka",
            "jetbrains mono",
            "juliamono",
            "liberation mono",
            "nk57 monospace",
            "noto mono",
            "operator mono",
            "overpass mono",
            "oxygen mono",
            "pt mono",
            "recursive mono",
            "roboto mono",
            "sf mono",
            "source code pro",
            "spleen",
            "terminus",
            "ubuntu mono",
            "victor mono",
            "wumpus mono",
          ],
          rat_fonts: [
            "Teamviewer11",
            "Teamviewer12",
            "Teamviewer13",
            "Teamviewer14",
            "Teamviewer15",
          ],
        };
      },
      9753: function (t) {
        "use strict";
        t.exports = JSON.parse(
          '{"login":"0001","log in":"0001","sign in":"0001","username":"0001","password":"0001","email address":"0001","forgot password":"0001","remember me":"0001","secure login":"0001","payment":"0002","pay now":"0002","make payment":"0002","due amount":"0002","bill":"0002","invoice":"0002","payee":"0002","credit card":"0002","debit card":"0002","confirm payment":"0002","add payee":"0003","new payee":"0003","beneficiary name":"0003","bank account number":"0003","ifsc code":"0003","sort code":"0003","iban":"0003","routing number":"0003","save payee":"0003","otp":"0004","one-time password":"0004","verification code":"0004","enter code":"0004","sms code":"0004","email code":"0004","auth code":"0004","2fa":"0004","enroll":"0005","enrollment":"0005","sign up":"0005","register":"0005","create account":"0005","start enrollment":"0005","onboarding":"0005","set up account":"0005","loan":"0006","apply for loan":"0006","loan application":"0006","emi":"0006","installment":"0006","loan calculator":"0006","loan details":"0006","loan offer":"0006","cardless":"0007","withdraw cash":"0007","atm code":"0007","cash withdrawal":"0007","without card":"0007","generate code":"0007","atm access code":"0007","change phone":"0008","update phone number":"0008","new phone number":"0008","verify phone":"0008","mobile number change":"0008","change password":"0009","update password":"0009","new password":"0009","current password":"0009","reset password":"0009","confirm password":"0009","edit profile":"0010","update details":"0010","change information":"0010","modify details":"0010","update personal info":"0010","change user info":"0010","change email":"0011","update email":"0011","new email address":"0011","verify email":"0011","email confirmation":"0011","confirm email":"0011","change address":"0012","update address":"0012","new address":"0012","billing address":"0012","shipping address":"0012","address details":"0012"}'
        );
      },
    },
    e = {};
  function n(r) {
    var o = e[r];
    if (void 0 !== o) return o.exports;
    var i = (e[r] = { exports: {} });
    return t[r](i, i.exports, n), i.exports;
  }
  (n.amdO = {}),
    (n.n = function (t) {
      var e =
        t && t.__esModule
          ? function () {
              return t.default;
            }
          : function () {
              return t;
            };
      return n.d(e, { a: e }), e;
    }),
    (n.d = function (t, e) {
      for (var r in e)
        n.o(e, r) &&
          !n.o(t, r) &&
          Object.defineProperty(t, r, { enumerable: !0, get: e[r] });
    }),
    (n.g = (function () {
      if ("object" == typeof globalThis) return globalThis;
      try {
        return this || new Function("return this")();
      } catch (t) {
        if ("object" == typeof window) return window;
      }
    })()),
    (n.o = function (t, e) {
      return Object.prototype.hasOwnProperty.call(t, e);
    }),
    (n.r = function (t) {
      "undefined" != typeof Symbol &&
        Symbol.toStringTag &&
        Object.defineProperty(t, Symbol.toStringTag, { value: "Module" }),
        Object.defineProperty(t, "__esModule", { value: !0 });
    });
  var r = {};
  !(function () {
    "use strict";
    function t(e) {
      return (
        (t =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        t(e)
      );
    }
    function e(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, o(r.key), r);
      }
    }
    function o(e) {
      var n = (function (e, n) {
        if ("object" != t(e) || !e) return e;
        var r = e[Symbol.toPrimitive];
        if (void 0 !== r) {
          var o = r.call(e, n || "default");
          if ("object" != t(o)) return o;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === n ? String : Number)(e);
      })(e, "string");
      return "symbol" == t(n) ? n : n + "";
    }
    n.r(r),
      n.d(r, {
        BioCatchClient: function () {
          return m;
        },
        initializeBioCatchClient: function () {
          return KI;
        },
      });
    var i = (function () {
      return (
        (t = function t() {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t);
        }),
        (r = [
          {
            key: "isSupported",
            value: function () {
              return !(
                "undefined" == typeof WeakMap ||
                !window.Worker ||
                !window.MutationObserver
              );
            },
          },
        ]),
        (n = null) && e(t.prototype, n),
        r && e(t, r),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
      var t, n, r;
    })();
    function a(t) {
      return (
        (a =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        a(t)
      );
    }
    function u() {
      if (
        (Object.getOwnPropertyNames ||
          (Object.getOwnPropertyNames = function (t) {
            var e = [];
            for (var n in t)
              Object.prototype.hasOwnProperty.call(t, n) && e.push(n);
            return e;
          }),
        !Object.defineProperty ||
          !(function () {
            try {
              return Object.defineProperty({}, "x", {}), !0;
            } catch (t) {
              return !1;
            }
          })())
      ) {
        var t = Object.defineProperty;
        Object.defineProperty = function (e, n, r) {
          if (t)
            try {
              return t(e, n, r);
            } catch (t) {}
          if (e !== Object(e))
            throw TypeError("Object.defineProperty called on non-object");
          return (
            Object.prototype.__defineGetter__ &&
              "get" in r &&
              Object.prototype.__defineGetter__.call(e, n, r.get),
            Object.prototype.__defineSetter__ &&
              "set" in r &&
              Object.prototype.__defineSetter__.call(e, n, r.set),
            "value" in r && (e[n] = r.value),
            e
          );
        };
      }
      var e, n, r, o;
      "function" != typeof Object.defineProperties &&
        (Object.defineProperties = function (t, e) {
          if (t !== Object(t))
            throw TypeError("Object.defineProperties called on non-object");
          var n;
          for (n in e)
            Object.prototype.hasOwnProperty.call(e, n) &&
              Object.defineProperty(t, n, e[n]);
          return t;
        }),
        "function" != typeof Object.create &&
          (Object.create = function (t, e) {
            if ("object" !== a(t)) throw TypeError();
            function n() {}
            n.prototype = t;
            var r = new n();
            if ((t && (r.constructor = n), void 0 !== e)) {
              if (e !== Object(e)) throw TypeError();
              Object.defineProperties(r, e);
            }
            return r;
          }),
        Object.keys ||
          (Object.keys = function (t) {
            if (t !== Object(t))
              throw TypeError("Object.keys called on non-object");
            var e,
              n = [];
            for (e in t)
              Object.prototype.hasOwnProperty.call(t, e) && n.push(e);
            return n;
          }),
        Array.prototype.forEach ||
          (Array.prototype.forEach = function (t, e) {
            var n, r;
            if (null == this)
              throw new TypeError(" this is null or not defined");
            var o = Object(this),
              i = o.length >>> 0;
            if ("function" != typeof t)
              throw new TypeError(t + " is not a function");
            for (arguments.length > 1 && (n = e), r = 0; r < i; ) {
              var a;
              r in o && ((a = o[r]), t.call(n, a, r, o)), r++;
            }
          }),
        Array.isArray ||
          (Array.isArray = function (t) {
            return "[object Array]" === Object.prototype.toString.call(t);
          }),
        Function.prototype.bind ||
          (Function.prototype.bind = function (t) {
            if ("function" != typeof this)
              throw TypeError("Bind must be called on a function");
            var e = [].slice,
              n = e.call(arguments, 1),
              r = this,
              o = function () {
                return r.apply(
                  this.prototype && this instanceof i ? this : t,
                  n.concat(e.call(arguments))
                );
              };
            function i() {}
            return (i.prototype = r.prototype), (o.prototype = new i()), o;
          }),
        "function" != typeof String.prototype.trim &&
          (String.prototype.trim = function () {
            return this.replace(/^\s+|\s+$/g, "");
          }),
        Array.from ||
          (Array.from =
            ((e = Object.prototype.toString),
            (n = function (t) {
              return (
                "function" == typeof t || "[object Function]" === e.call(t)
              );
            }),
            (r = Math.pow(2, 53) - 1),
            (o = function (t) {
              var e = (function (t) {
                var e = Number(t);
                return isNaN(e)
                  ? 0
                  : 0 !== e && isFinite(e)
                  ? (e > 0 ? 1 : -1) * Math.floor(Math.abs(e))
                  : e;
              })(t);
              return Math.min(Math.max(e, 0), r);
            }),
            function (t) {
              var e = Object(t);
              if (null == t)
                throw new TypeError(
                  "Array.from requires an array-like object - not null or undefined"
                );
              var r,
                i = arguments.length > 1 ? arguments[1] : void 0;
              if (void 0 !== i) {
                if (!n(i))
                  throw new TypeError(
                    "Array.from: when provided, the second argument must be a function"
                  );
                arguments.length > 2 && (r = arguments[2]);
              }
              for (
                var a,
                  u = o(e.length),
                  s = n(this) ? Object(new this(u)) : new Array(u),
                  c = 0;
                c < u;

              )
                (a = e[c]),
                  (s[c] = i ? (void 0 === r ? i(a, c) : i.call(r, a, c)) : a),
                  (c += 1);
              return (s.length = u), s;
            })),
        Array.prototype.find ||
          Object.defineProperty(Array.prototype, "find", {
            value: function (t) {
              if (null == this)
                throw new TypeError('"this" is null or not defined');
              var e = Object(this),
                n = e.length >>> 0;
              if ("function" != typeof t)
                throw new TypeError("predicate must be a function");
              for (var r = arguments[1], o = 0; o < n; ) {
                var i = e[o];
                if (t.call(r, i, o, e)) return i;
                o++;
              }
            },
            configurable: !0,
            writable: !0,
          }),
        Array.prototype.includes ||
          Object.defineProperty(Array.prototype, "includes", {
            value: function (t, e) {
              if (null == this)
                throw new TypeError('"this" is null or not defined');
              var n = Object(this),
                r = n.length >>> 0;
              if (0 === r) return !1;
              var o = 0 | e,
                i = Math.max(o >= 0 ? o : r - Math.abs(o), 0);
              function a(t, e) {
                return (
                  t === e ||
                  ("number" == typeof t &&
                    "number" == typeof e &&
                    isNaN(t) &&
                    isNaN(e))
                );
              }
              for (; i < r; ) {
                if (a(n[i], t)) return !0;
                i++;
              }
              return !1;
            },
            configurable: !0,
            writable: !0,
          }),
        Element.prototype.matches ||
          (Element.prototype.matches =
            Element.prototype.matchesSelector ||
            Element.prototype.mozMatchesSelector ||
            Element.prototype.msMatchesSelector ||
            Element.prototype.oMatchesSelector ||
            Element.prototype.webkitMatchesSelector ||
            function (t) {
              for (
                var e = (this.document || this.ownerDocument).querySelectorAll(
                    t
                  ),
                  n = e.length;
                --n >= 0 && e.item(n) !== this;

              );
              return n > -1;
            }),
        "function" != typeof Object.assign &&
          Object.defineProperty(Object, "assign", {
            value: function (t, e) {
              if (null == t)
                throw new TypeError(
                  "Cannot convert undefined or null to object"
                );
              for (var n = Object(t), r = 1; r < arguments.length; r++) {
                var o = arguments[r];
                if (null != o)
                  for (var i in o)
                    Object.prototype.hasOwnProperty.call(o, i) && (n[i] = o[i]);
              }
              return n;
            },
            writable: !0,
            configurable: !0,
          }),
        String.prototype.startsWith ||
          (String.prototype.startsWith = function (t, e) {
            return this.substr(!e || e < 0 ? 0 : +e, t.length) === t;
          }),
        String.prototype.includes ||
          (String.prototype.includes = function (t, e) {
            if (t instanceof RegExp)
              throw TypeError("first argument must not be a RegExp");
            return void 0 === e && (e = 0), -1 !== this.indexOf(t, e);
          }),
        (self.MutationObserver =
          window.MutationObserver ||
          window.WebKitMutationObserver ||
          window.MozMutationObserver);
    }
    function s(t) {
      return (
        (s =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        s(t)
      );
    }
    function c(t) {
      if (!t.WeakMap) {
        var e = Object.prototype.hasOwnProperty,
          n = function (t, e, n) {
            Object.defineProperty
              ? Object.defineProperty(t, e, {
                  configurable: !0,
                  writable: !0,
                  value: n,
                })
              : (t[e] = n);
          };
        t.WeakMap = (function () {
          function t(t, n) {
            if (!r(t) || !e.call(t, "_id"))
              throw new TypeError(
                n + " method called on incompatible receiver " + s(t)
              );
          }
          function o() {
            return Math.random().toString().substring(2);
          }
          function i() {
            if (void 0 === this)
              throw new TypeError("Constructor WeakMap requires 'new'");
            if (
              (n(this, "_id", "_WeakMap" + "_" + o() + "." + o()),
              arguments.length > 0)
            )
              throw new TypeError("WeakMap iterable is not supported");
          }
          return (
            n(i.prototype, "delete", function (e) {
              if ((t(this, "delete"), !r(e))) return !1;
              var n = e[this._id];
              return !(!n || n[0] !== e) && (delete e[this._id], !0);
            }),
            n(i.prototype, "get", function (e) {
              if ((t(this, "get"), r(e))) {
                var n = e[this._id];
                return n && n[0] === e ? n[1] : void 0;
              }
            }),
            n(i.prototype, "has", function (e) {
              if ((t(this, "has"), !r(e))) return !1;
              var n = e[this._id];
              return !(!n || n[0] !== e);
            }),
            n(i.prototype, "set", function (e, o) {
              if ((t(this, "set"), !r(e)))
                throw new TypeError("Invalid value used as weak map key");
              var i = e[this._id];
              return i && i[0] === e
                ? ((i[1] = o), this)
                : (n(e, this._id, [e, o]), this);
            }),
            n(i, "_polyfill", !0),
            i
          );
        })();
      }
      function r(t) {
        return Object(t) === t;
      }
    }
    function l() {
      !(function (t) {
        var e = Date.now ? Date.now() : +new Date(),
          r = t.performance || {},
          o = [],
          i = {},
          a = function (t, e) {
            for (var n = 0, r = o.length, i = []; n < r; n++)
              o[n][t] == e && i.push(o[n]);
            return i;
          },
          u = function (t, e) {
            for (var n, r = o.length; r--; )
              (n = o[r]).entryType != t ||
                (void 0 !== e && n.name != e) ||
                o.splice(r, 1);
          };
        r.now ||
          (r.now =
            r.webkitNow ||
            r.mozNow ||
            r.msNow ||
            function () {
              return (Date.now ? Date.now() : +new Date()) - e;
            }),
          r.mark ||
            (r.mark =
              r.webkitMark ||
              function (t) {
                var e = {
                  name: t,
                  entryType: "mark",
                  startTime: r.now(),
                  duration: 0,
                };
                o.push(e), (i[t] = e);
              }),
          r.measure ||
            (r.measure =
              r.webkitMeasure ||
              function (t, e, n) {
                var a, u;
                if (void 0 !== n && void 0 === i[n])
                  throw new SyntaxError(
                    "Failed to execute 'measure' on 'Performance': The mark '" +
                      n +
                      "' does not exist."
                  );
                if (void 0 !== e && void 0 === i[e])
                  throw new SyntaxError(
                    "Failed to execute 'measure' on 'Performance': The mark '" +
                      e +
                      "' does not exist."
                  );
                (a = i[e] ? i[e].startTime : 0),
                  (u = i[n] ? i[n].startTime : r.now()),
                  o.push({
                    name: t,
                    entryType: "measure",
                    startTime: a,
                    duration: u - a,
                  });
              }),
          r.getEntriesByType ||
            (r.getEntriesByType =
              r.webkitGetEntriesByType ||
              function (t) {
                return a("entryType", t);
              }),
          r.getEntriesByName ||
            (r.getEntriesByName =
              r.webkitGetEntriesByName ||
              function (t) {
                return a("name", t);
              }),
          r.clearMarks ||
            (r.clearMarks =
              r.webkitClearMarks ||
              function (t) {
                u("mark", t);
              }),
          r.clearMeasures ||
            (r.clearMeasures =
              r.webkitClearMeasures ||
              function (t) {
                u("measure", t);
              }),
          (t.performance = r),
          "function" == typeof define &&
            n.amdO &&
            define("performance", [], function () {
              return r;
            });
      })(self),
        u(),
        c(
          "undefined" != typeof self
            ? self
            : "undefined" != typeof window
            ? window
            : this
        );
    }
    var f = 3,
      p = 4;
    function h(t) {
      return (
        (h =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        h(t)
      );
    }
    function d(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, y(r.key), r);
      }
    }
    function y(t) {
      var e = (function (t, e) {
        if ("object" != h(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != h(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == h(e) ? e : e + "";
    }
    var m = (function () {
      return (
        (t = function t(e, n, r, o, a) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            l(),
            i.isSupported() &&
              ("cdApi" in window
                ? e.autoStart(a)
                : (window.bcClient = this._createProxyInterface(
                    e,
                    o,
                    r,
                    n,
                    a
                  )));
        }),
        (e = [
          {
            key: "_createProxyInterface",
            value: function (t, e, n, r, o) {
              return {
                start: function (i, a, u, s) {
                  var c =
                      arguments.length > 4 && void 0 !== arguments[4]
                        ? arguments[4]
                        : f,
                    l = e.resolve(i, a, c),
                    p = n.mapStartupConfigurations(l, s);
                  r.attachCdApi(window), t.manualStart(p, l, o, void 0, u);
                },
                stop: function () {
                  t.stop();
                },
                pause: function () {
                  t.pause();
                },
                resume: function () {
                  t.resume();
                },
                updateCustomerSessionID: function (e) {
                  t.updateCustomerSessionID(e);
                },
                changeContext: function (e) {
                  t.changeContext(e);
                },
                startNewSession: function (e) {
                  t.startNewSession(e);
                },
                setCoordinatesMasking: function (e) {
                  t.setCoordinatesMasking(e);
                },
                setCustomerBrand: function (e) {
                  t.setCustomerBrand(e);
                },
              };
            },
          },
        ]),
        e && d(t.prototype, e),
        n && d(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
      var t, e, n;
    })();
    function v(t) {
      return (
        (v =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        v(t)
      );
    }
    function b(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, g(r.key), r);
      }
    }
    function g(t) {
      var e = (function (t, e) {
        if ("object" != v(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != v(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == v(e) ? e : e + "";
    }
    var _ = (function () {
        return (
          (t = function t() {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t);
          }),
          (e = [
            {
              key: "attachCdApi",
              value: function (t) {
                var e = this.createCdApi(t);
                (t.cdApi = e), t.cdApi.listenToEvents();
              },
            },
            {
              key: "createCdApi",
              value: function (t) {
                return {
                  _eventListeners: {},
                  onMessage: function (t) {
                    var e = this._eventListeners[t.data.type];
                    if (e)
                      for (var n = 0; n < e.length; n++) e[n](t.data.event);
                  },
                  listenToEvents: function () {
                    t.addEventListener
                      ? t.addEventListener(
                          "message",
                          this.onMessage.bind(this),
                          !0
                        )
                      : t.attachEvent("onmessage", this.onMessage.bind(this));
                  },
                  registerSessionNumberChange: function (e) {
                    function n(t) {
                      var n = t.data;
                      "SNumNotification" === n.type && e(n.cdSNum);
                    }
                    t.addEventListener
                      ? t.addEventListener("message", n, !0)
                      : t.attachEvent("onmessage", n);
                  },
                  addEventListener: function (t, e) {
                    var n = this._eventListeners[t];
                    n || ((n = []), (this._eventListeners[t] = n)), n.push(e);
                  },
                  removeEventListener: function (t, e) {
                    var n = this._eventListeners[t];
                    if (n)
                      for (var r = 0; r < n.length; r++)
                        if (n[r] === e) {
                          n.splice(r, 1);
                          break;
                        }
                  },
                  changeContext: function (e) {
                    t.postMessage(
                      { type: "ContextChange", context: e },
                      t.location.href
                    );
                  },
                  startNewSession: function (e) {
                    t.postMessage(
                      {
                        type: "ResetSession",
                        resetReason: "customerApi",
                        csid: e,
                      },
                      t.location.href
                    );
                  },
                  pauseCollection: function () {
                    t.postMessage(
                      { type: "cdChangeState", toState: "pause" },
                      t.location.href
                    );
                  },
                  resumeCollection: function () {
                    t.postMessage(
                      { type: "cdChangeState", toState: "run" },
                      t.location.href
                    );
                  },
                  sendMetadata: function (e) {
                    t.postMessage(
                      { type: "cdCustomerMetadata", data: e },
                      t.location.href
                    );
                  },
                  setCustomerSessionId: function (e) {
                    t.postMessage(
                      { type: "cdSetCsid", csid: e },
                      t.location.href
                    );
                  },
                  setCustomerBrand: function (e) {
                    t.postMessage(
                      { type: "cdSetCustomerBrand", brand: e },
                      t.location.href
                    );
                  },
                };
              },
            },
          ]),
          e && b(t.prototype, e),
          n && b(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
        var t, e, n;
      })(),
      w = {
        resetSessionApiThreshold: "resetSessionApiThreshold",
        dataWupDispatchRateSettings: "dataWupDispatchRateSettings",
        logWupDispatchRateSettings: "logWupDispatchRateSettings",
        logServerURL: "logAddress",
        enableMinifiedLogUri: "enableMinifiedLogUri",
        forceDynamicDataWupDispatchSettings:
          "forceDynamicDataWupDispatchSettings",
        wupStatisticsLogIntervalMs: "wupStatisticsLogIntervalMs",
        serverCommunicationSettings: "serverCommunicationSettings",
        wupResponseTimeout: "wupResponseTimeout",
        wupMessageRequestTimeout: "wupMessageRequestTimeout",
        logMessageRequestTimeout: "logMessageRequestTimeout",
        collectKeyRegionValue: "collectKeyRegionValue",
        crossDomainsList: "crossDomainsList",
        crossDomainsTimeout: "crossDomainsTimeout",
        isMutationObserver: "isMutationObserver",
        isEnabled: "isEnabled",
        slaveChannelHandshakeTimeout: "slaveChannelHandshakeTimeout",
        slaveAliveMessageInterval: "slaveAliveMessageInterval",
        collectCustomElementAttribute: "collectCustomElementAttribute",
        customElementAttribute: "customElementAttribute",
        enableFramesProcessing: "enableFramesProcessing",
        enableSameSiteNoneAndSecureCookies:
          "enableSameSiteNoneAndSecureCookies",
        wupServerURL: "wupServerURL",
        recoveryServerURL: "recoveryServerURL",
        logAddress: "logAddress",
        isCaptureKeyEvents: "isCaptureKeyEvents",
        locationEventsTimeoutMsec: "locationEventsTimeoutMsec",
        heartBeatMessageInterval: "heartBeatMessageInterval",
        isMotionAroundTouchEnabled: "isMotionAroundTouchEnabled",
        motionPaddingAroundTouchMSec: "motionPaddingAroundTouchMSec",
        isMotionOnSessionStart: "isMotionOnSessionStart",
        motionPaddingOnSessionStartMSec: "motionPaddingOnSessionStartMSec",
        isVMDetection: "isVMDetection",
        isScrollCollect: "isScrollCollect",
        isContextPropsFeature: "isContextPropsFeature",
        isCrossDomain: "isCrossdomain",
        gyroEventsThreshold: "gyroEventsThreshold",
        gyroEventsSamplePeriod: "gyroEventsSamplePeriod",
        dataQPassWorkerInterval: "dataQPassWorkerInterval",
        accelerometerEventsSamplePeriod: "accelerometerEventsSamplePeriod",
        orientationEventsThreshold: "orientationEventsThreshold",
        orientationEventsSamplePeriod: "orientationEventsSamplePeriod",
        isAudioDetection: "isAudioDetection",
        stateChangeEnabled: "stateChangeEnabled",
        logLevel: "logLevel",
        enableCustomElementsProcessing: "enableCustomElementsProcessing",
        keyEventsMaskSpecialChars: "keyEventsMaskSpecialChars",
        collectSelectElementBlurAndFocusEvents:
          "collectSelectElementBlurAndFocusEvents",
        allowedUnmaskedValuesList: "allowedUnmaskedValuesList",
        enableUnmaskedValues: "enableUnmaskedValues",
        wupMessageNumToRetry: "wupMessageNumToRetry",
        wupRetryOnNetworkFailureOnly: "wupRetryOnNetworkFailureOnly",
        wupMessageRetryInterval: "wupMessageRetryInterval",
        wupIncrementalGrowthBetweenFailures:
          "wupIncrementalGrowthBetweenFailures",
        wupMaxIntervalBetweenFailures: "wupMaxIntervalBetweenFailures",
        logMessageNumToRetry: "logMessageNumToRetry",
        logRetryOnNetworkFailureOnly: "logRetryOnNetworkFailureOnly",
        logMessageRetryInterval: "logMessageRetryInterval",
        logIncrementalGrowthBetweenFailures:
          "logIncrementalGrowthBetweenFailures",
        logMaxIntervalBetweenFailures: "logMaxIntervalBetweenFailures",
        cdsNumExpirationTime: "cdsNumExpirationTime",
        enableCoordinatesMasking: "enableCoordinatesMasking",
        maskElementsAttributes: "maskElementsAttributes",
        enableAcknowledgeMessageEvents: "enableAcknowledgeMessageEvents",
        timeTillClearingElementsBufferQueueTimeout:
          "timeTillClearingElementsBufferQueueTimeout",
        acknowledgeDataDispatchingRate: "acknowledgeDataDispatchingRate",
        isChannelSupportsAckMessageLogic: "isChannelSupportsAckMessageLogic",
        parentElementSelector: "parentElementSelector",
        childElementWithCustomAttribute: "childElementWithCustomAttribute",
        elementDataAttribute: "elementDataAttribute",
        customButtons: "customButtons",
        enableElementHierarchy: "enableElementHierarchy",
        enableElementCategory: "enableElementCategory",
        agentType: "agentType",
        collectionMode: "collectionMode",
        enableWupMessagesHashing: "enableWupMessagesHashing",
        enableStartupCustomerSessionId: "enableStartupCustomerSessionId",
        offloadFontsCollectionEnabled: "offloadFontsCollectionEnabled",
        offloadFontsRemoveDuplicated: "offloadFontsRemoveDuplicated",
        mutationMaxChunkSize: "mutationMaxChunkSize",
        mutationChunkDelayMs: "mutationChunkDelayMs",
        passwordIdMaskingList: "passwordIdMaskingList",
        elementUniqueIDConfiguration: "elementUniqueIDConfiguration",
        fontCollection: "fontCollection",
        useLegacyZeroTimeout: "useLegacyZeroTimeout",
        useMessageChannelForSlaveComm: "useMessageChannelForSlaveComm",
        enableAutoContextCategory: "enableAutoContextCategory",
        contextCategories: "contextCategories",
        elementCategories: "elementCategories",
        elementAttributes: "elementAttributes",
        elementSelectors: "elementSelectors",
        externalWASMModules: "externalWASMModules",
      };
    function S(t) {
      return (
        (S =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        S(t)
      );
    }
    function E(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, k(r.key), r);
      }
    }
    function k(t) {
      var e = (function (t, e) {
        if ("object" != S(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != S(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == S(e) ? e : e + "";
    }
    var T = (function () {
      return (
        (t = function t(e) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._customElementAttribute = e
              ? e[w.customElementAttribute]
              : null),
            (this._attributesToMask = e ? e[w.maskElementsAttributes] : null),
            (this._keyEventsMaskSpecialChars = e
              ? e[w.keyEventsMaskSpecialChars]
              : null);
        }),
        (e = [
          {
            key: "getCustomElementAttribute",
            value: function () {
              return this._customElementAttribute;
            },
          },
          {
            key: "getAttributesToMask",
            value: function () {
              return this._attributesToMask;
            },
          },
          {
            key: "getKeyEventsMaskSpecialChars",
            value: function () {
              return this._keyEventsMaskSpecialChars;
            },
          },
        ]) && E(t.prototype, e),
        n && E(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
      var t, e, n;
    })();
    function P(t) {
      return (
        (P =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        P(t)
      );
    }
    function O(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, C(r.key), r);
      }
    }
    function C(t) {
      var e = (function (t, e) {
        if ("object" != P(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != P(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == P(e) ? e : e + "";
    }
    var j = (function () {
        return (
          (t = function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (this._parentElementSelector = e
                ? e[w.parentElementSelector]
                : null),
              (this._childElementWithCustomAttribute = e
                ? e[w.childElementWithCustomAttribute]
                : null),
              (this._elementDataAttribute = e
                ? e[w.elementDataAttribute]
                : null),
              (this._customButtons = e ? e[w.customButtons] : null);
          }),
          (e = [
            {
              key: "getParentElementSelector",
              value: function () {
                return this._parentElementSelector;
              },
            },
            {
              key: "getChildElementWithCustomAttribute",
              value: function () {
                return this._childElementWithCustomAttribute;
              },
            },
            {
              key: "getElementDataAttribute",
              value: function () {
                return this._elementDataAttribute;
              },
            },
            {
              key: "getCustomButtons",
              value: function () {
                return this._customButtons;
              },
            },
          ]) && O(t.prototype, e),
          n && O(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
        var t, e, n;
      })(),
      M = "wupServerURL",
      R = "recoveryServerURL",
      B = "logServerURL",
      A = "enableMinifiedLogUri",
      x = "enableFramesProcessing",
      D = "enableCustomElementsProcessing",
      L = "enableSameSiteNoneAndSecureCookies",
      N = "serverURL",
      I = "customerID",
      F = "useUrlWorker",
      U = "workerUrl",
      W = "clientSettings",
      G = "collectionSettings",
      H = "elementSettings",
      Q = "isWupServerURLProxy",
      z = "customInputElementSettings",
      V = "mode",
      K = "enableStartupCustomerSessionId",
      q = "mutationMaxChunkSize",
      J = "mutationChunkDelayMs",
      X = "isFlutterApp",
      Y = "enableMinifiedWupUri",
      Z = "maxShadowDepth",
      $ = "iframeLoadingTimeout",
      tt = "elementCategories",
      et = "elementAttributes",
      nt = "enableMathDetect",
      rt = "enableBrowserDisplayDetect",
      ot = "enableGraphCard",
      it = "useLegacyZeroTimeout",
      at = "externalWASMModules",
      ut = "elementSelectors",
      st = "restrictedCookieDomains",
      ct = { PRIMARY: "primary", SECONDARY: "secondary" };
    Object.freeze(ct);
    var lt = { FULL: "full", LEAN: "lean" };
    Object.freeze(lt);
    var ft = 10,
      pt = 20,
      ht = 30,
      dt = 40;
    function yt(t) {
      return (
        (yt =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        yt(t)
      );
    }
    function mt(t, e) {
      if (!(t instanceof e))
        throw new TypeError("Cannot call a class as a function");
    }
    function vt(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, gt(r.key), r);
      }
    }
    function bt(t, e, n) {
      return (
        e && vt(t.prototype, e),
        n && vt(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
    }
    function gt(t) {
      var e = (function (t, e) {
        if ("object" != yt(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != yt(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == yt(e) ? e : e + "";
    }
    var _t = (function () {
        return bt(
          function t() {
            mt(this, t);
          },
          null,
          [
            {
              key: "setLogger",
              value: function (t) {
                this._logger = t;
              },
            },
            {
              key: "attachSessionIdentifiers",
              value: function (t) {
                if (this._logger)
                  return this._logger.attachSessionIdentifiers(t);
              },
            },
            {
              key: "isDebug",
              value: function () {
                if (this._logger) return this._logger.isDebug();
              },
            },
            {
              key: "error",
              value: function (t, e) {
                this._logger && this._logger.error(t, e || null);
              },
            },
            {
              key: "warn",
              value: function (t, e) {
                this._logger && this._logger.warn(t, e || null);
              },
            },
            {
              key: "trace",
              value: function (t) {
                this._logger && this._logger.trace(t);
              },
            },
            {
              key: "debug",
              value: function (t) {
                this._logger && this._logger.debug(t);
              },
            },
            {
              key: "info",
              value: function (t) {
                this._logger && this._logger.info(t);
              },
            },
          ]
        );
      })(),
      wt = (function () {
        return bt(
          function t(e, n) {
            mt(this, t),
              (this._logBridge = e),
              (this._logLevel = n || pt),
              (this._sessionIdentifiers = {});
          },
          [
            {
              key: "attachSessionIdentifiers",
              value: function (t) {
                Object.assign(this._sessionIdentifiers, t);
              },
            },
            {
              key: "trace",
              value: function (t) {
                this._sendToLogBridge(t, ft);
              },
            },
            {
              key: "debug",
              value: function (t) {
                this._sendToLogBridge(t, ft);
              },
            },
            {
              key: "info",
              value: function (t) {
                this._sendToLogBridge(t, pt);
              },
            },
            {
              key: "warn",
              value: function (t, e) {
                this._sendToLogBridge(t, ht, e);
              },
            },
            {
              key: "error",
              value: function (t, e) {
                this._sendToLogBridge(t, dt, e);
              },
            },
            {
              key: "isDebug",
              value: function () {
                return this._logLevel === ft;
              },
            },
            {
              key: "updateLogConfig",
              value: function (t) {
                (this._logLevel = t.get(w.logLevel) || this._logLevel),
                  this._logBridge.setLogLevel(this._logLevel),
                  this._logBridge.clearLogEntriesByLogLevel(this._logLevel);
              },
            },
            {
              key: "_sendToLogBridge",
              value: function (t, e, n) {
                e >= this._logLevel &&
                  (n && n.stack && (t += " ;stack: ".concat(n.stack)),
                  this._logBridge.log(t, e, this._sessionIdentifiers));
              },
            },
          ]
        );
      })();
    function St(t) {
      return (
        (St =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        St(t)
      );
    }
    function Et(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, kt(r.key), r);
      }
    }
    function kt(t) {
      var e = (function (t, e) {
        if ("object" != St(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != St(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == St(e) ? e : e + "";
    }
    var Tt = (function () {
      return (
        (t = function t(e) {
          var n, r;
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._elementSettings = new T(null == e ? void 0 : e[H])),
            (this._customInputElementSettings = new j(
              null == e ? void 0 : e[z]
            )),
            (this._agentType = this._validateAgentType(
              null == e || null === (n = e[V]) || void 0 === n
                ? void 0
                : n.agentType
            )),
            (this._collectionMode = this._setAgentCollectionMode(
              null == e || null === (r = e[V]) || void 0 === r
                ? void 0
                : r.collectionMode
            ));
        }),
        (e = [
          {
            key: "getElementSettings",
            value: function () {
              return this._elementSettings;
            },
          },
          {
            key: "getCustomInputElementSettings",
            value: function () {
              return this._customInputElementSettings;
            },
          },
          {
            key: "getAgentType",
            value: function () {
              return this._agentType;
            },
          },
          {
            key: "getAgentMode",
            value: function () {
              return this._collectionMode;
            },
          },
          {
            key: "_setAgentCollectionMode",
            value: function (t) {
              return this._agentType === ct.PRIMARY
                ? lt.FULL
                : this._validateAgentMode(t);
            },
          },
          {
            key: "_validateAgentType",
            value: function (t) {
              if (Object.values(ct).includes(t)) return t;
              var e = ct.PRIMARY;
              return (
                void 0 !== t &&
                  _t.warn(
                    "Invalid agent type: "
                      .concat(t, ". Defaulting to ")
                      .concat(e, " agent type.")
                  ),
                e
              );
            },
          },
          {
            key: "_validateAgentMode",
            value: function (t) {
              if (Object.values(lt).includes(t)) return t;
              var e = lt.LEAN;
              return (
                void 0 !== t &&
                  _t.warn(
                    "Invalid collection mode: "
                      .concat(t, ". Defaulting to ")
                      .concat(e, " collection mode.")
                  ),
                e
              );
            },
          },
        ]) && Et(t.prototype, e),
        n && Et(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
      var t, e, n;
    })();
    function Pt(t) {
      return (
        (Pt =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Pt(t)
      );
    }
    function Ot(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Ct(r.key), r);
      }
    }
    function Ct(t) {
      var e = (function (t, e) {
        if ("object" != Pt(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Pt(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Pt(e) ? e : e + "";
    }
    var jt = (function () {
      return (
        (t = function t(
          e,
          n,
          r,
          o,
          i,
          a,
          u,
          s,
          c,
          l,
          f,
          p,
          h,
          d,
          y,
          m,
          v,
          b,
          g,
          _,
          w,
          S,
          E,
          k,
          T,
          P,
          O,
          C,
          j,
          M,
          R,
          B
        ) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._wupServerURL = e),
            (this._logServerURL = n),
            (this._enableFramesProcessing = r),
            (this._enableCustomElementsProcessing = o),
            (this._enableSameSiteNoneAndSecureCookies = i),
            (this._useUrlWorker = a),
            (this._workerUrl = u),
            (this._isWupServerURLProxy = s),
            (this._clientSettings = c),
            (this._collectionSettings = l || new Tt()),
            (this._enableStartupCustomerSessionId = f),
            (this._mutationMaxChunkSize = p || 0),
            (this._mutationChunkDelayMs = h || 100),
            (this._passwordIdMaskingList = d),
            (this._enableUnmaskedValues = y || !1),
            (this._allowedUnmaskedValuesList = m || []),
            (this._enableCoordinatesMasking = v || !1),
            (this._isFlutterApp = b || !1),
            (this._enableMinifiedWupUri = void 0 === g || g),
            (this._enableMinifiedLogUri = void 0 !== _ && _),
            (this._maxShadowDepth = w || 0),
            (this._iframeLoadingTimeout = S || 5e3),
            (this._elementCategories = E),
            (this._elementAttributes = k),
            (this._elementSelectors = R),
            (this._recoveryServerURL = T || ""),
            (this._enableMathDetect = P),
            (this._enableBrowserDisplayDetect = O),
            (this._enableGraphCard = C),
            (this._useLegacyZeroTimeout = j),
            (this._externalWASMModules = M || []),
            (this._restrictedCookieDomains = B || []);
        }),
        (e = [
          {
            key: "getWupServerURL",
            value: function () {
              return this._wupServerURL;
            },
          },
          {
            key: "getRecoveryServerURL",
            value: function () {
              return this._recoveryServerURL;
            },
          },
          {
            key: "getLogServerURL",
            value: function () {
              return this._logServerURL;
            },
          },
          {
            key: "isMinifiedLogUriEnabled",
            value: function () {
              return this._enableMinifiedLogUri;
            },
          },
          {
            key: "getEnableFramesProcessing",
            value: function () {
              return this._enableFramesProcessing;
            },
          },
          {
            key: "getEnableCustomElementsProcessing",
            value: function () {
              return this._enableCustomElementsProcessing;
            },
          },
          {
            key: "getEnableSameSiteNoneAndSecureCookies",
            value: function () {
              return this._enableSameSiteNoneAndSecureCookies;
            },
          },
          {
            key: "getUseUrlWorker",
            value: function () {
              return this._useUrlWorker;
            },
          },
          {
            key: "getWorkerUrl",
            value: function () {
              return this._workerUrl;
            },
          },
          {
            key: "getIsWupServerURLProxy",
            value: function () {
              return this._isWupServerURLProxy;
            },
          },
          {
            key: "getClientSettings",
            value: function () {
              return this._clientSettings;
            },
          },
          {
            key: "getCollectionSettings",
            value: function () {
              return this._collectionSettings;
            },
          },
          {
            key: "getEnableStartupCustomerSessionId",
            value: function () {
              return this._enableStartupCustomerSessionId;
            },
          },
          {
            key: "getMutationMaxChunkSize",
            value: function () {
              return this._mutationMaxChunkSize;
            },
          },
          {
            key: "getMutationChunkDelayMs",
            value: function () {
              return this._mutationChunkDelayMs;
            },
          },
          {
            key: "getPasswordIdMaskingList",
            value: function () {
              return this._passwordIdMaskingList;
            },
          },
          {
            key: "isUnmaskedValuesEnabled",
            value: function () {
              return this._enableUnmaskedValues;
            },
          },
          {
            key: "getAllowedUnmaskedValuesList",
            value: function () {
              return this._allowedUnmaskedValuesList;
            },
          },
          {
            key: "isCoordinatesMaskingEnabled",
            value: function () {
              return this._enableCoordinatesMasking;
            },
          },
          {
            key: "isFlutterApp",
            value: function () {
              return this._isFlutterApp;
            },
          },
          {
            key: "isMinifiedWupUriEnabled",
            value: function () {
              return this._enableMinifiedWupUri;
            },
          },
          {
            key: "getMaxShadowDepth",
            value: function () {
              return this._maxShadowDepth;
            },
          },
          {
            key: "getIframeLoadingTimeout",
            value: function () {
              return this._iframeLoadingTimeout;
            },
          },
          {
            key: "getElementCategories",
            value: function () {
              return this._elementCategories;
            },
          },
          {
            key: "getElementAttributes",
            value: function () {
              return this._elementAttributes;
            },
          },
          {
            key: "getElementSelectors",
            value: function () {
              return this._elementSelectors;
            },
          },
          {
            key: "isMathDetectEnabled",
            value: function () {
              return this._enableMathDetect;
            },
          },
          {
            key: "isBrowserDisplayDetectEnabled",
            value: function () {
              return this._enableBrowserDisplayDetect;
            },
          },
          {
            key: "isGraphCardEnabled",
            value: function () {
              return this._enableGraphCard;
            },
          },
          {
            key: "getUseLegacyZeroTimeout",
            value: function () {
              return this._useLegacyZeroTimeout;
            },
          },
          {
            key: "getExternalWASMModules",
            value: function () {
              return this._externalWASMModules;
            },
          },
          {
            key: "getRestrictedCookieDomains",
            value: function () {
              return this._restrictedCookieDomains;
            },
          },
        ]) && Ot(t.prototype, e),
        n && Ot(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
      var t, e, n;
    })();
    function Mt(t) {
      return (
        (Mt =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Mt(t)
      );
    }
    function Rt(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Bt(r.key), r);
      }
    }
    function Bt(t) {
      var e = (function (t, e) {
        if ("object" != Mt(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Mt(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Mt(e) ? e : e + "";
    }
    var At = (function () {
        return (
          (t = function t() {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t);
          }),
          (e = [
            {
              key: "mapStartupConfigurations",
              value: function (t, e) {
                return new jt(
                  t,
                  e[B],
                  e[x],
                  e[D],
                  e[L],
                  e[F] || !1,
                  e[U] || "",
                  e[Q] || !1,
                  e[W],
                  new Tt(e[G]),
                  e[K],
                  e[q] || 0,
                  e[J] || 100,
                  e[w.passwordIdMaskingList],
                  e[w.enableUnmaskedValues] || !1,
                  e[w.allowedUnmaskedValuesList] || [],
                  e[w.enableCoordinatesMasking] || !1,
                  e[X] || !1,
                  void 0 === e[Y] || e[Y],
                  void 0 !== e[A] && e[A],
                  e[Z] || 0,
                  e[$] || 5e3,
                  e[tt],
                  e[et],
                  e[R] || "",
                  void 0 === e[nt] || e[nt],
                  void 0 === e[rt] || e[rt],
                  void 0 === e[ot] || e[ot],
                  void 0 === e[it] || e[it],
                  e[at] || [],
                  e[ut],
                  e[st] || []
                );
              },
            },
          ]) && Rt(t.prototype, e),
          n && Rt(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
        var t, e, n;
      })(),
      xt = "api/v4/wup",
      Dt = "client/v3.1/web/wup",
      Lt = [xt, Dt, "wup"];
    function Nt(t) {
      return (
        (Nt =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Nt(t)
      );
    }
    function It(t, e) {
      var n =
        ("undefined" != typeof Symbol && t[Symbol.iterator]) || t["@@iterator"];
      if (!n) {
        if (
          Array.isArray(t) ||
          (n = (function (t, e) {
            if (t) {
              if ("string" == typeof t) return Ft(t, e);
              var n = {}.toString.call(t).slice(8, -1);
              return (
                "Object" === n && t.constructor && (n = t.constructor.name),
                "Map" === n || "Set" === n
                  ? Array.from(t)
                  : "Arguments" === n ||
                    /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                  ? Ft(t, e)
                  : void 0
              );
            }
          })(t)) ||
          (e && t && "number" == typeof t.length)
        ) {
          n && (t = n);
          var r = 0,
            o = function () {};
          return {
            s: o,
            n: function () {
              return r >= t.length ? { done: !0 } : { done: !1, value: t[r++] };
            },
            e: function (t) {
              throw t;
            },
            f: o,
          };
        }
        throw new TypeError(
          "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
        );
      }
      var i,
        a = !0,
        u = !1;
      return {
        s: function () {
          n = n.call(t);
        },
        n: function () {
          var t = n.next();
          return (a = t.done), t;
        },
        e: function (t) {
          (u = !0), (i = t);
        },
        f: function () {
          try {
            a || null == n.return || n.return();
          } finally {
            if (u) throw i;
          }
        },
      };
    }
    function Ft(t, e) {
      (null == e || e > t.length) && (e = t.length);
      for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
      return r;
    }
    function Ut(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Wt(r.key), r);
      }
    }
    function Wt(t) {
      var e = (function (t, e) {
        if ("object" != Nt(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Nt(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Nt(e) ? e : e + "";
    }
    var Gt = (function () {
      return (
        (t = function t() {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t);
        }),
        (e = [
          {
            key: "resolve",
            value: function (t, e, n) {
              var r = new URL(t),
                o = r.pathname,
                i = Lt,
                a = "";
              n === p ? (a = "/".concat(xt)) : n === f && (a = "/".concat(Dt));
              var u,
                s = o,
                c = It(i);
              try {
                for (c.s(); !(u = c.n()).done; ) {
                  var l = u.value,
                    h = o.indexOf("/" + l);
                  if (-1 !== h) {
                    s = o.substring(0, h);
                    break;
                  }
                }
              } catch (t) {
                c.e(t);
              } finally {
                c.f();
              }
              return (
                (r.pathname = s.replace(/\/+$/, "") + a),
                e ? r.searchParams.set("cid", e) : r.searchParams.has("cid"),
                r.toString()
              );
            },
          },
        ]) && Ut(t.prototype, e),
        n && Ut(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
      var t, e, n;
    })();
    function Ht(t) {
      return (
        (Ht =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Ht(t)
      );
    }
    function Qt(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, zt(r.key), r);
      }
    }
    function zt(t) {
      var e = (function (t, e) {
        if ("object" != Ht(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Ht(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Ht(e) ? e : e + "";
    }
    var Vt,
      Kt = (function () {
        return (
          (t = function t() {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t);
          }),
          (n = [
            {
              key: "create",
              value: function () {
                if (
                  self.XMLHttpRequest &&
                  Object.prototype.hasOwnProperty.call(
                    XMLHttpRequest.prototype,
                    "withCredentials"
                  )
                )
                  return new XMLHttpRequest();
                if (self.XDomainRequest) return new XDomainRequest();
                if (!self.XMLHttpRequest)
                  throw new Error("There is no supported http request object");
                return new XMLHttpRequest();
              },
            },
          ]),
          (e = null) && Qt(t.prototype, e),
          n && Qt(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
        var t, e, n;
      })(),
      qt = 60,
      Jt = 1,
      Xt = 44640,
      Yt = 1,
      Zt = 0,
      $t = -1;
    function te(t) {
      return (
        (te =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        te(t)
      );
    }
    function ee(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, re(r.key), r);
      }
    }
    function ne(t, e, n) {
      return (
        (e = re(e)) in t
          ? Object.defineProperty(t, e, {
              value: n,
              enumerable: !0,
              configurable: !0,
              writable: !0,
            })
          : (t[e] = n),
        t
      );
    }
    function re(t) {
      var e = (function (t, e) {
        if ("object" != te(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != te(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == te(e) ? e : e + "";
    }
    var oe,
      ie,
      ae,
      ue =
        ((oe = null),
        function (t, e, n) {
          var r = function () {
            return e;
          };
          if (e.toString().indexOf("[native code]") > -1) n(r());
          else {
            var o = 0,
              i = function () {
                if (oe.contentWindow) {
                  for (
                    var e = oe.contentWindow, a = t.split("."), u = e, s = 0;
                    s < a.length;
                    s++
                  )
                    u = u[a[s]];
                  n(u);
                } else o < 45 ? (setTimeout(i, o), o++) : n(r());
              };
            oe ||
              ((oe = document.createElement("IFRAME")).setAttribute(
                "sandbox",
                "allow-same-origin"
              ),
              (oe.style.display = "none"),
              document.documentElement.appendChild(oe)),
              i();
          }
        }),
      se = (function () {
        function t() {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t);
        }
        return (
          (e = t),
          (r = [
            {
              key: "isUndefinedNull",
              value: function (t) {
                return null == t || void 0 === t;
              },
            },
            {
              key: "isBoolean",
              value: function (t) {
                return "boolean" == typeof t;
              },
            },
            {
              key: "isNumber",
              value: function (t) {
                return "number" == typeof t;
              },
            },
            {
              key: "addEventListener",
              value: function (t, e, n) {
                var r =
                    arguments.length > 3 &&
                    void 0 !== arguments[3] &&
                    arguments[3],
                  o =
                    !(arguments.length > 4 && void 0 !== arguments[4]) ||
                    arguments[4],
                  i =
                    arguments.length > 5 &&
                    void 0 !== arguments[5] &&
                    arguments[5];
                this.isPassiveSupported
                  ? t.addEventListener(e, n, {
                      capture: r,
                      passive: o,
                      once: i,
                    })
                  : t.addEventListener
                  ? t.addEventListener(e, n, r)
                  : t.attachEvent("on" + e, n);
              },
            },
            {
              key: "removeEventListener",
              value: function (t, e, n) {
                var r =
                  arguments.length > 3 &&
                  void 0 !== arguments[3] &&
                  arguments[3];
                t.removeEventListener
                  ? t.removeEventListener(e, n, r)
                  : t.detachEvent("on" + e, n);
              },
            },
            {
              key: "hasProtocol",
              value: function (t) {
                return (
                  t.toLowerCase().startsWith("http://") ||
                  t.toLowerCase().startsWith("https://")
                );
              },
            },
            {
              key: "clearTextFromNumbers",
              value: function (t) {
                return t ? t.replace(/(\d)/g, "*") : "";
              },
            },
            {
              key: "getDropDownListValues",
              value: function (t, e) {
                for (var n = [], r = 0; r < t.length; r++) {
                  var o = t.options[r].text || t.options[r].value || "";
                  n.push(e.maskText(o, t.id));
                }
                return n;
              },
            },
            {
              key: "getDocUrl",
              value: function () {
                var e = window.location;
                return (
                  e.protocol +
                  "//" +
                  e.hostname +
                  (e.port ? ":" + e.port : "") +
                  t.clearTextFromNumbers(e.pathname)
                );
              },
            },
            {
              key: "getHash",
              value: function (t) {
                for (var e = 0, n = 0, r = t.length; n < r; n++)
                  (e = (e << 5) - e + t.charCodeAt(n)), (e &= e);
                return e;
              },
            },
            {
              key: "getTruncatedHash",
              value: function (t, e) {
                return t ? this.murmurhash3(t).toString().substring(e) : "";
              },
            },
            {
              key: "getDigestMethod",
              value: function (t) {
                return "SHA-256" === t &&
                  window.crypto.subtle &&
                  window.crypto.subtle.digest
                  ? window.crypto.subtle.digest.bind(crypto.subtle)
                  : null;
              },
            },
            {
              key: "digest_sha256",
              value: function (e) {
                var n = t.getDigestMethod("SHA-256"),
                  r = new TextEncoder().encode(e);
                return n
                  ? n("SHA-256", r)
                      .then(function (t) {
                        return Array.from(new Uint8Array(t))
                          .map(function (t) {
                            return t.toString(16).padStart(2, "0");
                          })
                          .join("");
                      })
                      .catch(function () {
                        return "";
                      })
                  : new Promise(function (t) {
                      t("");
                    });
              },
            },
            {
              key: "murmurhash3",
              value: function (t, e) {
                var n,
                  r,
                  o,
                  i,
                  a = 3 & t.length,
                  u = t.length - a;
                n = e;
                var s = 3432918353,
                  c = 461845907;
                for (i = 0; i < u; )
                  (o =
                    (255 & t.charCodeAt(i)) |
                    ((255 & t.charCodeAt(++i)) << 8) |
                    ((255 & t.charCodeAt(++i)) << 16) |
                    ((255 & t.charCodeAt(++i)) << 24)),
                    ++i,
                    (n =
                      27492 +
                      (65535 &
                        (r =
                          (5 *
                            (65535 &
                              (n =
                                ((n ^= o =
                                  ((65535 &
                                    (o =
                                      ((o =
                                        ((65535 & o) * s +
                                          ((((o >>> 16) * s) & 65535) << 16)) &
                                        4294967295) <<
                                        15) |
                                      (o >>> 17))) *
                                    c +
                                    ((((o >>> 16) * c) & 65535) << 16)) &
                                  4294967295) <<
                                  13) |
                                (n >>> 19))) +
                            (((5 * (n >>> 16)) & 65535) << 16)) &
                          4294967295)) +
                      ((((r >>> 16) + 58964) & 65535) << 16));
                switch (((o = 0), a)) {
                  case 3:
                    o ^= (255 & t.charCodeAt(i + 2)) << 16;
                    break;
                  case 2:
                    o ^= (255 & t.charCodeAt(i + 1)) << 8;
                    break;
                  case 1:
                    n ^= o =
                      ((65535 &
                        (o =
                          ((o =
                            ((65535 & (o ^= 255 & t.charCodeAt(i))) * s +
                              ((((o >>> 16) * s) & 65535) << 16)) &
                            4294967295) <<
                            15) |
                          (o >>> 17))) *
                        c +
                        ((((o >>> 16) * c) & 65535) << 16)) &
                      4294967295;
                }
                return (
                  (n ^= t.length),
                  (n =
                    (2246822507 * (65535 & (n ^= n >>> 16)) +
                      (((2246822507 * (n >>> 16)) & 65535) << 16)) &
                    4294967295),
                  (n =
                    (3266489909 * (65535 & (n ^= n >>> 13)) +
                      (((3266489909 * (n >>> 16)) & 65535) << 16)) &
                    4294967295),
                  (n ^= n >>> 16) >>> 0
                );
              },
            },
            {
              key: "generateUUID",
              value: function () {
                var e = t.dateNow();
                return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(
                  /[xy]/g,
                  function (t) {
                    var n = (e + 16 * Math.random()) % 16 | 0;
                    return (
                      (e = Math.floor(e / 16)),
                      ("x" === t ? n : (3 & n) | 8).toString(16)
                    );
                  }
                );
              },
            },
            {
              key: "convertToArrayByMap",
              value: function (t, e) {
                for (var n = [null], r = 0, o = t.length; r < o; r++)
                  n[r + 1] = e[t[r]];
                return n;
              },
            },
            {
              key: "getPostUrl",
              value: function (t, e, n, r, o, i, a) {
                var u = Kt.create();
                u instanceof self.XMLHttpRequest
                  ? (u.open(e, t, !0),
                    void 0 !== a && (u.timeout = a),
                    (u.withCredentials = !1 !== i),
                    "POST" === e &&
                      u.setRequestHeader(
                        "Content-Type",
                        "application/json; charset=utf-8"
                      ),
                    (u.onreadystatechange = function () {
                      if (4 === u.readyState) {
                        if (204 === u.status) return;
                        200 === u.status
                          ? r && r(u.responseText)
                          : o && o(u.responseText);
                      }
                    }),
                    (u.ontimeout = function () {
                      o && o("timeout", n);
                    }),
                    u.send(n))
                  : ((u.onload = function () {
                      r && r(u.responseText);
                    }),
                    (u.onerror = function () {
                      o && o();
                    }),
                    (u.onprogress = function () {}),
                    (u.ontimeout = function () {}),
                    u.open(e, t, !0),
                    setTimeout(function () {
                      u.send(n);
                    }, 0));
              },
            },
            {
              key: "minutesToMilliseconds",
              value: function (t) {
                return 60 * t * 1e3;
              },
            },
            {
              key: "cutDecimalPointDigits",
              value: function (t, e) {
                var n = Math.pow(10, e);
                return Math.round(t * n) / n;
              },
            },
          ]),
          (n = null) && ee(e.prototype, n),
          r && ee(e, r),
          Object.defineProperty(e, "prototype", { writable: !1 }),
          e
        );
        var e, n, r;
      })();
    (Vt = se),
      ne(se, "scriptVersion", "2.52.0.3831.544cfbb"),
      ne(
        se,
        "isPassiveSupported",
        (function () {
          var t = !1;
          try {
            var e = Object.defineProperty({}, "passive", {
              get: function () {
                t = !0;
              },
            });
            window.addEventListener("test", null, e);
          } catch (t) {}
          return t;
        })()
      ),
      ne(se, "dateNow", Date.now),
      ne(
        se,
        "setZeroTimeout",
        ((ie = []),
        (ae = "Window_" + Vt.generateUUID()),
        Vt.addEventListener(
          window,
          "message",
          function (t) {
            t.data === ae &&
              (t.stopPropagation && t.stopPropagation(),
              t.returnValue && (t.returnValue = !1),
              t.cancelBubble && (t.cancelBubble = !0),
              ie.shift()());
          },
          !0
        ),
        function (t) {
          ie.push(t), window.postMessage(ae, self.location.href);
        })
      ),
      ne(se, "asyncCall", function (t) {
        for (
          var e = arguments.length, n = new Array(e > 1 ? e - 1 : 0), r = 1;
          r < e;
          r++
        )
          n[r - 1] = arguments[r];
        var o = this;
        Vt.setZeroTimeout(function () {
          o.apply(t || window, n);
        });
      }),
      ne(se, "asyncTimeoutCall", function (t) {
        for (
          var e = arguments.length, n = new Array(e > 1 ? e - 1 : 0), r = 1;
          r < e;
          r++
        )
          n[r - 1] = arguments[r];
        var o = this;
        setTimeout(function () {
          o.apply(t || window, n);
        }, 0);
      }),
      ne(se, "StorageUtils", {
        counter: 0,
        getAndUpdateEventSequenceNumber: function () {
          return this.counter++;
        },
        deserialize: function (t) {
          if ("string" != typeof t) return null;
          try {
            return JSON.parse(t);
          } catch (e) {
            return t || null;
          }
        },
        getFromLocalStorage: function (t) {
          var e =
            arguments.length > 1 && void 0 !== arguments[1]
              ? arguments[1]
              : void 0;
          try {
            var n = this.deserialize(window.localStorage.getItem(t));
            return n
              ? n.exp && Vt.dateNow() - n.time > n.exp
                ? (this.removeFromLocalStorage(t), null)
                : void 0 === e || e
                ? n.val
                : n
              : null;
          } catch (t) {
            return null;
          }
        },
        saveToLocalStorage: function (t, e, n) {
          var r = { val: e };
          n && ((r.exp = n), (r.time = Vt.dateNow()));
          try {
            window.localStorage.setItem(t, JSON.stringify(r));
          } catch (t) {
            return null;
          }
          return r;
        },
        removeFromLocalStorage: function (t) {
          try {
            window.localStorage.removeItem(t);
          } catch (t) {
            return null;
          }
        },
        setExpirationInLocalStorage: function (t, e) {
          var n = this.getFromLocalStorage(t);
          return "" === n || null === n
            ? Yt
            : this.saveToLocalStorage(t, n, e)
            ? Zt
            : $t;
        },
        getFromSessionStorage: function (t) {
          try {
            var e = this.deserialize(window.sessionStorage.getItem(t));
            return e || null;
          } catch (t) {
            return null;
          }
        },
        saveToSessionStorage: function (t, e) {
          try {
            return e
              ? (window.sessionStorage.setItem(t, JSON.stringify(e)), e)
              : window.sessionStorage.removeItem(t);
          } catch (t) {
            return null;
          }
        },
        removeFromSessionStorage: function (t) {
          try {
            window.sessionStorage.removeItem(t);
          } catch (t) {
            return null;
          }
        },
        getCookie: function (t) {
          var e = new RegExp(
            "(?:^|; )" + encodeURIComponent(t) + "=([^;]*)"
          ).exec(document.cookie);
          return e ? decodeURIComponent(e[1]) : "";
        },
        setCookie: function (t, e, n, r, o) {
          var i = "";
          if (n) {
            var a = new Date();
            a.setTime(a.getTime() + n), (i = "; expires=" + a.toUTCString());
          }
          for (
            var u = 0, s = location.hostname, c = s.split("."), l = "", f = !1;
            u <= c.length - 1 && !f;

          )
            (s = c.slice(-1 - ++u).join(".")),
              (o && o.includes(s)) ||
                ("localhost" === s
                  ? (l = "")
                  : "" !== s && (l = "; domain=." + s),
                (f = this.setCookieWithAttributes(t, e, i, l, r)));
          return (
            f || ((l = ""), (f = this.setCookieWithAttributes(t, e, i, l, r))),
            f
          );
        },
        setCookieWithAttributes: function (t, e, n, r, o) {
          var i =
            encodeURIComponent(t) +
            "=" +
            encodeURIComponent(e) +
            n +
            r +
            "; path=/;";
          return (
            (document.cookie = o
              ? i + " ".concat("SameSite=None;", " ").concat("Secure")
              : i),
            this.getCookie(t) === e
          );
        },
        setExpirationInCookie: function (t, e, n, r) {
          var o = this.getCookie(t);
          return "" === o || null === o
            ? Yt
            : this.setCookie(t, o, e, n, r)
            ? Zt
            : $t;
        },
        removeCookie: function (t) {
          try {
            document.cookie = t + "=; Max-Age=0";
          } catch (t) {
            return null;
          }
        },
        validateBcId: function (t) {
          return /^([0-9]{13,}-)?[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(
            t
          )
            ? t
            : null;
        },
      }),
      ne(se, "getNativeWindowFn", ue),
      ne(se, "JQueryUtils", {
        isJQueryAvailable: function () {
          return void 0 !== window.jQuery;
        },
        addEventListener: function (t, e, n) {
          jQuery(t).on(e, n);
        },
        removeEventListener: function (t, e, n) {
          jQuery(t).off(e, n);
        },
      }),
      Date.now
        ? ue("Date.now", Date.now, function (t) {
            se.dateNow = t;
          })
        : (se.dateNow = function () {
            return new Date().getTime();
          });
    var ce = "startNewSessionCommand",
      le = "resumeSessionCommand",
      fe = "changeContextCommand",
      pe = "updateCsidCommand",
      he = "updatePsidCommand",
      de = "updateLogUrl",
      ye = "sendDataCommand",
      me = "sendLogCommand",
      ve = "updateBrandCommand",
      be = "stateUpdateFromStorage",
      ge = "setAgentTypeCommand",
      _e = "updateAgentIdCommand",
      we = "enableWupMessagesHashingCommand",
      Se = "updateSDKState",
      Ee = "scanFontsCommand",
      ke = {
        stopped: "stopped",
        starting: "starting",
        started: "started",
        paused: "paused",
        faulted: "faulted",
      },
      Te = n(5512),
      Pe = n.n(Te);
    function Oe() {
      return Pe()(
        '/*! For license information please see worker.js.LICENSE.txt */\n!function(){var t={9:function(t,e,r){var n;t.exports=(n=r(21),function(t){var e=n,r=e.lib,i=r.WordArray,o=r.Hasher,a=e.algo,s=[],u=[];!function(){function e(e){for(var r=t.sqrt(e),n=2;n<=r;n++)if(!(e%n))return!1;return!0}function r(t){return 4294967296*(t-(0|t))|0}for(var n=2,i=0;i<64;)e(n)&&(i<8&&(s[i]=r(t.pow(n,.5))),u[i]=r(t.pow(n,1/3)),i++),n++}();var c=[],f=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],f=r[5],l=r[6],h=r[7],d=0;d<64;d++){if(d<16)c[d]=0|t[e+d];else{var p=c[d-15],y=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,v=c[d-2],m=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;c[d]=y+c[d-7]+m+c[d-16]}var g=n&i^n&o^i&o,b=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),_=h+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&f^~s&l)+u[d]+c[d];h=l,l=f,f=s,s=a+_|0,a=o,o=i,i=n,n=_+(b+g)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+s|0,r[5]=r[5]+f|0,r[6]=r[6]+l|0,r[7]=r[7]+h|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=t.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=o._createHelper(f),e.HmacSHA256=o._createHmacHelper(f)}(Math),n.SHA256)},19:function(t,e,r){var n,i,o,a,s,u,c,f,l;t.exports=(l=r(21),r(9),r(25),i=(n=l).lib,o=i.Base,a=i.WordArray,s=n.algo,u=s.SHA256,c=s.HMAC,f=s.PBKDF2=o.extend({cfg:o.extend({keySize:4,hasher:u,iterations:25e4}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r=this.cfg,n=c.create(r.hasher,t),i=a.create(),o=a.create([1]),s=i.words,u=o.words,f=r.keySize,l=r.iterations;s.length<f;){var h=n.update(e).finalize(o);n.reset();for(var d=h.words,p=d.length,y=h,v=1;v<l;v++){y=n.finalize(y),n.reset();for(var m=y.words,g=0;g<p;g++)d[g]^=m[g]}i.concat(h),u[0]++}return i.sigBytes=4*f,i}}),n.PBKDF2=function(t,e,r){return f.create(r).compute(t,e)},l.PBKDF2)},21:function(t,e,r){var n;t.exports=(n=n||function(t,e){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==r.g&&r.g.crypto&&(n=r.g.crypto),!n)try{n=r(477)}catch(t){}var i=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function t(){}return function(e){var r;return t.prototype=e,r=new t,t.prototype=null,r}}(),a={},s=a.lib={},u=s.Base={extend:function(t){var e=o(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},c=s.WordArray=u.extend({init:function(t,r){t=this.words=t||[],this.sigBytes=r!=e?r:4*t.length},toString:function(t){return(t||l).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,i=t.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var a=r[o>>>2]>>>24-o%4*8&255;e[n+o>>>2]|=a<<24-(n+o)%4*8}else for(var s=0;s<i;s+=4)e[n+s>>>2]=r[s>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=u.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],r=0;r<t;r+=4)e.push(i());return new c.init(e,t)}}),f=a.enc={},l=f.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new c.init(r,e/2)}},h=f.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new c.init(r,e)}},d=f.Utf8={stringify:function(t){try{return decodeURIComponent(escape(h.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return h.parse(unescape(encodeURIComponent(t)))}},p=s.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=d.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r,n=this._data,i=n.words,o=n.sigBytes,a=this.blockSize,s=o/(4*a),u=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*a,f=t.min(4*u,o);if(u){for(var l=0;l<u;l+=a)this._doProcessBlock(i,l);r=i.splice(0,u),n.sigBytes-=f}return new c.init(r,f)},clone:function(){var t=u.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),y=(s.Hasher=p.extend({cfg:u.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new y.HMAC.init(t,r).finalize(e)}}}),a.algo={});return a}(Math),n)},25:function(t,e,r){var n,i,o,a;t.exports=(n=r(21),o=(i=n).lib.Base,a=i.enc.Utf8,void(i.algo.HMAC=o.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=a.parse(e));var r=t.blockSize,n=4*r;e.sigBytes>n&&(e=t.finalize(e)),e.clamp();for(var i=this._oKey=e.clone(),o=this._iKey=e.clone(),s=i.words,u=o.words,c=0;c<r;c++)s[c]^=1549556828,u[c]^=909522486;i.sigBytes=o.sigBytes=n,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,r=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(r))}})))},56:function(t,e,r){var n;t.exports=(n=r(21),function(){var t=n,e=t.lib,r=e.WordArray,i=e.Hasher,o=t.algo,a=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),s=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),c=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),f=r.create([0,1518500249,1859775393,2400959708,2840853838]),l=r.create([1352829926,1548603684,1836072691,2053994217,0]),h=o.RIPEMD160=i.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var n=e+r,i=t[n];t[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,h,b,_,w,S,k,E,B,x,P,C=this._hash.words,R=f.words,T=l.words,O=a.words,A=s.words,I=u.words,j=c.words;for(S=o=C[0],k=h=C[1],E=b=C[2],B=_=C[3],x=w=C[4],r=0;r<80;r+=1)P=o+t[e+O[r]]|0,P+=r<16?d(h,b,_)+R[0]:r<32?p(h,b,_)+R[1]:r<48?y(h,b,_)+R[2]:r<64?v(h,b,_)+R[3]:m(h,b,_)+R[4],P=(P=g(P|=0,I[r]))+w|0,o=w,w=_,_=g(b,10),b=h,h=P,P=S+t[e+A[r]]|0,P+=r<16?m(k,E,B)+T[0]:r<32?v(k,E,B)+T[1]:r<48?y(k,E,B)+T[2]:r<64?p(k,E,B)+T[3]:d(k,E,B)+T[4],P=(P=g(P|=0,j[r]))+x|0,S=x,x=B,B=g(E,10),E=k,k=P;P=C[1]+b+B|0,C[1]=C[2]+_+x|0,C[2]=C[3]+w+S|0,C[3]=C[4]+o+k|0,C[4]=C[0]+h+E|0,C[0]=P},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(e.length+1),this._process();for(var i=this._hash,o=i.words,a=0;a<5;a++){var s=o[a];o[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return i},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});function d(t,e,r){return t^e^r}function p(t,e,r){return t&e|~t&r}function y(t,e,r){return(t|~e)^r}function v(t,e,r){return t&r|e&~r}function m(t,e,r){return t^(e|~r)}function g(t,e){return t<<e|t>>>32-e}t.RIPEMD160=i._createHelper(h),t.HmacRIPEMD160=i._createHmacHelper(h)}(Math),n.RIPEMD160)},73:function(t,e,r){var n;t.exports=(n=r(21),r(165),n.pad.AnsiX923={pad:function(t,e){var r=t.sigBytes,n=4*e,i=n-r%n,o=r+i-1;t.clamp(),t.words[o>>>2]|=i<<24-o%4*8,t.sigBytes+=i},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},n.pad.Ansix923)},124:function(t,e,r){var n;t.exports=(n=r(21),r(165),n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding)},128:function(t,e,r){var n;t.exports=(n=r(21),r(754),r(636),r(506),r(165),function(){var t=n,e=t.lib.BlockCipher,r=t.algo;const i=16,o=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],a=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var s={pbox:[],sbox:[]};function u(t,e){let r=e>>24&255,n=e>>16&255,i=e>>8&255,o=255&e,a=t.sbox[0][r]+t.sbox[1][n];return a^=t.sbox[2][i],a+=t.sbox[3][o],a}function c(t,e,r){let n,o=e,a=r;for(let e=0;e<i;++e)o^=t.pbox[e],a=u(t,o)^a,n=o,o=a,a=n;return n=o,o=a,a=n,a^=t.pbox[i],o^=t.pbox[i+1],{left:o,right:a}}function f(t,e,r){let n,o=e,a=r;for(let e=i+1;e>1;--e)o^=t.pbox[e],a=u(t,o)^a,n=o,o=a,a=n;return n=o,o=a,a=n,a^=t.pbox[1],o^=t.pbox[0],{left:o,right:a}}function l(t,e,r){for(let e=0;e<4;e++){t.sbox[e]=[];for(let r=0;r<256;r++)t.sbox[e][r]=a[e][r]}let n=0;for(let a=0;a<i+2;a++)t.pbox[a]=o[a]^e[n],n++,n>=r&&(n=0);let s=0,u=0,f=0;for(let e=0;e<i+2;e+=2)f=c(t,s,u),s=f.left,u=f.right,t.pbox[e]=s,t.pbox[e+1]=u;for(let e=0;e<4;e++)for(let r=0;r<256;r+=2)f=c(t,s,u),s=f.left,u=f.right,t.sbox[e][r]=s,t.sbox[e][r+1]=u;return!0}var h=r.Blowfish=e.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var t=this._keyPriorReset=this._key,e=t.words,r=t.sigBytes/4;l(s,e,r)}},encryptBlock:function(t,e){var r=c(s,t[e],t[e+1]);t[e]=r.left,t[e+1]=r.right},decryptBlock:function(t,e){var r=f(s,t[e],t[e+1]);t[e]=r.left,t[e+1]=r.right},blockSize:2,keySize:4,ivSize:2});t.Blowfish=e._createHelper(h)}(),n.Blowfish)},155:function(t,e,r){var n;t.exports=(n=r(21),r(165),n.pad.ZeroPadding={pad:function(t,e){var r=4*e;t.clamp(),t.sigBytes+=r-(t.sigBytes%r||r)},unpad:function(t){var e=t.words,r=t.sigBytes-1;for(r=t.sigBytes-1;r>=0;r--)if(e[r>>>2]>>>24-r%4*8&255){t.sigBytes=r+1;break}}},n.pad.ZeroPadding)},165:function(t,e,r){var n;t.exports=(n=r(21),r(506),void(n.lib.Cipher||function(t){var e=n,r=e.lib,i=r.Base,o=r.WordArray,a=r.BufferedBlockAlgorithm,s=e.enc,u=(s.Utf8,s.Base64),c=e.algo.EvpKDF,f=r.Cipher=a.extend({cfg:i.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,r){this.cfg=this.cfg.extend(r),this._xformMode=t,this._key=e,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?b:m}return function(e){return{encrypt:function(r,n,i){return t(n).encrypt(e,r,n,i)},decrypt:function(r,n,i){return t(n).decrypt(e,r,n,i)}}}}()}),l=(r.StreamCipher=f.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),e.mode={}),h=r.BlockCipherMode=i.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),d=l.CBC=function(){var e=h.extend();function r(e,r,n){var i,o=this._iv;o?(i=o,this._iv=t):i=this._prevBlock;for(var a=0;a<n;a++)e[r+a]^=i[a]}return e.Encryptor=e.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize;r.call(this,t,e,i),n.encryptBlock(t,e),this._prevBlock=t.slice(e,e+i)}}),e.Decryptor=e.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize,o=t.slice(e,e+i);n.decryptBlock(t,e),r.call(this,t,e,i),this._prevBlock=o}}),e}(),p=(e.pad={}).Pkcs7={pad:function(t,e){for(var r=4*e,n=r-t.sigBytes%r,i=n<<24|n<<16|n<<8|n,a=[],s=0;s<n;s+=4)a.push(i);var u=o.create(a,n);t.concat(u)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},y=(r.BlockCipher=f.extend({cfg:f.cfg.extend({mode:d,padding:p}),reset:function(){var t;f.reset.call(this);var e=this.cfg,r=e.iv,n=e.mode;this._xformMode==this._ENC_XFORM_MODE?t=n.createEncryptor:(t=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==t?this._mode.init(this,r&&r.words):(this._mode=t.call(n,this,r&&r.words),this._mode.__creator=t)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t,e=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(e.pad(this._data,this.blockSize),t=this._process(!0)):(t=this._process(!0),e.unpad(t)),t},blockSize:4}),r.CipherParams=i.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),v=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,r=t.salt;return(r?o.create([1398893684,1701076831]).concat(r).concat(e):e).toString(u)},parse:function(t){var e,r=u.parse(t),n=r.words;return 1398893684==n[0]&&1701076831==n[1]&&(e=o.create(n.slice(2,4)),n.splice(0,4),r.sigBytes-=16),y.create({ciphertext:r,salt:e})}},m=r.SerializableCipher=i.extend({cfg:i.extend({format:v}),encrypt:function(t,e,r,n){n=this.cfg.extend(n);var i=t.createEncryptor(r,n),o=i.finalize(e),a=i.cfg;return y.create({ciphertext:o,key:r,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,r,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),t.createDecryptor(r,n).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),g=(e.kdf={}).OpenSSL={execute:function(t,e,r,n,i){if(n||(n=o.random(8)),i)a=c.create({keySize:e+r,hasher:i}).compute(t,n);else var a=c.create({keySize:e+r}).compute(t,n);var s=o.create(a.words.slice(e),4*r);return a.sigBytes=4*e,y.create({key:a,iv:s,salt:n})}},b=r.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:g}),encrypt:function(t,e,r,n){var i=(n=this.cfg.extend(n)).kdf.execute(r,t.keySize,t.ivSize,n.salt,n.hasher);n.iv=i.iv;var o=m.encrypt.call(this,t,e,i.key,n);return o.mixIn(i),o},decrypt:function(t,e,r,n){n=this.cfg.extend(n),e=this._parse(e,n.format);var i=n.kdf.execute(r,t.keySize,t.ivSize,e.salt,n.hasher);return n.iv=i.iv,m.decrypt.call(this,t,e,i.key,n)}})}()))},169:function(t,e,r){var n;t.exports=(n=r(21),r(165),n.mode.CFB=function(){var t=n.lib.BlockCipherMode.extend();function e(t,e,r,n){var i,o=this._iv;o?(i=o.slice(0),this._iv=void 0):i=this._prevBlock,n.encryptBlock(i,0);for(var a=0;a<r;a++)t[e+a]^=i[a]}return t.Encryptor=t.extend({processBlock:function(t,r){var n=this._cipher,i=n.blockSize;e.call(this,t,r,i,n),this._prevBlock=t.slice(r,r+i)}}),t.Decryptor=t.extend({processBlock:function(t,r){var n=this._cipher,i=n.blockSize,o=t.slice(r,r+i);e.call(this,t,r,i,n),this._prevBlock=o}}),t}(),n.mode.CFB)},193:function(t,e,r){var n;t.exports=(n=r(21),r(754),r(636),r(506),r(165),function(){var t=n,e=t.lib.StreamCipher,r=t.algo,i=r.RC4=e.extend({_doReset:function(){for(var t=this._key,e=t.words,r=t.sigBytes,n=this._S=[],i=0;i<256;i++)n[i]=i;i=0;for(var o=0;i<256;i++){var a=i%r,s=e[a>>>2]>>>24-a%4*8&255;o=(o+n[i]+s)%256;var u=n[i];n[i]=n[o],n[o]=u}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var t=this._S,e=this._i,r=this._j,n=0,i=0;i<4;i++){r=(r+t[e=(e+1)%256])%256;var o=t[e];t[e]=t[r],t[r]=o,n|=t[(t[e]+t[r])%256]<<24-8*i}return this._i=e,this._j=r,n}t.RC4=e._createHelper(i);var a=r.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)o.call(this)}});t.RC4Drop=e._createHelper(a)}(),n.RC4)},240:function(t,e,r){var n;t.exports=(n=r(21),function(t){var e=n,r=e.lib,i=r.Base,o=r.WordArray,a=e.x64={};a.Word=i.extend({init:function(t,e){this.high=t,this.low=e}}),a.WordArray=i.extend({init:function(e,r){e=this.words=e||[],this.sigBytes=r!=t?r:8*e.length},toX32:function(){for(var t=this.words,e=t.length,r=[],n=0;n<e;n++){var i=t[n];r.push(i.high),r.push(i.low)}return o.create(r,this.sigBytes)},clone:function(){for(var t=i.clone.call(this),e=t.words=this.words.slice(0),r=e.length,n=0;n<r;n++)e[n]=e[n].clone();return t}})}(),n)},273:function(t,e,r){var n,i,o,a;function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}a=function(){return function t(e,r,n){function i(a,s){if(!r[a]){if(!e[a]){if(o)return o(a,!0);var u=new Error("Cannot find module \'"+a+"\'");throw u.code="MODULE_NOT_FOUND",u}var c=r[a]={exports:{}};e[a][0].call(c.exports,function(t){var r=e[a][1][t];return i(r||t)},c,c.exports,t,e,r,n)}return r[a].exports}for(var o=void 0,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(t,e,r){r.encode=t("./encode").encode,r.decode=t("./decode").decode,r.Encoder=t("./encoder").Encoder,r.Decoder=t("./decoder").Decoder,r.createCodec=t("./ext").createCodec,r.codec=t("./codec").codec},{"./codec":10,"./decode":12,"./decoder":13,"./encode":15,"./encoder":16,"./ext":20}],2:[function(t,e,r){(function(t){function r(t){return t&&t.isBuffer&&t}e.exports=r(void 0!==t&&t)||r(this.Buffer)||r("undefined"!=typeof window&&window.Buffer)||this.Buffer}).call(this,t("buffer").Buffer)},{buffer:29}],3:[function(t,e,r){r.copy=function(t,e,r,n){var i;r||(r=0),n||0===n||(n=this.length),e||(e=0);var o=n-r;if(t===this&&r<e&&e<n)for(i=o-1;i>=0;i--)t[i+e]=this[i+r];else for(i=0;i<o;i++)t[i+e]=this[i+r];return o},r.toString=function(t,e,r){var n=this,i=0|e;r||(r=n.length);for(var o="",a=0;i<r;)(a=n[i++])<128?o+=String.fromCharCode(a):(192==(224&a)?a=(31&a)<<6|63&n[i++]:224==(240&a)?a=(15&a)<<12|(63&n[i++])<<6|63&n[i++]:240==(248&a)&&(a=(7&a)<<18|(63&n[i++])<<12|(63&n[i++])<<6|63&n[i++]),a>=65536?(a-=65536,o+=String.fromCharCode((a>>>10)+55296,56320+(1023&a))):o+=String.fromCharCode(a));return o},r.write=function(t,e){for(var r=this,n=e||(e|=0),i=t.length,o=0,a=0;a<i;)(o=t.charCodeAt(a++))<128?r[n++]=o:o<2048?(r[n++]=192|o>>>6,r[n++]=128|63&o):o<55296||o>57343?(r[n++]=224|o>>>12,r[n++]=128|o>>>6&63,r[n++]=128|63&o):(o=65536+(o-55296<<10|t.charCodeAt(a++)-56320),r[n++]=240|o>>>18,r[n++]=128|o>>>12&63,r[n++]=128|o>>>6&63,r[n++]=128|63&o);return n-e}},{}],4:[function(t,e,r){function n(t){return new Array(t)}var i=t("./bufferish");(r=e.exports=n(0)).alloc=n,r.concat=i.concat,r.from=function(t){if(!i.isBuffer(t)&&i.isView(t))t=i.Uint8Array.from(t);else if(i.isArrayBuffer(t))t=new Uint8Array(t);else{if("string"==typeof t)return i.from.call(r,t);if("number"==typeof t)throw new TypeError(\'"value" argument must not be a number\')}return Array.prototype.slice.call(t)}},{"./bufferish":8}],5:[function(t,e,r){function n(t){return new o(t)}var i=t("./bufferish"),o=i.global;(r=e.exports=i.hasBuffer?n(0):[]).alloc=i.hasBuffer&&o.alloc||n,r.concat=i.concat,r.from=function(t){if(!i.isBuffer(t)&&i.isView(t))t=i.Uint8Array.from(t);else if(i.isArrayBuffer(t))t=new Uint8Array(t);else{if("string"==typeof t)return i.from.call(r,t);if("number"==typeof t)throw new TypeError(\'"value" argument must not be a number\')}return o.from&&1!==o.from.length?o.from(t):new o(t)}},{"./bufferish":8}],6:[function(t,e,r){function n(t,e,r,n){var s=a.isBuffer(this),u=a.isBuffer(t);if(s&&u)return this.copy(t,e,r,n);if(c||s||u||!a.isView(this)||!a.isView(t))return o.copy.call(this,t,e,r,n);var f=r||null!=n?i.call(this,r,n):this;return t.set(f,e),f.length}function i(t,e){var r=this.slice||!c&&this.subarray;if(r)return r.call(this,t,e);var i=a.alloc.call(this,e-t);return n.call(this,i,0,t,e),i}var o=t("./buffer-lite");r.copy=n,r.slice=i,r.toString=function(t,e,r){return(!u&&a.isBuffer(this)?this.toString:o.toString).apply(this,arguments)},r.write=function(t){return function(){return(this[t]||o[t]).apply(this,arguments)}}("write");var a=t("./bufferish"),s=a.global,u=a.hasBuffer&&"TYPED_ARRAY_SUPPORT"in s,c=u&&!s.TYPED_ARRAY_SUPPORT},{"./buffer-lite":3,"./bufferish":8}],7:[function(t,e,r){function n(t){return new Uint8Array(t)}var i=t("./bufferish");(r=e.exports=i.hasArrayBuffer?n(0):[]).alloc=n,r.concat=i.concat,r.from=function(t){if(i.isView(t)){var e=t.byteOffset,n=t.byteLength;(t=t.buffer).byteLength!==n&&(t.slice?t=t.slice(e,e+n):(t=new Uint8Array(t)).byteLength!==n&&(t=Array.prototype.slice.call(t,e,e+n)))}else{if("string"==typeof t)return i.from.call(r,t);if("number"==typeof t)throw new TypeError(\'"value" argument must not be a number\')}return new Uint8Array(t)}},{"./bufferish":8}],8:[function(t,e,r){function n(t){return o(this).alloc(t)}function i(t){var e=3*t.length,r=n.call(this,e),i=m.write.call(r,t);return e!==i&&(r=m.slice.call(r,0,i)),r}function o(t){return h(t)?y:d(t)?v:l(t)?p:c?y:f?v:p}function a(){return!1}function s(t,e){return t="[object "+t+"]",function(r){return null!=r&&{}.toString.call(e?r[e]:r)===t}}var u=r.global=t("./buffer-global"),c=r.hasBuffer=u&&!!u.isBuffer,f=r.hasArrayBuffer="undefined"!=typeof ArrayBuffer,l=r.isArray=t("isarray");r.isArrayBuffer=f?function(t){return t instanceof ArrayBuffer||g(t)}:a;var h=r.isBuffer=c?u.isBuffer:a,d=r.isView=f?ArrayBuffer.isView||s("ArrayBuffer","buffer"):a;r.alloc=n,r.concat=function(t,e){e||(e=0,Array.prototype.forEach.call(t,function(t){e+=t.length}));var i=this!==r&&this||t[0],o=n.call(i,e),a=0;return Array.prototype.forEach.call(t,function(t){a+=m.copy.call(t,o,a)}),o},r.from=function(t){return"string"==typeof t?i.call(this,t):o(this).from(t)};var p=r.Array=t("./bufferish-array"),y=r.Buffer=t("./bufferish-buffer"),v=r.Uint8Array=t("./bufferish-uint8array"),m=r.prototype=t("./bufferish-proto"),g=s("ArrayBuffer")},{"./buffer-global":2,"./bufferish-array":4,"./bufferish-buffer":5,"./bufferish-proto":6,"./bufferish-uint8array":7,isarray:34}],9:[function(t,e,r){function n(t){return this instanceof n?(this.options=t,void this.init()):new n(t)}function i(t,e){return t&&e?function(){return t.apply(this,arguments),e.apply(this,arguments)}:t||e}function o(t){return new n(t)}var a=t("isarray");r.createCodec=o,r.install=function(t){for(var e in t)n.prototype[e]=i(n.prototype[e],t[e])},r.filter=function(t){return a(t)?function(t){function e(t,e){return e(t)}return t=t.slice(),function(r){return t.reduce(e,r)}}(t):t};var s=t("./bufferish");n.prototype.init=function(){var t=this.options;return t&&t.uint8array&&(this.bufferish=s.Uint8Array),this},r.preset=o({preset:!0})},{"./bufferish":8,isarray:34}],10:[function(t,e,r){t("./read-core"),t("./write-core"),r.codec={preset:t("./codec-base").preset}},{"./codec-base":9,"./read-core":22,"./write-core":25}],11:[function(t,e,r){function n(t){if(!(this instanceof n))return new n(t);if(t&&(this.options=t,t.codec)){var e=this.codec=t.codec;e.bufferish&&(this.bufferish=e.bufferish)}}r.DecodeBuffer=n;var i=t("./read-core").preset;t("./flex-buffer").FlexDecoder.mixin(n.prototype),n.prototype.codec=i,n.prototype.fetch=function(){return this.codec.decode(this)}},{"./flex-buffer":21,"./read-core":22}],12:[function(t,e,r){r.decode=function(t,e){var r=new n(e);return r.write(t),r.read()};var n=t("./decode-buffer").DecodeBuffer},{"./decode-buffer":11}],13:[function(t,e,r){function n(t){return this instanceof n?void o.call(this,t):new n(t)}r.Decoder=n;var i=t("event-lite"),o=t("./decode-buffer").DecodeBuffer;n.prototype=new o,i.mixin(n.prototype),n.prototype.decode=function(t){arguments.length&&this.write(t),this.flush()},n.prototype.push=function(t){this.emit("data",t)},n.prototype.end=function(t){this.decode(t),this.emit("end")}},{"./decode-buffer":11,"event-lite":31}],14:[function(t,e,r){function n(t){if(!(this instanceof n))return new n(t);if(t&&(this.options=t,t.codec)){var e=this.codec=t.codec;e.bufferish&&(this.bufferish=e.bufferish)}}r.EncodeBuffer=n;var i=t("./write-core").preset;t("./flex-buffer").FlexEncoder.mixin(n.prototype),n.prototype.codec=i,n.prototype.write=function(t){this.codec.encode(this,t)}},{"./flex-buffer":21,"./write-core":25}],15:[function(t,e,r){r.encode=function(t,e){var r=new n(e);return r.write(t),r.read()};var n=t("./encode-buffer").EncodeBuffer},{"./encode-buffer":14}],16:[function(t,e,r){function n(t){return this instanceof n?void o.call(this,t):new n(t)}r.Encoder=n;var i=t("event-lite"),o=t("./encode-buffer").EncodeBuffer;n.prototype=new o,i.mixin(n.prototype),n.prototype.encode=function(t){this.write(t),this.emit("data",this.read())},n.prototype.end=function(t){arguments.length&&this.encode(t),this.flush(),this.emit("end")}},{"./encode-buffer":14,"event-lite":31}],17:[function(t,e,r){r.ExtBuffer=function t(e,r){return this instanceof t?(this.buffer=n.from(e),void(this.type=r)):new t(e,r)};var n=t("./bufferish")},{"./bufferish":8}],18:[function(t,e,r){function n(e){return s||(s=t("./encode").encode),s(e)}function i(t){return t.valueOf()}function o(t){(t=RegExp.prototype.toString.call(t).split("/")).shift();var e=[t.pop()];return e.unshift(t.join("/")),e}function a(t){var e={};for(var r in l)e[r]=t[r];return e}r.setExtPackers=function(t){t.addExtPacker(14,Error,[a,n]),t.addExtPacker(1,EvalError,[a,n]),t.addExtPacker(2,RangeError,[a,n]),t.addExtPacker(3,ReferenceError,[a,n]),t.addExtPacker(4,SyntaxError,[a,n]),t.addExtPacker(5,TypeError,[a,n]),t.addExtPacker(6,URIError,[a,n]),t.addExtPacker(10,RegExp,[o,n]),t.addExtPacker(11,Boolean,[i,n]),t.addExtPacker(12,String,[i,n]),t.addExtPacker(13,Date,[Number,n]),t.addExtPacker(15,Number,[i,n]),"undefined"!=typeof Uint8Array&&(t.addExtPacker(17,Int8Array,f),t.addExtPacker(18,Uint8Array,f),t.addExtPacker(19,Int16Array,f),t.addExtPacker(20,Uint16Array,f),t.addExtPacker(21,Int32Array,f),t.addExtPacker(22,Uint32Array,f),t.addExtPacker(23,Float32Array,f),"undefined"!=typeof Float64Array&&t.addExtPacker(24,Float64Array,f),"undefined"!=typeof Uint8ClampedArray&&t.addExtPacker(25,Uint8ClampedArray,f),t.addExtPacker(26,ArrayBuffer,f),t.addExtPacker(29,DataView,f)),u.hasBuffer&&t.addExtPacker(27,c,u.from)};var s,u=t("./bufferish"),c=u.global,f=u.Uint8Array.from,l={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1}},{"./bufferish":8,"./encode":15}],19:[function(t,e,r){function n(e){return u||(u=t("./decode").decode),u(e)}function i(t){return RegExp.apply(null,t)}function o(t){return function(e){var r=new t;for(var n in l)r[n]=e[n];return r}}function a(t){return function(e){return new t(e)}}function s(t){return new Uint8Array(t).buffer}r.setExtUnpackers=function(t){t.addExtUnpacker(14,[n,o(Error)]),t.addExtUnpacker(1,[n,o(EvalError)]),t.addExtUnpacker(2,[n,o(RangeError)]),t.addExtUnpacker(3,[n,o(ReferenceError)]),t.addExtUnpacker(4,[n,o(SyntaxError)]),t.addExtUnpacker(5,[n,o(TypeError)]),t.addExtUnpacker(6,[n,o(URIError)]),t.addExtUnpacker(10,[n,i]),t.addExtUnpacker(11,[n,a(Boolean)]),t.addExtUnpacker(12,[n,a(String)]),t.addExtUnpacker(13,[n,a(Date)]),t.addExtUnpacker(15,[n,a(Number)]),"undefined"!=typeof Uint8Array&&(t.addExtUnpacker(17,a(Int8Array)),t.addExtUnpacker(18,a(Uint8Array)),t.addExtUnpacker(19,[s,a(Int16Array)]),t.addExtUnpacker(20,[s,a(Uint16Array)]),t.addExtUnpacker(21,[s,a(Int32Array)]),t.addExtUnpacker(22,[s,a(Uint32Array)]),t.addExtUnpacker(23,[s,a(Float32Array)]),"undefined"!=typeof Float64Array&&t.addExtUnpacker(24,[s,a(Float64Array)]),"undefined"!=typeof Uint8ClampedArray&&t.addExtUnpacker(25,a(Uint8ClampedArray)),t.addExtUnpacker(26,s),t.addExtUnpacker(29,[s,a(DataView)])),c.hasBuffer&&t.addExtUnpacker(27,a(f))};var u,c=t("./bufferish"),f=c.global,l={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1}},{"./bufferish":8,"./decode":12}],20:[function(t,e,r){t("./read-core"),t("./write-core"),r.createCodec=t("./codec-base").createCodec},{"./codec-base":9,"./read-core":22,"./write-core":25}],21:[function(t,e,r){function n(){if(!(this instanceof n))return new n}function i(){if(!(this instanceof i))return new i}function o(){throw new Error("method not implemented: write()")}function a(){throw new Error("method not implemented: fetch()")}function s(){return this.buffers&&this.buffers.length?(this.flush(),this.pull()):this.fetch()}function u(t){(this.buffers||(this.buffers=[])).push(t)}function c(){return(this.buffers||(this.buffers=[])).shift()}function f(t){return function(e){for(var r in t)e[r]=t[r];return e}}r.FlexDecoder=n,r.FlexEncoder=i;var l=t("./bufferish"),h=2048,d=65536,p="BUFFER_SHORTAGE";n.mixin=f({bufferish:l,write:function(t){var e=this.offset?l.prototype.slice.call(this.buffer,this.offset):this.buffer;this.buffer=e?t?this.bufferish.concat([e,t]):e:t,this.offset=0},fetch:a,flush:function(){for(;this.offset<this.buffer.length;){var t,e=this.offset;try{t=this.fetch()}catch(t){if(t&&t.message!=p)throw t;this.offset=e;break}this.push(t)}},push:u,pull:c,read:s,reserve:function(t){var e=this.offset,r=e+t;if(r>this.buffer.length)throw new Error(p);return this.offset=r,e},offset:0}),n.mixin(n.prototype),i.mixin=f({bufferish:l,write:o,fetch:function(){var t=this.start;if(t<this.offset){var e=this.start=this.offset;return l.prototype.slice.call(this.buffer,t,e)}},flush:function(){for(;this.start<this.offset;){var t=this.fetch();t&&this.push(t)}},push:u,pull:function(){var t=this.buffers||(this.buffers=[]),e=t.length>1?this.bufferish.concat(t):t[0];return t.length=0,e},read:s,reserve:function(t){var e=0|t;if(this.buffer){var r=this.buffer.length,n=0|this.offset,i=n+e;if(i<r)return this.offset=i,n;this.flush(),t=Math.max(t,Math.min(2*r,this.maxBufferSize))}return t=Math.max(t,this.minBufferSize),this.buffer=this.bufferish.alloc(t),this.start=0,this.offset=e,0},send:function(t){var e=t.length;if(e>this.minBufferSize)this.flush(),this.push(t);else{var r=this.reserve(e);l.prototype.copy.call(t,this.buffer,r)}},maxBufferSize:d,minBufferSize:h,offset:0,start:0}),i.mixin(i.prototype)},{"./bufferish":8}],22:[function(t,e,r){function n(){var t=this.options;return this.decode=function(t){var e=s.getReadToken(t);return function(t){var r=a(t),n=e[r];if(!n)throw new Error("Invalid type: "+(r?"0x"+r.toString(16):r));return n(t)}}(t),t&&t.preset&&o.setExtUnpackers(this),this}var i=t("./ext-buffer").ExtBuffer,o=t("./ext-unpacker"),a=t("./read-format").readUint8,s=t("./read-token"),u=t("./codec-base");u.install({addExtUnpacker:function(t,e){(this.extUnpackers||(this.extUnpackers=[]))[t]=u.filter(e)},getExtUnpacker:function(t){return(this.extUnpackers||(this.extUnpackers=[]))[t]||function(e){return new i(e,t)}},init:n}),r.preset=n.call(u.preset)},{"./codec-base":9,"./ext-buffer":17,"./ext-unpacker":19,"./read-format":23,"./read-token":24}],23:[function(t,e,r){function n(t,e){var r,n={},i=new Array(e),o=new Array(e),a=t.codec.decode;for(r=0;r<e;r++)i[r]=a(t),o[r]=a(t);for(r=0;r<e;r++)n[i[r]]=o[r];return n}function i(t,e){var r,n=new Map,i=new Array(e),o=new Array(e),a=t.codec.decode;for(r=0;r<e;r++)i[r]=a(t),o[r]=a(t);for(r=0;r<e;r++)n.set(i[r],o[r]);return n}function o(t,e){for(var r=new Array(e),n=t.codec.decode,i=0;i<e;i++)r[i]=n(t);return r}function a(t,e){var r=t.reserve(e),n=r+e;return C.toString.call(t.buffer,"utf-8",r,n)}function s(t,e){var r=t.reserve(e),n=r+e,i=C.slice.call(t.buffer,r,n);return P.from(i)}function u(t,e){var r=t.reserve(e),n=r+e,i=C.slice.call(t.buffer,r,n);return P.Uint8Array.from(i).buffer}function c(t,e){var r=t.reserve(e+1),n=t.buffer[r++],i=r+e,o=t.codec.getExtUnpacker(n);if(!o)throw new Error("Invalid ext type: "+(n?"0x"+n.toString(16):n));return o(C.slice.call(t.buffer,r,i))}function f(t){var e=t.reserve(1);return t.buffer[e]}function l(t){var e=t.reserve(1),r=t.buffer[e];return 128&r?r-256:r}function h(t){var e=t.reserve(2),r=t.buffer;return r[e++]<<8|r[e]}function d(t){var e=t.reserve(2),r=t.buffer,n=r[e++]<<8|r[e];return 32768&n?n-65536:n}function p(t){var e=t.reserve(4),r=t.buffer;return 16777216*r[e++]+(r[e++]<<16)+(r[e++]<<8)+r[e]}function y(t){var e=t.reserve(4),r=t.buffer;return r[e++]<<24|r[e++]<<16|r[e++]<<8|r[e]}function v(t,e){return function(r){var n=r.reserve(t);return e.call(r.buffer,n,T)}}function m(t){return new B(this,t).toNumber()}function g(t){return new x(this,t).toNumber()}function b(t){return new B(this,t)}function _(t){return new x(this,t)}function w(t){return k.read(this,t,!1,23,4)}function S(t){return k.read(this,t,!1,52,8)}var k=t("ieee754"),E=t("int64-buffer"),B=E.Uint64BE,x=E.Int64BE;r.getReadFormat=function(t){var e=P.hasArrayBuffer&&t&&t.binarraybuffer,r=t&&t.int64;return{map:R&&t&&t.usemap?i:n,array:o,str:a,bin:e?u:s,ext:c,uint8:f,uint16:h,uint32:p,uint64:v(8,r?b:m),int8:l,int16:d,int32:y,int64:v(8,r?_:g),float32:v(4,w),float64:v(8,S)}},r.readUint8=f;var P=t("./bufferish"),C=t("./bufferish-proto"),R="undefined"!=typeof Map,T=!0},{"./bufferish":8,"./bufferish-proto":6,ieee754:32,"int64-buffer":33}],24:[function(t,e,r){function n(t){var e,r=new Array(256);for(e=0;e<=127;e++)r[e]=i(e);for(e=128;e<=143;e++)r[e]=a(e-128,t.map);for(e=144;e<=159;e++)r[e]=a(e-144,t.array);for(e=160;e<=191;e++)r[e]=a(e-160,t.str);for(r[192]=i(null),r[193]=null,r[194]=i(!1),r[195]=i(!0),r[196]=o(t.uint8,t.bin),r[197]=o(t.uint16,t.bin),r[198]=o(t.uint32,t.bin),r[199]=o(t.uint8,t.ext),r[200]=o(t.uint16,t.ext),r[201]=o(t.uint32,t.ext),r[202]=t.float32,r[203]=t.float64,r[204]=t.uint8,r[205]=t.uint16,r[206]=t.uint32,r[207]=t.uint64,r[208]=t.int8,r[209]=t.int16,r[210]=t.int32,r[211]=t.int64,r[212]=a(1,t.ext),r[213]=a(2,t.ext),r[214]=a(4,t.ext),r[215]=a(8,t.ext),r[216]=a(16,t.ext),r[217]=o(t.uint8,t.str),r[218]=o(t.uint16,t.str),r[219]=o(t.uint32,t.str),r[220]=o(t.uint16,t.array),r[221]=o(t.uint32,t.array),r[222]=o(t.uint16,t.map),r[223]=o(t.uint32,t.map),e=224;e<=255;e++)r[e]=i(e-256);return r}function i(t){return function(){return t}}function o(t,e){return function(r){var n=t(r);return e(r,n)}}function a(t,e){return function(r){return e(r,t)}}var s=t("./read-format");r.getReadToken=function(t){var e=s.getReadFormat(t);return t&&t.useraw?function(t){var e,r=n(t).slice();for(r[217]=r[196],r[218]=r[197],r[219]=r[198],e=160;e<=191;e++)r[e]=a(e-160,t.bin);return r}(e):n(e)}},{"./read-format":23}],25:[function(t,e,r){function n(){var t=this.options;return this.encode=function(t){var e=a.getWriteType(t);return function(t,r){var n=e[s(r)];if(!n)throw new Error(\'Unsupported type "\'+s(r)+\'": \'+r);n(t,r)}}(t),t&&t.preset&&o.setExtPackers(this),this}var i=t("./ext-buffer").ExtBuffer,o=t("./ext-packer"),a=t("./write-type"),u=t("./codec-base");u.install({addExtPacker:function(t,e,r){function n(e){return r&&(e=r(e)),new i(e,t)}r=u.filter(r);var o=e.name;o&&"Object"!==o?(this.extPackers||(this.extPackers={}))[o]=n:(this.extEncoderList||(this.extEncoderList=[])).unshift([e,n])},getExtPacker:function(t){var e=this.extPackers||(this.extPackers={}),r=t.constructor,n=r&&r.name&&e[r.name];if(n)return n;for(var i=this.extEncoderList||(this.extEncoderList=[]),o=i.length,a=0;a<o;a++){var s=i[a];if(r===s[0])return s[1]}},init:n}),r.preset=n.call(u.preset)},{"./codec-base":9,"./ext-buffer":17,"./ext-packer":18,"./write-type":27}],26:[function(t,e,r){function n(){var t=v.slice();return t[196]=i(196),t[197]=o(197),t[198]=a(198),t[199]=i(199),t[200]=o(200),t[201]=a(201),t[202]=s(202,4,_.writeFloatBE||f,!0),t[203]=s(203,8,_.writeDoubleBE||l,!0),t[204]=i(204),t[205]=o(205),t[206]=a(206),t[207]=s(207,8,u),t[208]=i(208),t[209]=o(209),t[210]=a(210),t[211]=s(211,8,c),t[217]=i(217),t[218]=o(218),t[219]=a(219),t[220]=o(220),t[221]=a(221),t[222]=o(222),t[223]=a(223),t}function i(t){return function(e,r){var n=e.reserve(2),i=e.buffer;i[n++]=t,i[n]=r}}function o(t){return function(e,r){var n=e.reserve(3),i=e.buffer;i[n++]=t,i[n++]=r>>>8,i[n]=r}}function a(t){return function(e,r){var n=e.reserve(5),i=e.buffer;i[n++]=t,i[n++]=r>>>24,i[n++]=r>>>16,i[n++]=r>>>8,i[n]=r}}function s(t,e,r,n){return function(i,o){var a=i.reserve(e+1);i.buffer[a++]=t,r.call(i.buffer,o,a,n)}}function u(t,e){new p(this,e,t)}function c(t,e){new y(this,e,t)}function f(t,e){h.write(this,t,e,!1,23,4)}function l(t,e){h.write(this,t,e,!1,52,8)}var h=t("ieee754"),d=t("int64-buffer"),p=d.Uint64BE,y=d.Int64BE,v=t("./write-uint8").uint8,m=t("./bufferish"),g=m.global,b=m.hasBuffer&&"TYPED_ARRAY_SUPPORT"in g&&!g.TYPED_ARRAY_SUPPORT,_=m.hasBuffer&&g.prototype||{};r.getWriteToken=function(t){return t&&t.uint8array?function(){var t=n();return t[202]=s(202,4,f),t[203]=s(203,8,l),t}():b||m.hasBuffer&&t&&t.safe?function(){var t=v.slice();return t[196]=s(196,1,g.prototype.writeUInt8),t[197]=s(197,2,g.prototype.writeUInt16BE),t[198]=s(198,4,g.prototype.writeUInt32BE),t[199]=s(199,1,g.prototype.writeUInt8),t[200]=s(200,2,g.prototype.writeUInt16BE),t[201]=s(201,4,g.prototype.writeUInt32BE),t[202]=s(202,4,g.prototype.writeFloatBE),t[203]=s(203,8,g.prototype.writeDoubleBE),t[204]=s(204,1,g.prototype.writeUInt8),t[205]=s(205,2,g.prototype.writeUInt16BE),t[206]=s(206,4,g.prototype.writeUInt32BE),t[207]=s(207,8,u),t[208]=s(208,1,g.prototype.writeInt8),t[209]=s(209,2,g.prototype.writeInt16BE),t[210]=s(210,4,g.prototype.writeInt32BE),t[211]=s(211,8,c),t[217]=s(217,1,g.prototype.writeUInt8),t[218]=s(218,2,g.prototype.writeUInt16BE),t[219]=s(219,4,g.prototype.writeUInt32BE),t[220]=s(220,2,g.prototype.writeUInt16BE),t[221]=s(221,4,g.prototype.writeUInt32BE),t[222]=s(222,2,g.prototype.writeUInt16BE),t[223]=s(223,4,g.prototype.writeUInt32BE),t}():n()}},{"./bufferish":8,"./write-uint8":28,ieee754:32,"int64-buffer":33}],27:[function(t,e,r){var n=t("isarray"),i=t("int64-buffer"),o=i.Uint64BE,a=i.Int64BE,s=t("./bufferish"),u=t("./bufferish-proto"),c=t("./write-token"),f=t("./write-uint8").uint8,l=t("./ext-buffer").ExtBuffer,h="undefined"!=typeof Uint8Array,d="undefined"!=typeof Map,p=[];p[1]=212,p[2]=213,p[4]=214,p[8]=215,p[16]=216,r.getWriteType=function(t){function e(t,e){if(null===e)return r(t,e);if(b(e))return _(t,e);if(n(e))return function(t,e){var r=e.length,n=r<16?144+r:r<=65535?220:221;v[n](t,r);for(var i=t.codec.encode,o=0;o<r;o++)i(t,e[o])}(t,e);if(o.isUint64BE(e))return function(t,e){v[207](t,e.toArray())}(t,e);if(a.isInt64BE(e))return function(t,e){v[211](t,e.toArray())}(t,e);var i=t.codec.getExtPacker(e);return i&&(e=i(e)),e instanceof l?function(t,e){var r=e.buffer,n=r.length,i=p[n]||(n<255?199:n<=65535?200:201);v[i](t,n),f[e.type](t),t.send(r)}(t,e):void w(t,e)}function r(t,e){v[192](t,e)}function i(t,e){var r=e.length;v[r<255?196:r<=65535?197:198](t,r),t.send(e)}function y(t,e){var r=Object.keys(e),n=r.length;v[n<16?128+n:n<=65535?222:223](t,n);var i=t.codec.encode;r.forEach(function(r){i(t,r),i(t,e[r])})}var v=c.getWriteToken(t),m=t&&t.useraw,g=h&&t&&t.binarraybuffer,b=g?s.isArrayBuffer:s.isBuffer,_=g?function(t,e){i(t,new Uint8Array(e))}:i,w=d&&t&&t.usemap?function(t,e){if(!(e instanceof Map))return y(t,e);var r=e.size;v[r<16?128+r:r<=65535?222:223](t,r);var n=t.codec.encode;e.forEach(function(e,r,i){n(t,r),n(t,e)})}:y,S={boolean:function(t,e){v[e?195:194](t,e)},function:r,number:function(t,e){var r=0|e;return e!==r?void v[203](t,e):void v[-32<=r&&r<=127?255&r:0<=r?r<=255?204:r<=65535?205:206:-128<=r?208:-32768<=r?209:210](t,r)},object:m?function(t,r){return b(r)?function(t,e){var r=e.length,n=r<32?160+r:r<=65535?218:219;v[n](t,r),t.send(e)}(t,r):void e(t,r)}:e,string:function(t){return function(e,r){var n=r.length,i=5+3*n;e.offset=e.reserve(i);var o=e.buffer,a=t(n),s=e.offset+a;n=u.write.call(o,r,s);var c=t(n);if(a!==c){var f=s+c-a,l=s+n;u.copy.call(o,o,f,s,l)}v[1===c?160+n:c<=3?215+c:219](e,n),e.offset+=n}}(m?function(t){return t<32?1:t<=65535?3:5}:function(t){return t<32?1:t<=255?2:t<=65535?3:5}),symbol:r,undefined:r};return S}},{"./bufferish":8,"./bufferish-proto":6,"./ext-buffer":17,"./write-token":26,"./write-uint8":28,"int64-buffer":33,isarray:34}],28:[function(t,e,r){function n(t){return function(e){var r=e.reserve(1);e.buffer[r]=t}}for(var i=r.uint8=new Array(256),o=0;o<=255;o++)i[o]=n(o)},{}],29:[function(t,e,n){(function(e){"use strict";function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=o.prototype:(null===t&&(t=new o(e)),t.length=e),t}function o(t,e,r){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}return a(this,t,e,r)}function a(t,e,r,n){if("number"==typeof e)throw new TypeError(\'"value" argument must not be a number\');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("\'offset\' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("\'length\' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),o.TYPED_ARRAY_SUPPORT?(t=e).__proto__=o.prototype:t=c(t,e),t}(t,e,r,n):"string"==typeof e?function(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!o.isEncoding(r))throw new TypeError(\'"encoding" must be a valid string encoding\');var n=0|l(e,r),a=(t=i(t,n)).write(e,r);return a!==n&&(t=t.slice(0,a)),t}(t,e,r):function(t,e){if(o.isBuffer(e)){var r=0|f(e.length);return 0===(t=i(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?i(t,0):c(t,e);if("Buffer"===e.type&&L(e.data))return c(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function s(t){if("number"!=typeof t)throw new TypeError(\'"size" argument must be a number\');if(t<0)throw new RangeError(\'"size" argument must not be negative\')}function u(t,e){if(s(e),t=i(t,e<0?0:0|f(e)),!o.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function c(t,e){var r=e.length<0?0:0|f(e.length);t=i(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function f(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function l(t,e){if(o.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return D(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return U(t).length;default:if(n)return D(t).length;e=(""+e).toLowerCase(),n=!0}}function h(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return x(this,e,r);case"utf8":case"utf-8":return k(this,e,r);case"ascii":return E(this,e,r);case"latin1":case"binary":return B(this,e,r);case"base64":return S(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function d(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function p(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=o.from(e,n)),o.isBuffer(e))return 0===e.length?-1:y(t,e,r,n,i);if("number"==typeof e)return e&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):y(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,r,n,i){function o(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var a,s=1,u=t.length,c=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,u/=2,c/=2,r/=2}if(i){var f=-1;for(a=r;a<u;a++)if(o(t,a)===o(e,-1===f?0:a-f)){if(-1===f&&(f=a),a-f+1===c)return f*s}else-1!==f&&(a-=a-f),f=-1}else for(r+c>u&&(r=u-c),a=r;a>=0;a--){for(var l=!0,h=0;h<c;h++)if(o(t,a+h)!==o(e,h)){l=!1;break}if(l)return a}return-1}function v(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[r+a]=s}return a}function m(t,e,r,n){return z(D(e,t.length-r),t,r,n)}function g(t,e,r,n){return z(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function b(t,e,r,n){return g(t,e,r,n)}function _(t,e,r,n){return z(U(e),t,r,n)}function w(t,e,r,n){return z(function(t,e){for(var r,n,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function S(t,e,r){return 0===e&&r===t.length?N.fromByteArray(t):N.fromByteArray(t.slice(e,r))}function k(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,a,s,u,c=t[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=r)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(f=u);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=l}return function(t){var e=t.length;if(e<=H)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=H));return r}(n)}function E(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function B(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function x(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=M(t[o]);return i}function P(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function C(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,r,n,i,a){if(!o.isBuffer(t))throw new TypeError(\'"buffer" argument must be a Buffer instance\');if(e>i||e<a)throw new RangeError(\'"value" argument is out of bounds\');if(r+n>t.length)throw new RangeError("Index out of range")}function T(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function O(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function A(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function I(t,e,r,n,i){return i||A(t,0,r,4),F.write(t,e,r,n,23,4),r+4}function j(t,e,r,n,i){return i||A(t,0,r,8),F.write(t,e,r,n,52,8),r+8}function M(t){return t<16?"0"+t.toString(16):t.toString(16)}function D(t,e){e=e||1/0;for(var r,n=t.length,i=null,o=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function U(t){return N.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\\s+|\\s+$/g,"")}(t).replace(q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function z(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}var N=t("base64-js"),F=t("ieee754"),L=t("isarray");n.Buffer=o,n.SlowBuffer=function(t){return+t!=t&&(t=0),o.alloc(+t)},n.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),n.kMaxLength=r(),o.poolSize=8192,o._augment=function(t){return t.__proto__=o.prototype,t},o.from=function(t,e,r){return a(null,t,e,r)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(t,e,r){return function(t,e,r,n){return s(e),e<=0?i(t,e):void 0!==r?"string"==typeof n?i(t,e).fill(r,n):i(t,e).fill(r):i(t,e)}(null,t,e,r)},o.allocUnsafe=function(t){return u(null,t)},o.allocUnsafeSlow=function(t){return u(null,t)},o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,a=Math.min(r,n);i<a;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!L(t))throw new TypeError(\'"list" argument must be an Array of Buffers\');if(0===t.length)return o.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=o.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var a=t[r];if(!o.isBuffer(a))throw new TypeError(\'"list" argument must be an Array of Buffers\');a.copy(n,i),i+=a.length}return n},o.byteLength=l,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)d(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)d(this,e,e+3),d(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)d(this,e,e+7),d(this,e+1,e+6),d(this,e+2,e+5),d(this,e+3,e+4);return this},o.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?k(this,0,t):h.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t,e,r,n,i){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var a=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0),u=Math.min(a,s),c=this.slice(n,i),f=t.slice(e,r),l=0;l<u;++l)if(c[l]!==f[l]){a=c[l],s=f[l];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},o.prototype.indexOf=function(t,e,r){return p(this,t,e,r,!0)},o.prototype.lastIndexOf=function(t,e,r){return p(this,t,e,r,!1)},o.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return v(this,t,e,r);case"utf8":case"utf-8":return m(this,t,e,r);case"ascii":return g(this,t,e,r);case"latin1":case"binary":return b(this,t,e,r);case"base64":return _(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var H=4096;o.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),o.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=o.prototype;else{var i=e-t;r=new o(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+t]}return r},o.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||C(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},o.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||C(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},o.prototype.readUInt8=function(t,e){return e||C(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return e||C(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return e||C(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return e||C(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return e||C(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||C(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},o.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||C(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},o.prototype.readInt8=function(t,e){return e||C(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){e||C(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt16BE=function(t,e){e||C(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt32LE=function(t,e){return e||C(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return e||C(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return e||C(t,4,this.length),F.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return e||C(t,4,this.length),F.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return e||C(t,8,this.length),F.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return e||C(t,8,this.length),F.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,r,n){t=+t,e|=0,r|=0,n||R(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},o.prototype.writeUIntBE=function(t,e,r,n){t=+t,e|=0,r|=0,n||R(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},o.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||R(this,t,e,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||R(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):T(this,t,e,!0),e+2},o.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||R(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):T(this,t,e,!1),e+2},o.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||R(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):O(this,t,e,!0),e+4},o.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||R(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):O(this,t,e,!1),e+4},o.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);R(this,t,e,r,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<r&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a|0)-s&255;return e+r},o.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);R(this,t,e,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a|0)-s&255;return e+r},o.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||R(this,t,e,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||R(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):T(this,t,e,!0),e+2},o.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||R(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):T(this,t,e,!1),e+2},o.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||R(this,t,e,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):O(this,t,e,!0),e+4},o.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):O(this,t,e,!1),e+4},o.prototype.writeFloatLE=function(t,e,r){return I(this,t,e,!0,r)},o.prototype.writeFloatBE=function(t,e,r){return I(this,t,e,!1,r)},o.prototype.writeDoubleLE=function(t,e,r){return j(this,t,e,!0,r)},o.prototype.writeDoubleBE=function(t,e,r){return j(this,t,e,!1,r)},o.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,a=n-r;if(this===t&&r<e&&e<n)for(i=a-1;i>=0;--i)t[i+e]=this[i+r];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+a),e);return a},o.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var a;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(a=e;a<r;++a)this[a]=t;else{var s=o.isBuffer(t)?t:D(new o(t,n).toString()),u=s.length;for(a=0;a<r-e;++a)this[a+e]=s[a%u]}return this};var q=/[^+\\/0-9A-Za-z-_]/g}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":30,ieee754:32,isarray:34}],30:[function(t,e,r){"use strict";function n(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function i(t){return a[t>>18&63]+a[t>>12&63]+a[t>>6&63]+a[63&t]}function o(t,e,r){for(var n,o=[],a=e;a<r;a+=3)n=(t[a]<<16)+(t[a+1]<<8)+t[a+2],o.push(i(n));return o.join("")}r.byteLength=function(t){return 3*t.length/4-n(t)},r.toByteArray=function(t){var e,r,i,o,a,c,f=t.length;a=n(t),c=new u(3*f/4-a),i=a>0?f-4:f;var l=0;for(e=0,r=0;e<i;e+=4,r+=3)o=s[t.charCodeAt(e)]<<18|s[t.charCodeAt(e+1)]<<12|s[t.charCodeAt(e+2)]<<6|s[t.charCodeAt(e+3)],c[l++]=o>>16&255,c[l++]=o>>8&255,c[l++]=255&o;return 2===a?(o=s[t.charCodeAt(e)]<<2|s[t.charCodeAt(e+1)]>>4,c[l++]=255&o):1===a&&(o=s[t.charCodeAt(e)]<<10|s[t.charCodeAt(e+1)]<<4|s[t.charCodeAt(e+2)]>>2,c[l++]=o>>8&255,c[l++]=255&o),c},r.fromByteArray=function(t){for(var e,r=t.length,n=r%3,i="",s=[],u=16383,c=0,f=r-n;c<f;c+=u)s.push(o(t,c,c+u>f?f:c+u));return 1===n?(e=t[r-1],i+=a[e>>2],i+=a[e<<4&63],i+="=="):2===n&&(e=(t[r-2]<<8)+t[r-1],i+=a[e>>10],i+=a[e>>4&63],i+=a[e<<2&63],i+="="),s.push(i),s.join("")};for(var a=[],s=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0;f<64;++f)a[f]=c[f],s[c.charCodeAt(f)]=f;s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},{}],31:[function(t,e,r){!function(t){function r(t){for(var e in a)t[e]=a[e];return t}function n(t,e){var r,a=this;if(arguments.length){if(e){if(r=i(a,t,!0)){if(r=r.filter(function(t){return t!==e&&t.originalListener!==e}),!r.length)return n.call(a,t);a[o][t]=r}}else if((r=a[o])&&(delete r[t],!Object.keys(r).length))return n.call(a)}else delete a[o];return a}function i(t,e,r){if(!r||t[o]){var n=t[o]||(t[o]={});return n[e]||(n[e]=[])}}void 0!==e&&(e.exports=t);var o="listeners",a={on:function(t,e){return i(this,t).push(e),this},once:function(t,e){function r(){n.call(o,t,r),e.apply(this,arguments)}var o=this;return r.originalListener=e,i(o,t).push(r),o},off:n,emit:function(t,e){var r=this,n=i(r,t,!0);if(!n)return!1;var o=arguments.length;if(1===o)n.forEach(function(t){t.call(r)});else if(2===o)n.forEach(function(t){t.call(r,e)});else{var a=Array.prototype.slice.call(arguments,1);n.forEach(function(t){t.apply(r,a)})}return!!n.length}};r(t.prototype),t.mixin=r}(function t(){if(!(this instanceof t))return new t})},{}],32:[function(t,e,r){r.read=function(t,e,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,f=-7,l=r?i-1:0,h=r?-1:1,d=t[e+l];for(l+=h,o=d&(1<<-f)-1,d>>=-f,f+=s;f>0;o=256*o+t[e+l],l+=h,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=256*a+t[e+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),o-=c}return(d?-1:1)*a*Math.pow(2,o-n)},r.write=function(t,e,r,n,i,o){var a,s,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+l>=1?h/u:h*Math.pow(2,1-l))*u>=2&&(a++,u/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(e*u-1)*Math.pow(2,i),a+=l):(s=e*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;t[r+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[r+d]=255&a,d+=p,a/=256,c-=8);t[r+d-p]|=128*y}},{}],33:[function(t,e,r){(function(t){!function(e){function r(t,r,_){function k(t,e,r,n){return this instanceof k?function(t,e,r,n,i){m&&g&&(e instanceof g&&(e=new m(e)),n instanceof g&&(n=new m(n))),e||r||n||p?(a(e,r)||(i=r,n=e,r=0,e=new(p||Array)(8)),t.buffer=e,t.offset=r|=0,y!==s(n)&&("string"==typeof n?function(t,e,r,n){var i=0,o=r.length,a=0,s=0;"-"===r[0]&&i++;for(var u=i;i<o;){var c=parseInt(r[i++],n);if(!(c>=0))break;s=s*n+c,a=a*n+Math.floor(s/w),s%=w}u&&(a=~a,s?s=w-s:a++),B(t,e+P,a),B(t,e+C,s)}(e,r,n,i||10):a(n,i)?u(e,r,n,i):"number"==typeof i?(B(e,r+P,n),B(e,r+C,i)):n>0?I(e,r,n):n<0?j(e,r,n):u(e,r,b,0))):t.buffer=c(b,0)}(this,t,e,r,n):new k(t,e,r,n)}function E(){var t=this.buffer,e=this.offset,r=x(t,e+P),n=x(t,e+C);return _||(r|=0),r?r*w+n:n}function B(t,e,r){t[e+A]=255&r,r>>=8,t[e+O]=255&r,r>>=8,t[e+T]=255&r,r>>=8,t[e+R]=255&r}function x(t,e){return t[e+R]*S+(t[e+T]<<16)+(t[e+O]<<8)+t[e+A]}var P=r?0:4,C=r?4:0,R=r?0:3,T=r?1:2,O=r?2:1,A=r?3:0,I=r?f:h,j=r?l:d,M=k.prototype,D="is"+t,U="_"+D;return M.buffer=void 0,M.offset=0,M[U]=!0,M.toNumber=E,M.toString=function(t){var e=this.buffer,r=this.offset,n=x(e,r+P),i=x(e,r+C),o="",a=!_&&2147483648&n;for(a&&(n=~n,i=w-i),t=t||10;;){var s=n%t*w+i;if(n=Math.floor(n/t),i=Math.floor(s/t),o=(s%t).toString(t)+o,!n&&!i)break}return a&&(o="-"+o),o},M.toJSON=E,M.toArray=n,v&&(M.toBuffer=i),m&&(M.toArrayBuffer=o),k[D]=function(t){return!(!t||!t[U])},e[t]=k,k}function n(t){var e=this.buffer,r=this.offset;return p=null,!1!==t&&0===r&&8===e.length&&_(e)?e:c(e,r)}function i(e){var r=this.buffer,n=this.offset;if(p=v,!1!==e&&0===n&&8===r.length&&t.isBuffer(r))return r;var i=new v(8);return u(i,0,r,n),i}function o(t){var e=this.buffer,r=this.offset,n=e.buffer;if(p=m,!1!==t&&0===r&&n instanceof g&&8===n.byteLength)return n;var i=new m(8);return u(i,0,e,r),i.buffer}function a(t,e){var r=t&&t.length;return e|=0,r&&e+8<=r&&"string"!=typeof t[e]}function u(t,e,r,n){e|=0,n|=0;for(var i=0;i<8;i++)t[e++]=255&r[n++]}function c(t,e){return Array.prototype.slice.call(t,e,e+8)}function f(t,e,r){for(var n=e+8;n>e;)t[--n]=255&r,r/=256}function l(t,e,r){var n=e+8;for(r++;n>e;)t[--n]=255&-r^255,r/=256}function h(t,e,r){for(var n=e+8;e<n;)t[e++]=255&r,r/=256}function d(t,e,r){var n=e+8;for(r++;e<n;)t[e++]=255&-r^255,r/=256}var p,y="undefined",v=y!==s(t)&&t,m=y!==("undefined"==typeof Uint8Array?"undefined":s(Uint8Array))&&Uint8Array,g=y!==("undefined"==typeof ArrayBuffer?"undefined":s(ArrayBuffer))&&ArrayBuffer,b=[0,0,0,0,0,0,0,0],_=Array.isArray||function(t){return!!t&&"[object Array]"==Object.prototype.toString.call(t)},w=4294967296,S=16777216;r("Uint64BE",!0,!0),r("Int64BE",!0,!1),r("Uint64LE",!1,!0),r("Int64LE",!1,!1)}("object"==s(r)&&"string"!=typeof r.nodeName?r:this||{})}).call(this,t("buffer").Buffer)},{buffer:29}],34:[function(t,e,r){var n={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},{}]},{},[1])(1)},"object"==s(e)?t.exports=a():(i=[],void 0===(o="function"==typeof(n=a)?n.apply(e,i):n)||(t.exports=o))},298:function(t,e,r){var n;t.exports=(n=r(21),r(754),r(636),r(506),r(165),function(){var t=n,e=t.lib.StreamCipher,r=t.algo,i=[],o=[],a=[],s=r.Rabbit=e.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,r=0;r<4;r++)t[r]=16711935&(t[r]<<8|t[r]>>>24)|4278255360&(t[r]<<24|t[r]>>>8);var n=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],i=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(this._b=0,r=0;r<4;r++)u.call(this);for(r=0;r<8;r++)i[r]^=n[r+4&7];if(e){var o=e.words,a=o[0],s=o[1],c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),f=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),l=c>>>16|4294901760&f,h=f<<16|65535&c;for(i[0]^=c,i[1]^=l,i[2]^=f,i[3]^=h,i[4]^=c,i[5]^=l,i[6]^=f,i[7]^=h,r=0;r<4;r++)u.call(this)}},_doProcessBlock:function(t,e){var r=this._X;u.call(this),i[0]=r[0]^r[5]>>>16^r[3]<<16,i[1]=r[2]^r[7]>>>16^r[5]<<16,i[2]=r[4]^r[1]>>>16^r[7]<<16,i[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),t[e+n]^=i[n]},blockSize:4,ivSize:2});function u(){for(var t=this._X,e=this._C,r=0;r<8;r++)o[r]=e[r];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,r=0;r<8;r++){var n=t[r]+e[r],i=65535&n,s=n>>>16,u=((i*i>>>17)+i*s>>>15)+s*s,c=((4294901760&n)*n|0)+((65535&n)*n|0);a[r]=u^c}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.Rabbit=e._createHelper(s)}(),n.Rabbit)},308:function(t,e,r){var n,i,o,a,s,u;t.exports=(u=r(21),r(9),i=(n=u).lib.WordArray,o=n.algo,a=o.SHA256,s=o.SHA224=a.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=a._doFinalize.call(this);return t.sigBytes-=4,t}}),n.SHA224=a._createHelper(s),n.HmacSHA224=a._createHmacHelper(s),u.SHA224)},372:function(t,e,r){var n;t.exports=(n=r(21),r(165),n.mode.CTRGladman=function(){var t=n.lib.BlockCipherMode.extend();function e(t){if(255&~(t>>24))t+=1<<24;else{var e=t>>16&255,r=t>>8&255,n=255&t;255===e?(e=0,255===r?(r=0,255===n?n=0:++n):++r):++e,t=0,t+=e<<16,t+=r<<8,t+=n}return t}function r(t){return 0===(t[0]=e(t[0]))&&(t[1]=e(t[1])),t}var i=t.Encryptor=t.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize,o=this._iv,a=this._counter;o&&(a=this._counter=o.slice(0),this._iv=void 0),r(a);var s=a.slice(0);n.encryptBlock(s,0);for(var u=0;u<i;u++)t[e+u]^=s[u]}});return t.Decryptor=i,t}(),n.mode.CTRGladman)},380:function(t,e,r){var n;t.exports=(n=r(21),r(240),function(){var t=n,e=t.lib.Hasher,r=t.x64,i=r.Word,o=r.WordArray,a=t.algo;function s(){return i.create.apply(i,arguments)}var u=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],c=[];!function(){for(var t=0;t<80;t++)c[t]=s()}();var f=a.SHA512=e.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],f=r[5],l=r[6],h=r[7],d=n.high,p=n.low,y=i.high,v=i.low,m=o.high,g=o.low,b=a.high,_=a.low,w=s.high,S=s.low,k=f.high,E=f.low,B=l.high,x=l.low,P=h.high,C=h.low,R=d,T=p,O=y,A=v,I=m,j=g,M=b,D=_,U=w,z=S,N=k,F=E,L=B,H=x,q=P,W=C,Y=0;Y<80;Y++){var G,Z,V=c[Y];if(Y<16)Z=V.high=0|t[e+2*Y],G=V.low=0|t[e+2*Y+1];else{var K=c[Y-15],X=K.high,Q=K.low,J=(X>>>1|Q<<31)^(X>>>8|Q<<24)^X>>>7,$=(Q>>>1|X<<31)^(Q>>>8|X<<24)^(Q>>>7|X<<25),tt=c[Y-2],et=tt.high,rt=tt.low,nt=(et>>>19|rt<<13)^(et<<3|rt>>>29)^et>>>6,it=(rt>>>19|et<<13)^(rt<<3|et>>>29)^(rt>>>6|et<<26),ot=c[Y-7],at=ot.high,st=ot.low,ut=c[Y-16],ct=ut.high,ft=ut.low;Z=(Z=(Z=J+at+((G=$+st)>>>0<$>>>0?1:0))+nt+((G+=it)>>>0<it>>>0?1:0))+ct+((G+=ft)>>>0<ft>>>0?1:0),V.high=Z,V.low=G}var lt,ht=U&N^~U&L,dt=z&F^~z&H,pt=R&O^R&I^O&I,yt=T&A^T&j^A&j,vt=(R>>>28|T<<4)^(R<<30|T>>>2)^(R<<25|T>>>7),mt=(T>>>28|R<<4)^(T<<30|R>>>2)^(T<<25|R>>>7),gt=(U>>>14|z<<18)^(U>>>18|z<<14)^(U<<23|z>>>9),bt=(z>>>14|U<<18)^(z>>>18|U<<14)^(z<<23|U>>>9),_t=u[Y],wt=_t.high,St=_t.low,kt=q+gt+((lt=W+bt)>>>0<W>>>0?1:0),Et=mt+yt;q=L,W=H,L=N,H=F,N=U,F=z,U=M+(kt=(kt=(kt=kt+ht+((lt+=dt)>>>0<dt>>>0?1:0))+wt+((lt+=St)>>>0<St>>>0?1:0))+Z+((lt+=G)>>>0<G>>>0?1:0))+((z=D+lt|0)>>>0<D>>>0?1:0)|0,M=I,D=j,I=O,j=A,O=R,A=T,R=kt+(vt+pt+(Et>>>0<mt>>>0?1:0))+((T=lt+Et|0)>>>0<lt>>>0?1:0)|0}p=n.low=p+T,n.high=d+R+(p>>>0<T>>>0?1:0),v=i.low=v+A,i.high=y+O+(v>>>0<A>>>0?1:0),g=o.low=g+j,o.high=m+I+(g>>>0<j>>>0?1:0),_=a.low=_+D,a.high=b+M+(_>>>0<D>>>0?1:0),S=s.low=S+z,s.high=w+U+(S>>>0<z>>>0?1:0),E=f.low=E+F,f.high=k+N+(E>>>0<F>>>0?1:0),x=l.low=x+H,l.high=B+L+(x>>>0<H>>>0?1:0),C=h.low=C+W,h.high=P+q+(C>>>0<W>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),e[31+(n+128>>>10<<5)]=r,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=e.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});t.SHA512=e._createHelper(f),t.HmacSHA512=e._createHmacHelper(f)}(),n.SHA512)},396:function(t,e,r){var n;t.exports=(n=r(21),r(240),r(440),r(503),r(754),r(725),r(636),r(471),r(9),r(308),r(380),r(557),r(953),r(56),r(25),r(19),r(506),r(165),r(169),r(939),r(372),r(797),r(454),r(73),r(905),r(482),r(155),r(124),r(406),r(955),r(628),r(193),r(298),r(696),r(128),n)},406:function(t,e,r){var n,i,o,a;t.exports=(a=r(21),r(165),i=(n=a).lib.CipherParams,o=n.enc.Hex,n.format.Hex={stringify:function(t){return t.ciphertext.toString(o)},parse:function(t){var e=o.parse(t);return i.create({ciphertext:e})}},a.format.Hex)},440:function(t,e,r){var n;t.exports=(n=r(21),function(){if("function"==typeof ArrayBuffer){var t=n.lib.WordArray,e=t.init,r=t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var r=t.byteLength,n=[],i=0;i<r;i++)n[i>>>2]|=t[i]<<24-i%4*8;e.call(this,n,r)}else e.apply(this,arguments)};r.prototype=t}}(),n.lib.WordArray)},454:function(t,e,r){var n,i;t.exports=(i=r(21),r(165),i.mode.ECB=((n=i.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),n.Decryptor=n.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),n),i.mode.ECB)},471:function(t,e,r){var n,i,o,a,s,u,c,f;t.exports=(f=r(21),i=(n=f).lib,o=i.WordArray,a=i.Hasher,s=n.algo,u=[],c=s.SHA1=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],c=0;c<80;c++){if(c<16)u[c]=0|t[e+c];else{var f=u[c-3]^u[c-8]^u[c-14]^u[c-16];u[c]=f<<1|f>>>31}var l=(n<<5|n>>>27)+s+u[c];l+=c<20?1518500249+(i&o|~i&a):c<40?1859775393+(i^o^a):c<60?(i&o|i&a|o&a)-1894007588:(i^o^a)-899497514,s=a,a=o,o=i<<30|i>>>2,i=n,n=l}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+s|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),e[15+(n+64>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}}),n.SHA1=a._createHelper(c),n.HmacSHA1=a._createHmacHelper(c),f.SHA1)},477:function(){},482:function(t,e,r){var n;t.exports=(n=r(21),r(165),n.pad.Iso97971={pad:function(t,e){t.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(t,e)},unpad:function(t){n.pad.ZeroPadding.unpad(t),t.sigBytes--}},n.pad.Iso97971)},503:function(t,e,r){var n;t.exports=(n=r(21),function(){var t=n,e=t.lib.WordArray,r=t.enc;function i(t){return t<<8&4278255360|t>>>8&16711935}r.Utf16=r.Utf16BE={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i+=2){var o=e[i>>>2]>>>16-i%4*8&65535;n.push(String.fromCharCode(o))}return n.join("")},parse:function(t){for(var r=t.length,n=[],i=0;i<r;i++)n[i>>>1]|=t.charCodeAt(i)<<16-i%2*16;return e.create(n,2*r)}},r.Utf16LE={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],o=0;o<r;o+=2){var a=i(e[o>>>2]>>>16-o%4*8&65535);n.push(String.fromCharCode(a))}return n.join("")},parse:function(t){for(var r=t.length,n=[],o=0;o<r;o++)n[o>>>1]|=i(t.charCodeAt(o)<<16-o%2*16);return e.create(n,2*r)}}}(),n.enc.Utf16)},506:function(t,e,r){var n,i,o,a,s,u,c,f;t.exports=(f=r(21),r(471),r(25),i=(n=f).lib,o=i.Base,a=i.WordArray,s=n.algo,u=s.MD5,c=s.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:u,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r,n=this.cfg,i=n.hasher.create(),o=a.create(),s=o.words,u=n.keySize,c=n.iterations;s.length<u;){r&&i.update(r),r=i.update(t).finalize(e),i.reset();for(var f=1;f<c;f++)r=i.finalize(r),i.reset();o.concat(r)}return o.sigBytes=4*u,o}}),n.EvpKDF=function(t,e,r){return c.create(r).compute(t,e)},f.EvpKDF)},557:function(t,e,r){var n,i,o,a,s,u,c,f;t.exports=(f=r(21),r(240),r(380),i=(n=f).x64,o=i.Word,a=i.WordArray,s=n.algo,u=s.SHA512,c=s.SHA384=u.extend({_doReset:function(){this._hash=new a.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var t=u._doFinalize.call(this);return t.sigBytes-=16,t}}),n.SHA384=u._createHelper(c),n.HmacSHA384=u._createHmacHelper(c),f.SHA384)},628:function(t,e,r){var n;t.exports=(n=r(21),r(754),r(636),r(506),r(165),function(){var t=n,e=t.lib,r=e.WordArray,i=e.BlockCipher,o=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],l=o.DES=i.extend({_doReset:function(){for(var t=this._key.words,e=[],r=0;r<56;r++){var n=a[r]-1;e[r]=t[n>>>5]>>>31-n%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var c=i[o]=[],f=u[o];for(r=0;r<24;r++)c[r/6|0]|=e[(s[r]-1+f)%28]<<31-r%6,c[4+(r/6|0)]|=e[28+(s[r+24]-1+f)%28]<<31-r%6;for(c[0]=c[0]<<1|c[0]>>>31,r=1;r<7;r++)c[r]=c[r]>>>4*(r-1)+3;c[7]=c[7]<<5|c[7]>>>27}var l=this._invSubKeys=[];for(r=0;r<16;r++)l[r]=i[15-r]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,r){this._lBlock=t[e],this._rBlock=t[e+1],h.call(this,4,252645135),h.call(this,16,65535),d.call(this,2,858993459),d.call(this,8,16711935),h.call(this,1,1431655765);for(var n=0;n<16;n++){for(var i=r[n],o=this._lBlock,a=this._rBlock,s=0,u=0;u<8;u++)s|=c[u][((a^i[u])&f[u])>>>0];this._lBlock=a,this._rBlock=o^s}var l=this._lBlock;this._lBlock=this._rBlock,this._rBlock=l,h.call(this,1,1431655765),d.call(this,8,16711935),d.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function h(t,e){var r=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=r,this._lBlock^=r<<t}function d(t,e){var r=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=r,this._rBlock^=r<<t}t.DES=i._createHelper(l);var p=o.TripleDES=i.extend({_doReset:function(){var t=this._key.words;if(2!==t.length&&4!==t.length&&t.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var e=t.slice(0,2),n=t.length<4?t.slice(0,2):t.slice(2,4),i=t.length<6?t.slice(0,2):t.slice(4,6);this._des1=l.createEncryptor(r.create(e)),this._des2=l.createEncryptor(r.create(n)),this._des3=l.createEncryptor(r.create(i))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=i._createHelper(p)}(),n.TripleDES)},636:function(t,e,r){var n;t.exports=(n=r(21),function(t){var e=n,r=e.lib,i=r.WordArray,o=r.Hasher,a=e.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var u=a.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var n=e+r,i=t[n];t[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=t[e+0],u=t[e+1],d=t[e+2],p=t[e+3],y=t[e+4],v=t[e+5],m=t[e+6],g=t[e+7],b=t[e+8],_=t[e+9],w=t[e+10],S=t[e+11],k=t[e+12],E=t[e+13],B=t[e+14],x=t[e+15],P=o[0],C=o[1],R=o[2],T=o[3];P=c(P,C,R,T,a,7,s[0]),T=c(T,P,C,R,u,12,s[1]),R=c(R,T,P,C,d,17,s[2]),C=c(C,R,T,P,p,22,s[3]),P=c(P,C,R,T,y,7,s[4]),T=c(T,P,C,R,v,12,s[5]),R=c(R,T,P,C,m,17,s[6]),C=c(C,R,T,P,g,22,s[7]),P=c(P,C,R,T,b,7,s[8]),T=c(T,P,C,R,_,12,s[9]),R=c(R,T,P,C,w,17,s[10]),C=c(C,R,T,P,S,22,s[11]),P=c(P,C,R,T,k,7,s[12]),T=c(T,P,C,R,E,12,s[13]),R=c(R,T,P,C,B,17,s[14]),P=f(P,C=c(C,R,T,P,x,22,s[15]),R,T,u,5,s[16]),T=f(T,P,C,R,m,9,s[17]),R=f(R,T,P,C,S,14,s[18]),C=f(C,R,T,P,a,20,s[19]),P=f(P,C,R,T,v,5,s[20]),T=f(T,P,C,R,w,9,s[21]),R=f(R,T,P,C,x,14,s[22]),C=f(C,R,T,P,y,20,s[23]),P=f(P,C,R,T,_,5,s[24]),T=f(T,P,C,R,B,9,s[25]),R=f(R,T,P,C,p,14,s[26]),C=f(C,R,T,P,b,20,s[27]),P=f(P,C,R,T,E,5,s[28]),T=f(T,P,C,R,d,9,s[29]),R=f(R,T,P,C,g,14,s[30]),P=l(P,C=f(C,R,T,P,k,20,s[31]),R,T,v,4,s[32]),T=l(T,P,C,R,b,11,s[33]),R=l(R,T,P,C,S,16,s[34]),C=l(C,R,T,P,B,23,s[35]),P=l(P,C,R,T,u,4,s[36]),T=l(T,P,C,R,y,11,s[37]),R=l(R,T,P,C,g,16,s[38]),C=l(C,R,T,P,w,23,s[39]),P=l(P,C,R,T,E,4,s[40]),T=l(T,P,C,R,a,11,s[41]),R=l(R,T,P,C,p,16,s[42]),C=l(C,R,T,P,m,23,s[43]),P=l(P,C,R,T,_,4,s[44]),T=l(T,P,C,R,k,11,s[45]),R=l(R,T,P,C,x,16,s[46]),P=h(P,C=l(C,R,T,P,d,23,s[47]),R,T,a,6,s[48]),T=h(T,P,C,R,g,10,s[49]),R=h(R,T,P,C,B,15,s[50]),C=h(C,R,T,P,v,21,s[51]),P=h(P,C,R,T,k,6,s[52]),T=h(T,P,C,R,p,10,s[53]),R=h(R,T,P,C,w,15,s[54]),C=h(C,R,T,P,u,21,s[55]),P=h(P,C,R,T,b,6,s[56]),T=h(T,P,C,R,x,10,s[57]),R=h(R,T,P,C,m,15,s[58]),C=h(C,R,T,P,E,21,s[59]),P=h(P,C,R,T,y,6,s[60]),T=h(T,P,C,R,S,10,s[61]),R=h(R,T,P,C,d,15,s[62]),C=h(C,R,T,P,_,21,s[63]),o[0]=o[0]+P|0,o[1]=o[1]+C|0,o[2]=o[2]+R|0,o[3]=o[3]+T|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;r[i>>>5]|=128<<24-i%32;var o=t.floor(n/4294967296),a=n;r[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),r[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(r.length+1),this._process();for(var s=this._hash,u=s.words,c=0;c<4;c++){var f=u[c];u[c]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8)}return s},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function c(t,e,r,n,i,o,a){var s=t+(e&r|~e&n)+i+a;return(s<<o|s>>>32-o)+e}function f(t,e,r,n,i,o,a){var s=t+(e&n|r&~n)+i+a;return(s<<o|s>>>32-o)+e}function l(t,e,r,n,i,o,a){var s=t+(e^r^n)+i+a;return(s<<o|s>>>32-o)+e}function h(t,e,r,n,i,o,a){var s=t+(r^(e|~n))+i+a;return(s<<o|s>>>32-o)+e}e.MD5=o._createHelper(u),e.HmacMD5=o._createHmacHelper(u)}(Math),n.MD5)},696:function(t,e,r){var n;t.exports=(n=r(21),r(754),r(636),r(506),r(165),function(){var t=n,e=t.lib.StreamCipher,r=t.algo,i=[],o=[],a=[],s=r.RabbitLegacy=e.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,r=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],n=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var i=0;i<4;i++)u.call(this);for(i=0;i<8;i++)n[i]^=r[i+4&7];if(e){var o=e.words,a=o[0],s=o[1],c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),f=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),l=c>>>16|4294901760&f,h=f<<16|65535&c;for(n[0]^=c,n[1]^=l,n[2]^=f,n[3]^=h,n[4]^=c,n[5]^=l,n[6]^=f,n[7]^=h,i=0;i<4;i++)u.call(this)}},_doProcessBlock:function(t,e){var r=this._X;u.call(this),i[0]=r[0]^r[5]>>>16^r[3]<<16,i[1]=r[2]^r[7]>>>16^r[5]<<16,i[2]=r[4]^r[1]>>>16^r[7]<<16,i[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),t[e+n]^=i[n]},blockSize:4,ivSize:2});function u(){for(var t=this._X,e=this._C,r=0;r<8;r++)o[r]=e[r];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,r=0;r<8;r++){var n=t[r]+e[r],i=65535&n,s=n>>>16,u=((i*i>>>17)+i*s>>>15)+s*s,c=((4294901760&n)*n|0)+((65535&n)*n|0);a[r]=u^c}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.RabbitLegacy=e._createHelper(s)}(),n.RabbitLegacy)},725:function(t,e,r){var n;t.exports=(n=r(21),function(){var t=n,e=t.lib.WordArray;function r(t,r,n){for(var i=[],o=0,a=0;a<r;a++)if(a%4){var s=n[t.charCodeAt(a-1)]<<a%4*2|n[t.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=s<<24-o%4*8,o++}return e.create(i,o)}t.enc.Base64url={stringify:function(t,e){void 0===e&&(e=!0);var r=t.words,n=t.sigBytes,i=e?this._safe_map:this._map;t.clamp();for(var o=[],a=0;a<n;a+=3)for(var s=(r[a>>>2]>>>24-a%4*8&255)<<16|(r[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|r[a+2>>>2]>>>24-(a+2)%4*8&255,u=0;u<4&&a+.75*u<n;u++)o.push(i.charAt(s>>>6*(3-u)&63));var c=i.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(t,e){void 0===e&&(e=!0);var n=t.length,i=e?this._safe_map:this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var a=0;a<i.length;a++)o[i.charCodeAt(a)]=a}var s=i.charAt(64);if(s){var u=t.indexOf(s);-1!==u&&(n=u)}return r(t,n,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),n.enc.Base64url)},753:function(t){"use strict";t.exports=JSON.parse(\'{"login":"0001","log in":"0001","sign in":"0001","username":"0001","password":"0001","email address":"0001","forgot password":"0001","remember me":"0001","secure login":"0001","payment":"0002","pay now":"0002","make payment":"0002","due amount":"0002","bill":"0002","invoice":"0002","payee":"0002","credit card":"0002","debit card":"0002","confirm payment":"0002","add payee":"0003","new payee":"0003","beneficiary name":"0003","bank account number":"0003","ifsc code":"0003","sort code":"0003","iban":"0003","routing number":"0003","save payee":"0003","otp":"0004","one-time password":"0004","verification code":"0004","enter code":"0004","sms code":"0004","email code":"0004","auth code":"0004","2fa":"0004","enroll":"0005","enrollment":"0005","sign up":"0005","register":"0005","create account":"0005","start enrollment":"0005","onboarding":"0005","set up account":"0005","loan":"0006","apply for loan":"0006","loan application":"0006","emi":"0006","installment":"0006","loan calculator":"0006","loan details":"0006","loan offer":"0006","cardless":"0007","withdraw cash":"0007","atm code":"0007","cash withdrawal":"0007","without card":"0007","generate code":"0007","atm access code":"0007","change phone":"0008","update phone number":"0008","new phone number":"0008","verify phone":"0008","mobile number change":"0008","change password":"0009","update password":"0009","new password":"0009","current password":"0009","reset password":"0009","confirm password":"0009","edit profile":"0010","update details":"0010","change information":"0010","modify details":"0010","update personal info":"0010","change user info":"0010","change email":"0011","update email":"0011","new email address":"0011","verify email":"0011","email confirmation":"0011","confirm email":"0011","change address":"0012","update address":"0012","new address":"0012","billing address":"0012","shipping address":"0012","address details":"0012"}\')},754:function(t,e,r){var n;t.exports=(n=r(21),function(){var t=n,e=t.lib.WordArray;function r(t,r,n){for(var i=[],o=0,a=0;a<r;a++)if(a%4){var s=n[t.charCodeAt(a-1)]<<a%4*2|n[t.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=s<<24-o%4*8,o++}return e.create(i,o)}t.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp();for(var i=[],o=0;o<r;o+=3)for(var a=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<r;s++)i.push(n.charAt(a>>>6*(3-s)&63));var u=n.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(t){var e=t.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<n.length;o++)i[n.charCodeAt(o)]=o}var a=n.charAt(64);if(a){var s=t.indexOf(a);-1!==s&&(e=s)}return r(t,e,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)},797:function(t,e,r){var n,i,o;t.exports=(o=r(21),r(165),o.mode.OFB=(n=o.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),r.encryptBlock(o,0);for(var a=0;a<n;a++)t[e+a]^=o[a]}}),n.Decryptor=i,n),o.mode.OFB)},860:function(t,e){var r,n,i,o;function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}o=function(){return function t(e,r,n){function i(a,s){if(!r[a]){if(!e[a]){if(o)return o(a,!0);var u=new Error("Cannot find module \'"+a+"\'");throw u.code="MODULE_NOT_FOUND",u}var c=r[a]={exports:{}};e[a][0].call(c.exports,function(t){return i(e[a][1][t]||t)},c,c.exports,t,e,r,n)}return r[a].exports}for(var o=void 0,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(t,e,r){"use strict";var n=t("./zlib/deflate"),i=t("./utils/common"),o=t("./utils/strings"),a=t("./zlib/messages"),s=t("./zlib/zstream"),u=Object.prototype.toString;function c(t){if(!(this instanceof c))return new c(t);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==r)throw new Error(a[r]);if(e.header&&n.deflateSetHeader(this.strm,e.header),e.dictionary){var f;if(f="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(r=n.deflateSetDictionary(this.strm,f)))throw new Error(a[r]);this._dict_set=!0}}function f(t,e){var r=new c(e);if(r.push(t,!0),r.err)throw r.msg||a[r.err];return r.result}c.prototype.push=function(t,e){var r,a,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=o.string2buf(t):"[object ArrayBuffer]"===u.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(c),s.next_out=0,s.avail_out=c),1!==(r=n.deflate(s,a))&&0!==r)return this.onEnd(r),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==r);return 4===a?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):2!==a||(this.onEnd(0),!(s.avail_out=0))},c.prototype.onData=function(t){this.chunks.push(t)},c.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Deflate=c,r.deflate=f,r.deflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},r.gzip=function(t,e){return(e=e||{}).gzip=!0,f(t,e)}},{"./utils/common":3,"./utils/strings":4,"./zlib/deflate":8,"./zlib/messages":13,"./zlib/zstream":15}],2:[function(t,e,r){"use strict";var n=t("./zlib/inflate"),i=t("./utils/common"),o=t("./utils/strings"),a=t("./zlib/constants"),s=t("./zlib/messages"),u=t("./zlib/zstream"),c=t("./zlib/gzheader"),f=Object.prototype.toString;function l(t){if(!(this instanceof l))return new l(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&!(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,e.windowBits);if(r!==a.Z_OK)throw new Error(s[r]);if(this.header=new c,n.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=o.string2buf(e.dictionary):"[object ArrayBuffer]"===f.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=n.inflateSetDictionary(this.strm,e.dictionary))!==a.Z_OK))throw new Error(s[r])}function h(t,e){var r=new l(e);if(r.push(t,!0),r.err)throw r.msg||s[r.err];return r.result}l.prototype.push=function(t,e){var r,s,u,c,l,h=this.strm,d=this.options.chunkSize,p=this.options.dictionary,y=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof t?h.input=o.binstring2buf(t):"[object ArrayBuffer]"===f.call(t)?h.input=new Uint8Array(t):h.input=t,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new i.Buf8(d),h.next_out=0,h.avail_out=d),(r=n.inflate(h,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&p&&(r=n.inflateSetDictionary(this.strm,p)),r===a.Z_BUF_ERROR&&!0===y&&(r=a.Z_OK,y=!1),r!==a.Z_STREAM_END&&r!==a.Z_OK)return this.onEnd(r),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&r!==a.Z_STREAM_END&&(0!==h.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(u=o.utf8border(h.output,h.next_out),c=h.next_out-u,l=o.buf2string(h.output,u),h.next_out=c,h.avail_out=d-c,c&&i.arraySet(h.output,h.output,u,c,0),this.onData(l)):this.onData(i.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(y=!0)}while((0<h.avail_in||0===h.avail_out)&&r!==a.Z_STREAM_END);return r===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(h.avail_out=0))},l.prototype.onData=function(t){this.chunks.push(t)},l.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Inflate=l,r.inflate=h,r.inflateRaw=function(t,e){return(e=e||{}).raw=!0,h(t,e)},r.ungzip=h},{"./utils/common":3,"./utils/strings":4,"./zlib/constants":6,"./zlib/gzheader":9,"./zlib/inflate":11,"./zlib/messages":13,"./zlib/zstream":15}],3:[function(t,e,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(t){for(var e,r,n=Array.prototype.slice.call(arguments,1);n.length;){var i=n.shift();if(i){if("object"!=a(i))throw new TypeError(i+"must be non-object");for(var o in i)e=i,r=o,Object.prototype.hasOwnProperty.call(e,r)&&(t[o]=i[o])}}return t},r.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,r,n,i){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+n),i);else for(var o=0;o<n;o++)t[i+o]=e[r+o]},flattenChunks:function(t){var e,r,n,i,o,a;for(e=n=0,r=t.length;e<r;e++)n+=t[e].length;for(a=new Uint8Array(n),e=i=0,r=t.length;e<r;e++)o=t[e],a.set(o,i),i+=o.length;return a}},o={arraySet:function(t,e,r,n,i){for(var o=0;o<n;o++)t[i+o]=e[r+o]},flattenChunks:function(t){return[].concat.apply([],t)}};r.setTyped=function(t){t?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,o))},r.setTyped(n)},{}],4:[function(t,e,r){"use strict";var n=t("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var a=new n.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function u(t,e){if(e<65534&&(t.subarray&&o||!t.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var r="",a=0;a<e;a++)r+=String.fromCharCode(t[a]);return r}a[254]=a[254]=1,r.string2buf=function(t){var e,r,i,o,a,s=t.length,u=0;for(o=0;o<s;o++)55296==(64512&(r=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(i-56320),o++),u+=r<128?1:r<2048?2:r<65536?3:4;for(e=new n.Buf8(u),o=a=0;a<u;o++)55296==(64512&(r=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(i-56320),o++),r<128?e[a++]=r:(r<2048?e[a++]=192|r>>>6:(r<65536?e[a++]=224|r>>>12:(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63),e[a++]=128|r>>>6&63),e[a++]=128|63&r);return e},r.buf2binstring=function(t){return u(t,t.length)},r.binstring2buf=function(t){for(var e=new n.Buf8(t.length),r=0,i=e.length;r<i;r++)e[r]=t.charCodeAt(r);return e},r.buf2string=function(t,e){var r,n,i,o,s=e||t.length,c=new Array(2*s);for(r=n=0;r<s;)if((i=t[r++])<128)c[n++]=i;else if(4<(o=a[i]))c[n++]=65533,r+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&r<s;)i=i<<6|63&t[r++],o--;1<o?c[n++]=65533:i<65536?c[n++]=i:(i-=65536,c[n++]=55296|i>>10&1023,c[n++]=56320|1023&i)}return u(c,n)},r.utf8border=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;0<=r&&128==(192&t[r]);)r--;return r<0||0===r?e:r+a[t[r]]>e?r:e}},{"./common":3}],5:[function(t,e,r){"use strict";e.exports=function(t,e,r,n){for(var i=65535&t,o=t>>>16&65535,a=0;0!==r;){for(r-=a=2e3<r?2e3:r;o=o+(i=i+e[n++]|0)|0,--a;);i%=65521,o%=65521}return i|o<<16}},{}],6:[function(t,e,r){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],7:[function(t,e,r){"use strict";var n=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();e.exports=function(t,e,r,i){var o=n,a=i+r;t^=-1;for(var s=i;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}},{}],8:[function(t,e,r){"use strict";var n,i=t("../utils/common"),o=t("./trees"),a=t("./adler32"),s=t("./crc32"),u=t("./messages"),c=-2,f=258,l=262,h=113;function d(t,e){return t.msg=u[e],e}function p(t){return(t<<1)-(4<t?9:0)}function y(t){for(var e=t.length;0<=--e;)t[e]=0}function v(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(i.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function m(t,e){o._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,v(t.strm)}function g(t,e){t.pending_buf[t.pending++]=e}function b(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function _(t,e){var r,n,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-l?t.strstart-(t.w_size-l):0,c=t.window,h=t.w_mask,d=t.prev,p=t.strstart+f,y=c[o+a-1],v=c[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(c[(r=e)+a]===v&&c[r+a-1]===y&&c[r]===c[o]&&c[++r]===c[o+1]){o+=2,r++;do{}while(c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&c[++o]===c[++r]&&o<p);if(n=f-(p-o),o=p-f,a<n){if(t.match_start=e,s<=(a=n))break;y=c[o+a-1],v=c[o+a]}}}while((e=d[e&h])>u&&0!=--i);return a<=t.lookahead?a:t.lookahead}function w(t){var e,r,n,o,u,c,f,h,d,p,y=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=y+(y-l)){for(i.arraySet(t.window,t.window,y,y,0),t.match_start-=y,t.strstart-=y,t.block_start-=y,e=r=t.hash_size;n=t.head[--e],t.head[e]=y<=n?n-y:0,--r;);for(e=r=y;n=t.prev[--e],t.prev[e]=y<=n?n-y:0,--r;);o+=y}if(0===t.strm.avail_in)break;if(c=t.strm,f=t.window,h=t.strstart+t.lookahead,p=void 0,(d=o)<(p=c.avail_in)&&(p=d),r=0===p?0:(c.avail_in-=p,i.arraySet(f,c.input,c.next_in,p,h),1===c.state.wrap?c.adler=a(c.adler,f,p,h):2===c.state.wrap&&(c.adler=s(c.adler,f,p,h)),c.next_in+=p,c.total_in+=p,p),t.lookahead+=r,t.lookahead+t.insert>=3)for(u=t.strstart-t.insert,t.ins_h=t.window[u],t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+3-1])&t.hash_mask,t.prev[u&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=u,u++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<l&&0!==t.strm.avail_in)}function S(t,e){for(var r,n;;){if(t.lookahead<l){if(w(t),t.lookahead<l&&0===e)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-l&&(t.match_length=_(t,r)),t.match_length>=3)if(n=o._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(m(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(m(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(m(t,!1),0===t.strm.avail_out)?1:2}function k(t,e){for(var r,n,i;;){if(t.lookahead<l){if(w(t),t.lookahead<l&&0===e)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-l&&(t.match_length=_(t,r),t.match_length<=5&&(1===t.strategy||3===t.match_length&&4096<t.strstart-t.match_start)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){for(i=t.strstart+t.lookahead-3,n=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(m(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=o._tr_tally(t,0,t.window[t.strstart-1]))&&m(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(m(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(m(t,!1),0===t.strm.avail_out)?1:2}function E(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}function B(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),y(this.dyn_ltree),y(this.dyn_dtree),y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function x(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:h,t.adler=2===e.wrap?0:1,e.last_flush=0,o._tr_init(e),0):d(t,c)}function P(t){var e,r=x(t);return 0===r&&((e=t.state).window_size=2*e.w_size,y(e.head),e.max_lazy_match=n[e.level].max_lazy,e.good_match=n[e.level].good_length,e.nice_match=n[e.level].nice_length,e.max_chain_length=n[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),r}function C(t,e,r,n,o,a){if(!t)return c;var s=1;if(-1===e&&(e=6),n<0?(s=0,n=-n):15<n&&(s=2,n-=16),o<1||9<o||8!==r||n<8||15<n||e<0||9<e||a<0||4<a)return d(t,c);8===n&&(n=9);var u=new B;return(t.state=u).strm=t,u.wrap=s,u.gzhead=null,u.w_bits=n,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=a,u.method=r,P(t)}n=[new E(0,0,0,0,function(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(w(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,m(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-l&&(m(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(m(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(m(t,!1),t.strm.avail_out),1)}),new E(4,4,8,4,S),new E(4,5,16,8,S),new E(4,6,32,32,S),new E(4,4,16,16,k),new E(8,16,32,32,k),new E(8,16,128,128,k),new E(8,32,128,256,k),new E(32,128,258,1024,k),new E(32,258,258,4096,k)],r.deflateInit=function(t,e){return C(t,e,8,15,8,0)},r.deflateInit2=C,r.deflateReset=P,r.deflateResetKeep=x,r.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?c:(t.state.gzhead=e,0):c},r.deflate=function(t,e){var r,i,a,u;if(!t||!t.state||5<e||e<0)return t?d(t,c):c;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&4!==e)return d(t,0===t.avail_out?-5:c);if(i.strm=t,r=i.last_flush,i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,g(i,31),g(i,139),g(i,8),i.gzhead?(g(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),g(i,255&i.gzhead.time),g(i,i.gzhead.time>>8&255),g(i,i.gzhead.time>>16&255),g(i,i.gzhead.time>>24&255),g(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),g(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(g(i,255&i.gzhead.extra.length),g(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=s(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(g(i,0),g(i,0),g(i,0),g(i,0),g(i,0),g(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),g(i,3),i.status=h);else{var l=8+(i.w_bits-8<<4)<<8;l|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(l|=32),l+=31-l%31,i.status=h,b(i,l),0!==i.strstart&&(b(i,t.adler>>>16),b(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),v(t),a=i.pending,i.pending!==i.pending_buf_size));)g(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),v(t),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}g(i,u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),v(t),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}g(i,u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&v(t),i.pending+2<=i.pending_buf_size&&(g(i,255&t.adler),g(i,t.adler>>8&255),t.adler=0,i.status=h)):i.status=h),0!==i.pending){if(v(t),0===t.avail_out)return i.last_flush=-1,0}else if(0===t.avail_in&&p(e)<=p(r)&&4!==e)return d(t,-5);if(666===i.status&&0!==t.avail_in)return d(t,-5);if(0!==t.avail_in||0!==i.lookahead||0!==e&&666!==i.status){var _=2===i.strategy?function(t,e){for(var r;;){if(0===t.lookahead&&(w(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(m(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(m(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(m(t,!1),0===t.strm.avail_out)?1:2}(i,e):3===i.strategy?function(t,e){for(var r,n,i,a,s=t.window;;){if(t.lookahead<=f){if(w(t),t.lookahead<=f&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&0<t.strstart&&(n=s[i=t.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){a=t.strstart+f;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);t.match_length=f-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=o._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(m(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(m(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(m(t,!1),0===t.strm.avail_out)?1:2}(i,e):n[i.level].func(i,e);if(3!==_&&4!==_||(i.status=666),1===_||3===_)return 0===t.avail_out&&(i.last_flush=-1),0;if(2===_&&(1===e?o._tr_align(i):5!==e&&(o._tr_stored_block(i,0,0,!1),3===e&&(y(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),v(t),0===t.avail_out))return i.last_flush=-1,0}return 4!==e?0:i.wrap<=0?1:(2===i.wrap?(g(i,255&t.adler),g(i,t.adler>>8&255),g(i,t.adler>>16&255),g(i,t.adler>>24&255),g(i,255&t.total_in),g(i,t.total_in>>8&255),g(i,t.total_in>>16&255),g(i,t.total_in>>24&255)):(b(i,t.adler>>>16),b(i,65535&t.adler)),v(t),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?0:1)},r.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&e!==h&&666!==e?d(t,c):(t.state=null,e===h?d(t,-3):0):c},r.deflateSetDictionary=function(t,e){var r,n,o,s,u,f,l,h,d=e.length;if(!t||!t.state)return c;if(2===(s=(r=t.state).wrap)||1===s&&42!==r.status||r.lookahead)return c;for(1===s&&(t.adler=a(t.adler,e,d,0)),r.wrap=0,d>=r.w_size&&(0===s&&(y(r.head),r.strstart=0,r.block_start=0,r.insert=0),h=new i.Buf8(r.w_size),i.arraySet(h,e,d-r.w_size,r.w_size,0),e=h,d=r.w_size),u=t.avail_in,f=t.next_in,l=t.input,t.avail_in=d,t.next_in=0,t.input=e,w(r);r.lookahead>=3;){for(n=r.strstart,o=r.lookahead-2;r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+3-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++,--o;);r.strstart=n,r.lookahead=2,w(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=f,t.input=l,t.avail_in=u,r.wrap=s,0},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./messages":13,"./trees":14}],9:[function(t,e,r){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],10:[function(t,e,r){"use strict";e.exports=function(t,e){var r,n,i,o,a,s,u,c,f,l,h,d,p,y,v,m,g,b,_,w,S,k,E,B,x;r=t.state,n=t.next_in,B=t.input,i=n+(t.avail_in-5),o=t.next_out,x=t.output,a=o-(e-t.avail_out),s=o+(t.avail_out-257),u=r.dmax,c=r.wsize,f=r.whave,l=r.wnext,h=r.window,d=r.hold,p=r.bits,y=r.lencode,v=r.distcode,m=(1<<r.lenbits)-1,g=(1<<r.distbits)-1;t:do{p<15&&(d+=B[n++]<<p,p+=8,d+=B[n++]<<p,p+=8),b=y[d&m];e:for(;;){if(d>>>=_=b>>>24,p-=_,0==(_=b>>>16&255))x[o++]=65535&b;else{if(!(16&_)){if(!(64&_)){b=y[(65535&b)+(d&(1<<_)-1)];continue e}if(32&_){r.mode=12;break t}t.msg="invalid literal/length code",r.mode=30;break t}w=65535&b,(_&=15)&&(p<_&&(d+=B[n++]<<p,p+=8),w+=d&(1<<_)-1,d>>>=_,p-=_),p<15&&(d+=B[n++]<<p,p+=8,d+=B[n++]<<p,p+=8),b=v[d&g];r:for(;;){if(d>>>=_=b>>>24,p-=_,!(16&(_=b>>>16&255))){if(!(64&_)){b=v[(65535&b)+(d&(1<<_)-1)];continue r}t.msg="invalid distance code",r.mode=30;break t}if(S=65535&b,p<(_&=15)&&(d+=B[n++]<<p,(p+=8)<_&&(d+=B[n++]<<p,p+=8)),u<(S+=d&(1<<_)-1)){t.msg="invalid distance too far back",r.mode=30;break t}if(d>>>=_,p-=_,(_=o-a)<S){if(f<(_=S-_)&&r.sane){t.msg="invalid distance too far back",r.mode=30;break t}if(E=h,(k=0)===l){if(k+=c-_,_<w){for(w-=_;x[o++]=h[k++],--_;);k=o-S,E=x}}else if(l<_){if(k+=c+l-_,(_-=l)<w){for(w-=_;x[o++]=h[k++],--_;);if(k=0,l<w){for(w-=_=l;x[o++]=h[k++],--_;);k=o-S,E=x}}}else if(k+=l-_,_<w){for(w-=_;x[o++]=h[k++],--_;);k=o-S,E=x}for(;2<w;)x[o++]=E[k++],x[o++]=E[k++],x[o++]=E[k++],w-=3;w&&(x[o++]=E[k++],1<w&&(x[o++]=E[k++]))}else{for(k=o-S;x[o++]=x[k++],x[o++]=x[k++],x[o++]=x[k++],2<(w-=3););w&&(x[o++]=x[k++],1<w&&(x[o++]=x[k++]))}break}}break}}while(n<i&&o<s);n-=w=p>>3,d&=(1<<(p-=w<<3))-1,t.next_in=n,t.next_out=o,t.avail_in=n<i?i-n+5:5-(n-i),t.avail_out=o<s?s-o+257:257-(o-s),r.hold=d,r.bits=p}},{}],11:[function(t,e,r){"use strict";var n=t("../utils/common"),i=t("./adler32"),o=t("./crc32"),a=t("./inffast"),s=t("./inftrees"),u=-2;function c(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function f(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function l(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new n.Buf32(852),e.distcode=e.distdyn=new n.Buf32(592),e.sane=1,e.back=-1,0):u}function h(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,l(t)):u}function d(t,e){var r,n;return t&&t.state?(n=t.state,e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?u:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,h(t))):u}function p(t,e){var r,n;return t?(n=new f,(t.state=n).window=null,0!==(r=d(t,e))&&(t.state=null),r):u}var y,v,m=!0;function g(t){if(m){var e;for(y=new n.Buf32(512),v=new n.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(1,t.lens,0,288,y,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(2,t.lens,0,32,v,0,t.work,{bits:5}),m=!1}t.lencode=y,t.lenbits=9,t.distcode=v,t.distbits=5}function b(t,e,r,i){var o,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new n.Buf8(a.wsize)),i>=a.wsize?(n.arraySet(a.window,e,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i<(o=a.wsize-a.wnext)&&(o=i),n.arraySet(a.window,e,r-i,o,a.wnext),(i-=o)?(n.arraySet(a.window,e,r-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}r.inflateReset=h,r.inflateReset2=d,r.inflateResetKeep=l,r.inflateInit=function(t){return p(t,15)},r.inflateInit2=p,r.inflate=function(t,e){var r,f,l,h,d,p,y,v,m,_,w,S,k,E,B,x,P,C,R,T,O,A,I,j,M=0,D=new n.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return u;12===(r=t.state).mode&&(r.mode=13),d=t.next_out,l=t.output,y=t.avail_out,h=t.next_in,f=t.input,p=t.avail_in,v=r.hold,m=r.bits,_=p,w=y,A=0;t:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;m<16;){if(0===p)break t;p--,v+=f[h++]<<m,m+=8}if(2&r.wrap&&35615===v){D[r.check=0]=255&v,D[1]=v>>>8&255,r.check=o(r.check,D,2,0),m=v=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&v)<<8)+(v>>8))%31){t.msg="incorrect header check",r.mode=30;break}if(8!=(15&v)){t.msg="unknown compression method",r.mode=30;break}if(m-=4,O=8+(15&(v>>>=4)),0===r.wbits)r.wbits=O;else if(O>r.wbits){t.msg="invalid window size",r.mode=30;break}r.dmax=1<<O,t.adler=r.check=1,r.mode=512&v?10:12,m=v=0;break;case 2:for(;m<16;){if(0===p)break t;p--,v+=f[h++]<<m,m+=8}if(r.flags=v,8!=(255&r.flags)){t.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=v>>8&1),512&r.flags&&(D[0]=255&v,D[1]=v>>>8&255,r.check=o(r.check,D,2,0)),m=v=0,r.mode=3;case 3:for(;m<32;){if(0===p)break t;p--,v+=f[h++]<<m,m+=8}r.head&&(r.head.time=v),512&r.flags&&(D[0]=255&v,D[1]=v>>>8&255,D[2]=v>>>16&255,D[3]=v>>>24&255,r.check=o(r.check,D,4,0)),m=v=0,r.mode=4;case 4:for(;m<16;){if(0===p)break t;p--,v+=f[h++]<<m,m+=8}r.head&&(r.head.xflags=255&v,r.head.os=v>>8),512&r.flags&&(D[0]=255&v,D[1]=v>>>8&255,r.check=o(r.check,D,2,0)),m=v=0,r.mode=5;case 5:if(1024&r.flags){for(;m<16;){if(0===p)break t;p--,v+=f[h++]<<m,m+=8}r.length=v,r.head&&(r.head.extra_len=v),512&r.flags&&(D[0]=255&v,D[1]=v>>>8&255,r.check=o(r.check,D,2,0)),m=v=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(p<(S=r.length)&&(S=p),S&&(r.head&&(O=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,f,h,S,O)),512&r.flags&&(r.check=o(r.check,f,S,h)),p-=S,h+=S,r.length-=S),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===p)break t;for(S=0;O=f[h+S++],r.head&&O&&r.length<65536&&(r.head.name+=String.fromCharCode(O)),O&&S<p;);if(512&r.flags&&(r.check=o(r.check,f,S,h)),p-=S,h+=S,O)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===p)break t;for(S=0;O=f[h+S++],r.head&&O&&r.length<65536&&(r.head.comment+=String.fromCharCode(O)),O&&S<p;);if(512&r.flags&&(r.check=o(r.check,f,S,h)),p-=S,h+=S,O)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;m<16;){if(0===p)break t;p--,v+=f[h++]<<m,m+=8}if(v!==(65535&r.check)){t.msg="header crc mismatch",r.mode=30;break}m=v=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=12;break;case 10:for(;m<32;){if(0===p)break t;p--,v+=f[h++]<<m,m+=8}t.adler=r.check=c(v),m=v=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=d,t.avail_out=y,t.next_in=h,t.avail_in=p,r.hold=v,r.bits=m,2;t.adler=r.check=1,r.mode=12;case 12:if(5===e||6===e)break t;case 13:if(r.last){v>>>=7&m,m-=7&m,r.mode=27;break}for(;m<3;){if(0===p)break t;p--,v+=f[h++]<<m,m+=8}switch(r.last=1&v,m-=1,3&(v>>>=1)){case 0:r.mode=14;break;case 1:if(g(r),r.mode=20,6!==e)break;v>>>=2,m-=2;break t;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=30}v>>>=2,m-=2;break;case 14:for(v>>>=7&m,m-=7&m;m<32;){if(0===p)break t;p--,v+=f[h++]<<m,m+=8}if((65535&v)!=(v>>>16^65535)){t.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&v,m=v=0,r.mode=15,6===e)break t;case 15:r.mode=16;case 16:if(S=r.length){if(p<S&&(S=p),y<S&&(S=y),0===S)break t;n.arraySet(l,f,h,S,d),p-=S,h+=S,y-=S,d+=S,r.length-=S;break}r.mode=12;break;case 17:for(;m<14;){if(0===p)break t;p--,v+=f[h++]<<m,m+=8}if(r.nlen=257+(31&v),v>>>=5,m-=5,r.ndist=1+(31&v),v>>>=5,m-=5,r.ncode=4+(15&v),v>>>=4,m-=4,286<r.nlen||30<r.ndist){t.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;m<3;){if(0===p)break t;p--,v+=f[h++]<<m,m+=8}r.lens[U[r.have++]]=7&v,v>>>=3,m-=3}for(;r.have<19;)r.lens[U[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,I={bits:r.lenbits},A=s(0,r.lens,0,19,r.lencode,0,r.work,I),r.lenbits=I.bits,A){t.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;x=(M=r.lencode[v&(1<<r.lenbits)-1])>>>16&255,P=65535&M,!((B=M>>>24)<=m);){if(0===p)break t;p--,v+=f[h++]<<m,m+=8}if(P<16)v>>>=B,m-=B,r.lens[r.have++]=P;else{if(16===P){for(j=B+2;m<j;){if(0===p)break t;p--,v+=f[h++]<<m,m+=8}if(v>>>=B,m-=B,0===r.have){t.msg="invalid bit length repeat",r.mode=30;break}O=r.lens[r.have-1],S=3+(3&v),v>>>=2,m-=2}else if(17===P){for(j=B+3;m<j;){if(0===p)break t;p--,v+=f[h++]<<m,m+=8}m-=B,O=0,S=3+(7&(v>>>=B)),v>>>=3,m-=3}else{for(j=B+7;m<j;){if(0===p)break t;p--,v+=f[h++]<<m,m+=8}m-=B,O=0,S=11+(127&(v>>>=B)),v>>>=7,m-=7}if(r.have+S>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=30;break}for(;S--;)r.lens[r.have++]=O}}if(30===r.mode)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,I={bits:r.lenbits},A=s(1,r.lens,0,r.nlen,r.lencode,0,r.work,I),r.lenbits=I.bits,A){t.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,I={bits:r.distbits},A=s(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,I),r.distbits=I.bits,A){t.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===e)break t;case 20:r.mode=21;case 21:if(6<=p&&258<=y){t.next_out=d,t.avail_out=y,t.next_in=h,t.avail_in=p,r.hold=v,r.bits=m,a(t,w),d=t.next_out,l=t.output,y=t.avail_out,h=t.next_in,f=t.input,p=t.avail_in,v=r.hold,m=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;x=(M=r.lencode[v&(1<<r.lenbits)-1])>>>16&255,P=65535&M,!((B=M>>>24)<=m);){if(0===p)break t;p--,v+=f[h++]<<m,m+=8}if(x&&!(240&x)){for(C=B,R=x,T=P;x=(M=r.lencode[T+((v&(1<<C+R)-1)>>C)])>>>16&255,P=65535&M,!(C+(B=M>>>24)<=m);){if(0===p)break t;p--,v+=f[h++]<<m,m+=8}v>>>=C,m-=C,r.back+=C}if(v>>>=B,m-=B,r.back+=B,r.length=P,0===x){r.mode=26;break}if(32&x){r.back=-1,r.mode=12;break}if(64&x){t.msg="invalid literal/length code",r.mode=30;break}r.extra=15&x,r.mode=22;case 22:if(r.extra){for(j=r.extra;m<j;){if(0===p)break t;p--,v+=f[h++]<<m,m+=8}r.length+=v&(1<<r.extra)-1,v>>>=r.extra,m-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;x=(M=r.distcode[v&(1<<r.distbits)-1])>>>16&255,P=65535&M,!((B=M>>>24)<=m);){if(0===p)break t;p--,v+=f[h++]<<m,m+=8}if(!(240&x)){for(C=B,R=x,T=P;x=(M=r.distcode[T+((v&(1<<C+R)-1)>>C)])>>>16&255,P=65535&M,!(C+(B=M>>>24)<=m);){if(0===p)break t;p--,v+=f[h++]<<m,m+=8}v>>>=C,m-=C,r.back+=C}if(v>>>=B,m-=B,r.back+=B,64&x){t.msg="invalid distance code",r.mode=30;break}r.offset=P,r.extra=15&x,r.mode=24;case 24:if(r.extra){for(j=r.extra;m<j;){if(0===p)break t;p--,v+=f[h++]<<m,m+=8}r.offset+=v&(1<<r.extra)-1,v>>>=r.extra,m-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===y)break t;if(S=w-y,r.offset>S){if((S=r.offset-S)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=30;break}S>r.wnext?(S-=r.wnext,k=r.wsize-S):k=r.wnext-S,S>r.length&&(S=r.length),E=r.window}else E=l,k=d-r.offset,S=r.length;for(y<S&&(S=y),y-=S,r.length-=S;l[d++]=E[k++],--S;);0===r.length&&(r.mode=21);break;case 26:if(0===y)break t;l[d++]=r.length,y--,r.mode=21;break;case 27:if(r.wrap){for(;m<32;){if(0===p)break t;p--,v|=f[h++]<<m,m+=8}if(w-=y,t.total_out+=w,r.total+=w,w&&(t.adler=r.check=r.flags?o(r.check,l,w,d-w):i(r.check,l,w,d-w)),w=y,(r.flags?v:c(v))!==r.check){t.msg="incorrect data check",r.mode=30;break}m=v=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;m<32;){if(0===p)break t;p--,v+=f[h++]<<m,m+=8}if(v!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=30;break}m=v=0}r.mode=29;case 29:A=1;break t;case 30:A=-3;break t;case 31:return-4;default:return u}return t.next_out=d,t.avail_out=y,t.next_in=h,t.avail_in=p,r.hold=v,r.bits=m,(r.wsize||w!==t.avail_out&&r.mode<30&&(r.mode<27||4!==e))&&b(t,t.output,t.next_out,w-t.avail_out)?(r.mode=31,-4):(_-=t.avail_in,w-=t.avail_out,t.total_in+=_,t.total_out+=w,r.total+=w,r.wrap&&w&&(t.adler=r.check=r.flags?o(r.check,l,w,t.next_out-w):i(r.check,l,w,t.next_out-w)),t.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0===_&&0===w||4===e)&&0===A&&(A=-5),A)},r.inflateEnd=function(t){if(!t||!t.state)return u;var e=t.state;return e.window&&(e.window=null),t.state=null,0},r.inflateGetHeader=function(t,e){var r;return t&&t.state&&2&(r=t.state).wrap?((r.head=e).done=!1,0):u},r.inflateSetDictionary=function(t,e){var r,n=e.length;return t&&t.state?0!==(r=t.state).wrap&&11!==r.mode?u:11===r.mode&&i(1,e,n,0)!==r.check?-3:b(t,e,n,n)?(r.mode=31,-4):(r.havedict=1,0):u},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./inffast":10,"./inftrees":12}],12:[function(t,e,r){"use strict";var n=t("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,r,u,c,f,l,h){var d,p,y,v,m,g,b,_,w,S=h.bits,k=0,E=0,B=0,x=0,P=0,C=0,R=0,T=0,O=0,A=0,I=null,j=0,M=new n.Buf16(16),D=new n.Buf16(16),U=null,z=0;for(k=0;k<=15;k++)M[k]=0;for(E=0;E<u;E++)M[e[r+E]]++;for(P=S,x=15;1<=x&&0===M[x];x--);if(x<P&&(P=x),0===x)return c[f++]=20971520,c[f++]=20971520,h.bits=1,0;for(B=1;B<x&&0===M[B];B++);for(P<B&&(P=B),k=T=1;k<=15;k++)if(T<<=1,(T-=M[k])<0)return-1;if(0<T&&(0===t||1!==x))return-1;for(D[1]=0,k=1;k<15;k++)D[k+1]=D[k]+M[k];for(E=0;E<u;E++)0!==e[r+E]&&(l[D[e[r+E]]++]=E);if(0===t?(I=U=l,g=19):1===t?(I=i,j-=257,U=o,z-=257,g=256):(I=a,U=s,g=-1),k=B,m=f,R=E=A=0,y=-1,v=(O=1<<(C=P))-1,1===t&&852<O||2===t&&592<O)return 1;for(;;){for(b=k-R,l[E]<g?(_=0,w=l[E]):l[E]>g?(_=U[z+l[E]],w=I[j+l[E]]):(_=96,w=0),d=1<<k-R,B=p=1<<C;c[m+(A>>R)+(p-=d)]=b<<24|_<<16|w,0!==p;);for(d=1<<k-1;A&d;)d>>=1;if(0!==d?(A&=d-1,A+=d):A=0,E++,0==--M[k]){if(k===x)break;k=e[r+l[E]]}if(P<k&&(A&v)!==y){for(0===R&&(R=P),m+=B,T=1<<(C=k-R);C+R<x&&!((T-=M[C+R])<=0);)C++,T<<=1;if(O+=1<<C,1===t&&852<O||2===t&&592<O)return 1;c[y=A&v]=P<<24|C<<16|m-f}}return 0!==A&&(c[m+A]=k-R<<24|64<<16),h.bits=P,0}},{"../utils/common":3}],13:[function(t,e,r){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],14:[function(t,e,r){"use strict";var n=t("../utils/common");function i(t){for(var e=t.length;0<=--e;)t[e]=0}var o=256,a=286,s=30,u=15,c=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],f=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],h=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],d=new Array(576);i(d);var p=new Array(60);i(p);var y=new Array(512);i(y);var v=new Array(256);i(v);var m=new Array(29);i(m);var g,b,_,w=new Array(s);function S(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}function k(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function E(t){return t<256?y[t]:y[256+(t>>>7)]}function B(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function x(t,e,r){t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,B(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function P(t,e,r){x(t,r[2*e],r[2*e+1])}function C(t,e){for(var r=0;r|=1&t,t>>>=1,r<<=1,0<--e;);return r>>>1}function R(t,e,r){var n,i,o=new Array(16),a=0;for(n=1;n<=u;n++)o[n]=a=a+r[n-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=C(o[s]++,s))}}function T(t){var e;for(e=0;e<a;e++)t.dyn_ltree[2*e]=0;for(e=0;e<s;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function O(t){8<t.bi_valid?B(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function A(t,e,r,n){var i=2*e,o=2*r;return t[i]<t[o]||t[i]===t[o]&&n[e]<=n[r]}function I(t,e,r){for(var n=t.heap[r],i=r<<1;i<=t.heap_len&&(i<t.heap_len&&A(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!A(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n}function j(t,e,r){var n,i,a,s,u=0;if(0!==t.last_lit)for(;n=t.pending_buf[t.d_buf+2*u]<<8|t.pending_buf[t.d_buf+2*u+1],i=t.pending_buf[t.l_buf+u],u++,0===n?P(t,i,e):(P(t,(a=v[i])+o+1,e),0!==(s=c[a])&&x(t,i-=m[a],s),P(t,a=E(--n),r),0!==(s=f[a])&&x(t,n-=w[a],s)),u<t.last_lit;);P(t,256,e)}function M(t,e){var r,n,i,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,c=e.stat_desc.elems,f=-1;for(t.heap_len=0,t.heap_max=573,r=0;r<c;r++)0!==o[2*r]?(t.heap[++t.heap_len]=f=r,t.depth[r]=0):o[2*r+1]=0;for(;t.heap_len<2;)o[2*(i=t.heap[++t.heap_len]=f<2?++f:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=a[2*i+1]);for(e.max_code=f,r=t.heap_len>>1;1<=r;r--)I(t,o,r);for(i=c;r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],I(t,o,1),n=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=n,o[2*i]=o[2*r]+o[2*n],t.depth[i]=(t.depth[r]>=t.depth[n]?t.depth[r]:t.depth[n])+1,o[2*r+1]=o[2*n+1]=i,t.heap[1]=i++,I(t,o,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var r,n,i,o,a,s,c=e.dyn_tree,f=e.max_code,l=e.stat_desc.static_tree,h=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,y=e.stat_desc.max_length,v=0;for(o=0;o<=u;o++)t.bl_count[o]=0;for(c[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<573;r++)y<(o=c[2*c[2*(n=t.heap[r])+1]+1]+1)&&(o=y,v++),c[2*n+1]=o,f<n||(t.bl_count[o]++,a=0,p<=n&&(a=d[n-p]),s=c[2*n],t.opt_len+=s*(o+a),h&&(t.static_len+=s*(l[2*n+1]+a)));if(0!==v){do{for(o=y-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[y]--,v-=2}while(0<v);for(o=y;0!==o;o--)for(n=t.bl_count[o];0!==n;)f<(i=t.heap[--r])||(c[2*i+1]!==o&&(t.opt_len+=(o-c[2*i+1])*c[2*i],c[2*i+1]=o),n--)}}(t,e),R(o,f,t.bl_count)}function D(t,e,r){var n,i,o=-1,a=e[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=e[2*(n+1)+1],++s<u&&i===a||(s<c?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=i,(s=0)===a?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4))}function U(t,e,r){var n,i,o=-1,a=e[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),n=0;n<=r;n++)if(i=a,a=e[2*(n+1)+1],!(++s<u&&i===a)){if(s<c)for(;P(t,i,t.bl_tree),0!=--s;);else 0!==i?(i!==o&&(P(t,i,t.bl_tree),s--),P(t,16,t.bl_tree),x(t,s-3,2)):s<=10?(P(t,17,t.bl_tree),x(t,s-3,3)):(P(t,18,t.bl_tree),x(t,s-11,7));o=i,(s=0)===a?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4)}}i(w);var z=!1;function N(t,e,r,i){var o,a,s;x(t,0+(i?1:0),3),a=e,s=r,O(o=t),B(o,s),B(o,~s),n.arraySet(o.pending_buf,o.window,a,s,o.pending),o.pending+=s}r._tr_init=function(t){z||(function(){var t,e,r,n,i,o=new Array(16);for(n=r=0;n<28;n++)for(m[n]=r,t=0;t<1<<c[n];t++)v[r++]=n;for(v[r-1]=n,n=i=0;n<16;n++)for(w[n]=i,t=0;t<1<<f[n];t++)y[i++]=n;for(i>>=7;n<s;n++)for(w[n]=i<<7,t=0;t<1<<f[n]-7;t++)y[256+i++]=n;for(e=0;e<=u;e++)o[e]=0;for(t=0;t<=143;)d[2*t+1]=8,t++,o[8]++;for(;t<=255;)d[2*t+1]=9,t++,o[9]++;for(;t<=279;)d[2*t+1]=7,t++,o[7]++;for(;t<=287;)d[2*t+1]=8,t++,o[8]++;for(R(d,287,o),t=0;t<s;t++)p[2*t+1]=5,p[2*t]=C(t,5);g=new S(d,c,257,a,u),b=new S(p,f,0,s,u),_=new S(new Array(0),l,0,19,7)}(),z=!0),t.l_desc=new k(t.dyn_ltree,g),t.d_desc=new k(t.dyn_dtree,b),t.bl_desc=new k(t.bl_tree,_),t.bi_buf=0,t.bi_valid=0,T(t)},r._tr_stored_block=N,r._tr_flush_block=function(t,e,r,n){var i,a,s=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<o;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),M(t,t.l_desc),M(t,t.d_desc),s=function(t){var e;for(D(t,t.dyn_ltree,t.l_desc.max_code),D(t,t.dyn_dtree,t.d_desc.max_code),M(t,t.bl_desc),e=18;3<=e&&0===t.bl_tree[2*h[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(a=t.static_len+3+7>>>3)<=i&&(i=a)):i=a=r+5,r+4<=i&&-1!==e?N(t,e,r,n):4===t.strategy||a===i?(x(t,2+(n?1:0),3),j(t,d,p)):(x(t,4+(n?1:0),3),function(t,e,r,n){var i;for(x(t,e-257,5),x(t,r-1,5),x(t,n-4,4),i=0;i<n;i++)x(t,t.bl_tree[2*h[i]+1],3);U(t,t.dyn_ltree,e-1),U(t,t.dyn_dtree,r-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),j(t,t.dyn_ltree,t.dyn_dtree)),T(t),n&&O(t)},r._tr_tally=function(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(v[r]+o+1)]++,t.dyn_dtree[2*E(e)]++),t.last_lit===t.lit_bufsize-1},r._tr_align=function(t){var e;x(t,2,3),P(t,256,d),16===(e=t).bi_valid?(B(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},{"../utils/common":3}],15:[function(t,e,r){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/":[function(t,e,r){"use strict";var n={};(0,t("./lib/utils/common").assign)(n,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=n},{"./lib/deflate":1,"./lib/inflate":2,"./lib/utils/common":3,"./lib/zlib/constants":6}]},{},[])("/")},"object"==a(e)?t.exports=o():(n=[],void 0===(i="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=i))},905:function(t,e,r){var n;t.exports=(n=r(21),r(165),n.pad.Iso10126={pad:function(t,e){var r=4*e,i=r-t.sigBytes%r;t.concat(n.lib.WordArray.random(i-1)).concat(n.lib.WordArray.create([i<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},n.pad.Iso10126)},939:function(t,e,r){var n,i,o;t.exports=(o=r(21),r(165),o.mode.CTR=(n=o.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var a=o.slice(0);r.encryptBlock(a,0),o[n-1]=o[n-1]+1|0;for(var s=0;s<n;s++)t[e+s]^=a[s]}}),n.Decryptor=i,n),o.mode.CTR)},953:function(t,e,r){var n;t.exports=(n=r(21),r(240),function(t){var e=n,r=e.lib,i=r.WordArray,o=r.Hasher,a=e.x64.Word,s=e.algo,u=[],c=[],f=[];!function(){for(var t=1,e=0,r=0;r<24;r++){u[t+5*e]=(r+1)*(r+2)/2%64;var n=(2*t+3*e)%5;t=e%5,e=n}for(t=0;t<5;t++)for(e=0;e<5;e++)c[t+5*e]=e+(2*t+3*e)%5*5;for(var i=1,o=0;o<24;o++){for(var s=0,l=0,h=0;h<7;h++){if(1&i){var d=(1<<h)-1;d<32?l^=1<<d:s^=1<<d-32}128&i?i=i<<1^113:i<<=1}f[o]=a.create(s,l)}}();var l=[];!function(){for(var t=0;t<25;t++)l[t]=a.create()}();var h=s.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var r=this._state,n=this.blockSize/2,i=0;i<n;i++){var o=t[e+2*i],a=t[e+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(C=r[i]).high^=a,C.low^=o}for(var s=0;s<24;s++){for(var h=0;h<5;h++){for(var d=0,p=0,y=0;y<5;y++)d^=(C=r[h+5*y]).high,p^=C.low;var v=l[h];v.high=d,v.low=p}for(h=0;h<5;h++){var m=l[(h+4)%5],g=l[(h+1)%5],b=g.high,_=g.low;for(d=m.high^(b<<1|_>>>31),p=m.low^(_<<1|b>>>31),y=0;y<5;y++)(C=r[h+5*y]).high^=d,C.low^=p}for(var w=1;w<25;w++){var S=(C=r[w]).high,k=C.low,E=u[w];E<32?(d=S<<E|k>>>32-E,p=k<<E|S>>>32-E):(d=k<<E-32|S>>>64-E,p=S<<E-32|k>>>64-E);var B=l[c[w]];B.high=d,B.low=p}var x=l[0],P=r[0];for(x.high=P.high,x.low=P.low,h=0;h<5;h++)for(y=0;y<5;y++){var C=r[w=h+5*y],R=l[w],T=l[(h+1)%5+5*y],O=l[(h+2)%5+5*y];C.high=R.high^~T.high&O.high,C.low=R.low^~T.low&O.low}C=r[0];var A=f[s];C.high^=A.high,C.low^=A.low}},_doFinalize:function(){var e=this._data,r=e.words,n=(this._nDataBytes,8*e.sigBytes),o=32*this.blockSize;r[n>>>5]|=1<<24-n%32,r[(t.ceil((n+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*r.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,u=s/8,c=[],f=0;f<u;f++){var l=a[f],h=l.high,d=l.low;h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),c.push(d),c.push(h)}return new i.init(c,s)},clone:function(){for(var t=o.clone.call(this),e=t._state=this._state.slice(0),r=0;r<25;r++)e[r]=e[r].clone();return t}});e.SHA3=o._createHelper(h),e.HmacSHA3=o._createHmacHelper(h)}(Math),n.SHA3)},955:function(t,e,r){var n;t.exports=(n=r(21),r(754),r(636),r(506),r(165),function(){var t=n,e=t.lib.BlockCipher,r=t.algo,i=[],o=[],a=[],s=[],u=[],c=[],f=[],l=[],h=[],d=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var r=0,n=0;for(e=0;e<256;e++){var p=n^n<<1^n<<2^n<<3^n<<4;p=p>>>8^255&p^99,i[r]=p,o[p]=r;var y=t[r],v=t[y],m=t[v],g=257*t[p]^16843008*p;a[r]=g<<24|g>>>8,s[r]=g<<16|g>>>16,u[r]=g<<8|g>>>24,c[r]=g,g=16843009*m^65537*v^257*y^16843008*r,f[p]=g<<24|g>>>8,l[p]=g<<16|g>>>16,h[p]=g<<8|g>>>24,d[p]=g,r?(r=y^t[t[t[m^y]]],n^=t[t[n]]):r=n=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],y=r.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,r=t.sigBytes/4,n=4*((this._nRounds=r+6)+1),o=this._keySchedule=[],a=0;a<n;a++)a<r?o[a]=e[a]:(c=o[a-1],a%r?r>6&&a%r==4&&(c=i[c>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c]):(c=i[(c=c<<8|c>>>24)>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c],c^=p[a/r|0]<<24),o[a]=o[a-r]^c);for(var s=this._invKeySchedule=[],u=0;u<n;u++){if(a=n-u,u%4)var c=o[a];else c=o[a-4];s[u]=u<4||a<=4?c:f[i[c>>>24]]^l[i[c>>>16&255]]^h[i[c>>>8&255]]^d[i[255&c]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,s,u,c,i)},decryptBlock:function(t,e){var r=t[e+1];t[e+1]=t[e+3],t[e+3]=r,this._doCryptBlock(t,e,this._invKeySchedule,f,l,h,d,o),r=t[e+1],t[e+1]=t[e+3],t[e+3]=r},_doCryptBlock:function(t,e,r,n,i,o,a,s){for(var u=this._nRounds,c=t[e]^r[0],f=t[e+1]^r[1],l=t[e+2]^r[2],h=t[e+3]^r[3],d=4,p=1;p<u;p++){var y=n[c>>>24]^i[f>>>16&255]^o[l>>>8&255]^a[255&h]^r[d++],v=n[f>>>24]^i[l>>>16&255]^o[h>>>8&255]^a[255&c]^r[d++],m=n[l>>>24]^i[h>>>16&255]^o[c>>>8&255]^a[255&f]^r[d++],g=n[h>>>24]^i[c>>>16&255]^o[f>>>8&255]^a[255&l]^r[d++];c=y,f=v,l=m,h=g}y=(s[c>>>24]<<24|s[f>>>16&255]<<16|s[l>>>8&255]<<8|s[255&h])^r[d++],v=(s[f>>>24]<<24|s[l>>>16&255]<<16|s[h>>>8&255]<<8|s[255&c])^r[d++],m=(s[l>>>24]<<24|s[h>>>16&255]<<16|s[c>>>8&255]<<8|s[255&f])^r[d++],g=(s[h>>>24]<<24|s[c>>>16&255]<<16|s[f>>>8&255]<<8|s[255&l])^r[d++],t[e]=y,t[e+1]=v,t[e+2]=m,t[e+3]=g},keySize:8});t.AES=e._createHelper(y)}(),n.AES)}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,r),o.exports}r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,n(i.key),i)}}function n(e){var r=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,r||"default");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==t(r)?r:r+""}var i=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._pairs=[],this.size=0},(r=[{key:"has",value:function(t){return this._indexOf(t)>-1}},{key:"get",value:function(t){var e=this._indexOf(t);if(e>-1)return this._pairs[e][1]}},{key:"set",value:function(t,e){var r=this._indexOf(t);r>-1?this._pairs[r][1]=e:(this._pairs.push([t,e]),this.size++)}},{key:"delete",value:function(t){var e=this._indexOf(t);return e>-1&&(this._pairs.splice(e,1),this.size--,!0)}},{key:"forEach",value:function(t){for(var e=0;e<this._pairs.length;e++)t(this._pairs[e][1],this._pairs[e][0])}},{key:"clear",value:function(){this._pairs=[]}},{key:"_indexOf",value:function(t){for(var e=0;e<this._pairs.length;e++)if(this._pairs[e][0]===t)return e;return-1}}])&&e(t.prototype,r),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}(),o=function(){return new(self.Map||i)};function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}var c=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._set=[],this.size=0},(e=[{key:"add",value:function(t){return this._set.push(t),this.size++,this}},{key:"has",value:function(t){return this._set.indexOf(t)>-1}},{key:"delete",value:function(t){for(var e=0;e<this._set.length;e++)if(this._set[e]===t)return this._set.splice(e,1),this.size--,!0;return!1}},{key:"forEach",value:function(t){for(var e=0;e<this._set.length;e++)t(this._set[e])}},{key:"clear",value:function(){this._set=[]}}])&&s(t.prototype,e),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),f=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=new(self.Set||c),r=0;r<t.length;r++)e.add(t[r]);return e};function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d(n.key),n)}}function d(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l(e)?e:e+""}var p=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._msgListeners=o()},e=[{key:"setMessagingPort",value:function(t){var e=this;this._messagePort=t,t.setonmessage(function(t){var r=t.data,n=[],i=e._msgListeners.get(r.msgType);i&&i.forEach(function(t){t.callback(r.data),t.isOneTime&&n.push(t)}),n.forEach(function(t){i.delete(t)})})}},{key:"sendAsync",value:function(t,e,r,n,i){n&&r&&this.addMessageListener(r,n,i),this._messagePort.postMessage({msgType:t,data:e})}},{key:"addMessageListener",value:function(t,e,r){var n=null;this._msgListeners.has(t)?n=this._msgListeners.get(t):(n=f(),this._msgListeners.set(t,n)),n.add({callback:e,isOneTime:r})}}],e&&h(t.prototype,e),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),y="dataWupDispatchRateSettings",v="logWupDispatchRateSettings",m="forceDynamicDataWupDispatchSettings",g="wupStatisticsLogIntervalMs",b="serverCommunicationSettings",_="wupResponseTimeout",w="wupMessageRequestTimeout",S="logMessageRequestTimeout",k="crossDomainsList",E="logLevel",B="keyEventsMaskSpecialChars",x="allowedUnmaskedValuesList",P="enableUnmaskedValues",C="wupMessageNumToRetry",R="wupRetryOnNetworkFailureOnly",T="wupMessageRetryInterval",O="wupIncrementalGrowthBetweenFailures",A="wupMaxIntervalBetweenFailures",I="logMessageNumToRetry",j="logRetryOnNetworkFailureOnly",M="logMessageRetryInterval",D="logIncrementalGrowthBetweenFailures",U="logMaxIntervalBetweenFailures",z="enableCoordinatesMasking",N="maskElementsAttributes",F="passwordIdMaskingList",L="NewSessionStartedEvent",H="ConfigurationLoadedEvent",q="ServerStateUpdatedEvent",W="HeartBeatStatusEvent",Y="ServerRestoredMuidEvent",G="ServerNewAgentIdEvent",Z=10,V=20,K=30,X=40;function Q(t){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}function J(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,et(n.key),n)}}function tt(t,e,r){return e&&$(t.prototype,e),r&&$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function et(t){var e=function(t,e){if("object"!=Q(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Q(e)?e:e+""}var rt=function(){return tt(function t(){J(this,t)},null,[{key:"setLogger",value:function(t){this._logger=t}},{key:"attachSessionIdentifiers",value:function(t){if(this._logger)return this._logger.attachSessionIdentifiers(t)}},{key:"isDebug",value:function(){if(this._logger)return this._logger.isDebug()}},{key:"error",value:function(t,e){this._logger&&this._logger.error(t,e||null)}},{key:"warn",value:function(t,e){this._logger&&this._logger.warn(t,e||null)}},{key:"trace",value:function(t){this._logger&&this._logger.trace(t)}},{key:"debug",value:function(t){this._logger&&this._logger.debug(t)}},{key:"info",value:function(t){this._logger&&this._logger.info(t)}}])}(),nt=function(){return tt(function t(e,r){J(this,t),this._logBridge=e,this._logLevel=r||V,this._sessionIdentifiers={}},[{key:"attachSessionIdentifiers",value:function(t){Object.assign(this._sessionIdentifiers,t)}},{key:"trace",value:function(t){this._sendToLogBridge(t,Z)}},{key:"debug",value:function(t){this._sendToLogBridge(t,Z)}},{key:"info",value:function(t){this._sendToLogBridge(t,V)}},{key:"warn",value:function(t,e){this._sendToLogBridge(t,K,e)}},{key:"error",value:function(t,e){this._sendToLogBridge(t,X,e)}},{key:"isDebug",value:function(){return this._logLevel===Z}},{key:"updateLogConfig",value:function(t){this._logLevel=t.get(E)||this._logLevel,this._logBridge.setLogLevel(this._logLevel),this._logBridge.clearLogEntriesByLogLevel(this._logLevel)}},{key:"_sendToLogBridge",value:function(t,e,r){e>=this._logLevel&&(r&&r.stack&&(t+=" ;stack: ".concat(r.stack)),this._logBridge.log(t,e,this._sessionIdentifiers))}}])}();function it(t){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(t)}function ot(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=it(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=it(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==it(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var at={V1_ONLY:"0",DUAL_COLLECTION_PARALLEL:"5",DUAL_COLLECTION_V1_PRIORITY:"1",DUAL_COLLECTION_V2_PRIORITY:"2",V2_ONLY:"3",isValid:function(t){return Object.values(at).includes(t)},getDescription:function(t){return ot(ot(ot(ot({},at.V1_ONLY,"Only V1 collector is active"),at.DUAL_COLLECTION_V1_PRIORITY,"Both collectors active, V1 is primary"),at.DUAL_COLLECTION_V2_PRIORITY,"Both collectors active, V2 is primary"),at.V2_ONLY,"Only V2 collector is active")[t]||"Unknown stage"}},st=at;Object.freeze({VERSION1:"VERSION1",VERSION2:"VERSION2"});var ut={migrationMode:st.V1_ONLY,v1:{offloadFontsCollectionEnabled:!1,offloadFontsRemoveDuplicated:!0},v2:{detectorType:void 0,fontsPerBatch:100,delayBetweenBatchesMs:0,adaptiveBatchEnabled:!0,minFontsPerBatch:100,maxFontsPerBatch:1e3,frameBudgetMs:100,frameHistorySize:3,ignoreFonts:["STFangsong","STHeiti","STKaiti","STXihei","NanumGothic","NanumMyeongjo","Osaka","Osaka-Mono","YuppySC-Regular"]}};function ct(t){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ct(t)}function ft(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lt(n.key),n)}}function lt(t){var e=function(t,e){if("object"!=ct(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ct(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ct(e)?e:e+""}var ht={defaultDynamicWupDispatchRateConfiguration:{type:"dynamic"},defaultIncrementalWupDispatchRateConfiguration:{type:"incremental",initialRateValueMs:500,incrementStepMs:500,incrementStopMs:5e3,incrementStartWupSendCount:20}},dt=[B,F,N,x,P,z],pt=function(){return function(t,e,r){return e&&ft(t.prototype,e),r&&ft(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._requireParseFields=o(),this._requireParseFields.set(y,y),this._requireParseFields.set(v,v),this._requireParseFields.set(k,k),this._requireParseFields.set(x,x),this._requireParseFields.set(b,b),this._configurationList={},this.configDefault={logLevel:V,isCrossdomain:!1,isGfxRendering:!1,isAudioDetectFeature:!1,enableEmuidFeature:!1,crossDomainsList:[],crossDomainsTimeout:5e3,orientationEventsSamplePeriod:300,orientationEventsThreshold:1,stateChangeEnabled:!1,accelerometerEventsSamplePeriod:0,dataQPassWorkerInterval:500,gyroEventsSamplePeriod:0,gyroEventsThreshold:.3,isContextPropsFeature:!0,isEnabled:!0,isResetEveryLoad:!1,isScrollCollect:!0,isVMDetection:!0,isAudioDetection:!1,wupStatisticsLogIntervalMs:3e4,heartBeatMessageInterval:5e3,resetSessionApiThreshold:2e4,wupMessageRequestTimeout:5e3,logMessageRequestTimeout:5e3,slaveChannelHandshakeTimeout:6e4,slaveAliveMessageInterval:100,forceDynamicDataWupDispatchSettings:!0,dataWupDispatchRateSettings:ht.defaultDynamicWupDispatchRateConfiguration,logWupDispatchRateSettings:{type:"constant",initialRateValueMs:2500},serverCommunicationSettings:{queueLoadThreshold:100},collectKeyRegionValue:!1,isMutationObserver:!0,collectCustomElementAttribute:!0,isCaptureKeyEvents:!1,locationEventsTimeoutMsec:1e4,isMotionAroundTouchEnabled:!0,motionPaddingAroundTouchMSec:3e3,isMotionOnSessionStart:!0,motionPaddingOnSessionStartMSec:2e4,keyEventsMaskSpecialChars:!1,collectSelectElementBlurAndFocusEvents:!1,enableUnmaskedValues:!1,allowedUnmaskedValuesList:[],wupMessageNumToRetry:5,wupMessageRetryInterval:1e3,wupRetryOnNetworkFailureOnly:!1,wupIncrementalGrowthBetweenFailures:3500,wupMaxIntervalBetweenFailures:16e3,logMessageNumToRetry:5,logMessageRetryInterval:1e3,logRetryOnNetworkFailureOnly:!1,logIncrementalGrowthBetweenFailures:3500,logMaxIntervalBetweenFailures:16e3,cdsNumExpirationTime:60,enableCoordinatesMasking:!1,acknowledgeDataDispatchingRate:3e3,passwordIdMaskingList:[],isFontWidthFeature:!1,isFontMathFeature:!1,isFontEmojiFeature:!1,isStorageFeature:!1,isKeyboardLayoutFeature:!1,isScreenHighResFeature:!1,isBatteryStatusFeature:!1,isNavigatorFeature:!1,isWebglFeature:!1,isWebRTCFeature:!1,isSpeechVoicesFeature:!1,isDRMFeature:!1,isBrowserExtensionsFeature:!1,isAdblockerListsFeature:!1,isAudioDetectFeature2:!1,elementUniqueIDConfiguration:{componentsFormat:"{tagName}_{index}_{id}_{className}_{ariaLabel}_{containerInfo}_{hierarchyPath}",hierarchyFormat:"{tagName}_{index}",enabledTags:["input","textarea","button","select","div","span"]},offloadFontsCollectionEnabled:ut.v1.offloadFontsCollectionEnabled,offloadFontsRemoveDuplicated:ut.v1.offloadFontsRemoveDuplicated,fontCollection:JSON.stringify(ut),enableElementHierarchy:!1,enableElementCategory:!0,isCPUFeature:!1,enableAutoContextCategory:!0,contextCategories:r(753)},this.loadConfigurations(this.configDefault)},[{key:"isConfigurationUpdatedFromServer",value:function(){return!this._isDefaultConfiguration}},{key:"loadConfigurations",value:function(t,e){var r=this;t&&(this._isDefaultConfiguration=t===this.configDefault,Object.keys(t).forEach(function(n){if(e||r._isDefaultConfiguration||!dt.includes(n)){var i=t[n];if(r._requireParseFields.has(n)){var o=r._tryParseConfigurationValue(i);o&&(i=o)}r._configurationList[n]=i}}))}},{key:"get",value:function(t){return this._configurationList[t]}},{key:"set",value:function(t,e){this._configurationList[t]=e}},{key:"getAll",value:function(){return this._configurationList}},{key:"_tryParseConfigurationValue",value:function(t){if("string"!=typeof t)return null;try{return JSON.parse(t)}catch(t){}return null}}])}();function yt(t){return yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yt(t)}function vt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mt(n.key),n)}}function mt(t){var e=function(t,e){if("object"!=yt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=yt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==yt(e)?e:e+""}var gt=function(){return function(t,e,r){return e&&vt(t.prototype,e),r&&vt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._listeners=[]},[{key:"subscribe",value:function(t){this._listeners.push(t)}},{key:"publish",value:function(t){for(var e=0,r=this._listeners.length;e<r;e++)this._listeners[e](t)}},{key:"unsubscribe",value:function(t){for(var e=0,r=this._listeners.length;e<r;e++)if(t===this._listeners[e]){this._listeners.splice(e,1);break}}}])}();function bt(t){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bt(t)}function _t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wt(n.key),n)}}function wt(t){var e=function(t,e){if("object"!=bt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=bt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==bt(e)?e:e+""}var St=function(){return function(t,e,r){return e&&_t(t.prototype,e),r&&_t(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onServerStateUpdated=new gt,this.reset()},[{key:"getSts",value:function(){return this._sts}},{key:"getStd",value:function(){return this._std}},{key:"getSid",value:function(){return this._sid}},{key:"setCid",value:function(t){this._cid=t}},{key:"getCid",value:function(){return this._cid}},{key:"getCsid",value:function(){return this._csid}},{key:"getPsid",value:function(){return this._psid}},{key:"getMuid",value:function(){return this._muid}},{key:"getContextName",value:function(){return this._contextName}},{key:"getRequestId",value:function(){return this._requestId}},{key:"getWupDispatchRate",value:function(){return this._wupDispatchRate}},{key:"getBrand",value:function(){return this._brand}},{key:"setSts",value:function(t){this._sts=t}},{key:"setStd",value:function(t){this._std=t}},{key:"setSid",value:function(t){this._sid=t}},{key:"setCsid",value:function(t){this._csid=t}},{key:"setPsid",value:function(t){this._psid=t}},{key:"setMuid",value:function(t){this._muid=t||null}},{key:"setOtt",value:function(t){this._ott=t}},{key:"getOtt",value:function(){return this._ott}},{key:"setContextName",value:function(t){this._contextName=t}},{key:"setRequestId",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._requestId=t,e&&this._publish(),this._requestId}},{key:"setWupDispatchRate",value:function(t){t?this._wupDispatchRate=t:rt.warn("Wup dispatch rate of ".concat(t," is invalid. Ignoring update"))}},{key:"setBrand",value:function(t){this._brand=t}},{key:"setAgentType",value:function(t){this._agent_type=t}},{key:"getAgentType",value:function(){return this._agent_type}},{key:"setAgentId",value:function(t){this._agent_id=t}},{key:"getAgentId",value:function(){return this._agent_id}},{key:"markConfigurationRequested",value:function(){this._hasConfiguration?rt.warn("We already have configuration. Ignoring the attempt to mark a pending configuration request."):this._hasPendingConfigurationRequest=!0}},{key:"markConfigurationReceived",value:function(){this._hasConfiguration?rt.warn("Marking that we received configuration although we already received configuration from the server. We shouldn\'t have received it again."):this._hasPendingConfigurationRequest||rt.warn("Marking that we received configurations although we didn\'t have a pending request for configurations."),this._hasPendingConfigurationRequest=!1,this._hasConfiguration=!0}},{key:"getHasConfiguration",value:function(){return this._hasConfiguration}},{key:"getHasPendingConfigurationRequest",value:function(){return this._hasPendingConfigurationRequest}},{key:"incrementRequestId",value:function(){return this._requestId++,this._publish(),this._requestId}},{key:"resetRequestId",value:function(){this._requestId=0}},{key:"reset",value:function(){this._ott=null,this._sts=null,this._std=null,this._sid=null,this._cid=null,this._csid=null,this._muid=null,this._contextName=null,this._requestId=0,this._wupDispatchRate=5e3,this._hasConfiguration=!1,this._hasPendingConfigurationRequest=!1,this._brand=null,this._agent_type=null,this._agent_id=null,this._baseServerUrl=null,this._protocolType=null,this._shouldMinifyUri=!1}},{key:"setBaseServerUrl",value:function(t){this._baseServerUrl=t}},{key:"getBaseServerUrl",value:function(){return this._baseServerUrl}},{key:"setProtocolType",value:function(t){this._protocolType=t}},{key:"setShouldMinifyUri",value:function(t){this._shouldMinifyUri=t}},{key:"getShouldMinifyUri",value:function(){return this._shouldMinifyUri}},{key:"getProtocolType",value:function(){return this._protocolType}},{key:"_publish",value:function(){this.onServerStateUpdated.publish({requestId:this._requestId,sid:this._sid,sts:this._sts,std:this._std,ott:this._ott})}}])}();function kt(t){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt(t)}function Et(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bt(n.key),n)}}function Bt(t){var e=function(t,e){if("object"!=kt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=kt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==kt(e)?e:e+""}var xt=function(){return function(t,e,r){return e&&Et(t.prototype,e),r&&Et(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},[{key:"build",value:function(t){return t.getInternalMessage()}}])}();function Pt(t){return Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pt(t)}function Ct(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rt(n.key),n)}}function Rt(t){var e=function(t,e){if("object"!=Pt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Pt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Pt(e)?e:e+""}var Tt=function(){return function(t,e,r){return e&&Ct(t.prototype,e),r&&Ct(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._buffer=[]},[{key:"hasItems",value:function(){return this.length()>0}},{key:"length",value:function(){return this._buffer.length}},{key:"enqueue",value:function(t){this._buffer.push(t)}},{key:"enqueueToHead",value:function(t){this._buffer.unshift(t)}},{key:"dequeue",value:function(){return this._buffer.shift()}},{key:"getItem",value:function(t){return this._buffer[t]}}])}();function Ot(t){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ot(t)}function At(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,It(n.key),n)}}function It(t){var e=function(t,e){if("object"!=Ot(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ot(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ot(e)?e:e+""}var jt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,r){return e&&At(t.prototype,e),r&&At(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,null,[{key:"addEventListener",value:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isPassiveSupported?t.addEventListener(e,r,{capture:n,passive:i,once:o}):t.addEventListener?t.addEventListener(e,r,n):t.attachEvent("on"+e,r)}},{key:"removeEventListener",value:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.removeEventListener?t.removeEventListener(e,r,n):t.detachEvent("on"+e,r)}},{key:"outerHTML",value:function(t){return t.outerHTML||(new XMLSerializer).serializeToString(t)}},{key:"onDocumentBody",value:function(t,e){t.document.body?e():window.addEventListener?window.addEventListener("DOMContentLoaded",e,!0):window.attachEvent("onload",e)}},{key:"onPageLoad",value:function(e,r){t.addEventListener(e,"load",r,!0),(e.contentWindow&&"complete"===e.contentWindow.document.readyState||e.document&&"complete"===e.document.readyState)&&r()}},{key:"awaitWindowDocumentReady",value:function(t){var e=this;return new Promise(function(r,n){try{e.onWindowDocumentReady(t,function(){r()})}catch(t){n(t)}})}},{key:"onWindowDocumentReady",value:function(e,r){var n=window.addEventListener?"DOMContentLoaded":"load";if("complete"===e.document.readyState||"interactive"===e.document.readyState)r();else{var i=function(){t.removeEventListener(e,n,i,!0),r()};t.addEventListener(e,n,i,!0)}}},{key:"isWindowDocumentReady",value:function(t){return t&&"complete"===t.document.readyState}},{key:"canAccessIFrame",value:function(t){if(!t.contentWindow)return!1;var e,r=window.location.origin;try{e=t.contentWindow.location.origin}catch(t){return!1}if(e===r||"null"===e)try{return!(!t.contentDocument||!t.contentDocument.body)}catch(t){return!1}return!1}},{key:"matches",value:function(t,e){var r=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector||function(t){var e=this.document||this.ownerDocument;if(!e)return!1;for(var r=e.querySelectorAll(t),n=r.length;--n>=0;){if((r.item?r.item(n):r[n])===this)break}return n>-1};return r.call(t,e)}},{key:"isWebWorkerFetchSupported",value:function(){var t="Request"in self,e="fetch"in self;if(!t)return!1;var r="keepalive"in Request.prototype;return e&&r}},{key:"isSubtleCryptoSupported",value:function(){return"SubtleCrypto"in self}}])}();!function(t,e,r){(e=It(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(jt,"isPassiveSupported",function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}());var Mt="X-h",Dt="x-requested-host",Ut=r(396),zt=r.n(Ut);function Nt(t){return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nt(t)}function Ft(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Lt(n.key),n)}}function Lt(t){var e=function(t,e){if("object"!=Nt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Nt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Nt(e)?e:e+""}var Ht=function(){return function(t,e,r){return e&&Ft(t.prototype,e),r&&Ft(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},null,[{key:"hashSha256",value:function(t,e){if(!jt.isSubtleCryptoSupported())return rt.info("HashService: SubtleCrypto is not supported using fallback hashing"),void e(null,zt().SHA256(t).toString(zt().enc.Hex));var r=(new TextEncoder).encode(t);crypto.subtle.digest("SHA-256",r).then(function(t){var r=Array.from(new Uint8Array(t)).map(function(t){return t.toString(16).padStart(2,"0")}).join("");e(null,r)}).catch(function(t){e(t)})}}])}(),qt="api/v4/wup",Wt="client/v3.1/web/wup",Yt="POST";function Gt(t){return Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gt(t)}function Zt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Vt(n.key),n)}}function Vt(t){var e=function(t,e){if("object"!=Gt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Gt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Gt(e)?e:e+""}var Kt=function(){return function(t,e,r){return e&&Zt(t.prototype,e),r&&Zt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,r,n,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._requestBodyBuilder=e,this.updateSettings(r),this._workerUtils=n,this._acceptNoResponse=o,this._messageDescriptor=a,this.retryMessage=i,this._dataQueue=new Tt,this._awaitingServerResponse=!1,this._currentSentItem=null,this._sendRetryTimeoutId=null,this._shouldRetryToSendMessage=!1,this._messageIdentifier=0,this._enableRequestBodyHashing=!1,this._isPaused=!1},[{key:"updateSettings",value:function(t){this._queueLoadThershold=t.queueLoadThreshold}},{key:"getRetryMessage",value:function(){return this.retryMessage}},{key:"updateEnableWupMessagesHashing",value:function(t){this._enableRequestBodyHashing=t}},{key:"sendMessage",value:function(t,e,r,n,i,o,a){var s=this,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this._enqueueMessage(t,e,r,n,function(t){s._onMessageSendSuccess(t,i)},function(t,e,r){s._onMessageSendFailure(t,e,r,o)},a,u)}},{key:"flush",value:function(){this._flushData()}},{key:"setIsPaused",value:function(t){this._isPaused=t}},{key:"isReadyToSendData",value:function(){return!this._isPaused}},{key:"_onMessageSendSuccess",value:function(t,e){this._awaitingServerResponse=!1,this._currentSentItem=null,this._shouldRetryToSendMessage=!1,this.retryMessage.restartMessageSettings(),e(t),this._processNextQueueItem()}},{key:"_onMessageSendFailure",value:function(t,e,r,n){if(!this._currentSentItem)return rt.error("An unexpected error has occurred while handling a ".concat(this._messageDescriptor," message send failure. Could not find sent item value. Moving to next queued item")),void this._processNextQueueItem();rt.warn("Failed sending ".concat(this._messageDescriptor," message #").concat(this._currentSentItem.identifier,". ").concat(this._buildFailureLog(t,e,r))),this._awaitingServerResponse=!1;var i=0===this._currentSentItem.maxNumberOfSendAttempts;!this._isPaused&&this.retryMessage.shouldReMessage(i,e)?(this._shouldRetryToSendMessage=!0,rt.info("Trying to send ".concat(this._messageDescriptor," message #").concat(this._currentSentItem.identifier," again. Number of send failures is ").concat(this.retryMessage.getNumberOfSendFailures())),n&&n(e,this._currentSentItem,this.retryMessage.getNumberOfSendFailures(),this._shouldRetryToSendMessage)):(this._shouldRetryToSendMessage=!1,rt.warn("Discarding ".concat(this._messageDescriptor," message #").concat(this._currentSentItem.identifier," after ").concat(this.retryMessage.getNumberOfSendFailures()," failed send attempts.")),n&&n(e,this._currentSentItem,this.retryMessage.getNumberOfSendFailures(),this._shouldRetryToSendMessage),this._currentSentItem=null,this.retryMessage.restartMessageSettings(),this._processNextQueueItem())}},{key:"_enqueueMessage",value:function(t,e,r,n,i,o,a,s){this._dataQueue.enqueue({identifier:this._messageIdentifier++,messageToSend:t,onSuccess:i,onError:o,timeout:e,maxNumberOfSendAttempts:r,serverUrl:a,realAPI:s}),this._shouldRetryToSendMessage||(this._clearRetryTimeout(),n&&this._flushData(),this._awaitingServerResponse||this._processNextQueueItem(n))}},{key:"_processNextQueueItem",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this._dataQueue.hasItems()||!r){var n=null;r?(n=this._dataQueue.dequeue(),this._currentSentItem=n):n=this._currentSentItem;var i=this._requestBodyBuilder.build(n.messageToSend,e);this._enableRequestBodyHashing?Ht.hashSha256(i,function(r,o){r?rt.error(r):t._sendProcessedQueueItem(i,n,e,o)}):this._sendProcessedQueueItem(i,n,e)}}},{key:"_sendProcessedQueueItem",value:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(jt.isWebWorkerFetchSupported()&&r){var i=new Headers;n&&i.append(Mt,n),e.realAPI&&i.append(Dt,e.realAPI);var o={method:Yt,headers:i,body:t,keepalive:!0};this._sendWithFetch(o,e.serverUrl)}else this._sendWithXMLHttpRequest(t,e,n);this._checkQueueLength()}},{key:"_sendWithFetch",value:function(t,e){this._currentSentItem=null,self.fetch(e,t),rt.info("Flush data was sent by fetch")}},{key:"_sendWithXMLHttpRequest",value:function(t,e,r){this._awaitingServerResponse=!0,this._workerUtils.getPostUrl(e.serverUrl,Yt,t,e.onSuccess,e.onError,this._acceptNoResponse,e.timeout,r,e.realAPI)}},{key:"_checkQueueLength",value:function(){this._dataQueue.length()>this._queueLoadThershold&&rt.warn("Data queue has ".concat(this._dataQueue.length()," items in queue. Might indicate slow\\\\unstable communication issues."))}},{key:"_flushData",value:function(){for(;this._dataQueue.hasItems();)this._processNextQueueItem(!0)}},{key:"prepareMessageForSendRetry",value:function(t){var e=this;this._clearRetryTimeout(),this.retryMessage.updateRetryInterval();var r=this.retryMessage.getNextInterval();this._sendRetryTimeoutId=setTimeout(function(){e._retryQueueItem(t)},r)}},{key:"_retryQueueItem",value:function(t){var e,r=this;e=t;var n=this._requestBodyBuilder.build(e.messageToSend,!1);this._enableRequestBodyHashing?Ht.hashSha256(n,function(t,i){t?rt.error(t):r._sendProcessedQueueItem(n,e,!1,i)}):this._sendProcessedQueueItem(n,e,!1,null)}},{key:"_clearRetryTimeout",value:function(){this._sendRetryTimeoutId&&clearTimeout(this._sendRetryTimeoutId)}},{key:"_buildFailureLog",value:function(t,e,r){var n="";return t&&(n+="Response Text: ".concat(t,".")),e&&(n+="Status: ".concat(e,".")),r&&(n+="Status Text: ".concat(r,".")),n}}])}();function Xt(t){return Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xt(t)}function Qt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Jt(n.key),n)}}function Jt(t){var e=function(t,e){if("object"!=Xt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Xt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xt(e)?e:e+""}var $t=function(){return function(t,e,r){return e&&Qt(t.prototype,e),r&&Qt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},[{key:"setData",value:function(t){this._data=t}},{key:"getInternalMessage",value:function(){return this._data}}])}();function te(t){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},te(t)}function ee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,re(n.key),n)}}function re(t){var e=function(t,e){if("object"!=te(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=te(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==te(e)?e:e+""}var ne=function(){return function(t,e,r){return e&&ee(t.prototype,e),r&&ee(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._dataPacker=e},[{key:"build",value:function(t){var e=new $t;return e.setData(this._dataPacker.pack(t)),e}}])}(),ie=self.btoa?self.btoa.bind(self):function(t){for(var e,r,n=String(t),i="",o=0,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.charAt(0|o)||(a="=",o%1);i+=a.charAt(63&e>>8-o%1*8)){if((r=n.charCodeAt(o+=3/4))>255)throw new Error("\'btoa\' failed: The string to be encoded contains characters outside of the Latin1 range.");e=e<<8|r}return i};function oe(t){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oe(t)}function ae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,se(n.key),n)}}function se(t){var e=function(t,e){if("object"!=oe(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=oe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==oe(e)?e:e+""}var ue=r(273),ce=r(860),fe=function(){return function(t,e,r){return e&&ae(t.prototype,e),r&&ae(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._compressData=function(t){var e=ue.encode(t);return e=ce.deflateRaw(e,{to:"string"}),ie(e)}},[{key:"pack",value:function(t){return this._getCompressedData(t)}},{key:"_getCompressedData",value:function(t){return this._compressData(t)}}])}(),le=5,he=1,de=1e3,pe=1e3,ye=100,ve=1e4,me=3500,ge=0,be=1e4,_e=16e3,we=100,Se=3e5;function ke(t){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ke(t)}function Ee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Be(n.key),n)}}function Be(t){var e=function(t,e){if("object"!=ke(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ke(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ke(e)?e:e+""}var xe=function(){return function(t,e,r){return e&&Ee(t.prototype,e),r&&Ee(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,r,n,i,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.messageNumToRetry=e,this.messageRetryInterval=r,this.incrementalGrowthBetweenFailures=n,this.maxIntervalBetweenFailures=i,this.retryOnNetworkFailureOnly=o,this.init()},[{key:"init",value:function(){this._validateReMessageSettings()}},{key:"getMessageNumToRetry",value:function(){return this.messageNumToRetry}},{key:"getMessageRetryInterval",value:function(){return this.messageRetryInterval}},{key:"getMaxIntervalBetweenFailures",value:function(){return this.maxIntervalBetweenFailures}},{key:"getIncrementalGrowthBetweenFailures",value:function(){return this.incrementalGrowthBetweenFailures}},{key:"shouldRetryOnNetworkFailureOnly",value:function(){return this.retryOnNetworkFailureOnly}},{key:"_validateReMessageSettings",value:function(){var t="The provided configuration is invalid, it must be  ";isNaN(this.messageNumToRetry)?(rt.warn("".concat(t," a number. setting to default: ").concat(le)),this.messageNumToRetry=le):this.messageNumToRetry=parseInt(this.messageNumToRetry),(this.messageNumToRetry<he||this.messageNumToRetry>de)&&(rt.warn("messageNumToRetry - ".concat(t," in the following range: \\n            ").concat(he," - ").concat(de," setting to default: ").concat(le)),this.messageNumToRetry=le),(this.messageRetryInterval<ye||this.messageRetryInterval>ve)&&(rt.warn("messageRetryInterval - ".concat(t," in the following range: \\n            [").concat(ye," - ").concat(ve,"], \\n            setting to default: ").concat(pe)),this.messageRetryInterval=pe),(this.incrementalGrowthBetweenFailures<ge||this.incrementalGrowthBetweenFailures>be)&&(rt.warn("incrementalGrowthBetweenFailures - ".concat(t," in the following range: \\n            [").concat(ge," - ").concat(be,"],\\n                setting to default: ").concat(me)),this.incrementalGrowthBetweenFailures=me),(this.maxIntervalBetweenFailures<we||this.maxIntervalBetweenFailures>Se)&&(rt.warn("maxIntervalBetweenFailures - ".concat(t," in the following range: \\n            [").concat(we," - ").concat(Se,"]\\n                setting to default: ").concat(_e)),this.maxIntervalBetweenFailures=_e),this.maxIntervalBetweenFailures<this.messageRetryInterval&&(rt.warn(" maxIntervalBetweenFailures - ".concat(t," greater than minimum interval: \\n            [").concat(we,"], setting to defaults:\\n                ").concat(_e)),this.maxIntervalBetweenFailures=_e,this.messageRetryInterval=pe)}}])}();function Pe(t){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pe(t)}function Ce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Re(n.key),n)}}function Re(t){var e=function(t,e){if("object"!=Pe(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Pe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Pe(e)?e:e+""}var Te=function(){return function(t,e,r){return e&&Ce(t.prototype,e),r&&Ce(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},null,[{key:"createReMessageSettings",value:function(t){return new xe(t.get(I),t.get(M),t.get(D),t.get(U),t.get(j))}}])}();function Oe(t){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oe(t)}function Ae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ie(n.key),n)}}function Ie(t){var e=function(t,e){if("object"!=Oe(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Oe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Oe(e)?e:e+""}var je=function(){return function(t,e,r){return e&&Ae(t.prototype,e),r&&Ae(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._serverCommunicator=e,this._logMessageBuilder=r,this._configurationRepository=n,this._serverUrl=null,this._MESSAGE_SEND_RETRIES=5,this._requestTimeout=this._configurationRepository.get(S)},[{key:"setServerUrl",value:function(t){this._serverUrl=t}},{key:"setIsPaused",value:function(t){this._serverCommunicator.setIsPaused(t)}},{key:"sendData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._serverUrl){var r=this._logMessageBuilder.build(t);this._serverCommunicator.sendMessage(r,this._requestTimeout,this._serverCommunicator.getRetryMessage().getMessageNumToRetry(),e,this._onSendDataSuccess.bind(this),this._onSendDataFailure.bind(this),this._serverUrl),e&&this._serverCommunicator.flush()}else rt.error("Cannot send log message: server URL is not set")}},{key:"isReady",value:function(){return this._serverCommunicator.isReadyToSendData()}},{key:"setRequestTimeout",value:function(t){this._requestTimeout=t}},{key:"setConfigurationLogMessage",value:function(){var t=Te.createReMessageSettings(this._configurationRepository);this._serverCommunicator.getRetryMessage().updateSettings(t)}},{key:"_onSendDataSuccess",value:function(){}},{key:"_onSendDataFailure",value:function(t){rt.warn("Failed sending log message. Error: ".concat(t,"."))}}])}();function Me(t){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Me(t)}function De(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ue(n.key),n)}}function Ue(t){var e=function(t,e){if("object"!=Me(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Me(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Me(e)?e:e+""}var ze=function(){return function(t,e,r){return e&&De(t.prototype,e),r&&De(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._statisticsLogIntervalMs=e,this.resetCounters(),this._setPeriodicStatisticsLog()},[{key:"getSentWupsCount",value:function(){return this._sentWupsCount}},{key:"incrementSentWupCount",value:function(){this._sentWupsCount++,this._sentWupsInCurrentIntervalCount++}},{key:"updateSettings",value:function(t){this._statisticsLogIntervalMs=t,this._setPeriodicStatisticsLog()}},{key:"resetCounters",value:function(){this._sentWupsCount=0,this._sentWupsInCurrentIntervalCount=0}},{key:"stop",value:function(){this._stopPeriodicStatisticsLog()}},{key:"_writeStatisticsLog",value:function(){0!==this._sentWupsInCurrentIntervalCount&&(rt.debug("Sent ".concat(this._sentWupsInCurrentIntervalCount," wup in the last ").concat(this._statisticsLogIntervalMs," ms. Sent a total of ").concat(this._sentWupsCount," in the session")),this._sentWupsInCurrentIntervalCount=0)}},{key:"_stopPeriodicStatisticsLog",value:function(){this._periodicLogIntervalId&&clearInterval(this._periodicLogIntervalId)}},{key:"_setPeriodicStatisticsLog",value:function(){this._stopPeriodicStatisticsLog(),this._periodicLogIntervalId=setInterval(this._writeStatisticsLog.bind(this),this._statisticsLogIntervalMs)}}])}(),Ne="incremental",Fe="constant",Le="dynamic";function He(t){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},He(t)}function qe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,We(n.key),n)}}function We(t){var e=function(t,e){if("object"!=He(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=He(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==He(e)?e:e+""}var Ye=function(){return function(t,e,r){return e&&qe(t.prototype,e),r&&qe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.updateSettings(e)},[{key:"getRate",value:function(){return this._currentRate}},{key:"updateSettings",value:function(t){if(t.type!==Fe)throw new Error("Invalid settings provided to constant calculator");this._currentRate=t.initialRateValueMs}}])}();function Ge(t){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ge(t)}function Ze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ve(n.key),n)}}function Ve(t){var e=function(t,e){if("object"!=Ge(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ge(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ge(e)?e:e+""}var Ke=function(){return function(t,e,r){return e&&Ze(t.prototype,e),r&&Ze(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._wupStatisticsService=r,this.updateSettings(e)},[{key:"getRate",value:function(){if(this._wupStatisticsService.getSentWupsCount()<this._incrementStartWupSendCount)return this._currentRate;var t=this._currentRate+this._incrementStepMs;return t<=this._incrementStopMs&&(this._currentRate=t),this._currentRate}},{key:"updateSettings",value:function(t){if(t.type!==Ne)throw new Error("Invalid settings provided to incremental calculator");this._currentRate=t.initialRateValueMs,this._incrementStepMs=t.incrementStepMs,this._incrementStopMs=t.incrementStopMs,this._incrementStartWupSendCount=t.incrementStartWupSendCount}}])}();function Xe(t){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xe(t)}function Qe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Je(n.key),n)}}function Je(t){var e=function(t,e){if("object"!=Xe(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Xe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xe(e)?e:e+""}var $e=function(){return function(t,e,r){return e&&Qe(t.prototype,e),r&&Qe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._wupServerSessionState=e},[{key:"getRate",value:function(){return this._wupServerSessionState.getWupDispatchRate()}},{key:"updateSettings",value:function(){}}])}();function tr(t){return tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tr(t)}function er(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rr(n.key),n)}}function rr(t){var e=function(t,e){if("object"!=tr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=tr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==tr(e)?e:e+""}var nr=function(){return function(t,e,r){return e&&er(t.prototype,e),r&&er(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._wupStatisticsService=e,this._wupServerSessionState=r},[{key:"create",value:function(t){if(t.type===Fe)return new Ye(t);if(t.type===Ne)return new Ke(t,this._wupStatisticsService);if(t.type===Le)return new $e(this._wupServerSessionState);throw new Error("Unsupported dispatch rate type ".concat(t.type))}}])}();function ir(t){return ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ir(t)}function or(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ar(n.key),n)}}function ar(t){var e=function(t,e){if("object"!=ir(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ir(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ir(e)?e:e+""}var sr=function(){return function(t,e,r){return e&&or(t.prototype,e),r&&or(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,r,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._serverClient=e,this._aggregator=r,this._wupDispatchRateCalculatorFactory=n,this._wupDispatchRateSettings=i,this._wupDispatchRateCalculator=this._wupDispatchRateCalculatorFactory.create(this._wupDispatchRateSettings),this._sendToServerInterval=this._wupDispatchRateCalculator.getRate(),this._setDispatchInterval(this._sendToServerInterval)},[{key:"add",value:function(t){this._aggregator.add(t)}},{key:"sendIfRequired",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0===this._sendToServerInterval||t)&&this._sendToServer(t)}},{key:"updateByConfig",value:function(t){t&&(t.type!==this._wupDispatchRateSettings.type?this._wupDispatchRateCalculator=this._wupDispatchRateCalculatorFactory.create(t):this._wupDispatchRateCalculator.updateSettings(t),this._sendToServerInterval=this._wupDispatchRateCalculator.getRate(),this._setDispatchInterval(this._sendToServerInterval),this._wupDispatchRateSettings=t)}},{key:"scheduleNextDispatching",value:function(){var t=this._wupDispatchRateCalculator.getRate();t!==this._sendToServerInterval&&(this._sendToServerInterval=t,this._setDispatchInterval(this._sendToServerInterval))}},{key:"_sendToServer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];rt.debug("Sending a message to the server"),this._serverClient.isReady()?this._aggregator.isEmpty()||(this._serverClient.sendData(this._aggregator.take(),t),this.scheduleNextDispatching()):rt.info("".concat(this._serverClient.constructor.name," is not ready. Message will not be sent to server"))}},{key:"_setDispatchInterval",value:function(t){this._sendIntervalId&&(clearInterval(this._sendIntervalId),this._sendIntervalId=null),0!==t&&(this._sendIntervalId=setInterval(this._sendToServer.bind(this),t))}}])}();function ur(t){return ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ur(t)}function cr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fr(n.key),n)}}function fr(t){var e=function(t,e){if("object"!=ur(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ur(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ur(e)?e:e+""}var lr=function(){return function(t,e,r){return e&&cr(t.prototype,e),r&&cr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.reset()},[{key:"setLogLevel",value:function(t){this._logLevel=t}},{key:"add",value:function(t){var e=t.data;if(!e)throw new Error("Unable to add log message. Missing data field");(!e.level||e.level>=this._logLevel)&&this._Q.push(e)}},{key:"take",value:function(){var t=this._Q;return this.reset(),t}},{key:"reset",value:function(){this._Q=[],this.setLogLevel(void 0===this._logLevel?V:this._logLevel)}},{key:"isEmpty",value:function(){return 0===this._Q.length}},{key:"filterOutByLogLevel",value:function(t){this._Q=this._Q.filter(function(e,r,n){return e.level>=t})}}])}();function hr(t){return hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hr(t)}function dr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pr(n.key),n)}}function pr(t){var e=function(t,e){if("object"!=hr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=hr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==hr(e)?e:e+""}var yr=function(){return function(t,e,r){return e&&dr(t.prototype,e),r&&dr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._dataDispatcher=e},[{key:"process",value:function(t){if(!t)throw new Error("Invalid message received for processing.");var e=!1;if(Array.isArray(t))for(var r=0,n=t.length;r<n;r++)e=this._processSingleMessage(t[r])||e;else e=this._processSingleMessage(t)||e;this._dataDispatcher.sendIfRequired(e)}},{key:"_processSingleMessage",value:function(t){if(this._isEmptyFlushMessage(t))return!0;var e=!1;if(t.shouldFlush&&(e=!0),!this._isDataValid(t)){var r="Received a message with invalid structure. Missing eventName or Data fields";throw rt.error(r),new Error(r)}return this._dataDispatcher.add(t),e}},{key:"_isEmptyFlushMessage",value:function(t){return"flushData"===t.eventName}},{key:"_isDataValid",value:function(t){return t.eventName&&t.data}}])}(),vr="js";function mr(t){return mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mr(t)}function gr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,br(n.key),n)}}function br(t){var e=function(t,e){if("object"!=mr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=mr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==mr(e)?e:e+""}var _r=function(){return function(t,e,r){return e&&gr(t.prototype,e),r&&gr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._messageStruct={ds:vr}},[{key:"getDataSource",value:function(){return this._messageStruct.ds}},{key:"getSid",value:function(){return this._messageStruct.cdsnum}},{key:"setSid",value:function(t){this._messageStruct.cdsnum=t}},{key:"getCsid",value:function(){return this._messageStruct.csid}},{key:"setCsid",value:function(t){this._messageStruct.csid=t}},{key:"getPsid",value:function(){return this._messageStruct.psid}},{key:"setPsid",value:function(t){this._messageStruct.psid=t}},{key:"getMuid",value:function(){return this._messageStruct.muid}},{key:"setMuid",value:function(t){this._messageStruct.muid=t}},{key:"getContextName",value:function(){return this._messageStruct.context_name}},{key:"setContextName",value:function(t){this._messageStruct.context_name=t}},{key:"getRequestId",value:function(){return this._messageStruct.requestId}},{key:"setRequestId",value:function(t){this._messageStruct.requestId=t}},{key:"getSts",value:function(){return this._messageStruct.sts}},{key:"setSts",value:function(t){this._messageStruct.sts=t}},{key:"getStd",value:function(){return this._messageStruct.std}},{key:"setStd",value:function(t){this._messageStruct.std=t}},{key:"setFlush",value:function(t){this._messageStruct.f=t}},{key:"getConfigurationName",value:function(){return this._messageStruct.c}},{key:"setConfigurationName",value:function(t){this._messageStruct.c=t}},{key:"getData",value:function(){return this._messageStruct.d}},{key:"setData",value:function(t){this._messageStruct.d=t}},{key:"getInternalMessage",value:function(){return this._messageStruct}},{key:"setOtt",value:function(t){this._messageStruct.ott=t}},{key:"getOtt",value:function(){return this._messageStruct.ott}},{key:"setAgentType",value:function(t){this._messageStruct.agent_type=t}},{key:"getAgentType",value:function(){return this._messageStruct.agent_type}},{key:"setAgentId",value:function(t){this._messageStruct.agent_id=t}},{key:"getAgentId",value:function(){return this._messageStruct.agent_id}}])}();function wr(t){return wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wr(t)}function Sr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kr(n.key),n)}}function kr(t){var e=function(t,e){if("object"!=wr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=wr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wr(e)?e:e+""}var Er=function(){return function(t,e,r){return e&&Sr(t.prototype,e),r&&Sr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._wupServerSessionState=e,this._dataPacker=r},[{key:"build",value:function(t,e){var r=new _r;this._updateDataWithBrand(e),r.setSid(this._wupServerSessionState.getSid()),r.setCsid(this._wupServerSessionState.getCsid()),r.setPsid(this._wupServerSessionState.getPsid()),r.setMuid(this._wupServerSessionState.getMuid()),r.setContextName(this._wupServerSessionState.getContextName()),r.setRequestId(this._wupServerSessionState.getRequestId()),r.setAgentType(this._wupServerSessionState.getAgentType()),r.setAgentId(this._wupServerSessionState.getAgentId()),this._wupServerSessionState.getSts()&&this._wupServerSessionState.getStd()&&(r.setSts(this._wupServerSessionState.getSts()),r.setStd(this._wupServerSessionState.getStd()));var n=this._wupServerSessionState.getOtt();return n&&r.setOtt(n),t===vr?r.setConfigurationName(t):r.setData([this._dataPacker.pack(e)]),r}},{key:"_updateDataWithBrand",value:function(t){var e=this._wupServerSessionState.getBrand();e&&(t.static_fields||(t.static_fields=[]),t.static_fields.push(["brand",e]))}}])}();function Br(t){return Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Br(t)}function xr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Pr(n.key),n)}}function Pr(t){var e=function(t,e){if("object"!=Br(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Br(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Br(e)?e:e+""}var Cr=function(){return function(t,e,r){return e&&xr(t.prototype,e),r&&xr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._wupServerSessionState=e},[{key:"build",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.setSid(this._wupServerSessionState.getSid()),t.setSts(this._wupServerSessionState.getSts()),t.setStd(this._wupServerSessionState.getStd()),t.setOtt(this._wupServerSessionState.getOtt()),e&&t.setFlush(vr),JSON.stringify(t.getInternalMessage())}}])}(),Rr="ConfigurationLoadedEvent",Tr="NewSessionStartedEvent",Or="WupDispatchRateUpdatedEvent",Ar="ServerStateUpdatedEvent",Ir="ServerRestoredMuidEvent",jr="ServerNewAgentIdEvent",Mr="WorkerSystemStatusEvent";function Dr(t){return Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dr(t)}function Ur(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zr(n.key),n)}}function zr(t){var e=function(t,e){if("object"!=Dr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Dr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Dr(e)?e:e+""}var Nr=function(){return function(t,e,r){return e&&Ur(t.prototype,e),r&&Ur(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._wupServerSessionState=e,this._messageBus=r,this._configurationRepository=n},[{key:"process",value:function(t,e){var r=!1;e&&(this._wupServerSessionState.markConfigurationReceived(),this._configurationRepository.loadConfigurations(t),r=!0),t.sts&&this._wupServerSessionState.setSts(t.sts),t.std&&this._wupServerSessionState.setStd(t.std),t.ott&&this._wupServerSessionState.setOtt(t.ott),t.reset_session&&t.new_sid&&this._wupServerSessionState.setSid(t.new_sid),t.rmd&&(this._wupServerSessionState.setMuid(t.rmd),this._messageBus.publish(Ir,t.rmd)),t.agent_id&&(this._wupServerSessionState.setAgentId(t.agent_id),this._messageBus.publish(jr,t.agent_id)),this._messageBus.publish(Ar,{requestId:this._wupServerSessionState.getRequestId(),sid:this._wupServerSessionState.getSid(),sts:this._wupServerSessionState.getSts(),std:this._wupServerSessionState.getStd(),ott:this._wupServerSessionState.getOtt()}),r&&this._messageBus.publish(Rr,this._configurationRepository),t.reset_session&&(t.new_sid?this._messageBus.publish(Tr,t.new_sid):rt.warn("Received a reset session flag from the server without a new sid. Ignoring reset.")),t.nextWupInterval?t.nextWupInterval!==this._wupServerSessionState.getWupDispatchRate()&&(this._wupServerSessionState.setWupDispatchRate(t.nextWupInterval),this._messageBus.publish(Or,this._wupServerSessionState.getWupDispatchRate())):rt.warn("Received an invalid nextWupInterval value of ".concat(t.nextWupInterval,". Ignoring value."))}}])}(),Fr="701",Lr="702",Hr="703",qr="704";function Wr(t){return Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wr(t)}function Yr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zr(n.key),n)}}function Gr(t,e,r){return e&&Yr(t.prototype,e),r&&Yr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zr(t){var e=function(t,e){if("object"!=Wr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Wr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Wr(e)?e:e+""}var Vr="oK",Kr="Error",Xr=Gr(function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.category=e,this.status=r}),Qr={PRIMARY:"primary",SECONDARY:"secondary"};function Jr(t,e,r,n){var i;return n?(i=3===e?"v3.1":"v4",i+="/"+function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(11*Math.random())+10,r="",n=0;n<e;n++){r+=t[Math.floor(Math.random()*t.length)]}return r}()):(i=3===e?Wt:qt,i+="?cid="+r),t+"/"+i}function $r(t){return $r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$r(t)}function tn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,en(n.key),n)}}function en(t){var e=function(t,e){if("object"!=$r(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=$r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$r(e)?e:e+""}Object.freeze(Qr);var rn=function(){return function(t,e,r){return e&&tn(t.prototype,e),r&&tn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},null,[{key:"create",value:function(){if(self.XMLHttpRequest&&Object.prototype.hasOwnProperty.call(XMLHttpRequest.prototype,"withCredentials"))return new XMLHttpRequest;if(self.XDomainRequest)return new XDomainRequest;if(!self.XMLHttpRequest)throw new Error("There is no supported http request object");return new XMLHttpRequest}}])}();function nn(t){return nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nn(t)}function on(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,an(n.key),n)}}function an(t){var e=function(t,e){if("object"!=nn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=nn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==nn(e)?e:e+""}var sn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,r){return e&&on(t.prototype,e),r&&on(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,null,[{key:"isUndefinedNull",value:function(t){return null==t||void 0===t}},{key:"getPostUrl",value:function(e,r,n,i,o,a,s,u,c){var f=rn.create();try{f instanceof self.XMLHttpRequest?(f.open(r,e,!0),f.timeout=s||12e3,u&&f.setRequestHeader(Mt,u),c&&f.setRequestHeader(Dt,c),f.onload=function(){if(200===f.status||204===f.status&&a)i&&i(f.responseText);else{var e=f.status;t.isLikelyBlocked(f)&&(e=t.AD_BLOCK_STATUS_CODE),o&&o(f.responseText,e,f.statusText)}},f.onerror=function(){var e=f.status;t.isLikelyBlocked(f)&&(e=t.AD_BLOCK_STATUS_CODE),o&&o(f.responseText,e,f.statusText)},f.ontimeout=function(){o&&o("timeout")},f.onabort=function(){o&&o("abort")},f.send(n)):(f.onload=function(){if(200===f.status||204===f.status&&a)i&&i(f.responseText);else{var e=f.status;t.isLikelyBlocked(f)&&(e=t.AD_BLOCK_STATUS_CODE),o&&o(f.responseText,e,f.statusText)}},f.onerror=function(){var e=f.status;t.isLikelyBlocked(f)&&(e=t.AD_BLOCK_STATUS_CODE),o&&o(f.responseText,e,f.statusText)},f.onprogress=function(){},f.ontimeout=function(){o&&o("timeout")},f.open(r,e,!0),u&&f.setRequestHeader(Mt,u),c&&f.setRequestHeader(Dt,c),f.timeout=s||12e3,setTimeout(function(){f.send(n)},0))}catch(t){throw t}}},{key:"isLikelyBlocked",value:function(t){return!!navigator.onLine&&(0===t.status||null===t.responseText||""===t.responseText)}}])}();function un(t){return un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},un(t)}function cn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fn(n.key),n)}}function fn(t){var e=function(t,e){if("object"!=un(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=un(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==un(e)?e:e+""}!function(t,e,r){(e=an(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(sn,"AD_BLOCK_STATUS_CODE",-243);var ln=function(){return function(t,e,r){return e&&cn(t.prototype,e),r&&cn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},null,[{key:"createReMessageSettings",value:function(t){return new xe(t.get(C),t.get(T),t.get(O),t.get(A),t.get(R))}}])}();function hn(t){return hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hn(t)}function dn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function pn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?dn(Object(r),!0).forEach(function(e){yn(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dn(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function yn(t,e,r){return(e=mn(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mn(n.key),n)}}function mn(t){var e=function(t,e){if("object"!=hn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=hn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==hn(e)?e:e+""}var gn=function(){return function(t,e,r){return e&&vn(t.prototype,e),r&&vn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,r,n,i,o,a,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._serverCommunicator=e,this._wupMessageBuilder=r,this._wupServerSessionState=n,this._wupStatisticsService=i,this._wupResponseProcessor=o,this._configurationRepository=a,this._msgBus=s,this._INFINITE_MESSAGE_SEND_RETRIES=0,this._retryMessage=this._serverCommunicator.getRetryMessage(),this._MESSAGE_SEND_RETRIES=this._configurationRepository.get(C),this._requestTimeout=this._configurationRepository.get(w)},[{key:"startNewSession",value:function(t,e,r,n,i,o,a,s,u){this._validateCommonSessionRelatedParameters(o,s),this._wupServerSessionState.setRequestId(0),this._wupServerSessionState.setBrand(null),this._serverAddress=s,this._recoveryServerURL=u,this.shouldAddRealAPI=!1,this._sendSessionMessage(null,t,e,r,n,i,o,a,s,null,this._wupServerSessionState.getRequestId())}},{key:"_sendSessionMessage",value:function(t,e,r,n,i,o,a,s,u,c,f){var l=this;this._initSession(t,e,r,n,i,o,a,s,u,c,f);var h=this._createStaticFieldsPart(),d=!this._wupServerSessionState.getHasConfiguration()&&!this._wupServerSessionState.getHasPendingConfigurationRequest();d&&this._wupServerSessionState.markConfigurationRequested();var p=this._wupMessageBuilder.build(d?vr:"0",h),y=Jr(u,r,e,n);this._serverCommunicator.sendMessage(p,this._requestTimeout,d?this._INFINITE_MESSAGE_SEND_RETRIES:this._MESSAGE_SEND_RETRIES,!1,function(t){l._onSendDataSuccess(t,d)},this._onSendDataFailure.bind(this),y)}},{key:"resumeSession",value:function(t,e,r,n,i,o,a,s,u,c,f){this._validateResumeSessionRelatedParameters(t,a,u);var l=c&&c.requestId?this._wupServerSessionState.setRequestId(c.requestId+1):this._wupServerSessionState.setRequestId(0);this._serverAddress=u,this._recoveryServerURL=f,this._sendSessionMessage(t,e,r,n,i,o,a,s,u,c,l)}},{key:"sendData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this._wupServerSessionState.getOtt(),n=this._wupServerSessionState.getProtocolType(),i=4===n,o=3===n,a=this._wupServerSessionState.getSts()&&this._wupServerSessionState.getStd();if(r&&i||a&&o)this._sendMessage(t,e);else{var s=i?"ott":"sts or std";rt.error("Unable to send data. ".concat(s," is undefined"))}}},{key:"setRequestTimeout",value:function(t){this._requestTimeout=t}},{key:"setConfigurationWupMessage",value:function(){var t=ln.createReMessageSettings(this._configurationRepository);this._retryMessage.updateSettings(t)}},{key:"_initSession",value:function(t,e,r,n,i,o,a,s,u,c,f){rt.debug("Initializing session. wupUrl:".concat(u,", sid:").concat(t)),this._wupServerSessionState.setBaseServerUrl(u),this._wupServerSessionState.setSid(t),this._wupServerSessionState.setCid(e),this._wupServerSessionState.setCsid(i),this._wupServerSessionState.setPsid(o),this._wupServerSessionState.setMuid(a),this._wupServerSessionState.setProtocolType(r),this._wupServerSessionState.setShouldMinifyUri(n),this._wupServerSessionState.setContextName(s||""),this._wupServerSessionState.setRequestId(f,!1),c?(this._wupServerSessionState.setSts(c.sts),this._wupServerSessionState.setStd(c.std),this._wupServerSessionState.setOtt(c.ott)):(rt.info("Resetting server state of server communicator. Deleting sts and std"),this._wupServerSessionState.setSts(null),this._wupServerSessionState.setStd(null),this._wupServerSessionState.setOtt(null),this._wupStatisticsService.resetCounters())}},{key:"_fallBackToRecoveryServerUrl",value:function(){this._recoveryServerURL&&(this._wupServerSessionState.setBaseServerUrl(this._recoveryServerURL),this.shouldAddRealAPI=!0)}},{key:"updateCsid",value:function(t){var e=this._wupServerSessionState.incrementRequestId()||0;this._wupServerSessionState.setCsid(t);var r={static_fields:[]};r.static_fields.push(["requestId",e],["contextId",this._wupServerSessionState.getContextName()],["sessionId",this._wupServerSessionState.getSid()],["customerSessionId",this._wupServerSessionState.getCsid()],["partnerSessionId",this._wupServerSessionState.getPsid()],["muid",this._wupServerSessionState.getMuid()]),this._sendMessage(r)}},{key:"updatePsid",value:function(t){var e=this._wupServerSessionState.incrementRequestId()||0;this._wupServerSessionState.setPsid(t);var r={static_fields:[]};r.static_fields.push(["requestId",e],["contextId",this._wupServerSessionState.getContextName()],["sessionId",this._wupServerSessionState.getSid()],["customerSessionId",this._wupServerSessionState.getCsid()],["partnerSessionId",this._wupServerSessionState.getPsid()],["muid",this._wupServerSessionState.getMuid()]),this._sendMessage(r)}},{key:"updateBrand",value:function(t){this._wupServerSessionState.setBrand(t)}},{key:"isReady",value:function(){var t=this._serverCommunicator.isReadyToSendData();if(4===this._wupServerSessionState.getProtocolType())return!(!t||!this._wupServerSessionState.getOtt());var e=this._wupServerSessionState.getStd()&&this._wupServerSessionState.getSts();return!(!t||!e)}},{key:"_validateResumeSessionRelatedParameters",value:function(t,e,r){if(!t)throw new Error("Invalid sid parameter ".concat(t,". Unable to start new session"));this._validateCommonSessionRelatedParameters(e,r)}},{key:"_validateCommonSessionRelatedParameters",value:function(t,e){if(!t&&this._wupServerSessionState.getAgentType()!==Qr.SECONDARY)throw new Error("Invalid muid parameter ".concat(t,". Unable to start new session"));if(!e)throw new Error("Invalid serverAddress parameter ".concat(e,". Unable to start new session"))}},{key:"_createStaticFieldsPart",value:function(){var t={static_fields:[]};return t.static_fields.push(["requestId",this._wupServerSessionState.getRequestId()],["contextId",this._wupServerSessionState.getContextName()],["sessionId",this._wupServerSessionState.getSid()],["customerSessionId",this._wupServerSessionState.getCsid()],["partnerSessionId",this._wupServerSessionState.getPsid()],["muid",this._wupServerSessionState.getMuid()]),t}},{key:"_sendMessage",value:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this._wupMessageBuilder.build("0",t),i=Jr(this._wupServerSessionState.getBaseServerUrl(),this._wupServerSessionState.getProtocolType(),this._wupServerSessionState.getCid(),this._wupServerSessionState.getShouldMinifyUri());try{e=new URL(this._serverAddress).hostname}catch(t){e=null}this._serverCommunicator.sendMessage(n,this._requestTimeout,this._MESSAGE_SEND_RETRIES,r,this._onSendDataSuccess.bind(this),this._onSendDataFailure.bind(this),i,this.shouldAddRealAPI?e:null)}},{key:"_onSendDataSuccess",value:function(t,e){e=e||!1,this._publishWorkerSystemStatus(qr,Vr),this._publishWorkerSystemStatus(qr,Vr),this._handleSuccessResponse(t,e),this._wupStatisticsService.incrementSentWupCount()}},{key:"_onSendDataFailure",value:function(t,e,r,n){if(r===this._MESSAGE_SEND_RETRIES&&this._publishWorkerSystemStatus(qr,Kr),t==sn.AD_BLOCK_STATUS_CODE&&this._recoveryServerURL){this._fallBackToRecoveryServerUrl();var i,o=Jr(this._wupServerSessionState.getBaseServerUrl(),this._wupServerSessionState.getProtocolType(),this._wupServerSessionState.getCid(),this._wupServerSessionState.getShouldMinifyUri());try{i=new URL(this._serverAddress).hostname}catch(t){i=null}var a=pn(pn({},e),{},{serverUrl:o,realAPI:i});this._serverCommunicator.prepareMessageForSendRetry(a)}else n&&this._serverCommunicator.prepareMessageForSendRetry(e)}},{key:"_handleSuccessResponse",value:function(t,e){var r=e?Lr:Hr;try{var n=JSON.parse(t);this._wupResponseProcessor.process(n,e),this._publishWorkerSystemStatus(r,Vr)}catch(t){this._publishWorkerSystemStatus(r,Kr);var i="Failed to parse message from server: ".concat(t.message);rt.error(i,t)}}},{key:"_publishWorkerSystemStatus",value:function(t,e){this._msgBus.publish(Mr,new Xr(t,e))}}])}();function bn(t){return bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bn(t)}function _n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wn(n.key),n)}}function wn(t){var e=function(t,e){if("object"!=bn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=bn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==bn(e)?e:e+""}var Sn=function(){return function(t,e,r){return e&&_n(t.prototype,e),r&&_n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._wupServerSessionState=e,this.reset()},[{key:"add",value:function(t){var e=t.eventName,r=t.data;if(!e)throw new Error("Unable to add data message. Missing eventName field");if(!r)throw new Error("Unable to add data message. Missing data field");this._isEmpty=!1,this._dataObj[e]=this._dataObj[e]||[],this._dataObj[e].push(r)}},{key:"take",value:function(){this._isEmpty||this._dataObj.static_fields.push(["requestId",this._wupServerSessionState.incrementRequestId()]);var t=this._dataObj;return this.reset(),t}},{key:"reset",value:function(){this._isEmpty=!0,this._dataObj=this.getFreshDataObj()}},{key:"isEmpty",value:function(){return this._isEmpty}},{key:"getFreshDataObj",value:function(){return{static_fields:[],key_events:[],mouse_events:[]}}}])}();function kn(t){return kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kn(t)}function En(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bn(n.key),n)}}function Bn(t){var e=function(t,e){if("object"!=kn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=kn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==kn(e)?e:e+""}var xn=function(){return function(t,e,r){return e&&En(t.prototype,e),r&&En(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,r,n,i,o,a,s,u,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._messageBus=e,this._wupStatisticsService=r,this._dataDispatcher=n,this._logDataDispatcher=i,this._serverCommunicator=o,this._wupServerClient=a,this._logServerClient=s,this._logger=u,this._mainCommunicator=c,this._messageBus.subscribe(Rr,this._handle.bind(this))},[{key:"_handle",value:function(t){this._wupStatisticsService.updateSettings(t.get(g));var e=t.get(m)?ht.defaultDynamicWupDispatchRateConfiguration:t.get(y);this._dataDispatcher.updateByConfig(e),this._logDataDispatcher.updateByConfig(t.get(v)),this._serverCommunicator.updateSettings(t.get(b)),this._logger.updateLogConfig(t),this._wupServerClient.setRequestTimeout(t.get(w)||t.get(_)),this._logServerClient.setRequestTimeout(t.get(S)),this._wupServerClient.setConfigurationWupMessage(),this._logServerClient.setConfigurationLogMessage(),this._mainCommunicator.sendAsync(H,t.getAll())}}])}();function Pn(t){return Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pn(t)}function Cn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rn(n.key),n)}}function Rn(t){var e=function(t,e){if("object"!=Pn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Pn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Pn(e)?e:e+""}var Tn=function(){return function(t,e,r){return e&&Cn(t.prototype,e),r&&Cn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._messageBus=e,this._logger=r,this._mainCommunicator=n,this._messageBus.subscribe(Tr,this._handle.bind(this))},[{key:"_handle",value:function(t){this._logger.info("Worker received a new session id ".concat(t," from server.")),this._mainCommunicator.sendAsync(L,t)}}])}();function On(t){return On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},On(t)}function An(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,In(n.key),n)}}function In(t){var e=function(t,e){if("object"!=On(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=On(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==On(e)?e:e+""}var jn=function(){return function(t,e,r){return e&&An(t.prototype,e),r&&An(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._messageBus=e,this._logger=r,this._mainCommunicator=n,this._messageBus.subscribe(Ar,this._handle.bind(this))},[{key:"_handle",value:function(t){this._logger.debug("Worker received an updated server state."),this._mainCommunicator.sendAsync(q,t)}}])}();function Mn(t){return Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mn(t)}function Dn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Un(n.key),n)}}function Un(t){var e=function(t,e){if("object"!=Mn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Mn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Mn(e)?e:e+""}var zn=function(){return function(t,e,r){return e&&Dn(t.prototype,e),r&&Dn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._messageBus=e,this._dataDispatcher=r,this._logger=n,this._messageBus.subscribe(Or,this._handle.bind(this))},[{key:"_handle",value:function(t){this._logger.info("Worker received a wup dispatch rate ".concat(t," from server.")),this._dataDispatcher.scheduleNextDispatching()}}])}(),Nn="startNewSessionCommand",Fn="resumeSessionCommand",Ln="changeContextCommand",Hn="updateCsidCommand",qn="updatePsidCommand",Wn="updateLogUrl",Yn="sendDataCommand",Gn="sendLogCommand",Zn="updateBrandCommand",Vn="stateUpdateFromStorage",Kn="setAgentTypeCommand",Xn="updateAgentIdCommand",Qn="enableWupMessagesHashingCommand",Jn="updateSDKState",$n="scanFontsCommand",ti="fontDetectionResponse";function ei(t){return ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ei(t)}function ri(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return ni(c,"_invoke",function(r,n,i){var o,s,u,c=0,f=i||[],l=!1,h={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function d(r,n){for(s=r,u=n,e=0;!l&&c&&!i&&e<f.length;e++){var i,o=f[e],d=h.p,p=o[2];r>3?(i=p===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=d&&((i=r<2&&d<o[1])?(s=0,h.v=n,h.n=o[1]):d<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,h.n=p,s=0))}if(i||r>1)return a;throw l=!0,n}return function(i,f,p){if(c>1)throw TypeError("Generator is already running");for(l&&1===f&&d(f,p),s=f,u=p;(e=s<2?t:u)||!l;){o||(s?s<3?(s>1&&(h.n=-1),d(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a \'"+i+"\' method"),s=1);o=t}else if((e=(l=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:l}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var f=[][n]?e(e([][n]())):(ni(e={},n,function(){return this}),e),l=c.prototype=s.prototype=Object.create(f);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,ni(t,i,"GeneratorFunction")),t.prototype=Object.create(l),t}return u.prototype=c,ni(l,"constructor",c),ni(c,"constructor",u),u.displayName="GeneratorFunction",ni(c,i,"GeneratorFunction"),ni(l),ni(l,i,"Generator"),ni(l,n,function(){return this}),ni(l,"toString",function(){return"[object Generator]"}),(ri=function(){return{w:o,m:h}})()}function ni(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}ni=function(t,e,r,n){function o(e,r){ni(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},ni(t,e,r,n)}function ii(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function oi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ai(n.key),n)}}function ai(t){var e=function(t,e){if("object"!=ei(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ei(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ei(e)?e:e+""}var si=function(){return function(t,e,r){return e&&oi(t.prototype,e),r&&oi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,r,n,i,o,a,s,u,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._mainCommunicator=e,this._wupServerClient=r,this._logServerClient=n,this._configurationRepository=i,this._messageProcessor=o,this._logMessageProcessor=a,this._wupServerSessionState=s,this._dataServerCommunicator=u,this._fontsScannerWorker=c},[{key:"start",value:function(){rt.debug("Starting Worker Service"),this._mainCommunicator.addMessageListener(Nn,this._onStartNewSessionCommand.bind(this)),this._mainCommunicator.addMessageListener(Fn,this._onResumeSessionCommand.bind(this)),this._mainCommunicator.addMessageListener(Ln,this._onChangeContextCommand.bind(this)),this._mainCommunicator.addMessageListener(Hn,this._onUpdateCsidCommand.bind(this)),this._mainCommunicator.addMessageListener(qn,this._onUpdatePsidCommand.bind(this)),this._mainCommunicator.addMessageListener(Wn,this._onUpdateLogUrlCommand.bind(this)),this._mainCommunicator.addMessageListener(Yn,this._onSendDataCommand.bind(this)),this._mainCommunicator.addMessageListener(Gn,this._onSendLogCommand.bind(this)),this._mainCommunicator.addMessageListener(Zn,this._onUpdateBrandCommand.bind(this)),this._mainCommunicator.addMessageListener(Kn,this._setSessionAgentType.bind(this)),this._mainCommunicator.addMessageListener(Xn,this._onUpdateAgentId.bind(this)),this._mainCommunicator.addMessageListener(Qn,this._setWupMessagesHashing.bind(this)),this._mainCommunicator.addMessageListener($n,this._onScanFontsCommand.bind(this))}},{key:"_onStartNewSessionCommand",value:function(t){this._wupServerClient.startNewSession(t.cid,t.protocolType,t.minifiedUri,t.csid,t.psid,t.muid,t.contextName,t.serverAddress,t.recoveryServerURL)}},{key:"_onResumeSessionCommand",value:function(t){this._wupServerClient.resumeSession(t.cdsnum,t.cid,t.protocolType,t.minifiedUri,t.csid,t.psid,t.muid,t.contextName,t.serverAddress,t.serverState,t.recoveryServerURL)}},{key:"_onChangeContextCommand",value:function(t){rt.debug("Worker received a ChangeContextCommand from main."),this._wupServerSessionState.setContextName(t.contextName)}},{key:"_onUpdateCsidCommand",value:function(t){rt.debug("Worker received an UpdateCsidCommand from main. CSID: ".concat(t.csid,".")),this._wupServerClient.updateCsid(t.csid)}},{key:"_onUpdatePsidCommand",value:function(t){rt.debug("Worker received an UpdatePsidCommand from main. PSID: ".concat(t.psid,".")),this._wupServerClient.updatePsid(t.psid)}},{key:"_onUpdateLogUrlCommand",value:function(t){rt.attachSessionIdentifiers(t.sessionIdentifiers),this._logServerClient.setServerUrl(t.logAddress)}},{key:"_onSendDataCommand",value:function(t){this._messageProcessor.process(t)}},{key:"_onSendLogCommand",value:function(t){this._logMessageProcessor.process(t)}},{key:"_onUpdateBrandCommand",value:function(t){this._wupServerClient.updateBrand(t.brand)}},{key:"_setSessionAgentType",value:function(t){this._wupServerSessionState.setAgentType(t.agentType)}},{key:"_onUpdateAgentId",value:function(t){this._wupServerSessionState.setAgentId(t.agentId)}},{key:"_setWupMessagesHashing",value:function(t){this._dataServerCommunicator.updateEnableWupMessagesHashing(t.enableWupMessagesHashing)}},{key:"_onScanFontsCommand",value:(t=ri().m(function t(e){var r,n,i;return ri().w(function(t){for(;;)switch(t.p=t.n){case 0:if(rt.debug("[WorkerService] Received font detection request for ".concat((null===(r=e.fontNames)||void 0===r?void 0:r.length)||0," fonts")),t.p=1,this._fontsScannerWorker){t.n=2;break}throw new Error("Font detection service not available");case 2:return t.n=3,this._fontsScannerWorker.scanFonts(e.fontNames,e.config);case 3:n=t.v,this._mainCommunicator.sendAsync(ti,{requestId:e.requestId,detectedFonts:n,success:!0}),t.n=5;break;case 4:t.p=4,i=t.v,rt.error("[WorkerService] Font detection failed:",i),this._mainCommunicator.sendAsync(ti,{requestId:e.requestId,detectedFonts:[],success:!1,error:i.message});case 5:return t.a(2)}},t,this,[[1,4]])}),e=function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){ii(o,n,i,a,s,"next",t)}function s(t){ii(o,n,i,a,s,"throw",t)}a(void 0)})},function(t){return e.apply(this,arguments)})}]);var t,e}();function ui(t){return ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ui(t)}function ci(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fi(n.key),n)}}function fi(t){var e=function(t,e){if("object"!=ui(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ui(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ui(e)?e:e+""}var li=function(){return function(t,e,r){return e&&ci(t.prototype,e),r&&ci(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._mainCommunicator=e,this._messageBus=r,this._logger=n,this.errors={},this._messageBus.subscribe(Mr,this._handle.bind(this))},[{key:"_handle",value:function(t){this._logger.debug("Sending new HeartBeatStatusEvent - ".concat(t.category,", ").concat(t.status)),this._mainCommunicator.sendAsync(W,t)}}])}();function hi(t){return hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hi(t)}function di(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function pi(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?di(Object(r),!0).forEach(function(e){yi(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):di(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function yi(t,e,r){return(e=mi(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mi(n.key),n)}}function mi(t){var e=function(t,e){if("object"!=hi(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=hi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==hi(e)?e:e+""}var gi=function(){return function(t,e,r){return e&&vi(t.prototype,e),r&&vi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sn=0,this.url=r,this.logAggregator=e,this.msgPrefix=n},[{key:"log",value:function(t,e,r){this.logAggregator.add({eventName:"log",data:pi(pi({msg:this.msgPrefix+t},r),{},{url:this.url,level:e,sn:this.sn++})})}},{key:"setLogLevel",value:function(t){this.logAggregator instanceof lr&&this.logAggregator.setLogLevel(t)}},{key:"clearLogEntriesByLogLevel",value:function(t){this.logAggregator.filterOutByLogLevel(t)}}])}();function bi(t){return bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bi(t)}function _i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wi(n.key),n)}}function wi(t){var e=function(t,e){if("object"!=bi(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=bi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==bi(e)?e:e+""}var Si=function(){return function(t,e,r){return e&&_i(t.prototype,e),r&&_i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.currentMessageNumberOfSendFailures=0,this.reMessageSettings=e,this.currentInterval=this.getMessageRetryInterval()},[{key:"restartMessageSettings",value:function(){this.currentMessageNumberOfSendFailures=0,this.currentInterval=this.getMessageRetryInterval()}},{key:"updateSettings",value:function(t){this.reMessageSettings=t}},{key:"updateAllSettings",value:function(t){t.init(),this.reMessageSettings=t}},{key:"getNumberOfSendFailures",value:function(){return this.currentMessageNumberOfSendFailures}},{key:"getNextInterval",value:function(){return this.currentInterval}},{key:"getMessageNumToRetry",value:function(){return this.reMessageSettings.getMessageNumToRetry()}},{key:"getMessageRetryInterval",value:function(){return this.reMessageSettings.getMessageRetryInterval()}},{key:"getMaxIntervalBetweenFailures",value:function(){return this.reMessageSettings.getMaxIntervalBetweenFailures()}},{key:"getIncrementalGrowthBetweenFailures",value:function(){return this.reMessageSettings.getIncrementalGrowthBetweenFailures()}},{key:"_incrementNumberOfSendFailures",value:function(){this.currentMessageNumberOfSendFailures++}},{key:"shouldReMessage",value:function(t,e){if(t)return!0;var r=this.reMessageSettings.shouldRetryOnNetworkFailureOnly();return(!Boolean(e)||!r)&&this.getNumberOfSendFailures()<this.getMessageNumToRetry()}},{key:"updateRetryInterval",value:function(){var t=this.currentInterval+this.currentMessageNumberOfSendFailures*this.getIncrementalGrowthBetweenFailures();t>this.getMaxIntervalBetweenFailures()?this.currentInterval=this.getMaxIntervalBetweenFailures():this.currentInterval=t,this._incrementNumberOfSendFailures()}}])}();function ki(t){return ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ki(t)}function Ei(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bi(n.key),n)}}function Bi(t){var e=function(t,e){if("object"!=ki(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ki(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ki(e)?e:e+""}var xi=function(){return function(t,e,r){return e&&Ei(t.prototype,e),r&&Ei(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._messageBus=e,this._mainCommunicator=r,this._messageBus.subscribe(Ir,this._handler.bind(this),!0)},[{key:"_handler",value:function(t){this._mainCommunicator.sendAsync(Y,t)}}])}();function Pi(t){return Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pi(t)}function Ci(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ri(n.key),n)}}function Ri(t){var e=function(t,e){if("object"!=Pi(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Pi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Pi(e)?e:e+""}var Ti=function(){return function(t,e,r){return e&&Ci(t.prototype,e),r&&Ci(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._mainCommunicator=e,this._wupServerSessionState=r,this._logServerClient=n,this._mainCommunicator.addMessageListener(Vn,this._handle.bind(this)),this._mainCommunicator.addMessageListener(Jn,this._handleStateChanged.bind(this))},[{key:"_handle",value:function(t){null!=t&&t.requestId&&(null!=t&&t.ott||null!=t&&t.sts)&&(this._wupServerSessionState.setRequestId(t.requestId,!1),this._wupServerSessionState.setOtt(t.ott),this._wupServerSessionState.setSts(t.sts),this._wupServerSessionState.setStd(t.std))}},{key:"_handleStateChanged",value:function(t){this._logServerClient.setIsPaused(t.SDK_state)}}])}();function Oi(t){return Oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oi(t)}function Ai(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ii(n.key),n)}}function Ii(t){var e=function(t,e){if("object"!=Oi(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Oi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Oi(e)?e:e+""}var ji=function(){return function(t,e,r){return e&&Ai(t.prototype,e),r&&Ai(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._messageBus=e,this._mainCommunicator=r,this._messageBus.subscribe(jr,this._handle.bind(this))},[{key:"_handle",value:function(t){this._mainCommunicator.sendAsync(G,t)}}])}();function Mi(t){return Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mi(t)}function Di(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return Ui(c,"_invoke",function(r,n,i){var o,s,u,c=0,f=i||[],l=!1,h={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function d(r,n){for(s=r,u=n,e=0;!l&&c&&!i&&e<f.length;e++){var i,o=f[e],d=h.p,p=o[2];r>3?(i=p===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=d&&((i=r<2&&d<o[1])?(s=0,h.v=n,h.n=o[1]):d<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,h.n=p,s=0))}if(i||r>1)return a;throw l=!0,n}return function(i,f,p){if(c>1)throw TypeError("Generator is already running");for(l&&1===f&&d(f,p),s=f,u=p;(e=s<2?t:u)||!l;){o||(s?s<3?(s>1&&(h.n=-1),d(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a \'"+i+"\' method"),s=1);o=t}else if((e=(l=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:l}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var f=[][n]?e(e([][n]())):(Ui(e={},n,function(){return this}),e),l=c.prototype=s.prototype=Object.create(f);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,Ui(t,i,"GeneratorFunction")),t.prototype=Object.create(l),t}return u.prototype=c,Ui(l,"constructor",c),Ui(c,"constructor",u),u.displayName="GeneratorFunction",Ui(c,i,"GeneratorFunction"),Ui(l),Ui(l,i,"Generator"),Ui(l,n,function(){return this}),Ui(l,"toString",function(){return"[object Generator]"}),(Di=function(){return{w:o,m:h}})()}function Ui(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}Ui=function(t,e,r,n){function o(e,r){Ui(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},Ui(t,e,r,n)}function zi(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Ni(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Fi(n.key),n)}}function Fi(t){var e=function(t,e){if("object"!=Mi(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Mi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Mi(e)?e:e+""}var Li=function(){return function(t,e,r){return e&&Ni(t.prototype,e),r&&Ni(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},[{key:"detect",value:(t=Di().m(function t(e,r){return Di().w(function(t){for(;;)switch(t.n){case 0:throw new Error(\'Method "checkFontList" must be implemented.\');case 1:return t.a(2)}},t)}),e=function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){zi(o,n,i,a,s,"next",t)}function s(t){zi(o,n,i,a,s,"throw",t)}a(void 0)})},function(t,r){return e.apply(this,arguments)})},{key:"release",value:function(){throw new Error(\'Method "release" must be implemented.\')}},{key:"isSupported",value:function(){throw new Error(\'Method "isSupported" must be implemented.\')}}]);var t,e}();function Hi(t){return Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hi(t)}function qi(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return Wi(c,"_invoke",function(r,n,i){var o,s,u,c=0,f=i||[],l=!1,h={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function d(r,n){for(s=r,u=n,e=0;!l&&c&&!i&&e<f.length;e++){var i,o=f[e],d=h.p,p=o[2];r>3?(i=p===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=d&&((i=r<2&&d<o[1])?(s=0,h.v=n,h.n=o[1]):d<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,h.n=p,s=0))}if(i||r>1)return a;throw l=!0,n}return function(i,f,p){if(c>1)throw TypeError("Generator is already running");for(l&&1===f&&d(f,p),s=f,u=p;(e=s<2?t:u)||!l;){o||(s?s<3?(s>1&&(h.n=-1),d(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a \'"+i+"\' method"),s=1);o=t}else if((e=(l=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:l}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var f=[][n]?e(e([][n]())):(Wi(e={},n,function(){return this}),e),l=c.prototype=s.prototype=Object.create(f);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,Wi(t,i,"GeneratorFunction")),t.prototype=Object.create(l),t}return u.prototype=c,Wi(l,"constructor",c),Wi(c,"constructor",u),u.displayName="GeneratorFunction",Wi(c,i,"GeneratorFunction"),Wi(l),Wi(l,i,"Generator"),Wi(l,n,function(){return this}),Wi(l,"toString",function(){return"[object Generator]"}),(qi=function(){return{w:o,m:h}})()}function Wi(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}Wi=function(t,e,r,n){function o(e,r){Wi(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},Wi(t,e,r,n)}function Yi(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Gi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zi(n.key),n)}}function Zi(t){var e=function(t,e){if("object"!=Hi(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Hi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Hi(e)?e:e+""}function Vi(t,e,r){return e=Xi(e),function(t,e){if(e&&("object"==Hi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return t}(t)}(t,Ki()?Reflect.construct(e,r||[],Xi(t).constructor):e.apply(t,r))}function Ki(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ki=function(){return!!t})()}function Xi(t){return Xi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xi(t)}function Qi(t,e){return Qi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qi(t,e)}var Ji=function(t){function e(){var t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(null===(t=self)||void 0===t?void 0:t.fonts)||null;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=Vi(this,e),!n)throw new Error("fonts is required for NativeFontDetector.");return r.fonts=n,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qi(t,e)}(e,t),function(t,e,r){return e&&Gi(t.prototype,e),r&&Gi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"detect",value:(r=qi().m(function t(e){var r,n;return qi().w(function(t){for(;;)switch(t.p=t.n){case 0:return r=null,t.p=1,r=new FontFace(e,\'local("\'.concat(e,\'")\')),this.fonts.add(r),t.n=2,r.load();case 2:return n="loaded"===r.status,t.a(2,n);case 3:return t.p=3,t.v,t.a(2,!1);case 4:return t.p=4,r&&this.fonts.delete(r),t.f(4);case 5:return t.a(2)}},t,this,[[1,3,4,5]])}),n=function(){var t=this,e=arguments;return new Promise(function(n,i){var o=r.apply(t,e);function a(t){Yi(o,n,i,a,s,"next",t)}function s(t){Yi(o,n,i,a,s,"throw",t)}a(void 0)})},function(t){return n.apply(this,arguments)})},{key:"isSupported",value:function(){try{return"undefined"!=typeof FontFace&&void 0!==this.fonts&&(new FontFace("test","url(test.woff)"),!0)}catch(t){return!1}}},{key:"release",value:function(){}}]);var r,n}(Li);function $i(t){return $i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$i(t)}function to(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return eo(c,"_invoke",function(r,n,i){var o,s,u,c=0,f=i||[],l=!1,h={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function d(r,n){for(s=r,u=n,e=0;!l&&c&&!i&&e<f.length;e++){var i,o=f[e],d=h.p,p=o[2];r>3?(i=p===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=d&&((i=r<2&&d<o[1])?(s=0,h.v=n,h.n=o[1]):d<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,h.n=p,s=0))}if(i||r>1)return a;throw l=!0,n}return function(i,f,p){if(c>1)throw TypeError("Generator is already running");for(l&&1===f&&d(f,p),s=f,u=p;(e=s<2?t:u)||!l;){o||(s?s<3?(s>1&&(h.n=-1),d(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a \'"+i+"\' method"),s=1);o=t}else if((e=(l=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:l}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var f=[][n]?e(e([][n]())):(eo(e={},n,function(){return this}),e),l=c.prototype=s.prototype=Object.create(f);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,eo(t,i,"GeneratorFunction")),t.prototype=Object.create(l),t}return u.prototype=c,eo(l,"constructor",c),eo(c,"constructor",u),u.displayName="GeneratorFunction",eo(c,i,"GeneratorFunction"),eo(l),eo(l,i,"Generator"),eo(l,n,function(){return this}),eo(l,"toString",function(){return"[object Generator]"}),(to=function(){return{w:o,m:h}})()}function eo(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}eo=function(t,e,r,n){function o(e,r){eo(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},eo(t,e,r,n)}function ro(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function no(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){ro(o,n,i,a,s,"next",t)}function s(t){ro(o,n,i,a,s,"throw",t)}a(void 0)})}}function io(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oo(n.key),n)}}function oo(t){var e=function(t,e){if("object"!=$i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=$i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$i(e)?e:e+""}function ao(t,e,r){return e=uo(e),function(t,e){if(e&&("object"==$i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return t}(t)}(t,so()?Reflect.construct(e,r||[],uo(t).constructor):e.apply(t,r))}function so(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(so=function(){return!!t})()}function uo(t){return uo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},uo(t)}function co(t,e){return co=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},co(t,e)}var fo=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=ao(this,e))._testText="AaBb123!@# אבגד אبت 你好世 あア अआऋИΔ สวั อา რუც კзءλ ⵍ 𐌄 фغ😀✔♥ℑΣÅÑ",t._fontSize="48px",t._canvas=null,t._context=null,t._fallbackWidth=null,t._initialized=!1,t._hasReleased=!1,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&co(t,e)}(e,t),function(t,e,r){return e&&io(t.prototype,e),r&&io(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"detect",value:(i=no(to().m(function t(e){var r;return to().w(function(t){for(;;)switch(t.n){case 0:if(!this._hasReleased){t.n=1;break}throw new Error("CanvasFontDetector has been released and is no longer usable. Please create a new instance to use the detector.");case 1:if(this._initialized){t.n=2;break}return t.n=2,this._initialize();case 2:return this._context.font="".concat(this._fontSize,\' "\').concat(e,\'", non-existed-fallback\'),r=this._context.measureText(this._testText).width,t.a(2,r!==this._fallbackWidth)}},t,this)})),function(t){return i.apply(this,arguments)})},{key:"release",value:(n=no(to().m(function t(){return to().w(function(t){for(;;)switch(t.n){case 0:this._hasReleased=!0,this._canvas=null,this._context=null,this._fallbackWidth=null;case 1:return t.a(2)}},t,this)})),function(){return n.apply(this,arguments)})},{key:"isSupported",value:function(){try{if("undefined"!=typeof OffscreenCanvas){var t=new OffscreenCanvas(1,1);return Boolean(t.getContext&&t.getContext("2d"))}return!1}catch(t){return!1}}},{key:"_initialize",value:(r=no(to().m(function t(){return to().w(function(t){for(;;)switch(t.n){case 0:if("undefined"!=typeof OffscreenCanvas){t.n=1;break}throw new Error("OffscreenCanvas is not supported in this environment. CanvasFontDetector requires OffscreenCanvas to run in Web Workers.");case 1:this._canvas=new OffscreenCanvas(100,100),this._context=this._canvas.getContext("2d",{alpha:!1,desynchronized:!0}),this._context.textBaseline="alphabetic",this._context.direction="ltr",this._context.imageSmoothingEnabled=!1,this._context.font="".concat(this._fontSize,\' "non-existed-font", non-existed-fallback\'),this._fallbackWidth=this._context.measureText(this._testText).width,this._initialized=!0;case 2:return t.a(2)}},t,this)})),function(){return r.apply(this,arguments)})}]);var r,n,i}(Li);function lo(t){return lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(t)}function ho(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,po(n.key),n)}}function po(t){var e=function(t,e){if("object"!=lo(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=lo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lo(e)?e:e+""}var yo=function(){return function(t,e,r){return e&&ho(t.prototype,e),r&&ho(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._logsTag="[FONTS-COLLECTOR]"},[{key:"getDetectorByType",value:function(t){switch(t.toLowerCase()){case"native":return new Ji;case"canvas":return new fo;default:throw new Error("Invalid detector type: \'".concat(t,"\'. Supported types: \'native\', \'canvas\'"))}}},{key:"getBestDetector",value:function(t){try{var e=new Ji;if(e.isSupported())return rt.info("".concat(this._logsTag," Using native detector")),e}catch(t){rt.error("".concat(this._logsTag," Native detector failed:"),t)}try{var r=new fo;if(r.isSupported())return rt.info("".concat(this._logsTag," Using canvas detector")),r}catch(t){rt.error("".concat(this._logsTag," Canvas detector failed:"),t)}throw new Error("[FontDetectorProvider] No suitable font detection implementation is supported in this environment.")}}])}();function vo(t){return vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vo(t)}function mo(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return go(c,"_invoke",function(r,n,i){var o,s,u,c=0,f=i||[],l=!1,h={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function d(r,n){for(s=r,u=n,e=0;!l&&c&&!i&&e<f.length;e++){var i,o=f[e],d=h.p,p=o[2];r>3?(i=p===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=d&&((i=r<2&&d<o[1])?(s=0,h.v=n,h.n=o[1]):d<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,h.n=p,s=0))}if(i||r>1)return a;throw l=!0,n}return function(i,f,p){if(c>1)throw TypeError("Generator is already running");for(l&&1===f&&d(f,p),s=f,u=p;(e=s<2?t:u)||!l;){o||(s?s<3?(s>1&&(h.n=-1),d(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a \'"+i+"\' method"),s=1);o=t}else if((e=(l=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:l}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var f=[][n]?e(e([][n]())):(go(e={},n,function(){return this}),e),l=c.prototype=s.prototype=Object.create(f);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,go(t,i,"GeneratorFunction")),t.prototype=Object.create(l),t}return u.prototype=c,go(l,"constructor",c),go(c,"constructor",u),u.displayName="GeneratorFunction",go(c,i,"GeneratorFunction"),go(l),go(l,i,"Generator"),go(l,n,function(){return this}),go(l,"toString",function(){return"[object Generator]"}),(mo=function(){return{w:o,m:h}})()}function go(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}go=function(t,e,r,n){function o(e,r){go(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},go(t,e,r,n)}function bo(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function _o(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){bo(o,n,i,a,s,"next",t)}function s(t){bo(o,n,i,a,s,"throw",t)}a(void 0)})}}function wo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,So(n.key),n)}}function So(t){var e=function(t,e){if("object"!=vo(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=vo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vo(e)?e:e+""}var ko=function(){return function(t,e,r){return e&&wo(t.prototype,e),r&&wo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){var r=e.batchSize,n=e.timeoutGap,i=e.frameBudgetMs,o=void 0===i?8:i,a=e.minBatchSize,s=void 0===a?1:a,u=e.maxBatchSize,c=void 0===u?200:u,f=e.historySize,l=void 0===f?5:f,h=e.targetUtilization,d=void 0===h?.8:h,p=e.adaptiveEnabled,y=void 0===p||p;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),null==r)throw new Error("The \'batchSize\' parameter is required.");if(r<=0)throw new Error("The \'batchSize\' parameter must be greater than 0.");if(null==n)throw new Error("The \'timeoutGap\' parameter is required.");this.batchSize=r,this.timeoutGap=n,this.frameBudgetMs=o,this.adaptiveEnabled=y,this._minBatchSize=s,this._maxBatchSize=c,this._historySize=l,this._targetUtilization=d,this._currentBatchSize=this.batchSize,this._frameHistory=[],this._hasReleased=!1,this._logsTag="[BATCH-PROCESSOR]"},[{key:"release",value:(r=_o(mo().m(function t(){return mo().w(function(t){for(;;)switch(t.n){case 0:this._hasReleased=!0;case 1:return t.a(2)}},t,this)})),function(){return r.apply(this,arguments)})},{key:"process",value:(e=_o(mo().m(function t(e){var r,n,i,o,a,s,u;return mo().w(function(t){for(;;)switch(t.n){case 0:if(r=e.processItem,n=e.items,!this._hasReleased){t.n=1;break}throw new Error("BatchProcessor has been released and cannot be used.");case 1:if("function"==typeof r){t.n=2;break}throw new TypeError("The \'processItem\' parameter must be a function.");case 2:if(Array.isArray(n)){t.n=3;break}throw new TypeError("The \'items\' parameter must be an array.");case 3:if(0!==n.length){t.n=4;break}return t.a(2,[]);case 4:i=[],o=0;case 5:if(!(o<n.length)){t.n=9;break}if(!this._hasReleased){t.n=6;break}throw new Error("BatchProcessor was released during processing. Operation aborted.");case 6:return a=performance.now(),t.n=7,this._processFrame(r,n,o,i);case 7:if(s=t.v,o+=s,u=performance.now()-a,this.adaptiveEnabled&&this._adjustBatchSize(u,s),rt.trace("".concat(this._logsTag," Frame processed ").concat(s," items in ").concat(u.toFixed(2),"ms. Progress: ").concat(o,"/").concat(n.length)),!(o<n.length)){t.n=8;break}return t.n=8,this._yield();case 8:t.n=5;break;case 9:if(!this._hasReleased){t.n=10;break}throw new Error("BatchProcessor was released after processing. Operation aborted.");case 10:return t.a(2,i)}},t,this)})),function(t){return e.apply(this,arguments)})},{key:"_processFrame",value:(t=_o(mo().m(function t(e,r,n,i){var o,a,s,u,c,f,l;return mo().w(function(t){for(;;)switch(t.p=t.n){case 0:o=0,a=performance.now(),s=Math.min(this._currentBatchSize,r.length-n),u=0;case 1:if(!(u<s)){t.n=8;break}if(!this._hasReleased){t.n=2;break}throw new Error("BatchProcessor was released during frame processing. Operation aborted.");case 2:return f=r[c=n+u],t.p=3,t.n=4,e(f);case 4:!0===t.v&&i.push(f),o++,t.n=6;break;case 5:t.p=5,l=t.v,rt.error("Error processing item at index ".concat(c,":"),l),o++;case 6:if(!(performance.now()-a>this.frameBudgetMs)){t.n=7;break}return t.a(3,8);case 7:u++,t.n=1;break;case 8:return t.a(2,o)}},t,this,[[3,5]])})),function(e,r,n,i){return t.apply(this,arguments)})},{key:"_yield",value:function(){return 0===this.timeoutGap&&"function"==typeof requestAnimationFrame?new Promise(function(t){return requestAnimationFrame(function(){return t()})}):this._delay(this.timeoutGap)}},{key:"_delay",value:function(t){return new Promise(function(e){return setTimeout(e,t)})}},{key:"_adjustBatchSize",value:function(t,e){if(0!==e&&(this._frameHistory.push(t),this._frameHistory.length>this._historySize&&this._frameHistory.shift(),!(this._frameHistory.length<2))){var r=this._frameHistory.reduce(function(t,e){return t+e},0)/this._frameHistory.length,n=this.frameBudgetMs*this._targetUtilization,i=r/this.frameBudgetMs,o=this._currentBatchSize;i<.8*this._targetUtilization?o=Math.min(this._maxBatchSize,Math.ceil(1.5*this._currentBatchSize)):i>1.2*this._targetUtilization&&(o=Math.max(this._minBatchSize,Math.floor(.7*this._currentBatchSize))),o!==this._currentBatchSize&&(rt.trace("".concat(this._logsTag," Adjusting batch size from ").concat(this._currentBatchSize," to ").concat(o," (avg frame: ").concat(r.toFixed(2),"ms, target: ").concat(n.toFixed(2),"ms)")),this._currentBatchSize=o)}}}]);var t,e,r}();function Eo(t){return Eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eo(t)}function Bo(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function o(r,n,i,o){var u=n&&n.prototype instanceof s?n:s,c=Object.create(u.prototype);return xo(c,"_invoke",function(r,n,i){var o,s,u,c=0,f=i||[],l=!1,h={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return o=e,s=0,u=t,h.n=r,a}};function d(r,n){for(s=r,u=n,e=0;!l&&c&&!i&&e<f.length;e++){var i,o=f[e],d=h.p,p=o[2];r>3?(i=p===n)&&(u=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=d&&((i=r<2&&d<o[1])?(s=0,h.v=n,h.n=o[1]):d<p&&(i=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,h.n=p,s=0))}if(i||r>1)return a;throw l=!0,n}return function(i,f,p){if(c>1)throw TypeError("Generator is already running");for(l&&1===f&&d(f,p),s=f,u=p;(e=s<2?t:u)||!l;){o||(s?s<3?(s>1&&(h.n=-1),d(s,u)):h.n=u:h.v=u);try{if(c=2,o){if(s||(i="next"),e=o[i]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=o.return)&&e.call(o),s<2&&(u=TypeError("The iterator does not provide a \'"+i+"\' method"),s=1);o=t}else if((e=(l=h.n<0)?u:r.call(n,h))!==a)break}catch(e){o=t,s=1,u=e}finally{c=1}}return{value:e,done:l}}}(r,i,o),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var f=[][n]?e(e([][n]())):(xo(e={},n,function(){return this}),e),l=c.prototype=s.prototype=Object.create(f);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,xo(t,i,"GeneratorFunction")),t.prototype=Object.create(l),t}return u.prototype=c,xo(l,"constructor",c),xo(c,"constructor",u),u.displayName="GeneratorFunction",xo(c,i,"GeneratorFunction"),xo(l),xo(l,i,"Generator"),xo(l,n,function(){return this}),xo(l,"toString",function(){return"[object Generator]"}),(Bo=function(){return{w:o,m:h}})()}function xo(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}xo=function(t,e,r,n){function o(e,r){xo(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},xo(t,e,r,n)}function Po(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Co(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t){Po(o,n,i,a,s,"next",t)}function s(t){Po(o,n,i,a,s,"throw",t)}a(void 0)})}}function Ro(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,To(n.key),n)}}function To(t){var e=function(t,e){if("object"!=Eo(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Eo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Eo(e)?e:e+""}var Oo=function(){return function(t,e,r){return e&&Ro(t.prototype,e),r&&Ro(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._detectorProvider=e.detectorProvider,!this._detectorProvider)throw new Error("DetectorProvider is required for font scanning");this._logger=e.logger||rt,this._batchProcessorFactory=e.batchProcessorFactory||ko},[{key:"scanFonts",value:(t=Co(Bo().m(function t(e){var r,n,i,o=arguments;return Bo().w(function(t){for(;;)switch(t.n){case 0:if(!(null==(r=o.length>1&&void 0!==o[1]?o[1]:{}).fontsPerBatch||r.fontsPerBatch<=0)){t.n=1;break}throw new Error("The \'fontsPerBatch\' parameter is required and must be greater than 0.");case 1:if(!(null==r.delayBetweenBatchesMs||r.delayBetweenBatchesMs<0)){t.n=2;break}throw new Error("The \'delayBetweenBatchesMs\' parameter is required and must be greater than or equal to 0.");case 2:if(!(null==r.minFontsPerBatch||r.minFontsPerBatch<=0)){t.n=3;break}throw new Error("The \'minFontsPerBatch\' parameter is required and must be greater than 0.");case 3:if(!(null==r.maxFontsPerBatch||r.maxFontsPerBatch<=0)){t.n=4;break}throw new Error("The \'maxFontsPerBatch\' parameter is required and must be greater than 0.");case 4:if(!(null==r.frameBudgetMs||r.frameBudgetMs<=0)){t.n=5;break}throw new Error("The \'frameBudgetMs\' parameter is required and must be greater than 0.");case 5:if(!(null==r.frameHistorySize||r.frameHistorySize<=0)){t.n=6;break}throw new Error("The \'frameHistorySize\' parameter is required and must be greater than 0.");case 6:if(Array.isArray(e)&&0!==e.length){t.n=7;break}return t.a(2,[]);case 7:return this._logger.debug("[FontsScannerWorker] Detecting ".concat(e.length," fonts with config: fontsPerBatch=").concat(r.fontsPerBatch,", delayBetweenBatchesMs=").concat(r.delayBetweenBatchesMs)),n=new this._batchProcessorFactory({batchSize:r.fontsPerBatch,timeoutGap:r.delayBetweenBatchesMs,minBatchSize:r.minFontsPerBatch,maxBatchSize:r.maxFontsPerBatch,frameBudgetMs:r.frameBudgetMs,historySize:r.frameHistorySize,adaptiveEnabled:r.adaptiveBatchEnabled}),i=r.detectorType?this._detectorProvider.getDetectorByType(r.detectorType):this._detectorProvider.getBestDetector(),t.a(2,n.process({items:e,processItem:function(){var t=Co(Bo().m(function t(e){var r;return Bo().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,i.detect(e);case 1:return r=t.v,t.a(2,r)}},t)}));return function(e){return t.apply(this,arguments)}}()}))}},t,this)})),function(e){return t.apply(this,arguments)})}]);var t}();function Ao(t){return Ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ao(t)}function Io(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jo(n.key),n)}}function jo(t){var e=function(t,e){if("object"!=Ao(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ao(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ao(e)?e:e+""}var Mo=function(){return function(t,e,r){return e&&Io(t.prototype,e),r&&Io(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._mainCommunicator=e,this._msgBus=r,this._eventHandlers=[]},[{key:"loadSystem",value:function(){var t=this;this._configurationRepository=new pt,this._wupServerSessionState=new St,this._logRequestBodyBuilder=new xt;var e=Te.createReMessageSettings(this._configurationRepository);this._logRetryMessage=new Si(e),this._logServerCommunicator=new Kt(this._logRequestBodyBuilder,this._configurationRepository.get(b),sn,this._logRetryMessage,!0,"log"),this._logMessageBuilder=new ne(new fe),this._logServerClient=new je(this._logServerCommunicator,this._logMessageBuilder,this._configurationRepository),this._wupStatisticsService=new ze(this._configurationRepository.get(g)),this._wupDispatchRateCalculatorFactory=new nr(this._wupStatisticsService,this._wupServerSessionState);var r=new lr;this._logDataDispatcher=new sr(this._logServerClient,r,this._wupDispatchRateCalculatorFactory,this._configurationRepository.get(v));var n=new gi(r,"worker");this._logMessageProcessor=new yr(this._logDataDispatcher);var i=new nt(n);rt.setLogger(i),this._wupMessageBuilder=new Er(this._wupServerSessionState,new fe),this._wupRequestBodyBuilder=new Cr(this._wupServerSessionState);var o=ln.createReMessageSettings(this._configurationRepository);this._wupRetryMessage=new Si(o),this._dataServerCommunicator=new Kt(this._wupRequestBodyBuilder,this._configurationRepository.get(b),sn,this._wupRetryMessage,!1,"wup"),this._wupResponseProcessor=new Nr(this._wupServerSessionState,this._msgBus,this._configurationRepository),this._wupServerClient=new gn(this._dataServerCommunicator,this._wupMessageBuilder,this._wupServerSessionState,this._wupStatisticsService,this._wupResponseProcessor,this._configurationRepository,this._msgBus);var a=this._configurationRepository.get(m)?ht.defaultDynamicWupDispatchRateConfiguration:this._configurationRepository.get(y);this._dataDispatcher=new sr(this._wupServerClient,new Sn(this._wupServerSessionState),this._wupDispatchRateCalculatorFactory,a),this._messageProcessor=new yr(this._dataDispatcher),this._fontsScannerWorker=new Oo({detectorProvider:new yo}),this._eventHandlers.push(new xn(this._msgBus,this._wupStatisticsService,this._dataDispatcher,this._logDataDispatcher,this._dataServerCommunicator,this._wupServerClient,this._logServerClient,i,this._mainCommunicator)),this._eventHandlers.push(new Tn(this._msgBus,i,this._mainCommunicator)),this._eventHandlers.push(new jn(this._msgBus,i,this._mainCommunicator)),this._eventHandlers.push(new zn(this._msgBus,this._dataDispatcher,i)),this._eventHandlers.push(new li(this._mainCommunicator,this._msgBus,i)),this._eventHandlers.push(new xi(this._msgBus,this._mainCommunicator)),this._eventHandlers.push(new Ti(this._mainCommunicator,this._wupServerSessionState,this._logServerClient)),this._eventHandlers.push(new ji(this._msgBus,this._mainCommunicator)),this._wupServerSessionState.onServerStateUpdated.subscribe(function(e){t._mainCommunicator.sendAsync(q,e)}),this._workerService=new si(this._mainCommunicator,this._wupServerClient,this._logServerClient,this._configurationRepository,this._messageProcessor,this._logMessageProcessor,this._wupServerSessionState,this._dataServerCommunicator,this._fontsScannerWorker),this._workerService.start(),rt.info("Loaded worker")}}])}();function Do(t){return Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Do(t)}function Uo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zo(n.key),n)}}function zo(t){var e=function(t,e){if("object"!=Do(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Do(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Do(e)?e:e+""}var No=function(){return function(t,e,r){return e&&Uo(t.prototype,e),r&&Uo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.subscribers=o()},[{key:"subscribe",value:function(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!1;this.subscribers.has(t)?(r=this.subscribers.get(t))&&r.forEach(function(t){e===t.handler&&(i=!0)}):(r=f(),this.subscribers.set(t,r)),i||r.add({handler:e,isOneTime:n})}},{key:"unsubscribe",value:function(t,e){if(t&&this.subscribers.has(t)){var r=this.subscribers.get(t);r&&r.forEach(function(t){e===t.handler&&r.delete(t)}),0===r.size&&this.subscribers.delete(t)}}},{key:"publish",value:function(t,e){if(!t)throw new Error("invalid argument messageType must be defined");this._notifySubscribers(t,e)}},{key:"_notifySubscribers",value:function(t,e){var r=this.subscribers.get(t);r&&r.forEach(function(t){t.handler(e),t.isOneTime&&r.delete(t)})}}])}(),Fo=No;function Lo(t){return Lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lo(t)}function Ho(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qo(n.key),n)}}function qo(t){var e=function(t,e){if("object"!=Lo(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Lo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Lo(e)?e:e+""}var Wo=function(){return function(t,e,r){return e&&Ho(t.prototype,e),r&&Ho(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._portNativeWorker=e},[{key:"postMessage",value:function(){this._portNativeWorker.postMessage.apply(this._portNativeWorker,arguments)}},{key:"close",value:function(){this._portNativeWorker.terminate()}},{key:"setonmessage",value:function(t){this._portNativeWorker.onmessage=t}}])}();function Yo(t){return Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yo(t)}function Go(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zo(n.key),n)}}function Zo(t){var e=function(t,e){if("object"!=Yo(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Yo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Yo(e)?e:e+""}var Vo=function(){return function(t,e,r){return e&&Go(t.prototype,e),r&&Go(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},[{key:"start",value:function(){var t=new p,e=new Fo,r=new Mo(t,e);this._loadWorkerSystem(t,e,r,new Wo(self))}},{key:"_loadWorkerSystem",value:function(t,e,r,n){try{t.setMessagingPort(n),r.loadSystem(),e.publish(Mr,new Xr(Fr,Vr))}catch(t){e.publish(Mr,new Xr(Fr,Kr))}}}])}();function Ko(t){return Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(t)}function Xo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qo(n.key),n)}}function Qo(t){var e=function(t,e){if("object"!=Ko(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ko(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ko(e)?e:e+""}var Jo=function(){return function(t,e,r){return e&&Xo(t.prototype,e),r&&Xo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=self,"undefined"==typeof TextEncoder&&(e.TextEncoder=function(){},TextEncoder.prototype.encode=function(t){for(var e=[],r=0;r<t.length;r++){var n=t.charCodeAt(r);n<128?e.push(n):n<2048?e.push(192|n>>6,128|63&n):n<55296||n>=57344?e.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=65536+((1023&n)<<10|1023&t.charCodeAt(r)),e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return new Uint8Array(e)})},[{key:"start",value:function(){(new Vo).start()}}])}();(new Jo).start()}()}();',
        "Worker",
        void 0,
        void 0
      );
    }
    function Ce(t) {
      return (
        (Ce =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Ce(t)
      );
    }
    function je(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Me(r.key), r);
      }
    }
    function Me(t) {
      var e = (function (t, e) {
        if ("object" != Ce(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Ce(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Ce(e) ? e : e + "";
    }
    var Re = (function () {
      return (
        (t = function t(e) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._portNativeWorker = e);
        }),
        (e = [
          {
            key: "postMessage",
            value: function () {
              this._portNativeWorker.postMessage.apply(
                this._portNativeWorker,
                arguments
              );
            },
          },
          {
            key: "close",
            value: function () {
              this._portNativeWorker.terminate();
            },
          },
          {
            key: "setonmessage",
            value: function (t) {
              this._portNativeWorker.onmessage = t;
            },
          },
        ]),
        e && je(t.prototype, e),
        n && je(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
      var t, e, n;
    })();
    function Be(t) {
      return (
        (Be =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Be(t)
      );
    }
    function Ae(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, xe(r.key), r);
      }
    }
    function xe(t) {
      var e = (function (t, e) {
        if ("object" != Be(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Be(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Be(e) ? e : e + "";
    }
    var De = (function () {
      return (
        (t = function t(e) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._nativeWorker = e),
            (this.port = new Re(this._nativeWorker));
        }),
        (e = [
          {
            key: "close",
            value: function () {
              this.port.close();
            },
          },
        ]) && Ae(t.prototype, e),
        n && Ae(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
      var t, e, n;
    })();
    function Le(t) {
      return (
        (Le =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Le(t)
      );
    }
    function Ne(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Ie(r.key), r);
      }
    }
    function Ie(t) {
      var e = (function (t, e) {
        if ("object" != Le(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Le(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Le(e) ? e : e + "";
    }
    var Fe = (function () {
      return (
        (t = function t(e, n) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._useUrlWorker = e),
            (this._workerUrl = n);
        }),
        (e = [
          {
            key: "create",
            value: function () {
              return this._useUrlWorker
                ? this._createWorkerFromUrl()
                : this._createInlineWorker();
            },
          },
          {
            key: "_createInlineWorker",
            value: function () {
              var t = new Oe();
              return _t.info("Created a dedicated worker."), new De(t);
            },
          },
          {
            key: "_createWorkerFromUrl",
            value: function () {
              try {
                var t = new Worker(this._workerUrl);
                return (
                  _t.info("Created worker from url - ".concat(this._workerUrl)),
                  new De(t)
                );
              } catch (t) {
                throw (_t.error("Failed to construct worker from url."), t);
              }
            },
          },
        ]),
        e && Ne(t.prototype, e),
        n && Ne(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
      var t, e, n;
    })();
    function Ue(t) {
      return (
        (Ue =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Ue(t)
      );
    }
    function We(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Ge(r.key), r);
      }
    }
    function Ge(t) {
      var e = (function (t, e) {
        if ("object" != Ue(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Ue(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Ue(e) ? e : e + "";
    }
    var He = (function () {
        return (
          (t = function t() {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (this._pairs = []),
              (this.size = 0);
          }),
          (e = [
            {
              key: "has",
              value: function (t) {
                return this._indexOf(t) > -1;
              },
            },
            {
              key: "get",
              value: function (t) {
                var e = this._indexOf(t);
                if (e > -1) return this._pairs[e][1];
              },
            },
            {
              key: "set",
              value: function (t, e) {
                var n = this._indexOf(t);
                n > -1
                  ? (this._pairs[n][1] = e)
                  : (this._pairs.push([t, e]), this.size++);
              },
            },
            {
              key: "delete",
              value: function (t) {
                var e = this._indexOf(t);
                return e > -1 && (this._pairs.splice(e, 1), this.size--, !0);
              },
            },
            {
              key: "forEach",
              value: function (t) {
                for (var e = 0; e < this._pairs.length; e++)
                  t(this._pairs[e][1], this._pairs[e][0]);
              },
            },
            {
              key: "clear",
              value: function () {
                this._pairs = [];
              },
            },
            {
              key: "_indexOf",
              value: function (t) {
                for (var e = 0; e < this._pairs.length; e++)
                  if (this._pairs[e][0] === t) return e;
                return -1;
              },
            },
          ]) && We(t.prototype, e),
          n && We(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
        var t, e, n;
      })(),
      Qe = function () {
        return new (self.Map || He)();
      };
    function ze(t) {
      return (
        (ze =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        ze(t)
      );
    }
    function Ve(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Ke(r.key), r);
      }
    }
    function Ke(t) {
      var e = (function (t, e) {
        if ("object" != ze(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != ze(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == ze(e) ? e : e + "";
    }
    var qe = (function () {
        return (
          (t = function t() {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (this._set = []),
              (this.size = 0);
          }),
          (e = [
            {
              key: "add",
              value: function (t) {
                return this._set.push(t), this.size++, this;
              },
            },
            {
              key: "has",
              value: function (t) {
                return this._set.indexOf(t) > -1;
              },
            },
            {
              key: "delete",
              value: function (t) {
                for (var e = 0; e < this._set.length; e++)
                  if (this._set[e] === t)
                    return this._set.splice(e, 1), this.size--, !0;
                return !1;
              },
            },
            {
              key: "forEach",
              value: function (t) {
                for (var e = 0; e < this._set.length; e++) t(this._set[e]);
              },
            },
            {
              key: "clear",
              value: function () {
                this._set = [];
              },
            },
          ]) && Ve(t.prototype, e),
          n && Ve(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
        var t, e, n;
      })(),
      Je = function () {
        for (
          var t =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : [],
            e = new (self.Set || qe)(),
            n = 0;
          n < t.length;
          n++
        )
          e.add(t[n]);
        return e;
      };
    function Xe(t) {
      return (
        (Xe =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Xe(t)
      );
    }
    function Ye(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Ze(r.key), r);
      }
    }
    function Ze(t) {
      var e = (function (t, e) {
        if ("object" != Xe(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Xe(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Xe(e) ? e : e + "";
    }
    var $e = (function () {
      return (
        (t = function t() {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._msgListeners = Qe());
        }),
        (e = [
          {
            key: "setMessagingPort",
            value: function (t) {
              var e = this;
              (this._messagePort = t),
                t.setonmessage(function (t) {
                  var n = t.data,
                    r = [],
                    o = e._msgListeners.get(n.msgType);
                  o &&
                    o.forEach(function (t) {
                      t.callback(n.data), t.isOneTime && r.push(t);
                    }),
                    r.forEach(function (t) {
                      o.delete(t);
                    });
                });
            },
          },
          {
            key: "sendAsync",
            value: function (t, e, n, r, o) {
              r && n && this.addMessageListener(n, r, o),
                this._messagePort.postMessage({ msgType: t, data: e });
            },
          },
          {
            key: "addMessageListener",
            value: function (t, e, n) {
              var r = null;
              this._msgListeners.has(t)
                ? (r = this._msgListeners.get(t))
                : ((r = Je()), this._msgListeners.set(t, r)),
                r.add({ callback: e, isOneTime: n });
            },
          },
        ]),
        e && Ye(t.prototype, e),
        n && Ye(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
      var t, e, n;
    })();
    function tn(t) {
      return (
        (tn =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        tn(t)
      );
    }
    function en(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, nn(r.key), r);
      }
    }
    function nn(t) {
      var e = (function (t, e) {
        if ("object" != tn(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != tn(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == tn(e) ? e : e + "";
    }
    var rn = (function () {
      return (
        (t = function t(e, n, r, o, i, a) {
          var u,
            s,
            c,
            l = this;
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (u = this),
            (c = "BC"),
            (s = nn((s = "_dataOrigin"))) in u
              ? Object.defineProperty(u, s, {
                  value: c,
                  enumerable: !0,
                  configurable: !0,
                  writable: !0,
                })
              : (u[s] = c),
            (this._serverWorkerCommunicator = n),
            (this._contextManager = r),
            (this._passToWorkerInterval = a || 0),
            (this._intervalConfigKey = o),
            (this._msgToWorker = i),
            (this._Q = []),
            this._passToWorkerInterval &&
              (this._intervalId = setInterval(
                this._sendQToServerWorker.bind(this),
                this._passToWorkerInterval
              )),
            e.addEventListener(
              window,
              "beforeunload",
              function () {
                l._onUnload();
              },
              !0
            );
        }),
        (e = [
          {
            key: "addToQueue",
            value: function (t, e, n, r) {
              (n = !(null != n && !0 !== n)) &&
                e.push &&
                (e[0] = this._contextManager.contextHash),
                0 !== this._passToWorkerInterval
                  ? (this._Q.push({
                      eventName: t,
                      data: e,
                      shouldFlush: r,
                      origin: this._dataOrigin,
                    }),
                    r && this._sendQToServerWorker())
                  : this._serverWorkerCommunicator.sendAsync(
                      this._msgToWorker,
                      {
                        eventName: t,
                        data: e,
                        shouldFlush: r,
                        origin: this._dataOrigin,
                      }
                    );
            },
          },
          {
            key: "updateWithConfig",
            value: function (t) {
              var e = t.get(this._intervalConfigKey);
              void 0 !== e &&
                e !== this._passToWorkerInterval &&
                ((this._passToWorkerInterval = e),
                clearInterval(this._intervalId),
                (this._intervalId = null),
                0 !== this._passToWorkerInterval &&
                  (this._intervalId = setInterval(
                    this._sendQToServerWorker.bind(this),
                    this._passToWorkerInterval
                  )));
            },
          },
          {
            key: "flushAllMessages",
            value: function () {
              this._Q.push({ eventName: "flushData" }),
                this._sendQToServerWorker();
            },
          },
          {
            key: "registerOnPreSendToWorker",
            value: function (t) {
              this._onPreSendToWorker = t;
            },
          },
          {
            key: "_sendQToServerWorker",
            value: function () {
              try {
                this._onPreSendToWorker && this._onPreSendToWorker(),
                  this._Q.length &&
                    (this._serverWorkerCommunicator.sendAsync(
                      this._msgToWorker,
                      this._Q
                    ),
                    (this._Q = []));
              } catch (t) {
                _t.error("Failed sending data to worker. ".concat(t)),
                  this._sendQInSingleMessagesToServerWorker();
              }
            },
          },
          {
            key: "appendData",
            value: function (t, e) {
              this._Q.push({
                eventName: t,
                data: e,
                shouldFlush: !1,
                origin: this._dataOrigin,
              });
            },
          },
          {
            key: "_sendQInSingleMessagesToServerWorker",
            value: function () {
              for (var t = 0; t < this._Q.length; t++)
                try {
                  this._serverWorkerCommunicator.sendAsync(
                    this._msgToWorker,
                    this._Q[t]
                  );
                } catch (t) {
                  _t.error(
                    "Failed sending single message data to worker. ".concat(t)
                  );
                }
              this._Q = [];
            },
          },
          {
            key: "_onUnload",
            value: function () {
              this.flushAllMessages();
            },
          },
          {
            key: "filterOut",
            value: function (t) {
              this._Q = this._Q.filter(t);
            },
          },
        ]) && en(t.prototype, e),
        n && en(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
      var t, e, n;
    })();
    function on(t) {
      return (
        (on =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        on(t)
      );
    }
    function an(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, un(r.key), r);
      }
    }
    function un(t) {
      var e = (function (t, e) {
        if ("object" != on(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != on(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == on(e) ? e : e + "";
    }
    var sn = (function () {
      return (
        (t = function t(e) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._perfDataQ = e),
            (this._now =
              window.performance && window.performance.now
                ? window.performance.now.bind(window.performance)
                : se.dateNow.bind(Date)),
            (this._monitors = Qe());
        }),
        (e = [
          {
            key: "startMonitor",
            value: function (t) {
              _t.debug("PerfMonitor:startMonitor on ".concat(t)),
                this._monitors.set(t, this._now());
            },
          },
          {
            key: "stopMonitor",
            value: function (t) {
              var e =
                arguments.length > 1 && void 0 !== arguments[1]
                  ? arguments[1]
                  : "main";
              if (this._monitors.has(t)) {
                var n = this._now() - this._monitors.get(t);
                this._perfDataQ.addToQueue("perf", {
                  orig: e,
                  name: t,
                  val: n,
                }),
                  _t.debug(
                    "PerfMonitor:stopMonitor on "
                      .concat(t, ": time = ")
                      .concat(n)
                  ),
                  this._monitors.delete(t);
              }
            },
          },
          {
            key: "cancelMonitor",
            value: function (t) {
              _t.debug("PerfMonitor:cancelMonitor on ".concat(t)),
                this._monitors.has(t) && this._monitors.delete(t);
            },
          },
          {
            key: "reportMonitor",
            value: function (t, e) {
              var n =
                arguments.length > 2 && void 0 !== arguments[2]
                  ? arguments[2]
                  : "main";
              _t.debug("PerfMonitor:reportMonitor on ".concat(t)),
                this._perfDataQ.addToQueue("perf", {
                  orig: n,
                  name: t,
                  val: e,
                });
            },
          },
        ]),
        e && an(t.prototype, e),
        n && an(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
      var t, e, n;
    })();
    function cn(t) {
      return (
        (cn =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        cn(t)
      );
    }
    function ln(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, fn(r.key), r);
      }
    }
    function fn(t) {
      var e = (function (t, e) {
        if ("object" != cn(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != cn(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == cn(e) ? e : e + "";
    }
    var pn = (function () {
      return (
        (t = function t(e, n, r, o, i) {
          var a =
              !(arguments.length > 5 && void 0 !== arguments[5]) ||
              arguments[5],
            u =
              arguments.length > 6 && void 0 !== arguments[6]
                ? arguments[6]
                : 200;
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._mutationObserver = e),
            (this._siteMapKey = o),
            (this._keyUrl = o + "_isUrlNonMasked"),
            (this._stopOnFirstMappingMatch = a),
            (this._siteMap = null),
            (this._observers = []),
            (this._utils = n),
            (this._domUtils = r),
            (this._onMatchCB = i),
            (this._maxMappings = u),
            (this._maxTriggers = 10);
        }),
        (e = [
          {
            key: "updateObserver",
            value: function (t) {
              this._onMatchCB = t;
            },
          },
          {
            key: "_observeChange",
            value: function (t, e) {
              if (t)
                try {
                  var n = window.document.querySelector(t);
                  if (n) {
                    var r = new this._mutationObserver(function (t) {
                      t.length > 0 && e();
                    });
                    r.observe(n, {
                      childList: !0,
                      characterData: !0,
                      attributes: !0,
                      subtree: !0,
                    }),
                      this._observers.push(r);
                  } else
                    _t.debug(
                      "Selector:"
                        .concat(JSON.stringify(t), " not found on page. Check ")
                        .concat(this._siteMapKey, " configuration")
                    );
                } catch (t) {
                  _t.error("SiteMapper._observeChange: ".concat(t.message), t);
                }
            },
          },
          {
            key: "initTracking",
            value: function () {
              var t = this,
                e = function () {
                  try {
                    for (var e = 0; e < t._siteMap.mappings.length; e++) {
                      var n = t._siteMap.mappings[e];
                      if (!n.url || t._url.indexOf(n.url) > -1)
                        if (n.selector) {
                          var r = window.document.querySelector(n.selector);
                          if (r)
                            if (n.byText) {
                              if (
                                ((void 0 !== r.innerText &&
                                  -1 !== r.innerText.indexOf(n.byText)) ||
                                  r.value === n.byText ||
                                  r.textContent === n.byText) &&
                                (t._onMatchCB(n), t._stopOnFirstMappingMatch)
                              )
                                return;
                            } else if (
                              (t._onMatchCB(n), t._stopOnFirstMappingMatch)
                            )
                              return;
                        } else if (
                          t._url.indexOf(n.url) > -1 &&
                          (t._onMatchCB(n), t._stopOnFirstMappingMatch)
                        )
                          return;
                    }
                  } catch (t) {
                    _t.error(
                      "SiteMapper:testQuerySelector failed. ex: ".concat(
                        t.message
                      ),
                      t
                    );
                  }
                };
              if (!this._siteMap) {
                var n = this._utils.StorageUtils.getFromSessionStorage(
                  this._siteMapKey
                );
                n &&
                  n.triggers.length <= this._maxTriggers &&
                  n.mappings.length <= this._maxMappings &&
                  (this._siteMap = n),
                  (this._isNonMaskedUrl =
                    this._utils.StorageUtils.getFromSessionStorage(
                      this._keyUrl
                    ));
              }
              this._siteMap &&
                ((this._url = this._isNonMaskedUrl
                  ? window.document.location.href
                  : this._utils.getDocUrl()),
                this._domUtils.onDocumentBody(window, function () {
                  t._mutationObserver &&
                    t._siteMap.triggers.forEach(function (n) {
                      (!n.url || t._url.indexOf(n.url) > -1) &&
                        t._observeChange(n.selector, e);
                    }),
                    e();
                }));
            },
          },
          {
            key: "onConfigUpdate",
            value: function (t) {
              try {
                if (!this._siteMap && t.get(this._siteMapKey)) {
                  this.stopTracking();
                  var e =
                    t.get(this._siteMapKey) &&
                    JSON.parse(t.get(this._siteMapKey));
                  (this._isNonMaskedUrl = t.get("useNonMaskedUrlInMappings")),
                    e &&
                    e.triggers.length <= this._maxTriggers &&
                    e.mappings.length <= this._maxMappings
                      ? ((this._siteMap = e),
                        this._utils.StorageUtils.saveToSessionStorage(
                          this._siteMapKey,
                          this._siteMap
                        ),
                        this._utils.StorageUtils.saveToSessionStorage(
                          this._keyUrl,
                          this._isNonMaskedUrl
                        ),
                        this.initTracking())
                      : _t.warn(
                          "Configuration "
                            .concat(
                              this._siteMapKey,
                              " contains an illegal amount of triggers or mappings. Max Allowed Triggers: "
                            )
                            .concat(this._maxTriggers, ", ") +
                            "Max Allowed Mappings: ".concat(this._maxMappings)
                        );
                }
              } catch (t) {
                _t.error(
                  "An error occurred while loading "
                    .concat(
                      this._siteMapKey,
                      " configuration. Make sure the configuration value is valid. "
                    )
                    .concat(t.message),
                  t
                );
              }
            },
          },
          {
            key: "stopTracking",
            value: function () {
              for (var t = 0; t < this._observers.length; t++)
                this._observers[t].disconnect();
              (this._observers = []), (this._siteMap = null);
            },
          },
        ]) && ln(t.prototype, e),
        n && ln(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
      var t, e, n;
    })();
    function hn(t) {
      return (
        (hn =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        hn(t)
      );
    }
    function dn(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, yn(r.key), r);
      }
    }
    function yn(t) {
      var e = (function (t, e) {
        if ("object" != hn(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != hn(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == hn(e) ? e : e + "";
    }
    var mn = (function () {
      return (
        (t = function t() {
          var e =
            arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._wasmLoader = null),
            (this._externalWASMModules = e),
            this._externalWASMModules.length > 0 &&
              "object" === hn(window.WasmLoader) &&
              (this._wasmLoader = window.WasmLoader);
        }),
        (e = [
          {
            key: "isWasmLoaderAvailable",
            value: function () {
              return (
                !(
                  !this._wasmLoader ||
                  "function" != typeof this._wasmLoader.loadKotlinModule
                ) ||
                (_t.warn(
                  "WasmLoader is not available in the window scope or loadKotlinModule is not a function."
                ),
                !1)
              );
            },
          },
          {
            key: "loadExternalWASMModuleByName",
            value: function () {
              var t = this,
                e =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : "",
                n =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : null;
              if (
                !this._externalWASMModules ||
                !Array.isArray(this._externalWASMModules)
              )
                return (
                  _t.warn(
                    "Attempted to get external Wasm module, but externalWASMModules is not an array."
                  ),
                  null
                );
              var r = this._externalWASMModules.find(function (t) {
                return t.key === e;
              });
              return r
                ? this.isWasmLoaderAvailable()
                  ? void this._wasmLoader
                      .loadKotlinModule(r.url, r.key)
                      .then(function () {
                        var o = t.getLoadedWasmModule(r.key);
                        if (!o)
                          return (
                            _t.warn(
                              'Failed to load external Wasm module "'.concat(
                                e,
                                '".'
                              )
                            ),
                            null
                          );
                        _t.debug(
                          'Successfully loaded external Wasm module "'.concat(
                            e,
                            '".'
                          )
                        ),
                          "function" == typeof n && n(o);
                      })
                      .catch(function (t) {
                        return (
                          _t.warn(
                            'Failed to load external Wasm module "'
                              .concat(e, '" from URL "')
                              .concat(r.url, '": ')
                              .concat(t.message)
                          ),
                          null
                        );
                      })
                  : null
                : (_t.warn(
                    'No external Wasm module found with name "'.concat(e, '".')
                  ),
                  null);
            },
          },
          {
            key: "getLoadedWasmModule",
            value: function () {
              var t =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : "";
              if (
                !this._externalWASMModules.find(function (e) {
                  return e.key === t;
                })
              )
                return (
                  _t.warn(
                    'Attempted to load a Wasm module with name "'.concat(
                      t,
                      '", \n            but it is not available in externalWASMModules.'
                    )
                  ),
                  null
                );
              if (this._wasmLoader) {
                var e = this._wasmLoader.getModule(t);
                return e && "object" === hn(e) && "object" === hn(e.exports)
                  ? e.exports
                  : void 0;
              }
              _t.warn(
                "Attempted to load a Wasm module, but no WasmLoader is available in the window scope or externalWASMModules is empty."
              );
            },
          },
        ]),
        e && dn(t.prototype, e),
        n && dn(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
      var t, e, n;
    })();
    function vn(t) {
      return (
        (vn =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        vn(t)
      );
    }
    function bn(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, gn(r.key), r);
      }
    }
    function gn(t) {
      var e = (function (t, e) {
        if ("object" != vn(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != vn(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == vn(e) ? e : e + "";
    }
    var _n = (function () {
      return (
        (t = function t() {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._listeners = []);
        }),
        (e = [
          {
            key: "subscribe",
            value: function (t) {
              this._listeners.push(t);
            },
          },
          {
            key: "publish",
            value: function (t) {
              for (var e = 0, n = this._listeners.length; e < n; e++)
                this._listeners[e](t);
            },
          },
          {
            key: "unsubscribe",
            value: function (t) {
              for (var e = 0, n = this._listeners.length; e < n; e++)
                if (t === this._listeners[e]) {
                  this._listeners.splice(e, 1);
                  break;
                }
            },
          },
        ]) && bn(t.prototype, e),
        n && bn(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
      var t, e, n;
    })();
    function wn(t) {
      return (
        (wn =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        wn(t)
      );
    }
    function Sn(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, En(r.key), r);
      }
    }
    function En(t) {
      var e = (function (t, e) {
        if ("object" != wn(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != wn(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == wn(e) ? e : e + "";
    }
    var kn = (function () {
      return (
        (t = function t(e, n, r, o, i) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._utils = e),
            (this._storageUtilsWrapper = o),
            (this._contextSiteMapper = n),
            (this.contextName = ""),
            (this.referrer = ""),
            (this.historyLen = -1),
            (this.onContextChange = new _n()),
            this._contextSiteMapper.updateObserver(
              this.onSiteMapperMatch.bind(this)
            ),
            (this._workerComm = r),
            (this._contextIdKey = "cdContextId"),
            (this.context_mapping = "0"),
            (this.randomValue = Math.floor(1e6 * Math.random())),
            (this._contextCategoryService = i);
        }),
        (e = [
          {
            key: "contextData",
            value: function () {
              return {
                contextId: this.contextId,
                contextHash: this.contextHash,
                url: this.url,
                name: this.contextName,
                referrer: this.referrer,
                hLength: this.historyLen,
                timestamp: this.timestamp,
                context_mapping: this.context_mapping,
              };
            },
          },
          {
            key: "getContextName",
            value: function () {
              return this.contextName;
            },
          },
          {
            key: "setContext",
            value: function (t) {
              (this.contextName = t.name),
                this._genContext(),
                (this.url = t.url),
                (this.referrer = t.referrer),
                (this.historyLen = t.hLength),
                (this.timestamp = t.timestamp),
                this._publishContext();
            },
          },
          {
            key: "changeContext",
            value: function (t) {
              t
                ? t !== this.contextName
                  ? ((this.contextName = t),
                    this._updateContext(),
                    this._publishContext(),
                    _t.info(
                      "Context changed to "
                        .concat(t, " and Context hash its ")
                        .concat(this.contextHash)
                    ))
                  : _t.warn(
                      "Received context ".concat(
                        t,
                        " but this is already the current context. Aborting operation."
                      )
                    )
                : _t.error(
                    "Received an invalid context name ".concat(
                      t,
                      ". Aborting context change operation"
                    )
                  );
            },
          },
          {
            key: "onSiteMapperMatch",
            value: function (t) {
              t.contextName !== this.contextName &&
                this.changeContext(t.contextName);
            },
          },
          {
            key: "_updateContext",
            value: function () {
              this._genContext(),
                (this.url = this._utils.getDocUrl()),
                (this.referrer = this._utils.clearTextFromNumbers(
                  document.referrer
                )),
                (this.historyLen = window.history.length),
                (this.timestamp = this._utils.dateNow()),
                (this.context_mapping =
                  this._contextCategoryService.getCategory());
            },
          },
          {
            key: "_genContext",
            value: function () {
              (this.contextId = this._storageUtilsWrapper.getCookie(
                this._contextIdKey
              )),
                (this.contextId && !isNaN(this.contextId)) ||
                  ((this.contextId =
                    this._storageUtilsWrapper.getFromLocalStorage(
                      this._contextIdKey
                    )),
                  (this.contextId && !isNaN(this.contextId)) ||
                    (this.contextId = 0)),
                (this.contextId = parseInt(this.contextId));
              var t = this.contextId + 1;
              this._storageUtilsWrapper.saveToLocalStorage(
                this._contextIdKey,
                t
              ) ||
                _t.error(
                  "Failed saving contextId ".concat(
                    this.contextId,
                    " to local storage."
                  )
                ),
                this._storageUtilsWrapper.setCookie(
                  this._contextIdKey,
                  t.toString()
                ) ||
                  _t.error(
                    "Failed saving contextId ".concat(
                      this.contextId,
                      " to cookie."
                    )
                  ),
                (this.contextHash = this._toInt32Hash(this.contextId));
            },
          },
          {
            key: "_toInt32Hash",
            value: function (t) {
              var e = (t ^= this.randomValue);
              return (
                (e =
                  73244475 * (((e = 73244475 * ((e >>> 16) ^ e)) >>> 16) ^ e)),
                4294967295 & (e ^= e >>> 16)
              );
            },
          },
          {
            key: "_publishContext",
            value: function () {
              var t = { contextName: this.contextName };
              this._workerComm.sendAsync(fe, t),
                this.onContextChange.publish(this.contextData());
            },
          },
          {
            key: "initContextHandling",
            value: function () {
              this._contextSiteMapper.initTracking();
            },
          },
          {
            key: "clearContextHandling",
            value: function () {
              this._contextSiteMapper.stopTracking();
            },
          },
          {
            key: "onConfigUpdate",
            value: function (t) {
              this._contextCategoryService.onConfigUpdate(t),
                this._contextSiteMapper.onConfigUpdate(t);
            },
          },
          {
            key: "onSessionReset",
            value: function () {
              this._publishContext();
            },
          },
        ]) && Sn(t.prototype, e),
        n && Sn(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
      var t, e, n;
    })();
    function Tn(t) {
      return (
        (Tn =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Tn(t)
      );
    }
    function Pn(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, On(r.key), r);
      }
    }
    function On(t) {
      var e = (function (t, e) {
        if ("object" != Tn(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Tn(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Tn(e) ? e : e + "";
    }
    var Cn = (function () {
      return (
        (t = function t(e, n) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._cdUtils = e),
            (this._scriptName = n),
            this._cdUtils.addEventListener(
              window,
              "error",
              this._handleException.bind(this)
            );
        }),
        (e = [
          {
            key: "_handleException",
            value: function (t) {
              if (this._scriptName && this._scriptName === t.filename) {
                var e = this._buildErrorMessage(t);
                _t.error("caught unhandled exception. ".concat(e));
              }
            },
          },
          {
            key: "_buildErrorMessage",
            value: function (t) {
              if (!t.error) return t.message;
              var e = t.error.toString(),
                n = t.error.stack ? t.error.stack : "";
              return ""
                .concat(e, ", Line: ")
                .concat(t.lineno, ", Column: ")
                .concat(t.colno, ". Stacktrace: ")
                .concat(n);
            },
          },
        ]) && Pn(t.prototype, e),
        n && Pn(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
      var t, e, n;
    })();
    function jn(t) {
      return (
        (jn =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        jn(t)
      );
    }
    function Mn(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Rn(r.key), r);
      }
    }
    function Rn(t) {
      var e = (function (t, e) {
        if ("object" != jn(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != jn(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == jn(e) ? e : e + "";
    }
    var Bn = (function () {
        return (
          (t = function t() {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (this.subscribers = Qe());
          }),
          (e = [
            {
              key: "subscribe",
              value: function (t, e) {
                var n,
                  r =
                    arguments.length > 2 &&
                    void 0 !== arguments[2] &&
                    arguments[2],
                  o = !1;
                this.subscribers.has(t)
                  ? (n = this.subscribers.get(t)) &&
                    n.forEach(function (t) {
                      e === t.handler && (o = !0);
                    })
                  : ((n = Je()), this.subscribers.set(t, n)),
                  o || n.add({ handler: e, isOneTime: r });
              },
            },
            {
              key: "unsubscribe",
              value: function (t, e) {
                if (t && this.subscribers.has(t)) {
                  var n = this.subscribers.get(t);
                  n &&
                    n.forEach(function (t) {
                      e === t.handler && n.delete(t);
                    }),
                    0 === n.size && this.subscribers.delete(t);
                }
              },
            },
            {
              key: "publish",
              value: function (t, e) {
                if (!t)
                  throw new Error(
                    "invalid argument messageType must be defined"
                  );
                this._notifySubscribers(t, e);
              },
            },
            {
              key: "_notifySubscribers",
              value: function (t, e) {
                var n = this.subscribers.get(t);
                n &&
                  n.forEach(function (t) {
                    t.handler(e), t.isOneTime && n.delete(t);
                  });
              },
            },
          ]),
          e && Mn(t.prototype, e),
          n && Mn(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
        var t, e, n;
      })(),
      An = Bn;
    function xn(t) {
      return (
        (xn =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        xn(t)
      );
    }
    function Dn(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Ln(r.key), r);
      }
    }
    function Ln(t) {
      var e = (function (t, e) {
        if ("object" != xn(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != xn(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == xn(e) ? e : e + "";
    }
    var Nn = (function () {
        return (
          (t = function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t);
            var n = new URL(e);
            if (((this._cid = n.searchParams.get("cid")), !this._cid))
              throw new Error("cid was not found on provided url.");
          }),
          (e = [
            {
              key: "get",
              value: function () {
                return this._cid;
              },
            },
          ]) && Dn(t.prototype, e),
          n && Dn(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
        var t, e, n;
      })(),
      In = "NewSessionStartedEvent",
      Fn = "ConfigurationLoadedEvent",
      Un = "ServerStateUpdatedEvent",
      Wn = "HeartBeatStatusEvent",
      Gn = "ServerRestoredMuidEvent",
      Hn = "ServerNewAgentIdEvent";
    function Qn(t) {
      return (
        (Qn =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Qn(t)
      );
    }
    function zn(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Vn(r.key), r);
      }
    }
    function Vn(t) {
      var e = (function (t, e) {
        if ("object" != Qn(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Qn(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Qn(e) ? e : e + "";
    }
    var Kn = (function () {
      return (
        (t = function t(e, n, r) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._workerComm = e),
            (this._utils = n),
            (this._currState = null),
            (this._agentIdService = r),
            e.addMessageListener(Un, this._onStateUpdateFromWorker.bind(this)),
            e.addMessageListener(Hn, this._onNewAgentIdFromWorker.bind(this)),
            n.addEventListener(
              window,
              "storage",
              this._onStateUpdateFromStorage.bind(this),
              !0
            );
        }),
        (e = [
          {
            key: "getServerState",
            value: function (t) {
              if (this._utils.isUndefinedNull(t))
                throw new Error("Invalid sid param of ".concat(t));
              return (
                (this._currState =
                  this._currState ||
                  this._utils.StorageUtils.getFromLocalStorage("cdSrvrState")),
                this._currState && this._currState.sid !== t
                  ? null
                  : this._currState
              );
            },
          },
          {
            key: "onSessionIdChange",
            value: function () {
              this._utils.StorageUtils.removeFromLocalStorage("cdSrvrState"),
                (this._currState = null);
            },
          },
          {
            key: "_onStateUpdateFromWorker",
            value: function (t) {
              this._updateServerState(t);
            },
          },
          {
            key: "_updateServerState",
            value: function (t) {
              (this._currState = t),
                this._utils.StorageUtils.saveToLocalStorage("cdSrvrState", t);
            },
          },
          {
            key: "_onStateUpdateFromStorage",
            value: function (t) {
              if (t && t.storageArea && t.storageArea.cdSrvrState) {
                var e = JSON.parse(t.storageArea.cdSrvrState);
                this._workerComm.sendAsync(be, {
                  requestId: e.val.requestId,
                  sts: e.val.sts,
                  std: e.val.std,
                  ott: e.val.ott,
                });
              }
            },
          },
          {
            key: "_onNewAgentIdFromWorker",
            value: function (t) {
              this._agentIdService.set(t);
            },
          },
        ]),
        e && zn(t.prototype, e),
        n && zn(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
      var t, e, n;
    })();
    function qn(t) {
      return (
        (qn =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        qn(t)
      );
    }
    function Jn(t, e, n) {
      return (
        (e = (function (t) {
          var e = (function (t, e) {
            if ("object" != qn(t) || !t) return t;
            var n = t[Symbol.toPrimitive];
            if (void 0 !== n) {
              var r = n.call(t, e || "default");
              if ("object" != qn(r)) return r;
              throw new TypeError(
                "@@toPrimitive must return a primitive value."
              );
            }
            return ("string" === e ? String : Number)(t);
          })(t, "string");
          return "symbol" == qn(e) ? e : e + "";
        })(e)) in t
          ? Object.defineProperty(t, e, {
              value: n,
              enumerable: !0,
              configurable: !0,
              writable: !0,
            })
          : (t[e] = n),
        t
      );
    }
    var Xn = {
        V1_ONLY: "0",
        DUAL_COLLECTION_PARALLEL: "5",
        DUAL_COLLECTION_V1_PRIORITY: "1",
        DUAL_COLLECTION_V2_PRIORITY: "2",
        V2_ONLY: "3",
        isValid: function (t) {
          return Object.values(Xn).includes(t);
        },
        getDescription: function (t) {
          return (
            Jn(
              Jn(
                Jn(
                  Jn({}, Xn.V1_ONLY, "Only V1 collector is active"),
                  Xn.DUAL_COLLECTION_V1_PRIORITY,
                  "Both collectors active, V1 is primary"
                ),
                Xn.DUAL_COLLECTION_V2_PRIORITY,
                "Both collectors active, V2 is primary"
              ),
              Xn.V2_ONLY,
              "Only V2 collector is active"
            )[t] || "Unknown stage"
          );
        },
      },
      Yn = Xn,
      Zn = Object.freeze({ VERSION1: "VERSION1", VERSION2: "VERSION2" });
    function $n(t) {
      return (
        ($n =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        $n(t)
      );
    }
    function tr(t) {
      return (
        (function (t) {
          if (Array.isArray(t)) return er(t);
        })(t) ||
        (function (t) {
          if (
            ("undefined" != typeof Symbol && null != t[Symbol.iterator]) ||
            null != t["@@iterator"]
          )
            return Array.from(t);
        })(t) ||
        (function (t, e) {
          if (t) {
            if ("string" == typeof t) return er(t, e);
            var n = {}.toString.call(t).slice(8, -1);
            return (
              "Object" === n && t.constructor && (n = t.constructor.name),
              "Map" === n || "Set" === n
                ? Array.from(t)
                : "Arguments" === n ||
                  /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                ? er(t, e)
                : void 0
            );
          }
        })(t) ||
        (function () {
          throw new TypeError(
            "Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
          );
        })()
      );
    }
    function er(t, e) {
      (null == e || e > t.length) && (e = t.length);
      for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
      return r;
    }
    function nr(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, rr(r.key), r);
      }
    }
    function rr(t) {
      var e = (function (t, e) {
        if ("object" != $n(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != $n(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == $n(e) ? e : e + "";
    }
    var or = {
        migrationMode: Yn.V1_ONLY,
        v1: {
          offloadFontsCollectionEnabled: !1,
          offloadFontsRemoveDuplicated: !0,
        },
        v2: {
          detectorType: void 0,
          fontsPerBatch: 100,
          delayBetweenBatchesMs: 0,
          adaptiveBatchEnabled: !0,
          minFontsPerBatch: 100,
          maxFontsPerBatch: 1e3,
          frameBudgetMs: 100,
          frameHistorySize: 3,
          ignoreFonts: [
            "STFangsong",
            "STHeiti",
            "STKaiti",
            "STXihei",
            "NanumGothic",
            "NanumMyeongjo",
            "Osaka",
            "Osaka-Mono",
            "YuppySC-Regular",
          ],
        },
      },
      ir = (function () {
        return (
          (t = function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (this._configurationRepository = e),
              (this._logsTag = "[FONTS-COLLECTOR][CONFIG-MANAGER]");
          }),
          (e = [
            {
              key: "getV1ScannerConfig",
              value: function () {
                var t = this._configurationRepository.get(
                    w.offloadFontsCollectionEnabled
                  ),
                  e = this._configurationRepository.get(
                    w.offloadFontsRemoveDuplicated
                  );
                return {
                  offloadFontsCollectionEnabled:
                    null != t ? t : or.v1.offloadFontsCollectionEnabled,
                  offloadFontsRemoveDuplicated:
                    null != e ? e : or.v1.offloadFontsRemoveDuplicated,
                };
              },
            },
            {
              key: "getV2ScannerConfig",
              value: function () {
                var t,
                  e,
                  n,
                  r,
                  o,
                  i,
                  a,
                  u,
                  s,
                  c,
                  l,
                  f,
                  p,
                  h,
                  d,
                  y,
                  m = this._getParsedFontCollectionConfig();
                return {
                  detectorType:
                    null !==
                      (t =
                        null == m || null === (e = m.v2) || void 0 === e
                          ? void 0
                          : e.detectorType) && void 0 !== t
                      ? t
                      : or.v2.detectorType,
                  fontsPerBatch:
                    null !==
                      (n =
                        null == m || null === (r = m.v2) || void 0 === r
                          ? void 0
                          : r.fontsPerBatch) && void 0 !== n
                      ? n
                      : or.v2.fontsPerBatch,
                  delayBetweenBatchesMs:
                    null !==
                      (o =
                        null == m || null === (i = m.v2) || void 0 === i
                          ? void 0
                          : i.delayBetweenBatchesMs) && void 0 !== o
                      ? o
                      : or.v2.delayBetweenBatchesMs,
                  adaptiveBatchEnabled:
                    null !==
                      (a =
                        null == m || null === (u = m.v2) || void 0 === u
                          ? void 0
                          : u.adaptiveBatchEnabled) && void 0 !== a
                      ? a
                      : or.v2.adaptiveBatchEnabled,
                  minFontsPerBatch:
                    null !==
                      (s =
                        null == m || null === (c = m.v2) || void 0 === c
                          ? void 0
                          : c.minFontsPerBatch) && void 0 !== s
                      ? s
                      : or.v2.minFontsPerBatch,
                  maxFontsPerBatch:
                    null !==
                      (l =
                        null == m || null === (f = m.v2) || void 0 === f
                          ? void 0
                          : f.maxFontsPerBatch) && void 0 !== l
                      ? l
                      : or.v2.maxFontsPerBatch,
                  frameBudgetMs:
                    null !==
                      (p =
                        null == m || null === (h = m.v2) || void 0 === h
                          ? void 0
                          : h.frameBudgetMs) && void 0 !== p
                      ? p
                      : or.v2.frameBudgetMs,
                  frameHistorySize:
                    null !==
                      (d =
                        null == m || null === (y = m.v2) || void 0 === y
                          ? void 0
                          : y.frameHistorySize) && void 0 !== d
                      ? d
                      : or.v2.frameHistorySize,
                };
              },
            },
            {
              key: "getFontCollectionConfig",
              value: function () {
                return this._getParsedFontCollectionConfig();
              },
            },
            {
              key: "getMigrationMode",
              value: function (t) {
                var e;
                return null !==
                  (e = this._getParsedFontCollectionConfig().migrationMode) &&
                  void 0 !== e
                  ? e
                  : t;
              },
            },
            {
              key: "getDetectorType",
              value: function () {
                var t;
                return null === (t = this._getParsedFontCollectionConfig()) ||
                  void 0 === t ||
                  null === (t = t.v2) ||
                  void 0 === t
                  ? void 0
                  : t.detectorType;
              },
            },
            {
              key: "getIgnoredFonts",
              value: function () {
                var t,
                  e,
                  n = this._getParsedFontCollectionConfig(),
                  r =
                    null !==
                      (t =
                        null == n || null === (e = n.v2) || void 0 === e
                          ? void 0
                          : e.ignoreFonts) && void 0 !== t
                      ? t
                      : [],
                  o = or.v2.ignoreFonts,
                  i = new Set([].concat(tr(r), tr(o)));
                return Array.from(i);
              },
            },
            {
              key: "getConfigByVersion",
              value: function (t) {
                return t === Zn.VERSION1
                  ? this.getV1ScannerConfig()
                  : t === Zn.VERSION2
                  ? this.getV2ScannerConfig()
                  : void 0;
              },
            },
            {
              key: "_getParsedFontCollectionConfig",
              value: function () {
                try {
                  return JSON.parse(
                    this._configurationRepository.get(w.fontCollection) || "{}"
                  );
                } catch (t) {
                  return (
                    _t.error(
                      ""
                        .concat(
                          this._logsTag,
                          " Failed to parse font collection config: "
                        )
                        .concat(t.message)
                    ),
                    {}
                  );
                }
              },
            },
          ]) && nr(t.prototype, e),
          n && nr(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
        var t, e, n;
      })();
    function ar(t) {
      return (
        (ar =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        ar(t)
      );
    }
    function ur(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, sr(r.key), r);
      }
    }
    function sr(t) {
      var e = (function (t, e) {
        if ("object" != ar(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != ar(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == ar(e) ? e : e + "";
    }
    var cr = {
        defaultDynamicWupDispatchRateConfiguration: { type: "dynamic" },
        defaultIncrementalWupDispatchRateConfiguration: {
          type: "incremental",
          initialRateValueMs: 500,
          incrementStepMs: 500,
          incrementStopMs: 5e3,
          incrementStartWupSendCount: 20,
        },
      },
      lr = [
        w.keyEventsMaskSpecialChars,
        w.passwordIdMaskingList,
        w.maskElementsAttributes,
        w.allowedUnmaskedValuesList,
        w.enableUnmaskedValues,
        w.enableCoordinatesMasking,
      ],
      fr = (function () {
        return (
          (t = function t() {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (this._requireParseFields = Qe()),
              this._requireParseFields.set(
                w.dataWupDispatchRateSettings,
                w.dataWupDispatchRateSettings
              ),
              this._requireParseFields.set(
                w.logWupDispatchRateSettings,
                w.logWupDispatchRateSettings
              ),
              this._requireParseFields.set(
                w.crossDomainsList,
                w.crossDomainsList
              ),
              this._requireParseFields.set(
                w.allowedUnmaskedValuesList,
                w.allowedUnmaskedValuesList
              ),
              this._requireParseFields.set(
                w.serverCommunicationSettings,
                w.serverCommunicationSettings
              ),
              (this._configurationList = {}),
              (this.configDefault = {
                logLevel: pt,
                isCrossdomain: !1,
                isGfxRendering: !1,
                isAudioDetectFeature: !1,
                enableEmuidFeature: !1,
                crossDomainsList: [],
                crossDomainsTimeout: 5e3,
                orientationEventsSamplePeriod: 300,
                orientationEventsThreshold: 1,
                stateChangeEnabled: !1,
                accelerometerEventsSamplePeriod: 0,
                dataQPassWorkerInterval: 500,
                gyroEventsSamplePeriod: 0,
                gyroEventsThreshold: 0.3,
                isContextPropsFeature: !0,
                isEnabled: !0,
                isResetEveryLoad: !1,
                isScrollCollect: !0,
                isVMDetection: !0,
                isAudioDetection: !1,
                wupStatisticsLogIntervalMs: 3e4,
                heartBeatMessageInterval: 5e3,
                resetSessionApiThreshold: 2e4,
                wupMessageRequestTimeout: 5e3,
                logMessageRequestTimeout: 5e3,
                slaveChannelHandshakeTimeout: 6e4,
                slaveAliveMessageInterval: 100,
                forceDynamicDataWupDispatchSettings: !0,
                dataWupDispatchRateSettings:
                  cr.defaultDynamicWupDispatchRateConfiguration,
                logWupDispatchRateSettings: {
                  type: "constant",
                  initialRateValueMs: 2500,
                },
                serverCommunicationSettings: { queueLoadThreshold: 100 },
                collectKeyRegionValue: !1,
                isMutationObserver: !0,
                collectCustomElementAttribute: !0,
                isCaptureKeyEvents: !1,
                locationEventsTimeoutMsec: 1e4,
                isMotionAroundTouchEnabled: !0,
                motionPaddingAroundTouchMSec: 3e3,
                isMotionOnSessionStart: !0,
                motionPaddingOnSessionStartMSec: 2e4,
                keyEventsMaskSpecialChars: !1,
                collectSelectElementBlurAndFocusEvents: !1,
                enableUnmaskedValues: !1,
                allowedUnmaskedValuesList: [],
                wupMessageNumToRetry: 5,
                wupMessageRetryInterval: 1e3,
                wupRetryOnNetworkFailureOnly: !1,
                wupIncrementalGrowthBetweenFailures: 3500,
                wupMaxIntervalBetweenFailures: 16e3,
                logMessageNumToRetry: 5,
                logMessageRetryInterval: 1e3,
                logRetryOnNetworkFailureOnly: !1,
                logIncrementalGrowthBetweenFailures: 3500,
                logMaxIntervalBetweenFailures: 16e3,
                cdsNumExpirationTime: 60,
                enableCoordinatesMasking: !1,
                acknowledgeDataDispatchingRate: 3e3,
                passwordIdMaskingList: [],
                isFontWidthFeature: !1,
                isFontMathFeature: !1,
                isFontEmojiFeature: !1,
                isStorageFeature: !1,
                isKeyboardLayoutFeature: !1,
                isScreenHighResFeature: !1,
                isBatteryStatusFeature: !1,
                isNavigatorFeature: !1,
                isWebglFeature: !1,
                isWebRTCFeature: !1,
                isSpeechVoicesFeature: !1,
                isDRMFeature: !1,
                isBrowserExtensionsFeature: !1,
                isAdblockerListsFeature: !1,
                isAudioDetectFeature2: !1,
                elementUniqueIDConfiguration: {
                  componentsFormat:
                    "{tagName}_{index}_{id}_{className}_{ariaLabel}_{containerInfo}_{hierarchyPath}",
                  hierarchyFormat: "{tagName}_{index}",
                  enabledTags: [
                    "input",
                    "textarea",
                    "button",
                    "select",
                    "div",
                    "span",
                  ],
                },
                offloadFontsCollectionEnabled:
                  or.v1.offloadFontsCollectionEnabled,
                offloadFontsRemoveDuplicated:
                  or.v1.offloadFontsRemoveDuplicated,
                fontCollection: JSON.stringify(or),
                enableElementHierarchy: !1,
                enableElementCategory: !0,
                isCPUFeature: !1,
                enableAutoContextCategory: !0,
                contextCategories: n(9753),
              }),
              this.loadConfigurations(this.configDefault);
          }),
          (e = [
            {
              key: "isConfigurationUpdatedFromServer",
              value: function () {
                return !this._isDefaultConfiguration;
              },
            },
            {
              key: "loadConfigurations",
              value: function (t, e) {
                var n = this;
                t &&
                  ((this._isDefaultConfiguration = t === this.configDefault),
                  Object.keys(t).forEach(function (r) {
                    if (e || n._isDefaultConfiguration || !lr.includes(r)) {
                      var o = t[r];
                      if (n._requireParseFields.has(r)) {
                        var i = n._tryParseConfigurationValue(o);
                        i && (o = i);
                      }
                      n._configurationList[r] = o;
                    }
                  }));
              },
            },
            {
              key: "get",
              value: function (t) {
                return this._configurationList[t];
              },
            },
            {
              key: "set",
              value: function (t, e) {
                this._configurationList[t] = e;
              },
            },
            {
              key: "getAll",
              value: function () {
                return this._configurationList;
              },
            },
            {
              key: "_tryParseConfigurationValue",
              value: function (t) {
                if ("string" != typeof t) return null;
                try {
                  return JSON.parse(t);
                } catch (t) {}
                return null;
              },
            },
          ]) && ur(t.prototype, e),
          r && ur(t, r),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
        var t, e, r;
      })(),
      pr = "touchEvent",
      hr = "keyEvent",
      dr = "ConfigurationLoadedEvent",
      yr = "NewSessionStartedEvent",
      mr = "ApiContextChangeEvent",
      vr = "ApiResetSessionEvent",
      br = "ApiCustomerMetadataEvent",
      gr = "ApiChangeStateEvent",
      _r = "ApiSetCsidEvent",
      wr = "ApiSetPsidEvent",
      Sr = "ApiSetCustomerBrand",
      Er = "ServerRestoredMuidEvent",
      kr = "StateChangedEvent",
      Tr = "MutationSingleEvent",
      Pr = "MutationAddedNodes",
      Or = "MutationRemovedNodes",
      Cr = "StandardInputEvent",
      jr = "StandardInputFocusEvent",
      Mr = "StandardInputBlurEvent",
      Rr = "StandardOnClickEvent",
      Br = "StandardOnSelectEvent",
      Ar = "ElementFocusEvent",
      xr = "ElementBlurEvent",
      Dr = "StandardOnFormSubmitEvent",
      Lr = "SyntheticInputMaskEvent",
      Nr = "CutEvent",
      Ir = "CopyEvent",
      Fr = "PasteEvent",
      Ur = "DeviceOrientationEvent",
      Wr = "BeforeInstallPromptEvent",
      Gr = "FocusEvent",
      Hr = "BlurEvent",
      Qr = "ResizeEvent",
      zr = "DOMContentLoadedEvent",
      Vr = "VisibilityChangeEvent",
      Kr = "ScrollEvent",
      qr = "WindowMessageEvent",
      Jr = "CustomElementInaccessible",
      Xr = "CustomElementSubmitted",
      Yr = "BrowserContextAdded",
      Zr = "CustomInputElement",
      $r = {
        ElementsEvent: "BCTrackerElementsEvent",
        ElementEventsEvent: "BCTrackerElementEventsEvent",
        KeyEvent: "BCTrackerKeyEvent",
        TouchEvent: "BCTrackerTouchEvent",
        MouseEvent: "BCTrackerMouseEvent",
      };
    function to(t) {
      return (
        (to =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        to(t)
      );
    }
    function eo(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, no(r.key), r);
      }
    }
    function no(t) {
      var e = (function (t, e) {
        if ("object" != to(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != to(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == to(e) ? e : e + "";
    }
    var ro = (function () {
      return (
        (t = function t(e, n, r, o, i) {
          if (
            ((function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
            !r)
          )
            throw new Error("messageBus param must be defined");
          (this._configurationLoadedCallback = null),
            (this._utils = e),
            (this._configurationRepository = n),
            (this._messageBus = r),
            (this._cidCache = o),
            i &&
              i.addMessageListener(
                Fn,
                this._onConfigurationLoadedEvent.bind(this)
              );
        }),
        (e = [
          {
            key: "updateLogUrlToWorker",
            value: function (t, e, n) {
              var r = this._configurationRepository.get(w.logAddress);
              if (this._isValidLogUrl(r)) {
                if (this._configurationRepository.get(w.enableMinifiedLogUri)) {
                  var o = new URL(r);
                  r = o.protocol + "//" + o.host;
                }
                var i = {
                  cid: this._cidCache.get(),
                  sid: t,
                  csid: e,
                  ds: "js",
                  sdkVer: this._utils.scriptVersion,
                };
                _t.attachSessionIdentifiers(i);
                var a = { logAddress: r, sessionIdentifiers: i };
                n.sendAsync(de, a);
              }
            },
          },
          {
            key: "_isValidLogUrl",
            value: function (t) {
              try {
                return new URL(t), !0;
              } catch (t) {
                return !1;
              }
            },
          },
          {
            key: "setConfigurationLoadedCallback",
            value: function (t) {
              this._configurationLoadedCallback = t;
            },
          },
          {
            key: "_onConfigurationLoadedEvent",
            value: function (t) {
              this._configurationRepository.loadConfigurations(t),
                this._configurationLoadedCallback &&
                  this._configurationLoadedCallback(
                    this._configurationRepository.get(w.isEnabled)
                  ),
                this._messageBus.publish(dr, this._configurationRepository);
            },
          },
        ]) && eo(t.prototype, e),
        n && eo(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
      var t, e, n;
    })();
    function oo(t) {
      return (
        (oo =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        oo(t)
      );
    }
    function io(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, ao(r.key), r);
      }
    }
    function ao(t) {
      var e = (function (t, e) {
        if ("object" != oo(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != oo(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == oo(e) ? e : e + "";
    }
    var uo = (function () {
        return (
          (t = function t() {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t);
          }),
          (e = [
            { key: "startFeature", value: function () {} },
            { key: "stopFeature", value: function () {} },
            { key: "updateFeatureConfig", value: function () {} },
            { key: "sendToQueue", value: function () {} },
            {
              key: "getEventTimestamp",
              value: function () {
                return se.dateNow();
              },
            },
            {
              key: "getTimestampFromEvent",
              value: function (t) {
                return t.timeStamp
                  ? se.cutDecimalPointDigits(t.timeStamp, 3)
                  : 0;
              },
            },
          ]),
          e && io(t.prototype, e),
          n && io(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
        var t, e, n;
      })(),
      so = { false: 0, true: 1, undefined: 2, null: 2 },
      co = {
        Enter: 13,
        ArrowUp: 38,
        ArrowDown: 40,
        ArrowLeft: 37,
        ArrowRight: 39,
        Escape: 27,
        " ": 32,
        Control: 17,
        Alt: 18,
        Tab: 9,
        Shift: 16,
        CapsLock: 20,
        Meta: 91,
        Backspace: 8,
        Home: 36,
        End: 35,
        Insert: 45,
        Delete: 46,
        PageUp: 33,
        PageDown: 34,
        PrintScreen: 44,
        NumLock: 144,
        Clear: 144,
        F1: 112,
        F2: 113,
        F3: 114,
        F4: 115,
        F5: 116,
        F6: 117,
        F7: 118,
        F8: 119,
        F9: 120,
        10: 121,
        F11: 122,
        F12: 123,
      };
    function lo(t) {
      return (
        (lo =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        lo(t)
      );
    }
    function fo(t) {
      return (
        (function (t) {
          if (Array.isArray(t)) return po(t);
        })(t) ||
        (function (t) {
          if (
            ("undefined" != typeof Symbol && null != t[Symbol.iterator]) ||
            null != t["@@iterator"]
          )
            return Array.from(t);
        })(t) ||
        (function (t, e) {
          if (t) {
            if ("string" == typeof t) return po(t, e);
            var n = {}.toString.call(t).slice(8, -1);
            return (
              "Object" === n && t.constructor && (n = t.constructor.name),
              "Map" === n || "Set" === n
                ? Array.from(t)
                : "Arguments" === n ||
                  /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                ? po(t, e)
                : void 0
            );
          }
        })(t) ||
        (function () {
          throw new TypeError(
            "Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
          );
        })()
      );
    }
    function po(t, e) {
      (null == e || e > t.length) && (e = t.length);
      for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
      return r;
    }
    function ho(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, yo(r.key), r);
      }
    }
    function yo(t) {
      var e = (function (t, e) {
        if ("object" != lo(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != lo(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == lo(e) ? e : e + "";
    }
    var mo = -1e3,
      vo = (function () {
        return (
          (t = function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (this._configurationRepository = e),
              (this._attributesToMask = this._configurationRepository.get(
                w.maskElementsAttributes
              )),
              (this.maskedCodeMapping = {
                original: function (t, e, n) {
                  return { code: t, charCode: e, key: n };
                },
                numpadKey: function (t) {
                  return { code: "Numpad", charCode: 96, key: t };
                },
                letter: function () {
                  return { code: "Key", charCode: 65, key: "A" };
                },
                digit: function () {
                  return { code: "Digit", charCode: 49, key: "1" };
                },
                specialChar: function () {
                  return { code: "SpecialChar", charCode: 42, key: "*" };
                },
                other: function () {
                  return { code: "Other", charCode: 66, key: "B" };
                },
                masked: function () {
                  return {
                    code: "Masked",
                    charCode: "a".charCodeAt(0),
                    key: "a",
                  };
                },
              }),
              (this.digitMaskValue = "1"),
              (this.letterMaskValueLowerCase = "a"),
              (this.unicodeMaskValue = "B"),
              (this.specialCharMaskValue = "*"),
              (this.customPasswordMaskValue = "a"),
              (this.specialConfigurationChars = new Set([
                ",",
                ".",
                " ",
                "@",
                ";",
                ":",
                "-",
                "+",
                "$",
              ])),
              (this.specialChars = new Set([
                "_",
                "!",
                "%",
                "^",
                "&",
                "*",
                "#",
                "(",
                ")",
                "=",
                "{",
                "}",
                "[",
                "]",
                "’",
                "\\",
                "|",
                "/",
                "?",
                ">",
                "<",
                "~",
                '"',
                "±",
                "§",
                "'",
              ])),
              (this.lettersSet = new Set(
                fo(Array(26))
                  .map(function (t, e) {
                    return String.fromCharCode(65 + e);
                  })
                  .concat(
                    fo(Array(26)).map(function (t, e) {
                      return String.fromCharCode(97 + e);
                    })
                  )
                  .concat(
                    fo(Array(27)).map(function (t, e) {
                      return String.fromCharCode(1488 + e);
                    })
                  )
              )),
              (this.digitsSet = new Set(
                fo(Array(10)).map(function (t, e) {
                  return String(e);
                })
              )),
              (this.cjkNumbersSet = new Set([
                "〇",
                "一",
                "二",
                "三",
                "四",
                "五",
                "六",
                "七",
                "八",
                "九",
                "十",
                "百",
                "千",
                "万",
                "零",
                "壹",
                "貳",
                "贰",
                "參",
                "叁",
                "肆",
                "伍",
                "陸",
                "陆",
                "柒",
                "捌",
                "玖",
                "拾",
                "佰",
                "仟",
                "萬",
                "〡",
                "〢",
                "〣",
                "〤",
                "〥",
                "〦",
                "〧",
                "〨",
                "〩",
                "〸",
                "〹",
                "〺",
              ])),
              (this.allowedUnmaskedChars = new Set([
                ",",
                ".",
                "@",
                ";",
                ":",
                "-",
                "+",
                "$",
                " ",
              ])),
              (this.allowedMaskedChars = new Set(["a", "1", "*"]));
          }),
          (e = [
            {
              key: "maskKey",
              value: function (t, e, n) {
                if (this._isPasswordMaskedElementId(n))
                  return this.maskedCodeMapping.masked();
                if (co[t]) {
                  var r = co[t];
                  return this.maskedCodeMapping.original(e, r, t);
                }
                return this._isANumberOrDigit(t)
                  ? e.includes("Numpad")
                    ? this.maskedCodeMapping.numpadKey("1")
                    : this.maskedCodeMapping.digit()
                  : this._isALetter(t)
                  ? this.maskedCodeMapping.letter()
                  : !this._configurationRepository.get(
                      w.keyEventsMaskSpecialChars
                    ) && this.specialConfigurationChars.has(t)
                  ? this.maskedCodeMapping.original(e, t.charCodeAt(0), t)
                  : this.specialChars.has(t) ||
                    this.specialConfigurationChars.has(t)
                  ? e.includes("Numpad")
                    ? this.maskedCodeMapping.numpadKey("*")
                    : this.maskedCodeMapping.specialChar()
                  : this.maskedCodeMapping.other();
              },
            },
            {
              key: "getKeyFromLegacyProperties",
              value: function (t) {
                var e = t.keyCode || t.which;
                return 0 === e || void 0 === e ? "" : String.fromCharCode(e);
              },
            },
            {
              key: "_isALetter",
              value: function (t) {
                return (
                  /^[a-zA-Z]$/.test(t) ||
                  this._isJapaneseOrChineseLetter(t) ||
                  this._isHebrewLetter(t)
                );
              },
            },
            {
              key: "_isANumberOrDigit",
              value: function (t) {
                return /[0-9]/.test(t) || this.cjkNumbersSet.has(t);
              },
            },
            {
              key: "_isJapaneseOrChineseLetter",
              value: function (t) {
                return (
                  this._isCJKUnifiedIdeographs(t) ||
                  this._isCJKUnifiedIdeographsExtenA(t) ||
                  this._isCJKUnifiedIdeographsExtenB(t) ||
                  this._isSmallKatakanaLetter(t)
                );
              },
            },
            {
              key: "_isCJKUnifiedIdeographsExtenB",
              value: function (t) {
                return /[\u3041-\u309F]/.test(t);
              },
            },
            {
              key: "_isSmallKatakanaLetter",
              value: function (t) {
                return /[\u30A1-\u30FF]/.test(t);
              },
            },
            {
              key: "_isCJKUnifiedIdeographsExtenA",
              value: function (t) {
                return /[\u3400-\u4DB5]/.test(t);
              },
            },
            {
              key: "_isCJKUnifiedIdeographs",
              value: function (t) {
                return /[\u4E00-\u9FCC]/.test(t);
              },
            },
            {
              key: "_isHebrewLetter",
              value: function (t) {
                return /[\u05D0-\u05EA]/.test(t);
              },
            },
            {
              key: "_isPasswordMaskedElementId",
              value: function (t) {
                var e = this._configurationRepository.get(
                  w.passwordIdMaskingList
                );
                return void 0 !== t && Array.isArray(e) && e.includes(t);
              },
            },
            {
              key: "getDropDownListValues",
              value: function (t) {
                for (var e = [], n = 0; n < t.length; n++) {
                  var r = t.options[n].text || t.options[n].value || "";
                  e.push(this.maskText(r, t.id));
                }
                return e;
              },
            },
            {
              key: "maskText",
              value: function (t, e) {
                var n = this;
                if (!t) return "";
                if (this._isPasswordMaskedElementId(e))
                  return t.replace(/./g, this.customPasswordMaskValue);
                var r = fo(t)
                  .map(function (t) {
                    return n.digitsSet.has(t)
                      ? n.digitMaskValue
                      : n.lettersSet.has(t)
                      ? n.letterMaskValueLowerCase
                      : n.cjkNumbersSet.has(t)
                      ? n.digitMaskValue
                      : n.specialChars.has(t)
                      ? n.specialCharMaskValue
                      : n.allowedUnmaskedChars.has(t)
                      ? t
                      : n.unicodeMaskValue;
                  })
                  .join("");
                return this._configurationRepository.get(
                  w.keyEventsMaskSpecialChars
                )
                  ? (r = fo(r)
                      .map(function (t) {
                        return n.allowedUnmaskedChars.has(t)
                          ? n.specialCharMaskValue
                          : t;
                      })
                      .map(function (t) {
                        return n.allowedMaskedChars.has(t)
                          ? t
                          : n.unicodeMaskValue;
                      })
                      .join(""))
                  : r;
              },
            },
            {
              key: "maskAbsoluteIfRequired",
              value: function (t, e) {
                return "" !== t && this._shouldMask(t)
                  ? this.maskText(t, e)
                  : t;
              },
            },
            {
              key: "shouldMaskCoordinates",
              value: function () {
                return this._configurationRepository.get(
                  w.enableCoordinatesMasking
                );
              },
            },
            {
              key: "_shouldMask",
              value: function (t) {
                var e = this;
                return (
                  void 0 !== this._attributesToMask &&
                  this._attributesToMask.some(function (n) {
                    return (
                      e._isConformsRegex(n.regexPattern, t) ||
                      n.name.toLowerCase() ===
                        (null == t ? void 0 : t.toLowerCase())
                    );
                  })
                );
              },
            },
            {
              key: "_isConformsRegex",
              value: function (t, e) {
                try {
                  if (new RegExp(t).test(e))
                    return (
                      _t.debug(
                        "The string "
                          .concat(e, " matches the pattern ")
                          .concat(t, ".")
                      ),
                      !0
                    );
                } catch (t) {
                  _t.error("Invalid regex pattern: ".concat(t));
                }
                return (
                  _t.debug(
                    "The string "
                      .concat(e, " does not match the pattern. ")
                      .concat(t, ".")
                  ),
                  !1
                );
              },
            },
          ]),
          e && ho(t.prototype, e),
          n && ho(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
        var t, e, n;
      })();
    function bo(t) {
      return (
        (bo =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        bo(t)
      );
    }
    function go(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, _o(r.key), r);
      }
    }
    function _o(t) {
      var e = (function (t, e) {
        if ("object" != bo(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != bo(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == bo(e) ? e : e + "";
    }
    function wo(t, e, n) {
      return (
        (e = Eo(e)),
        (function (t, e) {
          if (e && ("object" == bo(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          So()
            ? Reflect.construct(e, n || [], Eo(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function So() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (So = function () {
        return !!t;
      })();
    }
    function Eo(t) {
      return (
        (Eo = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Eo(t)
      );
    }
    function ko(t, e) {
      return (
        (ko = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        ko(t, e)
      );
    }
    var To = {
        configKey: "isTouchEvents",
        isDefault: !0,
        shouldRunPerContext: !1,
        shouldRunPerSession: !1,
        shouldRun: !0,
        isFrameRelated: !0,
        runInSlave: !0,
        runInLean: !0,
        runInUns: !1,
        isRunning: !1,
        instance: null,
      },
      Po = {
        pointerdown: "touchstart",
        pointerup: "touchend",
        pointermove: "touchmove",
        MSPointerDown: "touchstart",
        MSPointerUp: "touchend",
        MSPointerMove: "touchmove",
      },
      Oo = { touchstart: 0, touchmove: 1, touchend: 2, touchcancel: 3 },
      Co = [
        "eventSequence",
        "timestamp",
        "eventType",
        "isTrusted",
        "elementHash",
        "clientX",
        "clientY",
        "touchIndex",
        "touchSizeMajor",
        "touchSizeMinor",
        "pageX",
        "pageY",
        "screenX",
        "screenY",
        "relativeTime",
        "touchPressure",
      ],
      jo = (function (t) {
        function e(t, n, r, o, i, a) {
          var u;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((u = wo(this, e))._utils = t),
            (u._dataQ = r),
            (u._elements = n),
            (u._msgBus = o),
            (u._onAllBrowsersTouchEventBinded =
              u._onAllBrowsersTouchEvent.bind(u)),
            (u._maskingService = i),
            (u._maxShadowDepth = a.getMaxShadowDepth()),
            (u._iframeLoadingTimeout = a.getIframeLoadingTimeout()),
            u
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && ko(t, e);
          })(e, t),
          (n = e),
          (r = [
            {
              key: "startFeature",
              value: function (t) {
                this._bind(t);
              },
            },
            {
              key: "stopFeature",
              value: function (t) {
                this._unbind(t);
              },
            },
            {
              key: "_addToCommunicationQueue",
              value: function (t, e, n, r) {
                (t !== Oo.touchstart && t !== Oo.touchend) ||
                  this._msgBus.publish(pr, { action: t });
                var o = this.getEventTimestamp(r),
                  i = so[r.isTrusted],
                  a = this._elements.getElementHashFromEvent(r),
                  u =
                    this._utils.StorageUtils.getAndUpdateEventSequenceNumber();
                this._utils.isUndefinedNull(t) && (t = -1),
                  this._utils.isUndefinedNull(e) && (e = -1);
                var s = this.getTimestampFromEvent(r);
                this._dataQ.addToQueue(
                  "touch_events",
                  this._utils.convertToArrayByMap(Co, {
                    eventSequence: u,
                    timestamp: o,
                    eventType: t,
                    isTrusted: i,
                    elementHash: a,
                    clientX: this._maskingService.shouldMaskCoordinates()
                      ? mo
                      : n.clientX
                      ? Math.round(n.clientX)
                      : 0,
                    clientY: this._maskingService.shouldMaskCoordinates()
                      ? mo
                      : n.clientY
                      ? Math.round(n.clientY)
                      : 0,
                    touchIndex: e,
                    touchSizeMajor: n.radiusX ? 2 * n.radiusX : 0,
                    touchSizeMinor: n.radiusY ? 2 * n.radiusY : 0,
                    pageX: this._maskingService.shouldMaskCoordinates()
                      ? mo
                      : n.pageX || 0,
                    pageY: this._maskingService.shouldMaskCoordinates()
                      ? mo
                      : n.pageY || 0,
                    screenX: this._maskingService.shouldMaskCoordinates()
                      ? mo
                      : n.screenX || 0,
                    screenY: this._maskingService.shouldMaskCoordinates()
                      ? mo
                      : n.screenY || 0,
                    relativeTime: s,
                    touchPressure: n.force || -1,
                  })
                );
              },
            },
            {
              key: "_bind",
              value: function (t) {
                var e,
                  n = this,
                  r = t.getDocument();
                if (
                  (window.TouchEvent
                    ? (e = [
                        "touchstart",
                        "touchmove",
                        "touchend",
                        "touchcancel",
                      ])
                    : window.PointerEvent &&
                      (e = ["pointerdown", "pointermove", "pointerup"]),
                  (this._listeningToEvents = e),
                  this._listeningToEvents)
                )
                  for (
                    var o = function (e) {
                        n._utils.addEventListener(
                          r,
                          n._listeningToEvents[e],
                          n._onAllBrowsersTouchEventBinded
                        ),
                          t
                            .collectAllElementsBySelectorAsync(
                              "iframe",
                              n._maxShadowDepth,
                              n._iframeLoadingTimeout
                            )
                            .then(function (t) {
                              t.forEach(function (t) {
                                t &&
                                  t.contentDocument &&
                                  n._utils.addEventListener(
                                    t.contentDocument,
                                    n._listeningToEvents[e],
                                    n._onAllBrowsersTouchEventBinded
                                  );
                              });
                            });
                      },
                      i = 0;
                    i < this._listeningToEvents.length;
                    i++
                  )
                    o(i);
              },
            },
            {
              key: "_unbind",
              value: function (t) {
                var e = this,
                  n = t.getDocument();
                if (this._listeningToEvents)
                  for (
                    var r = function (r) {
                        e._utils.removeEventListener(
                          n,
                          e._listeningToEvents[r],
                          e._onAllBrowsersTouchEventBinded
                        ),
                          t
                            .collectAllElementsBySelectorAsync(
                              "iframe",
                              e._maxShadowDepth,
                              e._iframeLoadingTimeout
                            )
                            .then(function (t) {
                              t.forEach(function (t) {
                                t &&
                                  t.contentDocument &&
                                  e._utils.removeEventListener(
                                    t.contentDocument,
                                    e._listeningToEvents[r],
                                    e._onAllBrowsersTouchEventBinded
                                  );
                              });
                            });
                      },
                      o = 0;
                    o < this._listeningToEvents.length;
                    o++
                  )
                    r(o);
              },
            },
            {
              key: "_onAllBrowsersTouchEvent",
              value: function (t) {
                return this._onIeTouchEvent(t), this._onTouchEvent(t), !0;
              },
            },
            {
              key: "_onTouchEvent",
              value: function (t) {
                if (
                  (null === t.pointerType || void 0 === t.pointerType) &&
                  void 0 !== t.changedTouches
                )
                  for (
                    var e = Oo[t.type], n = 0;
                    n < t.changedTouches.length;
                    n++
                  ) {
                    var r = t.changedTouches[n],
                      o = r.identifier % 1e4;
                    this._addToCommunicationQueue(e, o, r, t);
                  }
              },
            },
            {
              key: "_onIeTouchEvent",
              value: function (t) {
                if (
                  null != t.pointerType &&
                  ("touch" === t.pointerType ||
                    "pen" === t.pointerType ||
                    t.pointerType === t.MSPOINTER_TYPE_TOUCH ||
                    t.pointerType === t.MSPOINTER_TYPE_PEN)
                ) {
                  var e = Po[t.type] || "touchcancel",
                    n = t.pointerId ? t.pointerId % 1e4 : 0,
                    r = Oo[e];
                  this._addToCommunicationQueue(r, n, t, t);
                }
              },
            },
          ]),
          (o = [
            {
              key: "getDefaultSettings",
              value: function () {
                return To;
              },
            },
          ]),
          r && go(n.prototype, r),
          o && go(n, o),
          Object.defineProperty(n, "prototype", { writable: !1 }),
          n
        );
        var n, r, o;
      })(uo);
    function Mo(t) {
      return (
        (Mo =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Mo(t)
      );
    }
    function Ro(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Bo(r.key), r);
      }
    }
    function Bo(t) {
      var e = (function (t, e) {
        if ("object" != Mo(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Mo(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Mo(e) ? e : e + "";
    }
    var Ao = { true: 1, false: 0, undefined: -1 },
      xo = (function () {
        return (
          (t = function t() {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (this._elementList = new WeakMap());
          }),
          (e = [
            {
              key: "update",
              value: function (t, e) {
                this._elementList.set(t, e);
              },
            },
            {
              key: "compare",
              value: function (t, e) {
                return Ao[e === this._elementList.get(t)];
              },
            },
          ]) && Ro(t.prototype, e),
          n && Ro(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
        var t, e, n;
      })(),
      Do = {
        IntlBackslash: "0",
        Digit1: "0",
        Digit2: "0",
        Digit3: "0",
        Digit4: "1",
        Digit5: "1",
        Digit6: "1",
        Digit7: "1",
        Digit8: "2",
        Digit9: "2",
        Digit0: "2",
        KeyQ: "3",
        KeyW: "3",
        KeyE: "3",
        KeyA: "3",
        KeyS: "3",
        KeyD: "3",
        KeyZ: "3",
        KeyX: "3",
        KeyC: "3",
        KeyR: "4",
        KeyT: "4",
        KeyF: "4",
        KeyG: "4",
        KeyV: "4",
        KeyB: "4",
        KeyY: "5",
        KeyU: "5",
        KeyH: "5",
        KeyJ: "5",
        KeyN: "5",
        KeyM: "5",
        KeyI: "6",
        KeyO: "6",
        KeyP: "6",
        KeyK: "6",
        KeyL: "6",
        Comma: "6",
        Period: "6",
        Semicolon: "7",
        Minus: "7",
        Equal: "7",
        Slash: "7",
        BracketLeft: "7",
        Backslash: "7",
        BracketRight: "7",
        Quote: "7",
        NumLock: "8",
        NumpadDivide: "8",
        NumpadMultiply: "8",
        NumpadSubtract: "8",
        NumpadAdd: "8",
        NumpadEnter: "8",
        NumpadDecimal: "8",
        Numpad0: "8",
        Numpad1: "8",
        Numpad2: "8",
        Numpad3: "8",
        Numpad4: "8",
        Numpad5: "8",
        Numpad6: "8",
        Numpad7: "8",
        Numpad8: "8",
        Numpad9: "8",
      };
    function Lo(t) {
      return (
        (Lo =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Lo(t)
      );
    }
    function No(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Io(r.key), r);
      }
    }
    function Io(t) {
      var e = (function (t, e) {
        if ("object" != Lo(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Lo(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Lo(e) ? e : e + "";
    }
    function Fo(t, e, n) {
      return (
        (e = Wo(e)),
        (function (t, e) {
          if (e && ("object" == Lo(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Uo()
            ? Reflect.construct(e, n || [], Wo(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Uo() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Uo = function () {
        return !!t;
      })();
    }
    function Wo(t) {
      return (
        (Wo = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Wo(t)
      );
    }
    function Go(t, e) {
      return (
        (Go = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Go(t, e)
      );
    }
    var Ho = {
        configKey: "isKeyEvents",
        isDefault: !0,
        shouldRunPerContext: !1,
        shouldRunPerSession: !1,
        shouldRun: !0,
        isFrameRelated: !0,
        runInSlave: !0,
        runInLean: !0,
        runInUns: !1,
        isRunning: !1,
        instance: null,
      },
      Qo = { keyup: 0, keydown: 1, keypress: 2 },
      zo = [
        "eventSequence",
        "timestamp",
        "eventType",
        "isTrusted",
        "elementHash",
        "charCode",
        "character",
        "keyComboType",
        "isCtrl",
        "isShift",
        "isAlt",
        "isMetaKey",
        "keyLocation",
        "code",
        "key",
        "isRepeat",
        "keyRegion",
        "relativeTime",
        "isSameKey",
      ],
      Vo = (function (t) {
        function e(t, n, r, o, i, a, u, s) {
          var c;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((c = Fo(this, e))._configurationRepository = t),
            (c._utils = n),
            (c._elements = r),
            (c._dataQueue = o),
            (c._msgBus = i),
            (c._sameCharService = a),
            (c._maskingService = u),
            (c._maxShadowDepth = s.getMaxShadowDepth()),
            (c._iframeLoadingTimeout = s.getIframeLoadingTimeout()),
            (c.comboCodes = ["c", "v", "a", "x", "z", "p", "s"]),
            (c._onKeyEvent = c._onKeyEvent.bind(c)),
            (c._useCaptureEvents = c._configurationRepository.get(
              w.isCaptureKeyEvents
            )),
            (c._listeners = []),
            (c._listenedDocuments = new WeakSet()),
            c
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && Go(t, e);
          })(e, t),
          (n = e),
          (r = [
            {
              key: "startFeature",
              value: function (t) {
                var e = this;
                try {
                  var n = t.getDocument();
                  this._bind(n, this._onKeyEvent, this._useCaptureEvents),
                    t
                      .collectAllElementsBySelectorAsync(
                        "iframe",
                        this._maxShadowDepth,
                        this._iframeLoadingTimeout
                      )
                      .then(function (t) {
                        t.forEach(function (t) {
                          t &&
                            t.contentDocument &&
                            e._bind(
                              t.contentDocument,
                              e._onKeyEvent,
                              e._useCaptureEvents
                            );
                        });
                      });
                } catch (t) {
                  _t.error(
                    "KeyEvents:startFeature failed, msg: ".concat(t.message),
                    t
                  );
                }
              },
            },
            {
              key: "stopFeature",
              value: function (t) {
                var e = this;
                try {
                  var n = t.getDocument();
                  this._unbind(n),
                    t
                      .collectAllElementsBySelectorAsync(
                        "iframe",
                        this._maxShadowDepth,
                        this._iframeLoadingTimeout
                      )
                      .then(function (t) {
                        t.forEach(function (t) {
                          t &&
                            t.contentDocument &&
                            e._unbind(t.contentDocument);
                        });
                      });
                } catch (t) {
                  _t.error(
                    "KeyEvents:stopFeature failed, msg: ".concat(t.message),
                    t
                  );
                }
              },
            },
            {
              key: "updateFeatureConfig",
              value: function (t) {
                try {
                  if (
                    this._configurationRepository.get(w.isCaptureKeyEvents) !==
                    this._useCaptureEvents
                  ) {
                    var e = t.getDocument(),
                      n = this._configurationRepository.get(
                        w.isCaptureKeyEvents
                      );
                    this._unbind(e),
                      this._bind(e, this._onKeyEvent, n),
                      (this._useCaptureEvents = n);
                  }
                } catch (t) {
                  _t.error(
                    "KeyEvents:startFeature failed, msg: ".concat(t.message),
                    t
                  );
                }
              },
            },
            {
              key: "_bind",
              value: function (t, e, n) {
                this._listenedDocuments.has(t) ||
                  (this._listenedDocuments.add(t),
                  this._addListener(t, "keyup", e, n),
                  this._addListener(t, "keydown", e, n),
                  this._addListener(t, "keypress", e, n));
              },
            },
            {
              key: "_unbind",
              value: function (t) {
                this._listenedDocuments.delete(t),
                  this._removeAllListeners(t, "keyup"),
                  this._removeAllListeners(t, "keydown"),
                  this._removeAllListeners(t, "keypress");
              },
            },
            {
              key: "_addListener",
              value: function (t, e, n, r) {
                t.addEventListener(e, n, r),
                  this._listeners.push({
                    target: t,
                    type: e,
                    handler: n,
                    options: r,
                  });
              },
            },
            {
              key: "_removeAllListeners",
              value: function (t, e) {
                this._listeners
                  .filter(function (n) {
                    return n.target === t && n.type === e;
                  })
                  .forEach(function (t) {
                    t.target.removeEventListener(t.type, t.handler, t.options);
                  }),
                  (this._listeners = this._listeners.filter(function (n) {
                    return !(n.target === t && n.type === e);
                  }));
              },
            },
            {
              key: "_onKeyEvent",
              value: function (t) {
                var e = Qo[t.type];
                (e !== Qo.keydown && e !== Qo.keyup) ||
                  this._msgBus.publish(hr, { action: e }),
                  this._handleKeyEvent(t, "key_events");
              },
            },
            {
              key: "_handleKeyEvent",
              value: function (t, e) {
                var n = this._elements.getRealEventTarget(t).id,
                  r = Qo[t.type];
                this._utils.isUndefinedNull(r) && (r = -1);
                var o =
                    this._utils.StorageUtils.getAndUpdateEventSequenceNumber(),
                  i = this.getEventTimestamp(t),
                  a =
                    t.key || this._maskingService.getKeyFromLegacyProperties(t),
                  u = t.code || "",
                  s = this._maskingService.maskKey(a, u, n),
                  c = s.key.length > 1 ? "" : s.key,
                  l = this._elements.getElementHashFromEvent(t),
                  f = this._getComboType(t, a),
                  p = so[t.isTrusted],
                  h =
                    "Meta" === t.key ||
                    "OS" === t.key ||
                    "Win" === t.key ||
                    t.metaKey ||
                    91 === t.keyCode ||
                    92 === t.keyCode,
                  d = this._configurationRepository.get(w.collectKeyRegionValue)
                    ? this._getKeyRegion(u)
                    : "-1",
                  y = this.getTimestampFromEvent(t),
                  m = Ao.undefined;
                "keypress" === t.type &&
                  ((m = this._sameCharService.compare(t.target, t.key)),
                  this._sameCharService.update(t.target, t.key)),
                  _t.isDebug() &&
                    _t.trace(
                      "onKeyEvent: got event: "
                        .concat(r, ", at time:")
                        .concat(i, ", key: ")
                        .concat(s.key, ", code:")
                        .concat(s.code, ", old charCode:")
                        .concat(s.charCode)
                    ),
                  this._dataQueue.addToQueue(
                    e,
                    this._utils.convertToArrayByMap(zo, {
                      eventType: r,
                      eventSequence: o,
                      timestamp: i,
                      charCode: s.charCode,
                      character: c,
                      elementHash: l,
                      keyComboType: f,
                      isTrusted: p,
                      isCtrl: t.ctrlKey || !1,
                      isShift: t.shiftKey || !1,
                      isAlt: t.altKey || !1,
                      isMetaKey: h || !1,
                      keyLocation: t.location || 0,
                      code: s.code || "",
                      key: s.key || "",
                      location: t.location || "",
                      isRepeat: t.repeat || !1,
                      keyRegion: d,
                      relativeTime: y,
                      isSameKey: m,
                    })
                  );
              },
            },
            {
              key: "_getKeyRegion",
              value: function (t) {
                return Do[t] ? Do[t] : "-1";
              },
            },
            {
              key: "_getComboType",
              value: function (t, e) {
                return (t.ctrlKey || t.metaKey) && void 0 !== e
                  ? this.comboCodes.indexOf(e)
                  : -1;
              },
            },
          ]),
          (o = [
            {
              key: "getDefaultSettings",
              value: function () {
                return Ho;
              },
            },
          ]),
          r && No(n.prototype, r),
          o && No(n, o),
          Object.defineProperty(n, "prototype", { writable: !1 }),
          n
        );
        var n, r, o;
      })(uo);
    function Ko(t) {
      return (
        (Ko =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Ko(t)
      );
    }
    function qo(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Jo(r.key), r);
      }
    }
    function Jo(t) {
      var e = (function (t, e) {
        if ("object" != Ko(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Ko(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Ko(e) ? e : e + "";
    }
    var Xo = (function () {
      return (
        (t = function t(e, n, r, o, i) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._historyBuffer = []),
            (this._isTouchInProgress = !1),
            (this._touchStartCount = 0),
            (this._isPostTouch = !1),
            (this._touchEndTime = 0),
            (this._sensorGateKeeper = i),
            (this._dataQueue = n),
            (this._configurationRepository = e),
            (this._msgBus = r),
            (this._utils = o),
            this._msgBus.subscribe(pr, this._onTouch.bind(this)),
            this._msgBus.subscribe(hr, this._onTouch.bind(this)),
            (this._isMotionAroundTouchEnabled =
              this._configurationRepository.get(w.isMotionAroundTouchEnabled)),
            (this._aroundTouchInterval = this._configurationRepository.get(
              w.motionPaddingAroundTouchMSec
            ));
        }),
        (e = [
          {
            key: "addToQueue",
            value: function (t, e, n, r) {
              var o = this._utils.dateNow();
              if (
                (this._isPostTouch &&
                  o - this._touchEndTime > this._aroundTouchInterval &&
                  (_t.debug(
                    "SensorsDataQueue: stopped post touch events, time has passed (".concat(
                      this._aroundTouchInterval,
                      " millisec)"
                    )
                  ),
                  (this._isPostTouch = !1)),
                !this._isMotionAroundTouchEnabled ||
                  this._isTouchInProgress ||
                  this._isPostTouch ||
                  this._sensorGateKeeper.isOpen())
              )
                this._dataQueue.addToQueue(t, e, n, r);
              else {
                this._historyBuffer.push({
                  name: t,
                  data: e,
                  addCtxId: n,
                  isImmediateWup: r,
                  timestamp: o,
                });
                for (
                  var i = 0, a = this._historyBuffer.length;
                  i < a &&
                  o - this._historyBuffer[0].timestamp >
                    this._aroundTouchInterval;
                  i++
                )
                  this._historyBuffer.shift();
              }
            },
          },
          {
            key: "onConfigUpdate",
            value: function () {
              (this._aroundTouchInterval =
                void 0 !==
                this._configurationRepository.get(
                  w.motionPaddingAroundTouchMSec
                )
                  ? this._configurationRepository.get(
                      w.motionPaddingAroundTouchMSec
                    )
                  : this._aroundTouchInterval),
                (this._isMotionAroundTouchEnabled =
                  void 0 !==
                  this._configurationRepository.get(
                    w.isMotionAroundTouchEnabled
                  )
                    ? this._configurationRepository.get(
                        w.isMotionAroundTouchEnabled
                      )
                    : this._isMotionAroundTouchEnabled);
            },
          },
          {
            key: "_sendBuffer",
            value: function () {
              var t = this._utils.dateNow();
              _t.debug("sending history sensors buffer ts=".concat(t));
              for (var e = 0, n = this._historyBuffer.length; e < n; e++)
                t - this._historyBuffer[e].timestamp <=
                  this._aroundTouchInterval &&
                  this._dataQueue.addToQueue(
                    this._historyBuffer[e].name,
                    this._historyBuffer[e].data,
                    this._historyBuffer[e].addCtxId,
                    this._historyBuffer[e].isImmediateWup
                  );
              this._historyBuffer = [];
            },
          },
          {
            key: "_onTouch",
            value: function (t) {
              return (
                this._isMotionAroundTouchEnabled &&
                  (this._isTouchInProgress ||
                  (t.action !== Oo.touchstart && t.action !== Qo.keydown)
                    ? t.action === Oo.touchend || t.action === Qo.keyup
                      ? (this._touchStartCount--,
                        this._touchStartCount <= 0 &&
                          ((this._isTouchInProgress = !1),
                          (this._isPostTouch = !0),
                          (this._touchEndTime = this._utils.dateNow()),
                          _t.debug(
                            "stopped touch event in sensors data q ts=".concat(
                              this._utils.dateNow()
                            )
                          )))
                      : (t.action !== Oo.touchstart &&
                          t.action !== Qo.keydown) ||
                        this._touchStartCount++
                    : (_t.debug(
                        "Started touch event in sensors data q ts=".concat(
                          this._utils.dateNow()
                        )
                      ),
                      (this._isTouchInProgress = !0),
                      (this._touchStartCount = 1),
                      this._sendBuffer())),
                !1
              );
            },
          },
        ]) && qo(t.prototype, e),
        n && qo(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
      var t, e, n;
    })();
    function Yo(t) {
      return (
        (Yo =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Yo(t)
      );
    }
    function Zo(t, e) {
      return (
        (function (t) {
          if (Array.isArray(t)) return t;
        })(t) ||
        (function (t, e) {
          var n =
            null == t
              ? null
              : ("undefined" != typeof Symbol && t[Symbol.iterator]) ||
                t["@@iterator"];
          if (null != n) {
            var r,
              o,
              i,
              a,
              u = [],
              s = !0,
              c = !1;
            try {
              if (((i = (n = n.call(t)).next), 0 === e)) {
                if (Object(n) !== n) return;
                s = !1;
              } else
                for (
                  ;
                  !(s = (r = i.call(n)).done) &&
                  (u.push(r.value), u.length !== e);
                  s = !0
                );
            } catch (t) {
              (c = !0), (o = t);
            } finally {
              try {
                if (
                  !s &&
                  null != n.return &&
                  ((a = n.return()), Object(a) !== a)
                )
                  return;
              } finally {
                if (c) throw o;
              }
            }
            return u;
          }
        })(t, e) ||
        (function (t, e) {
          if (t) {
            if ("string" == typeof t) return $o(t, e);
            var n = {}.toString.call(t).slice(8, -1);
            return (
              "Object" === n && t.constructor && (n = t.constructor.name),
              "Map" === n || "Set" === n
                ? Array.from(t)
                : "Arguments" === n ||
                  /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                ? $o(t, e)
                : void 0
            );
          }
        })(t, e) ||
        (function () {
          throw new TypeError(
            "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
          );
        })()
      );
    }
    function $o(t, e) {
      (null == e || e > t.length) && (e = t.length);
      for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
      return r;
    }
    function ti(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, ei(r.key), r);
      }
    }
    function ei(t) {
      var e = (function (t, e) {
        if ("object" != Yo(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Yo(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Yo(e) ? e : e + "";
    }
    var ni = (function () {
        return (
          (t = function t() {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (this._weights = {
                input: 5,
                fieldset: 4,
                form: 3,
                textarea: 3,
                label: 2,
              }),
              (this._interactiveElementsTag = [
                "input",
                "fieldset",
                "textarea",
                "label",
              ]),
              (this._classlist = [
                "container",
                "wrapper",
                "section",
                "content",
                "main-content",
                "main_content",
              ]),
              (this._containerTagName = ["main", "article", "aside", "div"]);
          }),
          (e = [
            {
              key: "isElementVisible",
              value: function (t) {
                if (!(t instanceof HTMLElement)) return !1;
                if (t.hasAttribute("hidden")) return !1;
                var e = window.getComputedStyle(t);
                if (
                  "none" === e.display ||
                  "hidden" === e.visibility ||
                  0 === parseFloat(e.opacity)
                )
                  return !1;
                var n = t.offsetWidth > 0 || t.offsetHeight > 0,
                  r = t.getClientRects().length > 0;
                if (!n && !r) return !1;
                for (var o = t.parentElement; o; ) {
                  var i = window.getComputedStyle(o);
                  if (
                    "none" === i.display ||
                    "hidden" === i.visibility ||
                    o.hasAttribute("hidden")
                  )
                    return !1;
                  o = o.parentElement;
                }
                return !0;
              },
            },
            {
              key: "isInExcludedArea",
              value: function (t) {
                for (var e = t; e; ) {
                  if (e.tagName) {
                    var n = e.tagName.toLowerCase();
                    if ("footer" === n || "header" === n || "nav" === n)
                      return !0;
                  }
                  e = e.parentElement;
                }
                return !1;
              },
            },
            {
              key: "isContainer",
              value: function (t) {
                var e = this,
                  n = t.tagName.toLowerCase(),
                  r = t.className.split(" "),
                  o = t.getAttribute("aria-label")
                    ? "_".concat(t.getAttribute("aria-label"))
                    : "",
                  i = Array.from(t.attributes)
                    .filter(function (t) {
                      return t.name.startsWith("data-");
                    })
                    .map(function (t) {
                      return "_".concat(t.name);
                    });
                return (
                  !!this._containerTagName.includes(n) ||
                  r.some(function (t) {
                    return e._classlist.includes(t);
                  }) ||
                  (t.hasAttribute("role") &&
                    "region" === t.getAttribute("role")) ||
                  o.length > 0 ||
                  i.length > 0
                );
              },
            },
            {
              key: "isCustomElement",
              value: function (t) {
                return (
                  "string" == typeof t.localName && t.localName.indexOf("-") > 0
                );
              },
            },
            {
              key: "calculateScore",
              value: function (t) {
                var e = this._weights,
                  n = 0;
                return (
                  t.id && t.id.includes("username")
                    ? (n = 20)
                    : t.name && t.name.includes("username") && (n = 10),
                  e[t.tagName.toLowerCase()] + n + ("text" === t.type ? 10 : 0)
                );
              },
            },
            {
              key: "findInteractiveArea",
              value: function (t) {
                var e = this,
                  n = t.querySelectorAll(this._interactiveElementsTag),
                  r = {};
                return (
                  n.forEach(function (t) {
                    var n, o;
                    if (e.isElementVisible(t) && !e.isInExcludedArea(t)) {
                      var i = t.parentElement,
                        a = ""
                          .concat(i.tagName, ".")
                          .concat(
                            (null === (n = i.className) || void 0 === n
                              ? void 0
                              : n.split(" ")[0]) || ""
                          );
                      r[a] ||
                        (r[a] = { score: 0, parent: i, types: new Set() }),
                        r[a].types.add(t.tagName.toLowerCase()),
                        (r[a].score += e.calculateScore(t)),
                        (r[a].score +=
                          null !== (o = t.id) &&
                          void 0 !== o &&
                          o.includes("maincontent")
                            ? 20
                            : 0),
                        (r[a].score -= t.disabled ? 20 : 0);
                    }
                  }),
                  Object.values(r).reduce(
                    function (t, e) {
                      return e.score + 2 * e.types.size > t.score ? e : t;
                    },
                    { score: 0 }
                  ).parent
                );
              },
            },
            {
              key: "findPotentialContainer",
              value: function (t) {
                for (
                  var e = t, n = null;
                  e && "body" !== e.tagName.toLowerCase();

                ) {
                  if (this.isContainer(e)) {
                    var r;
                    n = e;
                    var o =
                        null === (r = e) ||
                        void 0 === r ||
                        null === (r = r.tagName) ||
                        void 0 === r
                          ? void 0
                          : r.toLowerCase(),
                      i = e.className.split(" ");
                    if (
                      "div" === o &&
                      (i.includes("containerWrapper") ||
                        i.includes("container"))
                    )
                      return e;
                    if (this._containerTagName.includes(o) && "div" !== o)
                      return e;
                  }
                  e = e.parentElement;
                }
                return n;
              },
            },
            {
              key: "interactiveContainer",
              value: function () {
                var t = this.findInteractiveArea(document);
                if (!t) return _t.info("No significant interactive area.");
                var e = this.findPotentialContainer(t);
                return e || void 0;
              },
            },
            {
              key: "getUniqueElementId",
              value: function (t, e) {
                var n =
                  arguments.length > 2 && void 0 !== arguments[2]
                    ? arguments[2]
                    : 30;
                if (!t || !e) return "";
                var r = e.componentsFormat,
                  o = e.hierarchyFormat;
                if (!e.isTagEnabled(t.tagName)) return "-1";
                for (
                  var i = this.findInteractiveArea(document),
                    a = i ? this.findPotentialContainer(i) : null,
                    u = a
                      ? ""
                          .concat(a.tagName.toLowerCase(), "_")
                          .concat(a.className || "")
                      : "",
                    s = this._buildFullHierarchyPath(t, o, n),
                    c = {
                      "{tagName}": t.tagName.toLowerCase(),
                      "{index}": "[".concat(this._getSiblingIndex(t), "]"),
                      "{id}": t.id || "",
                      "{className}": t.className || "",
                      "{ariaLabel}": t.getAttribute("aria-label") || "",
                      "{hierarchyPath}": s,
                      "{containerInfo}": u,
                    },
                    l = r,
                    f = 0,
                    p = Object.entries(c);
                  f < p.length;
                  f++
                ) {
                  var h = Zo(p[f], 2),
                    d = h[0],
                    y = h[1];
                  l = l.replace(d, y);
                }
                return (l = l
                  .replace(/\{[^}]+\}/g, "")
                  .replace(/[_:]+/g, "_")
                  .replace(/(^_|_$)/g, ""));
              },
            },
            {
              key: "_getSiblingIndex",
              value: function (t) {
                var e;
                return String(
                  Array.from(
                    (null === (e = t.parentNode) || void 0 === e
                      ? void 0
                      : e.children) || []
                  ).indexOf(t)
                );
              },
            },
            {
              key: "_buildFullHierarchyPath",
              value: function (t, e, n) {
                for (
                  var r = [], o = t.parentNode, i = 0;
                  o &&
                  "body" !==
                    (null === (a = o.tagName) || void 0 === a
                      ? void 0
                      : a.toLowerCase()) &&
                  i < n;

                ) {
                  var a,
                    u,
                    s =
                      null === (u = o.tagName) || void 0 === u
                        ? void 0
                        : u.toLowerCase(),
                    c = this._getSiblingIndex(o),
                    l = e
                      .replace("{tagName}", s || "")
                      .replace("{index}", c >= 0 ? "[".concat(c, "]") : ""),
                    f = [];
                  o.id && f.push(o.id),
                    o.name && f.push(o.name),
                    o.className && f.push(o.className),
                    f.length > 0 && (l += "".concat(f.join(""))),
                    r.unshift(l),
                    (o =
                      o.parentNode instanceof ShadowRoot
                        ? o.parentNode.host
                        : o.parentElement),
                    i++;
                }
                return r.join("");
              },
            },
            {
              key: "getUniqueElementXpath",
              value: function (t) {
                var e =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : 1 / 0;
                if (!t) return "";
                for (var n = [], r = 0; t && r < e; ) {
                  var o = t.tagName
                    ? t.tagName.toLowerCase()
                    : t.nodeName.toLowerCase();
                  if (t.id) n.unshift("".concat(o, "#").concat(t.id));
                  else {
                    for (var i = 1, a = t; a.previousElementSibling; )
                      (a = a.previousElementSibling), i++;
                    n.unshift("".concat(o, ":").concat(i));
                  }
                  (t = t.assignedSlot
                    ? t.assignedSlot
                    : t.parentNode instanceof ShadowRoot
                    ? t.parentNode.host
                    : t.parentElement),
                    r++;
                }
                return n.join("/");
              },
            },
          ]),
          e && ti(t.prototype, e),
          n && ti(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
        var t, e, n;
      })(),
      ri = Object.freeze(new ni());
    function oi(t) {
      return (
        (oi =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        oi(t)
      );
    }
    function ii(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, ai(r.key), r);
      }
    }
    function ai(t) {
      var e = (function (t, e) {
        if ("object" != oi(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != oi(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == oi(e) ? e : e + "";
    }
    var ui = (function () {
      function t(e, n, r) {
        !(function (t, e) {
          if (!(t instanceof e))
            throw new TypeError("Cannot call a class as a function");
        })(this, t),
          (this.componentsFormat = e),
          (this.hierarchyFormat = n),
          (this.enabledTags = r);
      }
      return (
        (e = t),
        (r = [
          {
            key: "cleanFormat",
            value: function (t) {
              return t ? (t.match(/{[^}]+}|[:_]/g) || []).join("") : "";
            },
          },
          {
            key: "parse",
            value: function (e) {
              try {
                if (
                  ("string" == typeof e && (e = JSON.parse(e)),
                  "object" !== oi(e) || null === e)
                )
                  throw new Error("Invalid configuration format");
                return new t(
                  t.cleanFormat(e.componentsFormat),
                  t.cleanFormat(e.hierarchyFormat),
                  e.enabledTags
                );
              } catch (t) {
                return (
                  _t.error("Failed to parse UniqueIDConfiguration:", t), null
                );
              }
            },
          },
        ]),
        (n = [
          {
            key: "isTagEnabled",
            value: function (t) {
              return (
                "string" == typeof t &&
                this.enabledTags.length > 0 &&
                this.enabledTags.includes(t.toLowerCase())
              );
            },
          },
        ]) && ii(e.prototype, n),
        r && ii(e, r),
        Object.defineProperty(e, "prototype", { writable: !1 }),
        e
      );
      var e, n, r;
    })();
    function si(t) {
      return (
        (si =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        si(t)
      );
    }
    function ci(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, li(r.key), r);
      }
    }
    function li(t) {
      var e = (function (t, e) {
        if ("object" != si(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != si(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == si(e) ? e : e + "";
    }
    function fi(t, e, n) {
      return (
        (e = hi(e)),
        (function (t, e) {
          if (e && ("object" == si(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          pi()
            ? Reflect.construct(e, n || [], hi(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function pi() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (pi = function () {
        return !!t;
      })();
    }
    function hi(t) {
      return (
        (hi = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        hi(t)
      );
    }
    function di(t, e) {
      return (
        (di = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        di(t, e)
      );
    }
    var yi = (function (t) {
        function e(t, n, r, o, i, a) {
          var u;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((u = fi(this, e))._configurationRepository = t),
            (u._utils = n),
            (u._dataQueue = r),
            (u._contextMgr = o),
            (u._maskingService = i),
            (u._categoryService = a),
            (u._elementHashWMap = new WeakMap()),
            (u._collectPosition = !0),
            (u._collectClassName = !0),
            (u._collectTitle = !0),
            (u._collectHref = !0),
            (u._collectCustomElementAttribute = !0),
            (u._customElementAttribute = u._configurationRepository.get(
              w.customElementAttribute
            )),
            (u._maxElemValLength = 30),
            (u._allowedUnmaskedValuesList = u._configurationRepository.get(
              w.allowedUnmaskedValuesList
            )),
            (u._enableUnmaskedValues = u._configurationRepository.get(
              w.enableUnmaskedValues
            )),
            (u._enableElementHierarchy = u._configurationRepository.get(
              w.enableElementHierarchy
            )),
            (u._enableElementCategory = u._configurationRepository.get(
              w.enableElementCategory
            )),
            (u._uniqueIDConfiguration = ui.parse(
              u._configurationRepository.get(w.elementUniqueIDConfiguration)
            )),
            u
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && di(t, e);
          })(e, t),
          (n = e),
          (r = [
            {
              key: "getElement",
              value: function (t) {
                if (
                  this._utils.isUndefinedNull(t) ||
                  t === document ||
                  t === document.body
                )
                  return -1;
                var e = -1;
                if (this._elementHashWMap.has(t))
                  e = this._elementHashWMap.get(t).hash;
                else {
                  var n = ri.getUniqueElementXpath(t);
                  (e = n ? this._utils.getHash(n) : -1),
                    this._elementHashWMap.set(t, {
                      hash: e,
                      contextList: [this._contextMgr.contextName],
                    }),
                    this._sendElementToServer(t, e);
                }
                return e;
              },
            },
            {
              key: "getElementHashFromEvent",
              value: function (t) {
                var e = this.getRealEventTarget(t);
                return this.getElement(e);
              },
            },
            {
              key: "getRealEventTarget",
              value: function (t) {
                var e = t.composedPath ? t.composedPath() : null;
                return e && e.length > 0 ? e[0] : t.target;
              },
            },
            {
              key: "resendElementPerContext",
              value: function (t) {
                if (this._elementHashWMap.has(t)) {
                  var e = this._elementHashWMap.get(t),
                    n = e.hash;
                  e.contextList.indexOf(this._contextMgr.contextName) < 0 &&
                    (e.contextList.push(this._contextMgr.contextName),
                    this._elementHashWMap.set(t, {
                      hash: e.hash,
                      contextList: e.contextList,
                    }),
                    this._sendElementToServer(t, n));
                } else
                  _t.error(
                    "received for resendElementPerContext bad element, not in hash map. id=".concat(
                      t.id
                    )
                  );
              },
            },
            {
              key: "isListed",
              value: function (t) {
                return this._elementHashWMap.has(t);
              },
            },
            {
              key: "getElementData",
              value: function (t) {
                return this._elementHashWMap.get(t);
              },
            },
            {
              key: "getElementContextList",
              value: function (t) {
                return this._elementHashWMap.get(t).contextList;
              },
            },
            {
              key: "_sendElementToServer",
              value: function (t, e) {
                var n = this._collectPosition
                    ? t.getBoundingClientRect && t.getBoundingClientRect()
                    : null,
                  r = -1,
                  o = -1,
                  i = -1,
                  a = -1;
                n &&
                  ((r = Math.round(n.left)),
                  (o = Math.round(n.top)),
                  (i = Math.round(n.right - n.left)),
                  (a = Math.round(n.bottom - n.top)));
                var u = this._maskingService.maskAbsoluteIfRequired(t.id, t.id),
                  s = this._maskingService.maskAbsoluteIfRequired(t.name, t.id),
                  c =
                    (this._collectClassName &&
                      t.getAttribute &&
                      this._verifyNoPrivateData(t.getAttribute("class"))) ||
                    "",
                  l =
                    (this._collectTitle &&
                      this._verifyNoPrivateData(t.title)) ||
                    "",
                  f = this._verifyNoPrivateData(t.nodeName) || "",
                  p =
                    (this._collectHref && this._verifyNoPrivateData(t.href)) ||
                    "";
                p.length > 0 && (p = this._utils.clearTextFromNumbers(p));
                var h =
                    (this._collectCustomElementAttribute &&
                      t.getAttribute &&
                      this._verifyNoPrivateData(
                        t.getAttribute(this._customElementAttribute)
                      )) ||
                    "",
                  d = this._maskingService.maskAbsoluteIfRequired(h, t.id),
                  y = "";
                "SELECT" === t.nodeName &&
                  (y = this._utils
                    .getDropDownListValues(t, this._maskingService)
                    .join(";"));
                var m = t.value || t.textContent || t.innerHTML || "",
                  v = "";
                this._enableUnmaskedValues &&
                  Array.isArray(this._allowedUnmaskedValuesList) &&
                  this._allowedUnmaskedValuesList.length > 0 &&
                  this._allowedUnmaskedValuesList.forEach(function (t) {
                    "string" != typeof t
                      ? _t.error(
                          "Unsupported allowedUnmaksedValuesList value was provided: ".concat(
                            t.toString()
                          )
                        )
                      : t.toLowerCase() === m.trim().toLowerCase() && (v = t);
                  }),
                  (m =
                    m.length > this._maxElemValLength
                      ? ""
                      : this._maskingService.maskText(m, t.id));
                var b = this._utils.isUndefinedNull(t.checked)
                    ? -1
                    : t.checked
                    ? 1
                    : 0,
                  g = this.getEventTimestamp(),
                  _ = this.enableElementHierarchy
                    ? ri.getUniqueElementId(t, this._uniqueIDConfiguration)
                    : "",
                  w = this._enableElementCategory
                    ? this._categoryService.categoryField(t)
                    : "";
                this._dataQueue.addToQueue(
                  "elements",
                  [
                    this._contextMgr.contextHash,
                    e,
                    f || "",
                    u || "",
                    s || "",
                    t.type || "",
                    r || 0,
                    o || 0,
                    i || 0,
                    a || 0,
                    c || "",
                    p || "",
                    l || "",
                    t.alt || "",
                    y || "",
                    m || "",
                    b,
                    g,
                    d || h,
                    v,
                    _,
                    w,
                  ],
                  !1
                ),
                  _t.isDebug() &&
                    _t.debug(
                      "adding element id:" +
                        u +
                        ", name:" +
                        s +
                        ", type:" +
                        t.type +
                        ", width:" +
                        i +
                        ", height:" +
                        a +
                        ", left:" +
                        r +
                        ", top:" +
                        o +
                        ", hash: " +
                        e
                    );
              },
            },
            {
              key: "_verifyNoPrivateData",
              value: function (t) {
                return /\d\d\d/.test(t)
                  ? this._utils.clearTextFromNumbers(t)
                  : t;
              },
            },
            {
              key: "updateFeatureConfig",
              value: function () {
                var t;
                (this._collectPosition =
                  "boolean" ==
                  typeof this._configurationRepository.get("isElementsPosition")
                    ? this._configurationRepository.get("isElementsPosition")
                    : this._collectPosition),
                  (this._collectClassName =
                    "boolean" ==
                    typeof this._configurationRepository.get(
                      "isElementsClassName"
                    )
                      ? this._configurationRepository.get("isElementsClassName")
                      : this._collectClassName),
                  (this._collectTitle =
                    "boolean" ==
                    typeof this._configurationRepository.get("isElementsTitle")
                      ? this._configurationRepository.get("isElementsTitle")
                      : this._collectTitle),
                  (this._collectHref =
                    "boolean" ==
                    typeof this._configurationRepository.get("isElementsHref")
                      ? this._configurationRepository.get("isElementsHref")
                      : this._collectHref),
                  (this._collectCustomElementAttribute =
                    "boolean" ==
                    typeof this._configurationRepository.get(
                      w.collectCustomElementAttribute
                    )
                      ? this._configurationRepository.get(
                          w.collectCustomElementAttribute
                        )
                      : this._collectCustomElementAttribute),
                  (this._customElementAttribute =
                    "string" ==
                    typeof this._configurationRepository.get(
                      w.customElementAttribute
                    )
                      ? this._configurationRepository.get(
                          w.customElementAttribute
                        )
                      : this._customElementAttribute),
                  (this._maxElemValLength = this._configurationRepository.get(
                    "maxElValLen"
                  )
                    ? this._configurationRepository.get("maxElValLen")
                    : this._maxElemValLength),
                  (this._allowedUnmaskedValuesList =
                    this._configurationRepository.get(
                      "allowedUnmaskedValuesList"
                    )
                      ? this._configurationRepository.get(
                          "allowedUnmaskedValuesList"
                        )
                      : this._allowedUnmaskedValuesList),
                  (this._enableUnmaskedValues =
                    this._configurationRepository.get("enableUnmaskedValues")
                      ? this._configurationRepository.get(
                          "enableUnmaskedValues"
                        )
                      : this._enableUnmaskedValues),
                  (this._enableElementHierarchy =
                    "boolean" ==
                    typeof this._configurationRepository.get(
                      w.enableElementHierarchy
                    )
                      ? this._configurationRepository.get(
                          w.enableElementHierarchy
                        )
                      : this._enableElementHierarchy),
                  (this._enableElementCategory =
                    "boolean" ==
                    typeof this._configurationRepository.get(
                      w.enableElementCategory
                    )
                      ? this._configurationRepository.get(
                          w.enableElementCategory
                        )
                      : this._enableElementCategory),
                  (this._uniqueIDConfiguration =
                    "string" ==
                    typeof this._configurationRepository.get(
                      w.elementUniqueIDConfiguration
                    )
                      ? ui.parse(
                          this._configurationRepository.get(
                            w.elementUniqueIDConfiguration
                          )
                        )
                      : this._uniqueIDConfiguration),
                  null === (t = this._categoryService) ||
                    void 0 === t ||
                    t.onConfigUpdate(this._configurationRepository);
              },
            },
          ]) && ci(n.prototype, r),
          o && ci(n, o),
          Object.defineProperty(n, "prototype", { writable: !1 }),
          n
        );
        var n, r, o;
      })(uo),
      mi = "cd__rtcframe",
      vi = "cd__fontDetectionFrame",
      bi = "cd__frame__";
    function gi(t) {
      return (
        (gi =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        gi(t)
      );
    }
    function _i(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, wi(r.key), r);
      }
    }
    function wi(t) {
      var e = (function (t, e) {
        if ("object" != gi(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != gi(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == gi(e) ? e : e + "";
    }
    var Si = (function () {
      return (
        (t = function t(e, n, r) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._elementsMutationObserverFactory = e),
            (this._configurationRepository = r),
            (this._domUtils = n),
            (this._windowMutationObservers = Qe()),
            (this._loadedFrames = Qe()),
            (this._framesToIgnore = Je()),
            (this._frameSelector = "frame, iframe"),
            (this._frameLoadedCallback = this._onFrameLoad.bind(this)),
            (this.frameAdded = new _n()),
            (this.frameRemoved = new _n()),
            (this.frameInaccessible = new _n());
        }),
        (e = [
          {
            key: "frames",
            get: function () {
              var t = [];
              return (
                this._loadedFrames.forEach(function (e, n) {
                  t.push(n);
                }),
                t
              );
            },
          },
          {
            key: "start",
            value: function (t) {
              var e = this;
              this._monitorWindow(t),
                this._findFrames(t.document).forEach(function (t) {
                  e._processNewFrame(t);
                });
            },
          },
          {
            key: "stop",
            value: function () {
              this._windowMutationObservers.forEach(function (t) {
                t.disconnect();
              }),
                this._windowMutationObservers.clear(),
                this._loadedFrames.clear(),
                this._framesToIgnore.clear();
            },
          },
          {
            key: "addToIgnoreList",
            value: function (t) {
              this._framesToIgnore.add(t);
            },
          },
          {
            key: "_monitorWindow",
            value: function (t) {
              if (!this._windowMutationObservers.has(t)) {
                var e = new this._elementsMutationObserverFactory.create(
                  t,
                  self.MutationObserver,
                  this._configurationRepository
                );
                e.observe(t.document),
                  e.nodeAdded.subscribe(this._processAddedNode.bind(this)),
                  e.nodeRemoved.subscribe(this._processRemovedNode.bind(this)),
                  this._windowMutationObservers.set(t, e);
              }
            },
          },
          {
            key: "_unMonitorWindow",
            value: function (t) {
              var e = this._windowMutationObservers.get(t);
              e && e.disconnect(), this._windowMutationObservers.delete(t);
            },
          },
          {
            key: "_processAddedNode",
            value: function (t) {
              var e = this;
              if (this._domUtils.matches(t, this._frameSelector))
                this._processNewFrame(t);
              else {
                if (!t.hasChildNodes()) return;
                this._findFrames(t).forEach(function (t) {
                  e._processNewFrame(t);
                });
              }
            },
          },
          {
            key: "_processNewFrame",
            value: function (t) {
              this._framesToIgnore.has(t.id) ||
                t.id.startsWith(bi) ||
                this._loadedFrames.has(t) ||
                (this._domUtils.addEventListener(
                  t,
                  "load",
                  this._frameLoadedCallback
                ),
                this._domUtils.canAccessIFrame(t)
                  ? this._domUtils.isWindowDocumentReady(t.contentWindow) &&
                    this._addFrame(t)
                  : this.frameInaccessible.publish(t));
            },
          },
          {
            key: "_addFrame",
            value: function (t) {
              var e = this;
              this._monitorWindow(t.contentWindow),
                this._findFrames(t.contentWindow.document).forEach(function (
                  t
                ) {
                  e._processNewFrame(t);
                }),
                this._loadedFrames.set(t, t.contentDocument),
                this.frameAdded.publish(t);
            },
          },
          {
            key: "_processRemovedNode",
            value: function (t) {
              var e = this;
              if (this._domUtils.matches(t, this._frameSelector))
                this._removeFrame(t);
              else {
                if (!t.hasChildNodes()) return;
                this._findFrames(t).forEach(function (t) {
                  e._removeFrame(t);
                });
              }
            },
          },
          {
            key: "_removeFrame",
            value: function (t) {
              this._domUtils.canAccessIFrame(t) &&
                this._unMonitorWindow(t.contentWindow),
                this._domUtils.removeEventListener(
                  t,
                  "load",
                  this._frameLoadedCallback
                ),
                this._loadedFrames.delete(t) && this.frameRemoved.publish(t);
            },
          },
          {
            key: "_onFrameLoad",
            value: function (t) {
              var e = t.target;
              this._loadedFrames.has(e) && this._removeFrame(e),
                this._processNewFrame(e);
            },
          },
          {
            key: "_findFrames",
            value: function (t) {
              for (
                var e = [],
                  n = [],
                  r = t.querySelectorAll(this._frameSelector),
                  o = 0;
                o < r.length;
                o++
              )
                n.push(r[o]);
              for (var i = 0; i < n.length; i++) {
                var a,
                  u = n[i];
                e.push(u),
                  this._domUtils.canAccessIFrame(u)
                    ? (a = this._findFrames(u.contentWindow.document)).length >
                        0 && (e = e.concat(a))
                    : this.frameInaccessible.publish(u);
              }
              return e;
            },
          },
        ]) && _i(t.prototype, e),
        n && _i(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
      var t, e, n;
    })();
    function Ei(t) {
      return (
        (Ei =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Ei(t)
      );
    }
    function ki(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Ti(r.key), r);
      }
    }
    function Ti(t) {
      var e = (function (t, e) {
        if ("object" != Ei(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Ei(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Ei(e) ? e : e + "";
    }
    var Pi = (function () {
      return (
        (t = function t() {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t);
        }),
        (e = [
          { key: "startFeatures", value: function () {} },
          { key: "startFeature", value: function () {} },
          { key: "stopFeatures", value: function () {} },
          { key: "stopFeature", value: function () {} },
          { key: "updateFeatureConfig", value: function () {} },
        ]) && ki(t.prototype, e),
        n && ki(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
      var t, e, n;
    })();
    function Oi(t) {
      return (
        (Oi =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Oi(t)
      );
    }
    function Ci(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, ji(r.key), r);
      }
    }
    function ji(t) {
      var e = (function (t, e) {
        if ("object" != Oi(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Oi(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Oi(e) ? e : e + "";
    }
    var Mi,
      Ri,
      Bi,
      Ai = (function () {
        function t() {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t);
        }
        return (
          (e = t),
          (r = [
            {
              key: "addEventListener",
              value: function (t, e, n) {
                var r =
                    arguments.length > 3 &&
                    void 0 !== arguments[3] &&
                    arguments[3],
                  o =
                    !(arguments.length > 4 && void 0 !== arguments[4]) ||
                    arguments[4],
                  i =
                    arguments.length > 5 &&
                    void 0 !== arguments[5] &&
                    arguments[5];
                this.isPassiveSupported
                  ? t.addEventListener(e, n, {
                      capture: r,
                      passive: o,
                      once: i,
                    })
                  : t.addEventListener
                  ? t.addEventListener(e, n, r)
                  : t.attachEvent("on" + e, n);
              },
            },
            {
              key: "removeEventListener",
              value: function (t, e, n) {
                var r =
                  arguments.length > 3 &&
                  void 0 !== arguments[3] &&
                  arguments[3];
                t.removeEventListener
                  ? t.removeEventListener(e, n, r)
                  : t.detachEvent("on" + e, n);
              },
            },
            {
              key: "outerHTML",
              value: function (t) {
                return t.outerHTML || new XMLSerializer().serializeToString(t);
              },
            },
            {
              key: "onDocumentBody",
              value: function (t, e) {
                t.document.body
                  ? e()
                  : window.addEventListener
                  ? window.addEventListener("DOMContentLoaded", e, !0)
                  : window.attachEvent("onload", e);
              },
            },
            {
              key: "onPageLoad",
              value: function (e, n) {
                t.addEventListener(e, "load", n, !0),
                  ((e.contentWindow &&
                    "complete" === e.contentWindow.document.readyState) ||
                    (e.document && "complete" === e.document.readyState)) &&
                    n();
              },
            },
            {
              key: "awaitWindowDocumentReady",
              value: function (t) {
                var e = this;
                return new Promise(function (n, r) {
                  try {
                    e.onWindowDocumentReady(t, function () {
                      n();
                    });
                  } catch (t) {
                    r(t);
                  }
                });
              },
            },
            {
              key: "onWindowDocumentReady",
              value: function (e, n) {
                var r = window.addEventListener ? "DOMContentLoaded" : "load";
                if (
                  "complete" === e.document.readyState ||
                  "interactive" === e.document.readyState
                )
                  n();
                else {
                  var o = function () {
                    t.removeEventListener(e, r, o, !0), n();
                  };
                  t.addEventListener(e, r, o, !0);
                }
              },
            },
            {
              key: "isWindowDocumentReady",
              value: function (t) {
                return t && "complete" === t.document.readyState;
              },
            },
            {
              key: "canAccessIFrame",
              value: function (t) {
                if (!t.contentWindow) return !1;
                var e,
                  n = window.location.origin;
                try {
                  e = t.contentWindow.location.origin;
                } catch (t) {
                  return !1;
                }
                if (e === n || "null" === e)
                  try {
                    return !(!t.contentDocument || !t.contentDocument.body);
                  } catch (t) {
                    return !1;
                  }
                return !1;
              },
            },
            {
              key: "matches",
              value: function (t, e) {
                var n =
                  t.matches ||
                  t.matchesSelector ||
                  t.mozMatchesSelector ||
                  t.msMatchesSelector ||
                  t.oMatchesSelector ||
                  t.webkitMatchesSelector ||
                  function (t) {
                    var e = this.document || this.ownerDocument;
                    if (!e) return !1;
                    for (
                      var n = e.querySelectorAll(t), r = n.length;
                      --r >= 0 && (n.item ? n.item(r) : n[r]) !== this;

                    );
                    return r > -1;
                  };
                return n.call(t, e);
              },
            },
            {
              key: "isWebWorkerFetchSupported",
              value: function () {
                var t = "Request" in self,
                  e = "fetch" in self;
                if (!t) return !1;
                var n = "keepalive" in Request.prototype;
                return e && n;
              },
            },
            {
              key: "isSubtleCryptoSupported",
              value: function () {
                return "SubtleCrypto" in self;
              },
            },
          ]),
          (n = null) && Ci(e.prototype, n),
          r && Ci(e, r),
          Object.defineProperty(e, "prototype", { writable: !1 }),
          e
        );
        var e, n, r;
      })();
    function xi(t) {
      return (
        (xi =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        xi(t)
      );
    }
    function Di() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          Li(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (Li((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), Li(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        Li(f, "constructor", c),
        Li(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        Li(c, o, "GeneratorFunction"),
        Li(f),
        Li(f, o, "Generator"),
        Li(f, r, function () {
          return this;
        }),
        Li(f, "toString", function () {
          return "[object Generator]";
        }),
        (Di = function () {
          return { w: i, m: p };
        })()
      );
    }
    function Li(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (Li = function (t, e, n, r) {
        function i(e, n) {
          Li(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        Li(t, e, n, r);
    }
    function Ni(t, e) {
      var n =
        ("undefined" != typeof Symbol && t[Symbol.iterator]) || t["@@iterator"];
      if (!n) {
        if (
          Array.isArray(t) ||
          (n = (function (t, e) {
            if (t) {
              if ("string" == typeof t) return Ii(t, e);
              var n = {}.toString.call(t).slice(8, -1);
              return (
                "Object" === n && t.constructor && (n = t.constructor.name),
                "Map" === n || "Set" === n
                  ? Array.from(t)
                  : "Arguments" === n ||
                    /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                  ? Ii(t, e)
                  : void 0
              );
            }
          })(t)) ||
          (e && t && "number" == typeof t.length)
        ) {
          n && (t = n);
          var r = 0,
            o = function () {};
          return {
            s: o,
            n: function () {
              return r >= t.length ? { done: !0 } : { done: !1, value: t[r++] };
            },
            e: function (t) {
              throw t;
            },
            f: o,
          };
        }
        throw new TypeError(
          "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
        );
      }
      var i,
        a = !0,
        u = !1;
      return {
        s: function () {
          n = n.call(t);
        },
        n: function () {
          var t = n.next();
          return (a = t.done), t;
        },
        e: function (t) {
          (u = !0), (i = t);
        },
        f: function () {
          try {
            a || null == n.return || n.return();
          } finally {
            if (u) throw i;
          }
        },
      };
    }
    function Ii(t, e) {
      (null == e || e > t.length) && (e = t.length);
      for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
      return r;
    }
    function Fi(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function Ui(t) {
      return function () {
        var e = this,
          n = arguments;
        return new Promise(function (r, o) {
          var i = t.apply(e, n);
          function a(t) {
            Fi(i, r, o, a, u, "next", t);
          }
          function u(t) {
            Fi(i, r, o, a, u, "throw", t);
          }
          a(void 0);
        });
      };
    }
    function Wi(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Gi(r.key), r);
      }
    }
    function Gi(t) {
      var e = (function (t, e) {
        if ("object" != xi(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != xi(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == xi(e) ? e : e + "";
    }
    (Mi = Ai),
      (Ri = "isPassiveSupported"),
      (Bi = (function () {
        var t = !1;
        try {
          var e = Object.defineProperty({}, "passive", {
            get: function () {
              t = !0;
            },
          });
          window.addEventListener("test", null, e);
        } catch (t) {}
        return t;
      })()),
      (Ri = ji(Ri)) in Mi
        ? Object.defineProperty(Mi, Ri, {
            value: Bi,
            enumerable: !0,
            configurable: !0,
            writable: !0,
          })
        : (Mi[Ri] = Bi);
    var Hi = (function () {
      return (function (t, e, n) {
        return (
          e && Wi(t.prototype, e),
          n && Wi(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this.context = e || window.self),
            (this.domUtils = n || Ai);
        },
        [
          {
            key: "Context",
            get: function () {
              return this.context;
            },
          },
          {
            key: "getDocument",
            value: function () {
              return this.context.document;
            },
          },
          {
            key: "collectAllElementsBySelectorAsync",
            value:
              ((t = Ui(
                Di().m(function t(e) {
                  var n,
                    r,
                    o,
                    i,
                    a,
                    u,
                    s,
                    c = this,
                    l = arguments;
                  return Di().w(
                    function (t) {
                      for (;;)
                        switch (t.n) {
                          case 0:
                            return (
                              (u = function (t) {
                                return new Promise(function (e, n) {
                                  try {
                                    var r = t.contentDocument;
                                    if (r && "complete" === r.readyState)
                                      return e();
                                    t.addEventListener(
                                      "load",
                                      function () {
                                        return e();
                                      },
                                      { once: !0 }
                                    ),
                                      setTimeout(function () {
                                        return n(
                                          new Error("Iframe load timeout")
                                        );
                                      }, o);
                                  } catch (t) {
                                    n(t);
                                  }
                                });
                              }),
                              (r = l.length > 1 && void 0 !== l[1] ? l[1] : 0),
                              (o =
                                l.length > 2 && void 0 !== l[2] ? l[2] : 5e3),
                              (i = []),
                              (a = (function () {
                                var t = Ui(
                                  Di().m(function t(n) {
                                    var o,
                                      s,
                                      l,
                                      f,
                                      p,
                                      h,
                                      d,
                                      y,
                                      m,
                                      v,
                                      b,
                                      g,
                                      _,
                                      w = arguments;
                                    return Di().w(
                                      function (t) {
                                        for (;;)
                                          switch ((t.p = t.n)) {
                                            case 0:
                                              if (
                                                ((o =
                                                  w.length > 1 &&
                                                  void 0 !== w[1]
                                                    ? w[1]
                                                    : 0),
                                                n &&
                                                  "function" ==
                                                    typeof n.querySelectorAll)
                                              ) {
                                                t.n = 1;
                                                break;
                                              }
                                              return t.a(2);
                                            case 1:
                                              (s = n.querySelectorAll(e)),
                                                (l = Ni(s)),
                                                (t.p = 2),
                                                l.s();
                                            case 3:
                                              if ((f = l.n()).done) {
                                                t.n = 6;
                                                break;
                                              }
                                              if (
                                                "IFRAME" !==
                                                  (p = f.value).tagName ||
                                                c.domUtils.canAccessIFrame(p)
                                              ) {
                                                t.n = 4;
                                                break;
                                              }
                                              return t.a(3, 5);
                                            case 4:
                                              i.push(p);
                                            case 5:
                                              t.n = 3;
                                              break;
                                            case 6:
                                              t.n = 8;
                                              break;
                                            case 7:
                                              (t.p = 7), (b = t.v), l.e(b);
                                            case 8:
                                              return (t.p = 8), l.f(), t.f(8);
                                            case 9:
                                              (h = n.querySelectorAll("*")),
                                                (d = Ni(h)),
                                                (t.p = 10),
                                                d.s();
                                            case 11:
                                              if ((y = d.n()).done) {
                                                t.n = 18;
                                                break;
                                              }
                                              if (
                                                !(
                                                  (m = y.value).shadowRoot &&
                                                  o < r
                                                )
                                              ) {
                                                t.n = 12;
                                                break;
                                              }
                                              return (
                                                (t.n = 12),
                                                a(m.shadowRoot, o + 1)
                                              );
                                            case 12:
                                              if (
                                                "IFRAME" !== m.tagName ||
                                                !c.domUtils.canAccessIFrame(m)
                                              ) {
                                                t.n = 17;
                                                break;
                                              }
                                              return (
                                                (t.p = 13), (t.n = 14), u(m)
                                              );
                                            case 14:
                                              if (!(v = m.contentDocument)) {
                                                t.n = 15;
                                                break;
                                              }
                                              return (t.n = 15), a(v, o);
                                            case 15:
                                              t.n = 17;
                                              break;
                                            case 16:
                                              (t.p = 16),
                                                (g = t.v),
                                                _t.warn(
                                                  "Skipped iframe:",
                                                  g.message,
                                                  m.title
                                                );
                                            case 17:
                                              t.n = 11;
                                              break;
                                            case 18:
                                              t.n = 20;
                                              break;
                                            case 19:
                                              (t.p = 19), (_ = t.v), d.e(_);
                                            case 20:
                                              return (t.p = 20), d.f(), t.f(20);
                                            case 21:
                                              return t.a(2);
                                          }
                                      },
                                      t,
                                      null,
                                      [
                                        [13, 16],
                                        [10, 19, 20, 21],
                                        [2, 7, 8, 9],
                                      ]
                                    );
                                  })
                                );
                                return function (e) {
                                  return t.apply(this, arguments);
                                };
                              })()),
                              (s =
                                (null === (n = this.getDocument) || void 0 === n
                                  ? void 0
                                  : n.call(this)) || document),
                              (t.n = 1),
                              a(s)
                            );
                          case 1:
                            return t.a(2, i);
                        }
                    },
                    t,
                    this
                  );
                })
              )),
              function (e) {
                return t.apply(this, arguments);
              }),
          },
        ]
      );
      var t;
    })();
    function Qi(t) {
      return (
        (Qi =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Qi(t)
      );
    }
    function zi(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Vi(r.key), r);
      }
    }
    function Vi(t) {
      var e = (function (t, e) {
        if ("object" != Qi(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Qi(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Qi(e) ? e : e + "";
    }
    function Ki(t, e, n) {
      return (
        (e = Ji(e)),
        (function (t, e) {
          if (e && ("object" == Qi(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          qi()
            ? Reflect.construct(e, n || [], Ji(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function qi() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (qi = function () {
        return !!t;
      })();
    }
    function Ji(t) {
      return (
        (Ji = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Ji(t)
      );
    }
    function Xi(t, e) {
      return (
        (Xi = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Xi(t, e)
      );
    }
    var Yi = (function (t) {
      function e() {
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          Ki(this, e, arguments)
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && Xi(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && zi(t.prototype, e),
            n && zi(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "getDocument",
            value: function () {
              return this.context.document || this.context.contentDocument;
            },
          },
        ])
      );
    })(Hi);
    function Zi(t) {
      return (
        (Zi =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Zi(t)
      );
    }
    function $i(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, ta(r.key), r);
      }
    }
    function ta(t) {
      var e = (function (t, e) {
        if ("object" != Zi(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Zi(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Zi(e) ? e : e + "";
    }
    function ea(t, e, n) {
      return (
        (e = ra(e)),
        (function (t, e) {
          if (e && ("object" == Zi(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          na()
            ? Reflect.construct(e, n || [], ra(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function na() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (na = function () {
        return !!t;
      })();
    }
    function ra(t) {
      return (
        (ra = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        ra(t)
      );
    }
    function oa(t, e) {
      return (
        (oa = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        oa(t, e)
      );
    }
    var ia = (function (t) {
      function e(t, n, r, o, i) {
        var a;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          ((a = ea(this, e))._framesCache = t),
          (a._framesDetector = n),
          a._framesDetector.frameAdded.subscribe(a._onFrameAdded.bind(a)),
          a._framesDetector.frameRemoved.subscribe(a._onFrameRemoved.bind(a)),
          a._framesDetector.frameInaccessible.subscribe(
            a._onFrameInaccessible.bind(a)
          ),
          (a._featuresList = []),
          (a._domUtils = r),
          (a._utils = o),
          a._framesDetector.addToIgnoreList(mi),
          a._framesDetector.addToIgnoreList(vi),
          (a.callMethod = i ? a._utils.asyncCall : a._utils.asyncTimeoutCall),
          a._framesDetector.start(window.self),
          a._buildFramesCache(),
          a
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && oa(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && $i(t.prototype, e),
            n && $i(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "startFeatures",
            value: function (t) {
              try {
                if (
                  (this._buildFeaturesMap(t), 0 === this._featuresList.length)
                )
                  return;
                _t.debug(
                  "startFeatures:Running features on ".concat(
                    this._framesCache.count,
                    " frames"
                  )
                ),
                  this._startFeaturesOnFrames(this._framesCache.contexts, t);
              } catch (t) {
                _t.debug(
                  "Failed to start features in FrameHandler.startFeatures: ".concat(
                    t.message
                  ),
                  t
                );
              }
            },
          },
          {
            key: "startFeature",
            value: function (t) {
              try {
                this._featuresList.push(t),
                  (t.isRunning = !0),
                  this._startFeaturesOnFrames(this._framesCache.contexts, [t]);
              } catch (t) {
                _t.debug(
                  "Failed to start feature in FrameHandler.startFeature: ".concat(
                    t.message
                  ),
                  t
                );
              }
            },
          },
          {
            key: "stopFeatures",
            value: function (t) {
              try {
                this._stopFeaturesOnFrames(t, this._framesCache.contexts);
              } catch (t) {
                _t.debug(
                  "Failed to stop features in FrameHandler.stopFeatures: ".concat(
                    t.message
                  ),
                  t
                );
              }
            },
          },
          {
            key: "stopFeature",
            value: function (t) {
              try {
                (t.isRunning = !1),
                  this._stopFeaturesOnFrames([t], this._framesCache.contexts);
              } catch (t) {
                _t.debug(
                  "Failed to stop feature in FrameHandler.stopFeature: ".concat(
                    t.message
                  ),
                  t
                );
              }
            },
          },
          {
            key: "updateFeatureConfig",
            value: function (t) {
              t.instance.updateFeatureConfig &&
                this._updateFeaturesConfigOnFrames(
                  [t],
                  this._framesCache.contexts
                );
            },
          },
          {
            key: "_onFrameAdded",
            value: function (t) {
              try {
                _t.debug(
                  "Frame:".concat(t.name, ", id:").concat(t.id, ". was loaded.")
                ),
                  this._framesCache.exists(t)
                    ? this._framesCache.unRegisterContextFeatures(
                        t,
                        this._featuresList
                      )
                    : this._framesCache.add(t),
                  this._startFeaturesOnFrames([t], this._featuresList);
              } catch (e) {
                _t.warn(
                  "Failed to start features on frame "
                    .concat(t.id, ": ")
                    .concat(e.message),
                  e
                );
              }
            },
          },
          {
            key: "_onFrameRemoved",
            value: function (t) {
              try {
                _t.debug(
                  "Frame:"
                    .concat(t.name, ", id:")
                    .concat(t.id, ". was removed.")
                ),
                  this._stopFeaturesOnFrames(this._featuresList, [t]);
              } catch (e) {
                _t.warn(
                  "Failed to stop features on frame "
                    .concat(t.id, ": ")
                    .concat(e.message),
                  e
                );
              }
            },
          },
          {
            key: "_onFrameInaccessible",
            value: function (t) {
              _t.debug(
                "Frame:"
                  .concat(t.name, ", id:")
                  .concat(t.id, ". was detected as inaccessible.")
              );
            },
          },
          {
            key: "_buildFeaturesMap",
            value: function (t) {
              var e = this;
              (this._featuresList = []),
                t.forEach(function (t) {
                  e._featuresList.push(t);
                });
            },
          },
          {
            key: "_buildFramesCache",
            value: function () {
              var t = this;
              this._framesDetector.frames.forEach(function (e) {
                t._framesCache.exists(e) || t._framesCache.add(e);
              });
            },
          },
          {
            key: "_startFeaturesOnFrames",
            value: function (t, e) {
              var n = this;
              t.forEach(function (t) {
                try {
                  if (!n._domUtils.canAccessIFrame(t)) return;
                  for (var r = 0; r < e.length; r++) {
                    var o = e[r];
                    o.shouldRun &&
                      !n._framesCache.hasFeature(t, o) &&
                      (n._framesCache.registerContextFeature(t, o),
                      n._domUtils.isWindowDocumentReady(t.contentWindow) &&
                        (_t.debug(
                          "_startFeaturesOnFrames: run feature on frame:"
                            .concat(t.name, ", id:")
                            .concat(t.id, ". feature:")
                            .concat(o.configKey)
                        ),
                        n.callMethod.call(n._runFeatureOnFrame, n, t, o),
                        (o.isRunning = !0)));
                  }
                } catch (e) {
                  _t.error(
                    "An error has occurred while starting features on frame "
                      .concat(t.name, " with id: ")
                      .concat(t.id, ". Error: ")
                      .concat(e.message),
                    e
                  );
                }
              });
            },
          },
          {
            key: "_runFeatureOnFrame",
            value: function (t, e) {
              try {
                this._domUtils.canAccessIFrame(t)
                  ? e.instance.startFeature(new Yi(t.contentWindow))
                  : _t.debug(
                      "Not starting features on frame "
                        .concat(t.name, " with id: ")
                        .concat(t.id, " as it is not accessible")
                    );
              } catch (n) {
                _t.error(
                  "An error has occurred while starting feature "
                    .concat(e.configKey, " on frame ")
                    .concat(t.name, " with id: ")
                    .concat(t.id, ". Error: ")
                    .concat(n.message),
                  n
                );
              }
            },
          },
          {
            key: "_stopFeaturesOnFrames",
            value: function (t, e) {
              var n = this;
              try {
                e.forEach(function (e) {
                  try {
                    if (!n._domUtils.canAccessIFrame(e)) return;
                    if (e.contentWindow && e.contentWindow.document)
                      for (var r = 0, o = t.length; r < o; r++)
                        n._framesCache.hasFeature(e, t[r]) &&
                          n.callMethod.call(n._stopFeatureOnFrame, n, e, t[r]),
                          (t[r].isRunning = !1);
                  } catch (t) {
                    _t.error(
                      "An error has occurred while stopping features on frame "
                        .concat(e.name, " with id: ")
                        .concat(e.id, ". Error: ")
                        .concat(t.message),
                      t
                    );
                  }
                  n._framesCache.exists(e) &&
                    n._framesCache.unRegisterContextFeatures(e, t),
                    n._framesCache.remove(e);
                });
              } catch (t) {
                _t.warn(
                  "Failed stopping features on frames ".concat(t.message),
                  t
                );
              }
            },
          },
          {
            key: "_stopFeatureOnFrame",
            value: function (t, e) {
              try {
                this._domUtils.canAccessIFrame(t)
                  ? e.instance.stopFeature(new Yi(t.contentWindow))
                  : _t.debug(
                      "Not stopping feature "
                        .concat(e.configKey, " on frame ")
                        .concat(t.name, " with id: ")
                        .concat(t.id, " as it is not accessible")
                    );
              } catch (n) {
                _t.error(
                  "An error has occurred while stopping feature "
                    .concat(e.configKey, " ")
                    .concat(func, " on frame ")
                    .concat(t.name, " with id: ")
                    .concat(t.id, ". Error: ")
                    .concat(n.message),
                  n
                );
              }
            },
          },
          {
            key: "_updateFeaturesConfigOnFrames",
            value: function (t, e) {
              var n = this;
              e.forEach(function (e) {
                try {
                  if (!n._domUtils.canAccessIFrame(e)) return;
                  for (var r = 0, o = t.length; r < o; r++)
                    n._framesCache.hasFeature(e, t[r]) &&
                      n.callMethod.call(
                        n._updateFeatureConfigOnFrame,
                        n,
                        e,
                        t[r]
                      );
                } catch (t) {
                  _t.error(
                    "An error has occurred while updating features configuration on frame "
                      .concat(e.name, " with id: ")
                      .concat(e.id, ". Error: ")
                      .concat(t.message),
                    t
                  );
                }
              });
            },
          },
          {
            key: "_updateFeatureConfigOnFrame",
            value: function (t, e) {
              try {
                this._domUtils.canAccessIFrame(t)
                  ? e.instance.updateFeatureConfig(new Yi(t.contentWindow))
                  : _t.debug(
                      "Not updating feature "
                        .concat(e.configKey, " config on frame ")
                        .concat(t.name, " with id: ")
                        .concat(t.id, " as it is not accessible")
                    );
              } catch (n) {
                _t.error(
                  "An error has occurred while updating feature "
                    .concat(e.configKey, " config on frame ")
                    .concat(t.name, " with id: ")
                    .concat(t.id, ". Error: ")
                    .concat(n.message),
                  n
                );
              }
            },
          },
        ])
      );
    })(Pi);
    function aa(t) {
      return (
        (aa =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        aa(t)
      );
    }
    function ua(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, sa(r.key), r);
      }
    }
    function sa(t) {
      var e = (function (t, e) {
        if ("object" != aa(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != aa(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == aa(e) ? e : e + "";
    }
    function ca(t, e, n) {
      return (
        (e = fa(e)),
        (function (t, e) {
          if (e && ("object" == aa(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          la()
            ? Reflect.construct(e, n || [], fa(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function la() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (la = function () {
        return !!t;
      })();
    }
    function fa(t) {
      return (
        (fa = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        fa(t)
      );
    }
    function pa(t, e) {
      return (
        (pa = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        pa(t, e)
      );
    }
    var ha = (function (t) {
      function e() {
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          ca(this, e, arguments)
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && pa(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && ua(t.prototype, e),
            n && ua(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e)
      );
    })(Pi);
    function da(t) {
      return (
        (da =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        da(t)
      );
    }
    function ya(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, ma(r.key), r);
      }
    }
    function ma(t) {
      var e = (function (t, e) {
        if ("object" != da(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != da(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == da(e) ? e : e + "";
    }
    var va = (function () {
      return (function (t, e, n) {
        return (
          e && ya(t.prototype, e),
          n && ya(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t() {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._contexts = Qe());
        },
        [
          {
            key: "contexts",
            get: function () {
              var t = [];
              return (
                this._contexts.forEach(function (e, n) {
                  t.push(n);
                }),
                t
              );
            },
          },
          {
            key: "browserContexts",
            get: function () {
              var t = [];
              return (
                this._contexts.forEach(function (e) {
                  t.push(e.browserContext);
                }),
                t
              );
            },
          },
          {
            key: "count",
            get: function () {
              return this._contexts.size;
            },
          },
          {
            key: "add",
            value: function (t) {
              this._contexts.set(t, { registered: !0, features: Qe() });
            },
          },
          {
            key: "addBrowserContext",
            value: function (t) {
              this._contexts.set(t.Context, {
                registered: !0,
                features: Qe(),
                browserContext: t,
              });
            },
          },
          {
            key: "remove",
            value: function (t) {
              this.exists(t) &&
                0 === this._contexts.get(t).features.size &&
                this._contexts.delete(t);
            },
          },
          {
            key: "get",
            value: function (t) {
              return this._contexts.get(t);
            },
          },
          {
            key: "exists",
            value: function (t) {
              return this._contexts.has(t) && this._contexts.get(t).registered;
            },
          },
          {
            key: "registerContextFeature",
            value: function (t, e) {
              this.exists(t) &&
                this._contexts.get(t).features.set(e.configKey, !0);
            },
          },
          {
            key: "unRegisterContextFeature",
            value: function (t, e) {
              this.exists(t, e) &&
                this._contexts.get(t).features.delete(e.configKey);
            },
          },
          {
            key: "unRegisterContextFeatures",
            value: function (t, e) {
              for (var n = 0; n < e.length; n++) {
                var r = e[n];
                this.unRegisterContextFeature(t, r);
              }
            },
          },
          {
            key: "hasFeature",
            value: function (t, e) {
              return (
                this.exists(t) &&
                this._contexts.get(t).features.has(e.configKey)
              );
            },
          },
        ]
      );
    })();
    function ba(t) {
      return (
        (ba =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        ba(t)
      );
    }
    function ga(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, wa(r.key), r);
      }
    }
    function _a(t, e, n) {
      return (
        e && ga(t.prototype, e),
        n && ga(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
    }
    function wa(t) {
      var e = (function (t, e) {
        if ("object" != ba(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != ba(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == ba(e) ? e : e + "";
    }
    var Sa = _a(function t(e, n) {
      !(function (t, e) {
        if (!(t instanceof e))
          throw new TypeError("Cannot call a class as a function");
      })(this, t),
        (this.browserContext = e),
        (this.removedNodes = n);
    });
    function Ea(t) {
      return (
        (Ea =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Ea(t)
      );
    }
    function ka(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Pa(r.key), r);
      }
    }
    function Ta(t, e, n) {
      return (
        e && ka(t.prototype, e),
        n && ka(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
    }
    function Pa(t) {
      var e = (function (t, e) {
        if ("object" != Ea(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Ea(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Ea(e) ? e : e + "";
    }
    var Oa = Ta(function t(e, n) {
      !(function (t, e) {
        if (!(t instanceof e))
          throw new TypeError("Cannot call a class as a function");
      })(this, t),
        (this.browserContext = e),
        (this.addedNodes = n);
    });
    function Ca(t) {
      return (
        (Ca =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Ca(t)
      );
    }
    function ja(t) {
      return (
        (function (t) {
          if (Array.isArray(t)) return Ma(t);
        })(t) ||
        (function (t) {
          if (
            ("undefined" != typeof Symbol && null != t[Symbol.iterator]) ||
            null != t["@@iterator"]
          )
            return Array.from(t);
        })(t) ||
        (function (t, e) {
          if (t) {
            if ("string" == typeof t) return Ma(t, e);
            var n = {}.toString.call(t).slice(8, -1);
            return (
              "Object" === n && t.constructor && (n = t.constructor.name),
              "Map" === n || "Set" === n
                ? Array.from(t)
                : "Arguments" === n ||
                  /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                ? Ma(t, e)
                : void 0
            );
          }
        })(t) ||
        (function () {
          throw new TypeError(
            "Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
          );
        })()
      );
    }
    function Ma(t, e) {
      (null == e || e > t.length) && (e = t.length);
      for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
      return r;
    }
    function Ra(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Ba(r.key), r);
      }
    }
    function Ba(t) {
      var e = (function (t, e) {
        if ("object" != Ca(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Ca(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Ca(e) ? e : e + "";
    }
    var Aa = (function () {
      return (function (t, e, n) {
        return (
          e && Ra(t.prototype, e),
          n && Ra(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n, r) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (function (t, e, n) {
              (e = Ba(e)) in t
                ? Object.defineProperty(t, e, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (t[e] = n);
            })(
              this,
              "ignoreNodeTypes",
              Je([
                Node.COMMENT_NODE,
                Node.TEXT_NODE,
                Node.ATTRIBUTE_NODE,
                Node.CDATA_SECTION_NODE,
              ])
            ),
            (this._mutationObserver = new n(
              this._mutationObserved.bind(this, e)
            )),
            (this.nodesAdded = new _n()),
            (this.nodesRemoved = new _n()),
            (this.nodeAdded = new _n()),
            (this.nodeRemoved = new _n()),
            (this._configurationRepository = r),
            (this.mutationQueue = []),
            (this.processingQueue = !1);
        },
        [
          {
            key: "observe",
            value: function (t) {
              this._mutationObserver.observe(t, { childList: !0, subtree: !0 });
            },
          },
          {
            key: "disconnect",
            value: function () {
              this._mutationObserver.disconnect();
            },
          },
          {
            key: "_mutationObserved",
            value: function (t, e) {
              var n,
                r,
                o,
                i = this,
                a =
                  (null === (n = this._configurationRepository) || void 0 === n
                    ? void 0
                    : n.get(w.mutationMaxChunkSize)) || 0,
                u =
                  (null === (r = this._configurationRepository) || void 0 === r
                    ? void 0
                    : r.get(w.mutationChunkDelayMs)) || 100,
                s = e.filter(function (t) {
                  return (
                    "childList" === t.type &&
                    []
                      .concat(ja(t.addedNodes), ja(t.removedNodes))
                      .some(function (t) {
                        return i._isValidNodeType(t);
                      })
                  );
                });
              if (a && s.length > a)
                for (
                  var c = function () {
                      var e = s.slice(l, l + Math.min(a, s.length - l));
                      setTimeout(function () {
                        e.forEach(function (e) {
                          i._processMutation(t, e);
                        });
                      }, u);
                    },
                    l = 0;
                  l < s.length;
                  l += a
                )
                  c();
              else
                (o = this.mutationQueue).push.apply(o, ja(s)),
                  this.processingQueue ||
                    ((this.processingQueue = !0),
                    this.requestIdleCallbackSafe(function () {
                      return i._processMutationQueue(t);
                    }));
            },
          },
          {
            key: "_processMutationQueue",
            value: function (t) {
              for (
                var e,
                  n = this,
                  r =
                    (null === (e = this._configurationRepository) ||
                    void 0 === e
                      ? void 0
                      : e.get(w.mutationMaxChunkSize)) || 50;
                this.mutationQueue.length > 0;

              ) {
                this.mutationQueue.splice(0, r).forEach(function (e) {
                  return n._processMutation(t, e);
                });
              }
              this.processingQueue = !1;
            },
          },
          {
            key: "_processMutation",
            value: function (t, e) {
              var n = this._processNodes(e.addedNodes, this.nodeAdded),
                r = this._processNodes(e.removedNodes, this.nodeRemoved);
              this._publishNodesMutationEvents(t, n, r);
            },
          },
          {
            key: "_publishNodesMutationEvents",
            value: function (t, e, n) {
              var r = this;
              e.length > 0 &&
                this.requestIdleCallbackSafe(function () {
                  return r.nodesAdded.publish(new Oa(t, e));
                }),
                n.length > 0 &&
                  this.requestIdleCallbackSafe(function () {
                    return r.nodesRemoved.publish(new Sa(t, n));
                  });
            },
          },
          {
            key: "_processNodes",
            value: function (t, e) {
              for (var n = [], r = 0; r < t.length; r++) {
                var o = t[r];
                this._isValidNodeType(o) && (n.push(o), e.publish(o));
              }
              return n;
            },
          },
          {
            key: "_isValidNodeType",
            value: function (t) {
              return !this.ignoreNodeTypes.has(t.nodeType);
            },
          },
          {
            key: "requestIdleCallbackSafe",
            value: function (t) {
              return (
                window.requestIdleCallback ||
                function (t) {
                  return setTimeout(function () {
                    t({
                      timeRemaining: function () {
                        return 0;
                      },
                      didTimeout: !0,
                    });
                  }, 1);
                }
              )(t);
            },
          },
        ]
      );
    })();
    function xa(t) {
      return (
        (xa =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        xa(t)
      );
    }
    function Da(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, La(r.key), r);
      }
    }
    function La(t) {
      var e = (function (t, e) {
        if ("object" != xa(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != xa(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == xa(e) ? e : e + "";
    }
    var Na = (function () {
      return (function (t, e, n) {
        return (
          e && Da(t.prototype, e),
          n && Da(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t() {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t);
        },
        [
          {
            key: "create",
            value: function (t, e, n) {
              return new Aa(t, e, n);
            },
          },
        ]
      );
    })();
    function Ia(t) {
      return (
        (Ia =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Ia(t)
      );
    }
    function Fa(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Ua(r.key), r);
      }
    }
    function Ua(t) {
      var e = (function (t, e) {
        if ("object" != Ia(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Ia(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Ia(e) ? e : e + "";
    }
    var Wa = (function () {
      return (function (t, e, n) {
        return (
          e && Fa(t.prototype, e),
          n && Fa(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n, r) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._configurationRepository = e),
            (this._domUtils = n),
            (this._utils = r);
        },
        [
          {
            key: "create",
            value: function () {
              var t = this._configurationRepository.get(
                  w.enableFramesProcessing
                ),
                e = this._configurationRepository.get(w.useLegacyZeroTimeout);
              if (t) {
                var n = new va(),
                  r = new Si(
                    new Na(),
                    this._domUtils,
                    this._configurationRepository
                  );
                return new ia(n, r, this._domUtils, this._utils, e);
              }
              return new ha();
            },
          },
        ]
      );
    })();
    function Ga(t) {
      return (
        (Ga =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Ga(t)
      );
    }
    function Ha(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Qa(r.key), r);
      }
    }
    function Qa(t) {
      var e = (function (t, e) {
        if ("object" != Ga(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Ga(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Ga(e) ? e : e + "";
    }
    var za = (function () {
      return (function (t, e, n) {
        return (
          e && Ha(t.prototype, e),
          n && Ha(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n, r, o, i, a) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._features = e),
            (this._frameHandler = n),
            (this._configurationRepository = r),
            (this._domUtils = o),
            (this._cdUtils = i),
            (this._browserContextsCache = a),
            (this.callMethod = this._configurationRepository.get(
              w.useLegacyZeroTimeout
            )
              ? this._cdUtils.asyncCall
              : this._cdUtils.asyncTimeoutCall),
            this.buildFrameRelatedLists();
        },
        [
          {
            key: "buildFrameRelatedLists",
            value: function () {
              (this._frameRelatedDefaultFeatures = this._collectFrameRelated(
                this._features.getDefaultFeatures()
              )),
                (this._frameRelatedNonDefaultFeatures =
                  this._collectFrameRelated(
                    this._features.getNonDefaultFeatures()
                  ));
            },
          },
          {
            key: "runDefault",
            value: function () {
              var t = this;
              _t.info("Running default features"),
                "complete" === document.readyState
                  ? this._runFeatures(
                      this._features.getDefaultFeatures(),
                      this._frameRelatedDefaultFeatures
                    )
                  : window.addEventListener(
                      "load",
                      function () {
                        t._runFeatures(
                          t._features.getDefaultFeatures(),
                          t._frameRelatedDefaultFeatures
                        );
                      },
                      { once: !0 }
                    );
            },
          },
          {
            key: "stopDefault",
            value: function () {
              _t.info("Stopping default features"),
                this._stopFeatures(
                  this._features.getDefaultFeatures(),
                  this._frameRelatedDefaultFeatures
                );
            },
          },
          {
            key: "runPerSessionFeatures",
            value: function () {
              _t.info("Running per session features"),
                this._configurationRepository.isConfigurationUpdatedFromServer()
                  ? this._startFeatures(this._features.getPerSessionFeatures())
                  : _t.info(
                      "We didn't receive configurations from the server yet. Skipping per session features start until configuration arrives."
                    );
            },
          },
          {
            key: "stopPerSessionFeatures",
            value: function () {
              _t.info("Stopping per session features"),
                this._stopFeatures(this._features.getPerSessionFeatures());
            },
          },
          {
            key: "runNonDefault",
            value: function () {
              _t.info("Running non default features"),
                this._configurationRepository.isConfigurationUpdatedFromServer()
                  ? this._runFeatures(
                      this._features.getNonDefaultFeatures(),
                      this._frameRelatedNonDefaultFeatures
                    )
                  : _t.info(
                      "We didn't receive configurations from the server yet. Skipping non default features start until configuration arrives."
                    );
            },
          },
          {
            key: "stopNonDefault",
            value: function () {
              _t.info("Stopping non default features"),
                this._stopFeatures(
                  this._features.getNonDefaultFeatures(),
                  this._frameRelatedNonDefaultFeatures
                );
            },
          },
          {
            key: "runPerContextFeatures",
            value: function (t) {
              _t.info("Running per context features"),
                this._configurationRepository.isConfigurationUpdatedFromServer()
                  ? (this._runFeatures(this._features.getPerContextFeatures()),
                    "cd_auto" !== t.name &&
                      this._frameRelatedDefaultFeatures &&
                      this._frameHandler.startFeatures(
                        this._frameRelatedDefaultFeatures
                      ))
                  : _t.info(
                      "We didn't receive configurations from the server yet. Skipping per context features start until configuration arrives."
                    );
            },
          },
          {
            key: "stopPerContextFeatures",
            value: function () {
              _t.info("Stopping per context features"),
                this._stopFeatures(this._features.getPerContextFeatures());
            },
          },
          {
            key: "stopAllFeatures",
            value: function () {
              _t.info("Stopping all features"),
                this.stopDefault(),
                this.stopNonDefault(),
                this.stopPerSessionFeatures(),
                this.stopPerContextFeatures();
            },
          },
          {
            key: "updateRunByConfig",
            value: function (t) {
              _t.info("Updating features configuration"),
                this._updateFeatures(this._features.getDefaultFeatures(), t),
                this._updateFeatures(this._features.getNonDefaultFeatures(), t),
                this._updateFeatures(this._features.getPerContextFeatures(), t);
            },
          },
          {
            key: "runFeaturesOnBrowserContext",
            value: function (t) {
              var e = this,
                n = this._features.getDefaultFeatures();
              n &&
                (this._browserContextsCache.unRegisterContextFeatures(
                  t.Context,
                  n
                ),
                Object.keys(n).forEach(function (r) {
                  var o = n[r];
                  o.shouldRun &&
                    o.isFrameRelated &&
                    ((o.isRunning = !0),
                    o.instance &&
                      e.callMethod.call(
                        o.instance.startFeature,
                        o.instance,
                        t
                      ));
                }));
            },
          },
          {
            key: "stopFeaturesOnBrowserContextRemove",
            value: function (t) {
              var e = this,
                n = this._features.getDefaultFeatures();
              n &&
                (this._browserContextsCache.unRegisterContextFeatures(
                  t.Context,
                  n
                ),
                Object.keys(n).forEach(function (r) {
                  var o = n[r];
                  o.shouldRun &&
                    o.isFrameRelated &&
                    o.isRunning &&
                    o.instance &&
                    e.callMethod.call(o.instance.stopFeature, o.instance, t);
                }));
            },
          },
          {
            key: "_runFeatures",
            value: function (t, e) {
              var n = this;
              t &&
                Object.keys(t).forEach(function (e) {
                  var r = t[e];
                  r.shouldRun &&
                    (n.callMethod.call(
                      r.instance.startFeature,
                      r.instance,
                      new Hi(window.self, n._domUtils)
                    ),
                    (r.isRunning = !0));
                }),
                e &&
                  (this._frameHandler.startFeatures(e),
                  this._domUtils.onPageLoad(window, function () {
                    n._frameHandler.startFeatures(e);
                  }));
            },
          },
          {
            key: "_stopFeatures",
            value: function (t, e) {
              var n = this;
              t &&
                Object.keys(t).forEach(function (e) {
                  var r = t[e];
                  r.instance.stopFeature &&
                    n.callMethod.call(
                      r.instance.stopFeature,
                      r.instance,
                      new Hi(window.self, n._domUtils)
                    ),
                    (r.isRunning = !1);
                }),
                e && this._frameHandler.stopFeatures(e);
            },
          },
          {
            key: "_actOnFeature",
            value: function (t, e) {
              t.isFrameRelated && this._frameHandler[e](t),
                t.instance[e] &&
                  this.callMethod.call(
                    t.instance[e],
                    t.instance,
                    new Hi(window.self, this._domUtils)
                  );
            },
          },
          {
            key: "_startFeatures",
            value: function (t) {
              var e = this;
              t &&
                Object.keys(t).forEach(function (n) {
                  var r = t[n],
                    o = e._configurationRepository.get(r.configKey);
                  "boolean" == typeof o && (r.shouldRun = o),
                    r.shouldRun &&
                      (e._actOnFeature(r, "startFeature"), (r.isRunning = !0));
                });
            },
          },
          {
            key: "_startFeatureOnBrowserContexts",
            value: function (t) {
              var e = this;
              t.isFrameRelated &&
                this._browserContextsCache.browserContexts.forEach(function (
                  n
                ) {
                  t.shouldRun &&
                    !e._browserContextsCache.hasFeature(n.Context, t) &&
                    (e._browserContextsCache.registerContextFeature(
                      n.Context,
                      t
                    ),
                    e.callMethod.call(t.instance.startFeature, t.instance, n),
                    (t.isRunning = !0));
                });
            },
          },
          {
            key: "_stopFeatureOnBrowserContexts",
            value: function (t) {
              var e = this;
              t.isFrameRelated &&
                this._browserContextsCache.browserContexts.forEach(function (
                  n
                ) {
                  e._browserContextsCache.hasFeature(n.Context, t) &&
                    e.callMethod.call(t.instance.stopFeature, t.instance, n),
                    (t.isRunning = !1),
                    e._browserContextsCache.exists(n.Context) &&
                      e._browserContextsCache.unRegisterContextFeature(
                        n.Context,
                        t
                      ),
                    e._browserContextsCache.remove(n.Context);
                });
            },
          },
          {
            key: "_updateFeatureConfigOnBrowserContexts",
            value: function (t) {
              var e = this;
              t.isFrameRelated &&
                this._browserContextsCache.browserContexts.forEach(function (
                  n
                ) {
                  e._browserContextsCache.hasFeature(n.Context, t) &&
                    e.callMethod.call(
                      t.instance.updateFeatureConfig,
                      t.instance,
                      n
                    );
                });
            },
          },
          {
            key: "_updateFeatures",
            value: function (t, e) {
              var n = this;
              t &&
                Object.keys(t).forEach(function (r) {
                  var o = t[r],
                    i = e.get(o.configKey);
                  "boolean" == typeof i && (o.shouldRun = i),
                    o.isRunning && !o.shouldRun
                      ? (n._actOnFeature(o, "stopFeature"),
                        n._stopFeatureOnBrowserContexts(o),
                        (o.isRunning = !1))
                      : !o.isRunning &&
                        o.shouldRun &&
                        (n._actOnFeature(o, "startFeature"),
                        n._startFeatureOnBrowserContexts(o),
                        (o.isRunning = !0)),
                    o.isRunning &&
                      (n._actOnFeature(o, "updateFeatureConfig"),
                      n._updateFeatureConfigOnBrowserContexts(o));
                });
            },
          },
          {
            key: "_collectFrameRelated",
            value: function (t) {
              var e = [];
              return (
                t &&
                  Object.keys(t).forEach(function (n) {
                    var r = t[n];
                    r.isFrameRelated && e.push(r);
                  }),
                e
              );
            },
          },
        ]
      );
    })();
    function Va(t) {
      return (
        (Va =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Va(t)
      );
    }
    function Ka(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, qa(r.key), r);
      }
    }
    function qa(t) {
      var e = (function (t, e) {
        if ("object" != Va(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Va(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Va(e) ? e : e + "";
    }
    var Ja = 0,
      Xa = 1,
      Ya = (function () {
        return (function (t, e, n) {
          return (
            e && Ka(t.prototype, e),
            n && Ka(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t(e, n, r, o, i) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (this._featureMgr = e),
              (this._dataQ = r),
              (this._configurationRepository = n),
              (this._pauseResumeEnabled = n.get(w.stateChangeEnabled) || !1),
              (this._sdkState = Ja),
              (this._stateService = o),
              (this._workerComm = i);
          },
          [
            {
              key: "onResume",
              value: function () {
                this._sdkState === Xa
                  ? (_t.info("Resuming JS SDK"),
                    this._featureMgr.updateRunByConfig(
                      this._configurationRepository
                    ),
                    (this._sdkState = Ja),
                    this._stateService.updateState(ke.started))
                  : _t.warn(
                      "PauseResumeManager:onResume - resume api called when SDK already running"
                    );
              },
            },
            {
              key: "onPause",
              value: function () {
                this._sdkState === Ja
                  ? (_t.info("Pausing JS SDK"),
                    this._featureMgr.stopAllFeatures(),
                    (this._sdkState = Xa),
                    this._stateService.updateState(ke.paused))
                  : _t.warn("Pause api called when SDK already paused");
              },
            },
            {
              key: "onStateChange",
              value: function (t) {
                t.toState &&
                  this._verifyApiAllowed(t.toState) &&
                  ("pause" === t.toState
                    ? (this.onPause(), this.updateSDKStateToWorker(Xa))
                    : "run" === t.toState
                    ? (this.onResume(), this.updateSDKStateToWorker(Ja))
                    : _t.warn(
                        "stateChange api called with non valid toState: " +
                          t.toState
                      ));
              },
            },
            {
              key: "updateSDKStateToWorker",
              value: function (t) {
                var e = { SDK_state: t };
                this._workerComm.sendAsync(Se, e);
              },
            },
            {
              key: "isCustomerApiEnabled",
              value: function () {
                return this._sdkState === Ja;
              },
            },
            {
              key: "_verifyApiAllowed",
              value: function (t) {
                return (
                  !!this._pauseResumeEnabled ||
                  (this._dataQ.addToQueue("forbidden_api_call", [null, t]), !1)
                );
              },
            },
            {
              key: "onConfigUpdate",
              value: function () {
                (this._pauseResumeEnabled =
                  this._configurationRepository.get(w.stateChangeEnabled) ||
                  !1),
                  !1 === this._configurationRepository.get("isEnabled") &&
                    this.onPause();
              },
            },
          ]
        );
      })(),
      Za = "ContextChange",
      $a = "ResetSession",
      tu = "cdCustomerMetadata",
      eu = "cdChangeState",
      nu = "cdSetCsid",
      ru = "cdSetPsid",
      ou = "cdSetCustomerBrand";
    function iu(t) {
      return (
        (iu =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        iu(t)
      );
    }
    function au(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, uu(r.key), r);
      }
    }
    function uu(t) {
      var e = (function (t, e) {
        if ("object" != iu(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != iu(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == iu(e) ? e : e + "";
    }
    var su = (function () {
      return (function (t, e, n) {
        return (
          e && au(t.prototype, e),
          n && au(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n, r, o) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._pauseResumeMgr = e),
            (this._messageBus = n),
            (this._cdApiFacade = r),
            (this._utils = o),
            this._createCommandToBusMessageMapping();
        },
        [
          {
            key: "enableApi",
            value: function () {
              _t.info("Enabling api calls"),
                (this._onApiMessageBinded = this._onApiMessage.bind(this)),
                this._utils.addEventListener(
                  window,
                  "message",
                  this._onApiMessageBinded,
                  !0
                );
            },
          },
          {
            key: "disableApi",
            value: function () {
              _t.info("Disabling api calls"),
                this._utils.removeEventListener(
                  window,
                  "message",
                  this._onApiMessageBinded,
                  !0
                );
            },
          },
          {
            key: "getCustomerSessionID",
            value: function (t) {
              this._cdApiFacade.getCustomerSessionID(function (e) {
                t(e);
              });
            },
          },
          {
            key: "getLogServerAddress",
            value: function (t) {
              this._cdApiFacade.getLogServerAddress(function (e) {
                t(e);
              });
            },
          },
          {
            key: "getServerAddress",
            value: function (t) {
              this._cdApiFacade.getServerAddress(function (e) {
                t(e);
              });
            },
          },
          {
            key: "getConfigurations",
            value: function (t) {
              this._cdApiFacade.getConfigurations(function (e) {
                t(e);
              });
            },
          },
          {
            key: "notifySessionReset",
            value: function (t) {
              this._pauseResumeMgr.isCustomerApiEnabled() &&
                window.postMessage(
                  { type: "SNumNotification", cdSNum: t },
                  window.location.href
                );
            },
          },
          {
            key: "isApiAvailable",
            value: function (t) {
              return this._cdApiFacade.isApiAvailable(t);
            },
          },
          {
            key: "_onApiMessage",
            value: function (t) {
              var e = t.data,
                n = e.type;
              if (void 0 === n)
                try {
                  n = (e = JSON.parse(e)).type;
                } catch (t) {}
              (n === eu ||
                (this._pauseResumeMgr.isCustomerApiEnabled() &&
                  this._apiCommandToBusMessageMapping[n])) &&
                (t.preventDefault && t.preventDefault(),
                t.stopPropagation && t.stopPropagation(),
                this._messageBus.publish(
                  this._apiCommandToBusMessageMapping[n],
                  e
                ));
            },
          },
          {
            key: "_createCommandToBusMessageMapping",
            value: function () {
              (this._apiCommandToBusMessageMapping = {}),
                (this._apiCommandToBusMessageMapping[Za] = mr),
                (this._apiCommandToBusMessageMapping[$a] = vr),
                (this._apiCommandToBusMessageMapping[tu] = br),
                (this._apiCommandToBusMessageMapping[eu] = gr),
                (this._apiCommandToBusMessageMapping[nu] = _r),
                (this._apiCommandToBusMessageMapping[ru] = wr),
                (this._apiCommandToBusMessageMapping[ou] = Sr);
            },
          },
        ]
      );
    })();
    function cu(t) {
      return (
        (cu =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        cu(t)
      );
    }
    function lu(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, fu(r.key), r);
      }
    }
    function fu(t) {
      var e = (function (t, e) {
        if ("object" != cu(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != cu(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == cu(e) ? e : e + "";
    }
    var pu = (function () {
      return (function (t, e, n) {
        return (
          e && lu(t.prototype, e),
          n && lu(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n, r, o) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this.muid = null),
            (this._utils = e),
            (this._storageUtilsWrapper = r),
            (this._dataQ = n),
            (this._configurationRepository = o),
            (this.EXPIRATION = e.minutesToMilliseconds(525600));
        },
        [
          {
            key: "initMuid",
            value: function () {
              var t = this._storageUtilsWrapper.getCookie("bmuid"),
                e = this._storageUtilsWrapper.getFromLocalStorage("bmuid");
              (this.muid = t || e),
                (this.muid = this._utils.StorageUtils.validateBcId(this.muid)),
                this.muid ||
                  ((this.muid =
                    this._utils.dateNow() +
                    "-" +
                    this._utils.generateUUID().toUpperCase()),
                  _t.info("Generated a new muid: ".concat(this.muid))),
                this._saveAndSendMuid(),
                _t.info("Muid is: ".concat(this.muid));
            },
          },
          {
            key: "updateMuid",
            value: function (t) {
              t
                ? ((this.muid = t),
                  (this.muid = this._utils.StorageUtils.validateBcId(
                    this.muid
                  )),
                  this.muid
                    ? (this._saveAndSendMuid(),
                      _t.info("Restored MUID is: ".concat(this.muid)))
                    : _t.warn("Invalid format of restored MUID"))
                : _t.warn("MUID is not defined");
            },
          },
          {
            key: "_saveAndSendMuid",
            value: function () {
              this._setStorageAndCookieKey(), this._addMuidToQueue();
            },
          },
          {
            key: "_setStorageAndCookieKey",
            value: function () {
              this._storageUtilsWrapper.setCookie(
                "bmuid",
                this.muid,
                this.EXPIRATION
              ),
                this._storageUtilsWrapper.saveToLocalStorage(
                  "bmuid",
                  this.muid
                );
            },
          },
          {
            key: "_addMuidToQueue",
            value: function () {
              this._dataQ.addToQueue("static_fields", ["muid", this.muid], !1);
            },
          },
        ]
      );
    })();
    function hu(t) {
      return (
        (hu =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        hu(t)
      );
    }
    function du(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, yu(r.key), r);
      }
    }
    function yu(t) {
      var e = (function (t, e) {
        if ("object" != hu(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != hu(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == hu(e) ? e : e + "";
    }
    var mu = (function () {
      return (function (t, e, n) {
        return (
          e && du(t.prototype, e),
          n && du(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t() {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._psid = null);
        },
        [
          {
            key: "get",
            value: function () {
              return this._psid;
            },
          },
          {
            key: "set",
            value: function (t) {
              if (void 0 === t)
                throw new Error("Invalid psid value of undefined");
              this._psid = t;
            },
          },
        ]
      );
    })();
    function vu(t) {
      return (
        (vu =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        vu(t)
      );
    }
    function bu(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, gu(r.key), r);
      }
    }
    function gu(t) {
      var e = (function (t, e) {
        if ("object" != vu(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != vu(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == vu(e) ? e : e + "";
    }
    var _u = (function () {
      return (function (t, e, n) {
        return (
          e && bu(t.prototype, e),
          n && bu(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._psidCache = e),
            (this._workerCommunicator = n);
        },
        [
          {
            key: "set",
            value: function (t) {
              if (void 0 === t)
                throw new Error("Invalid psid value of undefined");
              this._psidCache.set(t),
                this._workerCommunicator.sendAsync(he, { psid: t });
            },
          },
        ]
      );
    })();
    function wu(t) {
      return (
        (wu =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        wu(t)
      );
    }
    function Su(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Eu(r.key), r);
      }
    }
    function Eu(t) {
      var e = (function (t, e) {
        if ("object" != wu(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != wu(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == wu(e) ? e : e + "";
    }
    var ku = (function () {
      return (function (t, e, n) {
        return (
          e && Su(t.prototype, e),
          n && Su(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n, r) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this.sidKey = "cdSNum"),
            (this._utils = e),
            (this._storageUtilsWrapper = n),
            (this.COOKIE_EXPIRATION_IN_MILLISECONDS =
              this.getExpirationTime(r));
        },
        [
          {
            key: "onConfigUpdate",
            value: function (t) {
              var e = this.getExpirationTime(t);
              this._setExpirationTime(e) &&
                (this.COOKIE_EXPIRATION_IN_MILLISECONDS = e);
            },
          },
          {
            key: "getExpirationTime",
            value: function (t) {
              var e = t.get(w.cdsNumExpirationTime);
              return this._utils.minutesToMilliseconds(
                this._validateCDSNumExpirationTime(e)
              );
            },
          },
          {
            key: "_validateCDSNumExpirationTime",
            value: function (t) {
              return t < Jt || t > Xt ? qt : t;
            },
          },
          {
            key: "_setExpirationTime",
            value: function (t) {
              return this._storageUtilsWrapper.setExpirationInCookie(
                this.sidKey,
                t
              ) === $t
                ? (_t.warn(
                    "Failed set expiration time ".concat(t, " in cookie.")
                  ),
                  !1)
                : this._storageUtilsWrapper.setExpirationInLocalStorage(
                    this.sidKey,
                    t
                  ) !== $t ||
                    (_t.warn(
                      "Failed set expiration time ".concat(
                        t,
                        " in local storage."
                      )
                    ),
                    this._storageUtilsWrapper.setExpirationInCookie(
                      this.sidKey,
                      this._utils.minutesToMilliseconds(qt)
                    ),
                    !1);
            },
          },
          {
            key: "get",
            value: function () {
              var t = this._storageUtilsWrapper.getCookie(this.sidKey),
                e = this._validateSid(t);
              if (!e) {
                _t.info(
                  "Sid was not found in cookie. Trying to get it from the local storage."
                );
                var n = this._storageUtilsWrapper.getFromLocalStorage(
                  this.sidKey
                );
                if (!(e = this._validateSid(n)))
                  return _t.info("Sid was not found in local storage."), null;
              }
              return e;
            },
          },
          {
            key: "set",
            value: function (t) {
              var e = t;
              (e = this._validateSid(e))
                ? (this._storageUtilsWrapper.saveToLocalStorage(
                    this.sidKey,
                    e,
                    this.COOKIE_EXPIRATION_IN_MILLISECONDS
                  ) ||
                    _t.error(
                      "Failed saving sid ".concat(t, " to local storage.")
                    ),
                  this._storageUtilsWrapper.setCookie(
                    this.sidKey,
                    e,
                    this.COOKIE_EXPIRATION_IN_MILLISECONDS
                  ) || _t.error("Failed saving sid ".concat(t, " to cookie.")))
                : _t.error("Sid ".concat(t, " is invalid. Will not save it."));
            },
          },
          {
            key: "_validateSid",
            value: function (t) {
              return t || null;
            },
          },
        ]
      );
    })();
    function Tu(t) {
      return (
        (Tu =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Tu(t)
      );
    }
    function Pu(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Ou(r.key), r);
      }
    }
    function Ou(t) {
      var e = (function (t, e) {
        if ("object" != Tu(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Tu(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Tu(e) ? e : e + "";
    }
    var Cu = (function () {
      return (function (t, e, n) {
        return (
          e && Pu(t.prototype, e),
          n && Pu(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t() {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._csid = null);
        },
        [
          {
            key: "get",
            value: function () {
              return this._csid;
            },
          },
          {
            key: "set",
            value: function (t) {
              if (void 0 === t)
                throw new Error("Invalid csid value of undefined");
              this._csid = t;
            },
          },
        ]
      );
    })();
    function ju(t) {
      return (
        (ju =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        ju(t)
      );
    }
    function Mu(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Ru(r.key), r);
      }
    }
    function Ru(t) {
      var e = (function (t, e) {
        if ("object" != ju(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != ju(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == ju(e) ? e : e + "";
    }
    var Bu = (function () {
        return (function (t, e, n) {
          return (
            e && Mu(t.prototype, e),
            n && Mu(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t(e, n, r) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (this._customerApi = e),
              (this._csidCache = n),
              (this._workerCommunicator = r);
          },
          [
            {
              key: "set",
              value: function (t) {
                if (void 0 === t)
                  throw new Error("Invalid csid value of undefined");
                this._csidCache.set(t),
                  this._workerCommunicator.sendAsync(pe, { csid: t });
              },
            },
            {
              key: "get",
              value: function (t) {
                this._customerApi.isApiAvailable("getCustomerSessionID")
                  ? this._getCsidWithRetries(0, t)
                  : _t.debug(
                      "getCustomerSessionID API is unavailable. Hopefully this is because the setCustomerSessionId API is being used"
                    );
              },
            },
            {
              key: "_getCsidWithRetries",
              value: function (t, e) {
                var n = this;
                if (t > 20 && this._customerApi.getCustomerSessionID)
                  _t.error("Failed to get csid after all retries.");
                else
                  try {
                    this._customerApi.getCustomerSessionID(function (r) {
                      r
                        ? (_t.debug(
                            "Got csid after "
                              .concat(t, " retries. csid: ")
                              .concat(r)
                          ),
                          n._csidCache.set(r),
                          e())
                        : setTimeout(
                            n._getCsidWithRetries.bind(n, t + 1, e),
                            200
                          );
                    });
                  } catch (n) {
                    setTimeout(
                      this._getCsidWithRetries.bind(this, t + 1, e),
                      200
                    );
                  }
              },
            },
          ]
        );
      })(),
      Au = {
        none: "none",
        init: "init",
        configuration: "config",
        configurationFromSlave: "configFromSlave",
        customerApi: "customerApi",
        pageTimeout: "timeout",
        unknown: "unknown",
      };
    function xu(t) {
      return (
        (xu =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        xu(t)
      );
    }
    function Du(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Lu(r.key), r);
      }
    }
    function Lu(t) {
      var e = (function (t, e) {
        if ("object" != xu(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != xu(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == xu(e) ? e : e + "";
    }
    var Nu = (function () {
      return (function (t, e, n) {
        return (
          e && Du(t.prototype, e),
          n && Du(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(
          e,
          n,
          r,
          o,
          i,
          a,
          u,
          s,
          c,
          l,
          f,
          p,
          h,
          d,
          y,
          m,
          v,
          b,
          g,
          _,
          S
        ) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._messageBus = e),
            (this._configurationService = n),
            (this._configurationRepository = r),
            (this._utils = o),
            (this._domUtils = i),
            (this._workerComm = a),
            (this._contextMgr = u),
            (this._muidService = s),
            (this._serverStateMgr = c),
            (this._resetSessionSiteMapper = l),
            (this._sidRepository = f),
            (this._csidService = m),
            (this._csidCache = v),
            (this._serverAddress = p.get()),
            (this._cidCache = h),
            (this._protocolType = d.get()),
            (this._minifiedWupUriEnabled = y),
            (this._psidCache = b),
            (this._brandService = g),
            (this._agentIdService = _),
            (this._agentType = r.get(w.agentType)),
            (this._enableStartupCustomerSessionId =
              this._configurationRepository.get(
                w.enableStartupCustomerSessionId
              )),
            (this.lastExternalResetCallTime = null),
            (this.sessionId = null),
            this._resetSessionSiteMapper.updateObserver(
              this._onSiteMapperMatch.bind(this)
            ),
            (this._recoveryServerURL = S),
            a.addMessageListener(In, this._onNewSessionStartedEvent.bind(this)),
            this._setSessionStartupData();
        },
        [
          {
            key: "resumeOrStartSession",
            value: function () {
              var t =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : null,
                e = this._getSessionId();
              e ? this._resumeSession(e) : this._startNewSession(t);
            },
          },
          {
            key: "onConfigUpdate",
            value: function (t) {
              this._resetSessionSiteMapper.onConfigUpdate(t),
                this._configurationRepository.get("logAddress") &&
                  this._configurationService.updateLogUrlToWorker(
                    this.sessionId,
                    this._csidCache.get(),
                    this._workerComm
                  );
            },
          },
          {
            key: "resetSession",
            value: function (t) {
              this.onResetSession(t);
            },
          },
          {
            key: "onResetSession",
            value: function (t) {
              var e = t.resetReason ? t.resetReason : Au.unknown;
              Au.hasOwnProperty(e) || (e = Au.customerApi),
                _t.info("Received a Reset Session event, reason: ".concat(e)),
                this._utils.dateNow() - this.lastExternalResetCallTime >
                this._configurationRepository.get(w.resetSessionApiThreshold)
                  ? (this._startNewSession(null == t ? void 0 : t.csid),
                    this._configurationService.updateLogUrlToWorker(
                      this.sessionId,
                      this._csidCache.get(),
                      this._workerComm
                    ),
                    (this.lastExternalResetCallTime = this._utils.dateNow()))
                  : _t.info(
                      "Ignoring external reset session call since resetSessionApiThreshold hasn't passed"
                    );
            },
          },
          {
            key: "startNewSession",
            value: function () {
              var t =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : null;
              this._startNewSession(t);
            },
          },
          {
            key: "_startNewSession",
            value: function () {
              var t =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : null;
              _t.info(
                "Starting a new session. Previous session was ".concat(
                  this.sessionId
                )
              ),
                (this.sessionId = null),
                this._enableStartupCustomerSessionId
                  ? this._setOrFetchCsid(t)
                  : this._csidCache.set(t || null),
                this._psidCache.set(null),
                this._serverStateMgr.onSessionIdChange(),
                this._onStartedNewSession();
            },
          },
          {
            key: "_setOrFetchCsid",
            value: function (t) {
              t ? this._csidCache.set(t) : this._csidService.get();
            },
          },
          {
            key: "_resumeSession",
            value: function (t) {
              _t.info("Resuming an existing session with sid ".concat(t)),
                (this.sessionId = t),
                this._saveSidToStorage(this.sessionId),
                this._handleBrandResume(),
                this._onResumedSession(),
                this._handleCsid();
            },
          },
          {
            key: "_getSessionId",
            value: function () {
              _t.info("Attempting to get sid from storage");
              var t = this._sidRepository.get();
              return t && _t.info("Read sid ".concat(t, " from storage")), t;
            },
          },
          {
            key: "_saveSidToStorage",
            value: function (t) {
              _t.info("Saving sid ".concat(t, " to storage")),
                this._sidRepository.set(t);
            },
          },
          {
            key: "_onStartedNewSession",
            value: function () {
              var t;
              if (this._serverAddress) {
                var e = {
                  serverAddress: this._serverAddress,
                  csid: this._csidCache.get(),
                  cid: this._cidCache.get(),
                  protocolType: this._protocolType,
                  minifiedUri: this._minifiedWupUriEnabled,
                  psid: this._psidCache.get(),
                  muid:
                    null === (t = this._muidService) || void 0 === t
                      ? void 0
                      : t.muid,
                  contextName: this._contextMgr.getContextName(),
                  recoveryServerURL: this._recoveryServerURL,
                };
                this._workerComm.sendAsync(ce, e),
                  this._configurationService.updateLogUrlToWorker(
                    this.sessionId,
                    this._csidCache.get(),
                    this._workerComm
                  );
              }
            },
          },
          {
            key: "_onResumedSession",
            value: function () {
              var t;
              if (this._serverAddress) {
                var e = this._serverStateMgr.getServerState(this.sessionId),
                  n = {
                    serverAddress: this._serverAddress,
                    csid: this._csidCache.get(),
                    cid: this._cidCache.get(),
                    protocolType: this._protocolType,
                    minifiedUri: this._minifiedWupUriEnabled,
                    psid: this._psidCache.get(),
                    cdsnum: this.sessionId,
                    muid:
                      null === (t = this._muidService) || void 0 === t
                        ? void 0
                        : t.muid,
                    contextName: this._contextMgr.getContextName(),
                    serverState: e,
                    recoveryServerURL: this._recoveryServerURL,
                  };
                this._workerComm.sendAsync(le, n),
                  this._configurationService.updateLogUrlToWorker(
                    this.sessionId,
                    this._csidCache.get(),
                    this._workerComm
                  );
              }
            },
          },
          {
            key: "_handleCsid",
            value: function () {
              var t = this;
              this._domUtils.onDocumentBody(self, function () {
                _t.debug(
                  "SessionService:_sessionIdRegeneration, onDocumentBody callback: cdSNum: ".concat(
                    t.sessionId
                  )
                ),
                  t._csidService.get(function () {
                    _t.info(
                      "Received csid from client. csid: "
                        .concat(t._csidCache.get(), ", sid:")
                        .concat(null == t ? void 0 : t.sessionId)
                    ),
                      t._sendCsidToServer();
                  });
              });
            },
          },
          {
            key: "_sendCsidToServer",
            value: function () {
              this._serverAddress &&
                (_t.info(
                  "Sending csid to worker. csid: "
                    .concat(this._csidCache.get(), ", sid:")
                    .concat(this.sessionId)
                ),
                this._workerComm.sendAsync(pe, { csid: this._csidCache.get() }),
                this._configurationService.updateLogUrlToWorker(
                  this.sessionId,
                  this._csidCache.get(),
                  this._workerComm
                ));
            },
          },
          {
            key: "_handleBrandResume",
            value: function () {
              this._brandService.update();
            },
          },
          {
            key: "_onSiteMapperMatch",
            value: function () {
              this.onResetSession({ resetReason: Au.configuration });
            },
          },
          {
            key: "_onNewSessionStartedEvent",
            value: function (t) {
              (this.sessionId = t),
                this._saveSidToStorage(this.sessionId),
                this._configurationService.updateLogUrlToWorker(
                  this.sessionId,
                  this._csidCache.get(),
                  this._workerComm
                ),
                this._notifyNewSessionStarted(),
                this._agentType !== ct.SECONDARY && this._handleCsid(),
                _t.info("A new session ".concat(t, " has started"));
            },
          },
          {
            key: "_notifyNewSessionStarted",
            value: function () {
              this._messageBus.publish(yr, this.sessionId);
            },
          },
          {
            key: "_setSessionStartupData",
            value: function () {
              this._workerComm.sendAsync(ge, {
                agentType: this._configurationRepository.get(w.agentType),
              }),
                this._agentIdService.updateAgentIdWithServer();
            },
          },
        ]
      );
    })();
    function Iu(t) {
      return (
        (Iu =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Iu(t)
      );
    }
    function Fu(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Uu(r.key), r);
      }
    }
    function Uu(t) {
      var e = (function (t, e) {
        if ("object" != Iu(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Iu(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Iu(e) ? e : e + "";
    }
    var Wu = (function () {
        return (function (t, e, n) {
          return (
            e && Fu(t.prototype, e),
            n && Fu(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t(e, n) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (function (t, e, n) {
                (e = Uu(e)) in t
                  ? Object.defineProperty(t, e, {
                      value: n,
                      enumerable: !0,
                      configurable: !0,
                      writable: !0,
                    })
                  : (t[e] = n);
              })(this, "_dataQ", void 0),
              (this._configurationRepository = e),
              (this._dataQ = n),
              (this._isEnabled =
                this._configurationRepository.get("isCustMetadata"));
          },
          [
            {
              key: "onCustomerMetadata",
              value: function (t) {
                (void 0 !== this._isEnabled &&
                  null != this._isEnabled &&
                  !0 !== this._isEnabled) ||
                  (_t.debug(
                    "HandleMetadata:onCustomerMetadata. data=" +
                      JSON.stringify(t.data)
                  ),
                  t.data &&
                    this._dataQ.addToQueue("customer_metadata", [
                      null,
                      t.data,
                    ]));
              },
            },
            {
              key: "onConfigUpdate",
              value: function () {
                this._isEnabled =
                  this._configurationRepository.get("isCustMetadata");
              },
            },
          ]
        );
      })(),
      Gu = "setupPort",
      Hu = "updateSlaveConf",
      Qu = "updateSlaveState";
    function zu(t) {
      return (
        (zu =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        zu(t)
      );
    }
    function Vu(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Ku(r.key), r);
      }
    }
    function Ku(t) {
      var e = (function (t, e) {
        if ("object" != zu(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != zu(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == zu(e) ? e : e + "";
    }
    var qu = (function () {
      return (function (t, e, n) {
        return (
          e && Vu(t.prototype, e),
          n && Vu(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n, r, o, i, a) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._slaves = []),
            (this._dataQ = e),
            (this._configurationRepository = n),
            (this._utils = r),
            (this._logPerfDataQ = o),
            (this._contextMgr = i),
            (this._sessionService = a),
            (this.onResetSessionTrigger = new _n()),
            (this.onMouseChallengeTrigger = new _n()),
            (this._msgRouter = {
              dataFromSlave: this._onDataFromSlave,
              registerSlave: this._onRegisterSlave,
              logPerfSlave: this._onLogPerfSlave,
              updateMasterContext: this._onUpdateMasterContext,
              resetSessionTriggerFromSlave:
                this._onResetSessionTriggerFromSlave,
              mouseChallengeTriggerFromSlave:
                this._onMouseChallengeTriggerFromSlave,
              updateSlaveConf: this.onConfigUpdate,
            });
        },
        [
          {
            key: "listen",
            value: function () {
              var t = this;
              _t.debug("SlaveListener:listen"),
                this._utils.addEventListener(window, "message", function (e) {
                  var n = e.data.msgType;
                  n && t._msgRouter[n] && t._msgRouter[n].call(t, e);
                });
            },
          },
          {
            key: "sendToSlaves",
            value: function (t, e) {
              _t.debug("SlaveListener:sendToSlaves"),
                this._slaves.forEach(function (n) {
                  n.port
                    ? n.port.postMessage({ msgType: t, data: e })
                    : n.source.postMessage({ msgType: t, data: e }, n.origin);
                });
            },
          },
          {
            key: "onConfigUpdate",
            value: function () {
              _t.debug(
                "SlaveListener:onConfigUpdate, updating ".concat(
                  this._slaves.length,
                  " slaves"
                )
              ),
                this.sendToSlaves(Hu, this._configurationRepository.getAll());
            },
          },
          {
            key: "notifyStateChange",
            value: function (t) {
              _t.info(
                "SlaveListener:notifyStateChange, updating "
                  .concat(this._slaves.length, " slaves that the new state is ")
                  .concat(t.toState)
              ),
                this.sendToSlaves(Qu, t);
            },
          },
          {
            key: "_onDataFromSlave",
            value: function (t) {
              var e = t.data;
              "flushData" !== e.data.eventName &&
                (this._isScriptVersionMessage(e)
                  ? e.data.eventName &&
                    this._dataQ.addToQueue(e.data.eventName, e.data.data, !1)
                  : e.data.eventName &&
                    this._dataQ.addToQueue(e.data.eventName, e.data.data));
            },
          },
          {
            key: "_isScriptVersionMessage",
            value: function (t) {
              return (
                "static_fields" === t.data.eventName &&
                "dataFromSlave" === t.msgType &&
                t.data &&
                t.data.data &&
                ("slave_version_client" === t.data.data[0] ||
                  "device_source" === t.data.data[0])
              );
            },
          },
          {
            key: "_onRegisterSlave",
            value: function (t) {
              var e = this;
              if (t.data.useMessageChannelForSlaveComm) {
                var n = new MessageChannel();
                this._slaves.push({
                  source: t.source,
                  origin: t.origin,
                  port: n.port1,
                }),
                  t.source.postMessage(
                    { msgType: Gu, isNative: !0 },
                    t.origin,
                    [n.port2]
                  ),
                  (n.port1.onmessage = function (t) {
                    var n = t.data.msgType;
                    n && e._msgRouter[n] && e._msgRouter[n].call(e, t);
                  });
              } else
                this._slaves.push({ source: t.source, origin: t.origin }),
                  t.source.postMessage(
                    {
                      msgType: "updateSlaveConf",
                      isNative: !0,
                      data: this._configurationRepository.getAll(),
                    },
                    t.origin
                  );
            },
          },
          {
            key: "_onLogPerfSlave",
            value: function (t) {
              var e = t.data;
              "flushData" !== e.data.eventName &&
                e.data.eventName &&
                this._logPerfDataQ.addToQueue(e.data.eventName, e.data.data);
            },
          },
          {
            key: "_onUpdateMasterContext",
            value: function (t) {
              _t.debug("SlaveListener:_onUpdateMasterContext");
              var e = t.data;
              this._contextMgr.setContext(e.data);
            },
          },
          {
            key: "_onResetSessionTriggerFromSlave",
            value: function (t) {
              _t.debug("SlaveListener:_onResetSessionTriggerFromSlave");
              var e = t.data;
              this.onResetSessionTrigger.publish(e.data);
            },
          },
          {
            key: "_onMouseChallengeTriggerFromSlave",
            value: function (t) {
              _t.debug("SlaveListener:_onMouseChallengeTriggerFromSlave");
              var e = t.data;
              this.onMouseChallengeTrigger.publish(e.data);
            },
          },
        ]
      );
    })();
    function Ju(t) {
      return (
        (Ju =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Ju(t)
      );
    }
    function Xu(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Yu(r.key), r);
      }
    }
    function Yu(t) {
      var e = (function (t, e) {
        if ("object" != Ju(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Ju(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Ju(e) ? e : e + "";
    }
    var Zu = (function () {
      return (function (t, e, n) {
        return (
          e && Xu(t.prototype, e),
          n && Xu(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(
          e,
          n,
          r,
          o,
          i,
          a,
          u,
          s,
          c,
          l,
          f,
          p,
          h,
          d,
          y,
          m,
          v,
          b,
          g,
          _,
          w
        ) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._features = e),
            (this._configurationRepository = n),
            (this._utils = r),
            (this._elements = o),
            (this._mutationObserver = i),
            (this._dataQ = a),
            (this._devDebugDataQueue = u),
            (this._sessionService = c),
            (this._muidService = l),
            (this._muidEncryptedService = f),
            (this._perfMonitor = p),
            (this._sensorDataQ = h),
            (this._msgBus = d),
            (this._cidCache = y),
            (this._sameCharService = m),
            (this._maskingService = v),
            (this._categoryService = b),
            (this._configurations = s),
            (this._wasmModuleLoader = g),
            (this._contextMgr = _),
            (this._fontTimingService = w);
        },
        [
          {
            key: "buildFeatures",
            value: function () {
              var t,
                e = this;
              (t = this._features.list) &&
                Object.keys(t).forEach(function (n) {
                  var r = t[n];
                  try {
                    r.init.apply(e);
                  } catch (e) {
                    var o = r.name || n;
                    _t.error(
                      'Failed to initialize feature "'
                        .concat(o, '": ')
                        .concat(e.message, "\nStack: ")
                        .concat(e.stack)
                    ),
                      delete t[n];
                  }
                });
            },
          },
        ]
      );
    })();
    function $u(t) {
      return (
        ($u =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        $u(t)
      );
    }
    function ts(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, es(r.key), r);
      }
    }
    function es(t) {
      var e = (function (t, e) {
        if ("object" != $u(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != $u(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == $u(e) ? e : e + "";
    }
    var ns = (function () {
      return (function (t, e, n) {
        return (
          e && ts(t.prototype, e),
          n && ts(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n) {
          var r = this;
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._contextMgr = e),
            (this._dataQ = n),
            this._contextMgr.onContextChange.subscribe(
              this.sendContextToServer.bind(this)
            ),
            "complete" === document.readyState
              ? this.handleContextChange({ context: "cd_auto" })
              : window.addEventListener(
                  "load",
                  function () {
                    r.handleContextChange({ context: "cd_auto" });
                  },
                  { once: !0 }
                );
        },
        [
          {
            key: "handleContextChange",
            value: function (t) {
              this._contextMgr.changeContext(t.context || t.activityType);
            },
          },
          {
            key: "sendContextToServer",
            value: function (t) {
              t &&
                this._dataQ.addToQueue("contextChange", [
                  null,
                  t.url,
                  t.name,
                  t.timestamp,
                  t.referrer,
                  t.hLength,
                  t.context_mapping,
                ]);
            },
          },
        ]
      );
    })();
    function rs(t) {
      return (
        (rs =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        rs(t)
      );
    }
    function os(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, is(r.key), r);
      }
    }
    function is(t) {
      var e = (function (t, e) {
        if ("object" != rs(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != rs(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == rs(e) ? e : e + "";
    }
    ns.apiName = "ContextChange";
    var as = (function () {
        return (function (t, e, n) {
          return (
            e && os(t.prototype, e),
            n && os(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (this._messageBus = e),
              (this._state = ke.stopped);
          },
          [
            {
              key: "getState",
              value: function () {
                return this._state;
              },
            },
            {
              key: "updateState",
              value: function (t) {
                var e = ke[t];
                if (!e) throw new Error("Unknown state ".concat(t));
                (this._state = e), this._messageBus.publish(kr, { state: e });
              },
            },
          ]
        );
      })(),
      us = "cdNewSessionStartedEvent",
      ss = "cdStateChangedEvent",
      cs = "cdHeartbeat",
      ls = "RestoredMuidEvent";
    function fs(t) {
      return (
        (fs =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        fs(t)
      );
    }
    function ps(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, hs(r.key), r);
      }
    }
    function hs(t) {
      var e = (function (t, e) {
        if ("object" != fs(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != fs(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == fs(e) ? e : e + "";
    }
    var ds = (function () {
      return (function (t, e, n) {
        return (
          e && ps(t.prototype, e),
          n && ps(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t() {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t);
        },
        [
          {
            key: "publishNewSessionStartedEvent",
            value: function (t) {
              window.postMessage(
                { type: us, event: { sessionID: t } },
                window.location.href
              );
            },
          },
          {
            key: "publishStateChangedEvent",
            value: function (t) {
              window.postMessage(
                { type: ss, event: { state: t } },
                window.location.href
              );
            },
          },
          {
            key: "publishRestoredMuidEvent",
            value: function (t) {
              window.postMessage(
                { type: ls, event: { muid: t } },
                window.location.href
              );
            },
          },
        ]
      );
    })();
    function ys(t) {
      return (
        (ys =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        ys(t)
      );
    }
    function ms(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, vs(r.key), r);
      }
    }
    function vs(t) {
      var e = (function (t, e) {
        if ("object" != ys(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != ys(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == ys(e) ? e : e + "";
    }
    var bs = (function () {
      return (function (t, e, n) {
        return (
          e && ms(t.prototype, e),
          n && ms(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._messageBus = e),
            (this._contextMgr = n),
            this._messageBus.subscribe(mr, this._handle.bind(this));
        },
        [
          {
            key: "_handle",
            value: function (t) {
              this._contextMgr.changeContext(t.context || t.activityType);
            },
          },
        ]
      );
    })();
    function gs(t) {
      return (
        (gs =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        gs(t)
      );
    }
    function _s(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, ws(r.key), r);
      }
    }
    function ws(t) {
      var e = (function (t, e) {
        if ("object" != gs(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != gs(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == gs(e) ? e : e + "";
    }
    var Ss = (function () {
      return (function (t, e, n) {
        return (
          e && _s(t.prototype, e),
          n && _s(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._messageBus = e),
            (this._sessionService = n),
            this._messageBus.subscribe(vr, this._handle.bind(this));
        },
        [
          {
            key: "_handle",
            value: function (t) {
              this._sessionService.onResetSession(t);
            },
          },
        ]
      );
    })();
    function Es(t) {
      return (
        (Es =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Es(t)
      );
    }
    function ks(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Ts(r.key), r);
      }
    }
    function Ts(t) {
      var e = (function (t, e) {
        if ("object" != Es(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Es(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Es(e) ? e : e + "";
    }
    var Ps = (function () {
      return (function (t, e, n) {
        return (
          e && ks(t.prototype, e),
          n && ks(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._messageBus = e),
            (this._handleMetadata = n),
            this._messageBus.subscribe(br, this._handle.bind(this));
        },
        [
          {
            key: "_handle",
            value: function (t) {
              this._handleMetadata.onCustomerMetadata(t);
            },
          },
        ]
      );
    })();
    function Os(t) {
      return (
        (Os =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Os(t)
      );
    }
    function Cs(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, js(r.key), r);
      }
    }
    function js(t) {
      var e = (function (t, e) {
        if ("object" != Os(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Os(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Os(e) ? e : e + "";
    }
    var Ms = (function () {
      return (function (t, e, n) {
        return (
          e && Cs(t.prototype, e),
          n && Cs(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n, r) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._messageBus = e),
            (this._pauseResumeManager = n),
            (this._slaveListener = r),
            this._messageBus.subscribe(gr, this._handle.bind(this));
        },
        [
          {
            key: "_handle",
            value: function (t) {
              this._pauseResumeManager.onStateChange(t),
                this._slaveListener.notifyStateChange(t);
            },
          },
        ]
      );
    })();
    function Rs(t) {
      return (
        (Rs =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Rs(t)
      );
    }
    function Bs(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, As(r.key), r);
      }
    }
    function As(t) {
      var e = (function (t, e) {
        if ("object" != Rs(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Rs(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Rs(e) ? e : e + "";
    }
    var xs = (function () {
      return (function (t, e, n) {
        return (
          e && Bs(t.prototype, e),
          n && Bs(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._messageBus = e),
            (this._csidService = n),
            this._messageBus.subscribe(_r, this._handle.bind(this));
        },
        [
          {
            key: "_handle",
            value: function (t) {
              t.csid
                ? this._csidService.set(t.csid)
                : _t.warn(
                    "Received an invalid csid of ".concat(
                      t.csid,
                      ". Ignoring api call"
                    )
                  );
            },
          },
        ]
      );
    })();
    function Ds(t) {
      return (
        (Ds =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Ds(t)
      );
    }
    function Ls(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Ns(r.key), r);
      }
    }
    function Ns(t) {
      var e = (function (t, e) {
        if ("object" != Ds(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Ds(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Ds(e) ? e : e + "";
    }
    var Is = (function () {
      return (function (t, e, n) {
        return (
          e && Ls(t.prototype, e),
          n && Ls(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._messageBus = e),
            (this._psidService = n),
            this._messageBus.subscribe(wr, this._handle.bind(this));
        },
        [
          {
            key: "_handle",
            value: function (t) {
              t.psid
                ? this._psidService.set(t.psid)
                : _t.warn(
                    "Received an invalid psid of ".concat(
                      t.psid,
                      ". Ignoring api call"
                    )
                  );
            },
          },
        ]
      );
    })();
    function Fs(t) {
      return (
        (Fs =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Fs(t)
      );
    }
    function Us(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Ws(r.key), r);
      }
    }
    function Ws(t) {
      var e = (function (t, e) {
        if ("object" != Fs(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Fs(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Fs(e) ? e : e + "";
    }
    var Gs = (function () {
      return (function (t, e, n) {
        return (
          e && Us(t.prototype, e),
          n && Us(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n, r, o, i, a) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._messageBus = e),
            (this._featureService = n),
            (this._customerApiBridge = r),
            (this._contextMgr = o),
            (this._clientEventService = i),
            (this._sessionInfoService = a),
            this._messageBus.subscribe(yr, this._handle.bind(this));
        },
        [
          {
            key: "_handle",
            value: function (t) {
              this._sessionInfoService.markStartTime(),
                this._featureService.runPerSessionFeatures(),
                this._customerApiBridge.notifySessionReset(t),
                this._contextMgr.onSessionReset(),
                this._clientEventService.publishNewSessionStartedEvent(t);
            },
          },
        ]
      );
    })();
    function Hs(t) {
      return (
        (Hs =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Hs(t)
      );
    }
    function Qs(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, zs(r.key), r);
      }
    }
    function zs(t) {
      var e = (function (t, e) {
        if ("object" != Hs(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Hs(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Hs(e) ? e : e + "";
    }
    var Vs = (function () {
      return (function (t, e, n) {
        return (
          e && Qs(t.prototype, e),
          n && Qs(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n, r, o, i, a, u, s, c, l, f, p, h, d, y, m) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._messageBus = e),
            (this._featureService = n),
            (this._dataQ = r),
            (this._pauseResumeMgr = o),
            (this._handleMetadata = i),
            (this._logger = a),
            (this._contextMgr = u),
            (this._sessionService = s),
            (this._sensorDataQ = c),
            (this._slaveListener = l),
            (this._stateService = f),
            (this._performanceMonitor = p),
            (this._heartBeatMessageService = h),
            (this._sensorGateKeeper = d),
            (this._sidRepository = y),
            (this._coordinatesMaskingConfigurationUpdater = m),
            this._messageBus.subscribe(dr, this._handle.bind(this));
        },
        [
          {
            key: "_handle",
            value: function (t) {
              _t.info("Configurations were loaded from the server."),
                this._performanceMonitor.stopMonitor("t.timeTillServerConfig"),
                this._featureService.updateRunByConfig(t),
                this._dataQ.updateWithConfig(t),
                this._pauseResumeMgr.onConfigUpdate(t),
                this._handleMetadata.onConfigUpdate(t),
                this._logger.updateLogConfig(t),
                this._contextMgr.onConfigUpdate(t),
                this._sessionService.onConfigUpdate(t),
                this._sensorDataQ.onConfigUpdate(t),
                this._slaveListener.onConfigUpdate(t),
                this._heartBeatMessageService.updateConfig(t),
                this._sensorGateKeeper.configure(),
                this._sidRepository.onConfigUpdate(t),
                this._coordinatesMaskingConfigurationUpdater.onConfigUpdate(t),
                this._stateService.updateState(ke.started),
                _t.info("Successfully configured system");
            },
          },
        ]
      );
    })();
    function Ks(t) {
      return (
        (Ks =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Ks(t)
      );
    }
    function qs(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Js(r.key), r);
      }
    }
    function Js(t) {
      var e = (function (t, e) {
        if ("object" != Ks(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Ks(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Ks(e) ? e : e + "";
    }
    var Xs = (function () {
      return (function (t, e, n) {
        return (
          e && qs(t.prototype, e),
          n && qs(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._messageBus = e),
            (this._clientEventService = n),
            this._messageBus.subscribe(kr, this._handle.bind(this));
        },
        [
          {
            key: "_handle",
            value: function (t) {
              _t.info("SDK state changed to ".concat(t.state)),
                this._clientEventService.publishStateChangedEvent(t.state);
            },
          },
        ]
      );
    })();
    function Ys(t) {
      return (
        (Ys =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Ys(t)
      );
    }
    function Zs(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, $s(r.key), r);
      }
    }
    function $s(t) {
      var e = (function (t, e) {
        if ("object" != Ys(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Ys(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Ys(e) ? e : e + "";
    }
    var tc = (function () {
      return (function (t, e, n) {
        return (
          e && Zs(t.prototype, e),
          n && Zs(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._messageBus = e),
            (this._brandService = n),
            this._messageBus.subscribe(Sr, this._handle.bind(this));
        },
        [
          {
            key: "_handle",
            value: function (t) {
              t.brand
                ? this._brandService.set(t.brand)
                : _t.warn(
                    "Received an empty brand name. Ignoring the API call"
                  );
            },
          },
        ]
      );
    })();
    function ec(t) {
      return (
        (ec =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        ec(t)
      );
    }
    function nc(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, rc(r.key), r);
      }
    }
    function rc(t) {
      var e = (function (t, e) {
        if ("object" != ec(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != ec(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == ec(e) ? e : e + "";
    }
    var oc = (function () {
      return (function (t, e, n) {
        return (
          e && nc(t.prototype, e),
          n && nc(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n, r) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (function (t, e, n) {
              (e = rc(e)) in t
                ? Object.defineProperty(t, e, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (t[e] = n);
            })(this, "_dataOrigin", "BC"),
            (this._heartBeatErrorsState = n),
            (this._heartBeatPostMessageInterval = r),
            e.addMessageListener(Wn, this._handle.bind(this));
        },
        [
          {
            key: "start",
            value: function () {
              this._clear(),
                (this._periodicPostMessageIntervalId = setInterval(
                  this._postHeartBeatMessage.bind(this),
                  this._heartBeatPostMessageInterval
                ));
            },
          },
          {
            key: "stop",
            value: function () {
              this._clear();
            },
          },
          {
            key: "updateConfig",
            value: function (t) {
              (this._heartBeatPostMessageInterval = t.get(
                w.heartBeatMessageInterval
              )),
                this.start();
            },
          },
          {
            key: "_clear",
            value: function () {
              this._periodicPostMessageIntervalId &&
                clearInterval(this._periodicPostMessageIntervalId);
            },
          },
          {
            key: "_handle",
            value: function (t) {
              this._heartBeatErrorsState.updateState(t);
            },
          },
          {
            key: "_postHeartBeatMessage",
            value: function () {
              this._heartBeatErrorsState.hasErrors()
                ? window.postMessage(
                    {
                      type: cs,
                      data: this._heartBeatErrorsState.getErrors(),
                      origin: this._dataOrigin,
                    },
                    window.location.href
                  )
                : window.postMessage(
                    { type: cs, data: "Ok", origin: this._dataOrigin },
                    window.location.href
                  );
            },
          },
        ]
      );
    })();
    var ic = "oK",
      ac = "Error";
    function uc(t) {
      return (
        (uc =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        uc(t)
      );
    }
    function sc(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, cc(r.key), r);
      }
    }
    function cc(t) {
      var e = (function (t, e) {
        if ("object" != uc(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != uc(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == uc(e) ? e : e + "";
    }
    var lc = (function () {
      return (function (t, e, n) {
        return (
          e && sc(t.prototype, e),
          n && sc(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t() {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this.errors = {});
        },
        [
          {
            key: "updateState",
            value: function (t) {
              var e = t.category,
                n = t.status;
              this._isErrorRecovery(e, n)
                ? (_t.info("Received heart beat recovery event", t),
                  delete this.errors[e])
                : this._isNewError(e, n) &&
                  (_t.info("Received heart beat error event", t),
                  (this.errors[e] = e));
            },
          },
          {
            key: "_isErrorRecovery",
            value: function (t, e) {
              return void 0 !== this.errors[t] && e === ic;
            },
          },
          {
            key: "_isNewError",
            value: function (t, e) {
              return void 0 === this.errors[t] && e === ac;
            },
          },
          {
            key: "getErrors",
            value: function () {
              var t = this;
              return Object.keys(this.errors).map(function (e) {
                return "ERROR(".concat(t.errors[e], ")");
              });
            },
          },
          {
            key: "hasErrors",
            value: function () {
              return Object.keys(this.errors).length > 0;
            },
          },
        ]
      );
    })();
    function fc(t) {
      return (
        (fc =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        fc(t)
      );
    }
    function pc(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, hc(r.key), r);
      }
    }
    function hc(t) {
      var e = (function (t, e) {
        if ("object" != fc(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != fc(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == fc(e) ? e : e + "";
    }
    var dc = (function () {
      return (function (t, e, n) {
        return (
          e && pc(t.prototype, e),
          n && pc(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t() {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            this.markStartTime();
        },
        [
          {
            key: "markStartTime",
            value: function () {
              this.startTime = se.dateNow();
            },
          },
          {
            key: "getStartTime",
            value: function () {
              return this.startTime;
            },
          },
        ]
      );
    })();
    function yc(t) {
      return (
        (yc =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        yc(t)
      );
    }
    function mc(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, vc(r.key), r);
      }
    }
    function vc(t) {
      var e = (function (t, e) {
        if ("object" != yc(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != yc(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == yc(e) ? e : e + "";
    }
    var bc = (function () {
      return (function (t, e, n) {
        return (
          e && mc(t.prototype, e),
          n && mc(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this.configurationRepository = n),
            (this.sessionInfoService = e),
            (this.isMotionOnSessionStart = this.configurationRepository.get(
              w.isMotionOnSessionStart
            )),
            (this.motionPaddingOnSessionStartMSec =
              this.configurationRepository.get(
                w.motionPaddingOnSessionStartMSec
              ));
        },
        [
          {
            key: "configure",
            value: function () {
              (this.isMotionOnSessionStart = this.configurationRepository.get(
                w.isMotionOnSessionStart
              )),
                (this.motionPaddingOnSessionStartMSec =
                  this.configurationRepository.get(
                    w.motionPaddingOnSessionStartMSec
                  )),
                this.isMotionOnSessionStart &&
                  _t.info(
                    "Motion on session start is enabled, collecting motion events for ".concat(
                      this.motionPaddingOnSessionStartMSec / 1e3,
                      " seconds."
                    )
                  );
            },
          },
          {
            key: "isOpen",
            value: function () {
              return (
                this.isMotionOnSessionStart &&
                se.dateNow() - this.motionPaddingOnSessionStartMSec <
                  this.sessionInfoService.getStartTime()
              );
            },
          },
        ]
      );
    })();
    function gc(t) {
      return (
        (gc =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        gc(t)
      );
    }
    function _c(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, wc(r.key), r);
      }
    }
    function wc(t) {
      var e = (function (t, e) {
        if ("object" != gc(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != gc(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == gc(e) ? e : e + "";
    }
    function Sc(t, e, n) {
      return (
        (e = kc(e)),
        (function (t, e) {
          if (e && ("object" == gc(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Ec()
            ? Reflect.construct(e, n || [], kc(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Ec() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Ec = function () {
        return !!t;
      })();
    }
    function kc(t) {
      return (
        (kc = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        kc(t)
      );
    }
    function Tc(t, e) {
      return (
        (Tc = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Tc(t, e)
      );
    }
    var Pc = (function (t) {
      function e() {
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          Sc(this, e, arguments)
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && Tc(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && _c(t.prototype, e),
            n && _c(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "getDocument",
            value: function () {
              return this.context.shadowRoot;
            },
          },
        ])
      );
    })(Hi);
    function Oc(t) {
      return (
        (Oc =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Oc(t)
      );
    }
    function Cc(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, jc(r.key), r);
      }
    }
    function jc(t) {
      var e = (function (t, e) {
        if ("object" != Oc(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Oc(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Oc(e) ? e : e + "";
    }
    function Mc(t, e, n) {
      return (
        (e = Bc(e)),
        (function (t, e) {
          if (e && ("object" == Oc(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Rc()
            ? Reflect.construct(e, n || [], Bc(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Rc() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Rc = function () {
        return !!t;
      })();
    }
    function Bc(t) {
      return (
        (Bc = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Bc(t)
      );
    }
    function Ac(t, e) {
      return (
        (Ac = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Ac(t, e)
      );
    }
    var xc = (function (t) {
      function e() {
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          Mc(this, e, arguments)
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && Ac(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && Cc(t.prototype, e),
            n && Cc(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "getDocument",
            value: function () {
              return this.context;
            },
          },
        ])
      );
    })(Hi);
    function Dc(t) {
      return (
        (Dc =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Dc(t)
      );
    }
    function Lc(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Nc(r.key), r);
      }
    }
    function Nc(t) {
      var e = (function (t, e) {
        if ("object" != Dc(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Dc(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Dc(e) ? e : e + "";
    }
    var Ic = (function () {
      return (function (t, e, n) {
        return (
          e && Lc(t.prototype, e),
          n && Lc(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n, r) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._windowMutationObservers = e),
            (this._messageBus = n),
            (this._configurationRepository = r),
            this._messageBus.subscribe(Yr, this._processNewContext.bind(this)),
            (this._elementsMutationObserverFactory = new Na());
        },
        [
          {
            key: "_processNewContext",
            value: function (t) {
              this.monitorWindow(t);
            },
          },
          {
            key: "monitorWindow",
            value: function (t) {
              if (!this._windowMutationObservers.has(t)) {
                var e = this._elementsMutationObserverFactory.create(
                  t,
                  self.MutationObserver,
                  this._configurationRepository
                );
                e.observe(t.getDocument()),
                  e.nodesAdded.subscribe(
                    this._nodesAddedMutationObserved.bind(this)
                  ),
                  e.nodesRemoved.subscribe(
                    this._nodesRemovedMutationObserved.bind(this)
                  ),
                  this._windowMutationObservers.set(t, e);
              }
            },
          },
          {
            key: "unMonitorWindow",
            value: function (t) {
              var e = this._windowMutationObservers.get(t);
              e &&
                (e.nodesAdded.unsubscribe(
                  this._nodesAddedMutationObserved.bind(this)
                ),
                e.nodesRemoved.unsubscribe(
                  this._nodesRemovedMutationObserved.bind(this)
                ),
                e.disconnect()),
                this._windowMutationObservers.delete(t);
            },
          },
          {
            key: "_nodesAddedMutationObserved",
            value: function (t) {
              this._messageBus.publish(Pr, t);
            },
          },
          {
            key: "_nodesRemovedMutationObserved",
            value: function (t) {
              this._messageBus.publish(Or, t);
            },
          },
        ]
      );
    })();
    function Fc(t) {
      return (
        (Fc =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Fc(t)
      );
    }
    function Uc() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          Wc(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (Wc((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), Wc(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        Wc(f, "constructor", c),
        Wc(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        Wc(c, o, "GeneratorFunction"),
        Wc(f),
        Wc(f, o, "Generator"),
        Wc(f, r, function () {
          return this;
        }),
        Wc(f, "toString", function () {
          return "[object Generator]";
        }),
        (Uc = function () {
          return { w: i, m: p };
        })()
      );
    }
    function Wc(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (Wc = function (t, e, n, r) {
        function i(e, n) {
          Wc(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        Wc(t, e, n, r);
    }
    function Gc(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function Hc(t) {
      return (
        (function (t) {
          if (Array.isArray(t)) return Qc(t);
        })(t) ||
        (function (t) {
          if (
            ("undefined" != typeof Symbol && null != t[Symbol.iterator]) ||
            null != t["@@iterator"]
          )
            return Array.from(t);
        })(t) ||
        (function (t, e) {
          if (t) {
            if ("string" == typeof t) return Qc(t, e);
            var n = {}.toString.call(t).slice(8, -1);
            return (
              "Object" === n && t.constructor && (n = t.constructor.name),
              "Map" === n || "Set" === n
                ? Array.from(t)
                : "Arguments" === n ||
                  /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                ? Qc(t, e)
                : void 0
            );
          }
        })(t) ||
        (function () {
          throw new TypeError(
            "Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
          );
        })()
      );
    }
    function Qc(t, e) {
      (null == e || e > t.length) && (e = t.length);
      for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
      return r;
    }
    function zc(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Vc(r.key), r);
      }
    }
    function Vc(t) {
      var e = (function (t, e) {
        if ("object" != Fc(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Fc(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Fc(e) ? e : e + "";
    }
    var Kc = (function () {
      return (function (t, e, n) {
        return (
          e && zc(t.prototype, e),
          n && zc(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n, r) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._domUtils = e),
            (this._messageBus = n),
            (this._loadedCustomElements = Qe()),
            (this._windowMutationObservers = Qe()),
            this._messageBus.subscribe(Pr, this._processAddedNodes.bind(this)),
            this._messageBus.subscribe(
              Or,
              this._processRemovedNodes.bind(this)
            ),
            this._messageBus.subscribe(
              Xr,
              this._processSubmittedCustomElement.bind(this)
            ),
            (this._browserContextMutationObserver = new Ic(
              this._windowMutationObservers,
              this._messageBus,
              r
            )),
            (this.customElementCache = new WeakMap());
        },
        [
          {
            key: "customElements",
            get: function () {
              var t = [];
              return (
                this._loadedCustomElements.forEach(function (e, n) {
                  t.push(n);
                }),
                t
              );
            },
          },
          {
            key: "hasCustomElement",
            value: function (t) {
              return !!this._loadedCustomElements.has(t);
            },
          },
          {
            key: "addCustomElementToLoadedList",
            value: function (t, e) {
              this._loadedCustomElements.set(t, e);
            },
          },
          {
            key: "start",
            value: function (t) {
              var e = this;
              this._browserContextMutationObserver.monitorWindow(t),
                this._findCustomElementsInBrowserContext(
                  t.getDocument(),
                  function (t) {
                    e._processNewElement(t);
                  }
                );
            },
          },
          {
            key: "stop",
            value: function () {
              (this.customElementCache = new WeakMap()),
                this._windowMutationObservers.forEach(function (t) {
                  t.disconnect();
                });
            },
          },
          {
            key: "_processSubmittedCustomElement",
            value: function (t) {
              this._loadedCustomElements.has(t) ||
                this._addCustomElement(t, new xc(t), "closed");
            },
          },
          {
            key: "_processNewElement",
            value: function (t) {
              this._loadedCustomElements.has(t) ||
                (null != t.shadowRoot
                  ? this._addCustomElement(t, new Pc(t))
                  : this._messageBus.publish(Jr, t));
            },
          },
          {
            key: "_addCustomElement",
            value: function (t, e) {
              "open" ===
                (arguments.length > 2 && void 0 !== arguments[2]
                  ? arguments[2]
                  : "open") &&
                (this._browserContextMutationObserver.monitorWindow(e),
                this._messageBus.publish(Tr, {
                  element: t,
                  browserContext: e,
                })),
                this.addCustomElementToLoadedList(t, e);
            },
          },
          {
            key: "_removeCustomElement",
            value: function (t) {
              this._browserContextMutationObserver.unMonitorWindow(
                t.shadowRoot
              ),
                this._loadedCustomElements.delete(t);
            },
          },
          {
            key: "_processAddedNodes",
            value: function (t) {
              var e = this,
                n = t.addedNodes[0].ownerDocument.querySelectorAll("*");
              Array.from(
                new Set(
                  [].concat(Hc(Array.from(t.addedNodes)), Hc(Array.from(n)))
                )
              )
                .filter(function (t) {
                  return t.nodeType === Node.ELEMENT_NODE;
                })
                .forEach(function (t) {
                  e._isCustomElement(t) &&
                    (e._processNewElement(t),
                    t.shadowRoot
                      ? e._findCustomElementsInBrowserContext(
                          t.shadowRoot,
                          function (t) {
                            e._processNewElement(t);
                          }
                        )
                      : e._messageBus.publish(Jr, t));
                });
            },
          },
          {
            key: "_processRemovedNodes",
            value: function (t) {
              for (
                var e = this, n = t.removedNodes, r = [], o = 0;
                o < n.length;
                o++
              ) {
                var i = n[o];
                i.hasChildNodes()
                  ? this._findCustomElementsInBrowserContext(i, function (t) {
                      e._removeCustomElement(t);
                    })
                  : this._isCustomElement(i) && i.shadowRoot && r.push(i);
              }
              0 !== r.length &&
                r.forEach(function (t) {
                  e._removeCustomElement(t);
                });
            },
          },
          {
            key: "_isCustomElement",
            value: function (t) {
              if (!t || "string" != typeof t.localName) return !1;
              if (this.customElementCache.has(t))
                return this.customElementCache.get(t);
              var e = t.localName.includes("-") || null != t.shadowRoot;
              return this.customElementCache.set(t, e), e;
            },
          },
          {
            key: "_findCustomElementsInBrowserContext",
            value:
              ((t = Uc().m(function t(e, n) {
                var r,
                  o,
                  i,
                  a = this;
                return Uc().w(function (t) {
                  for (;;)
                    switch (t.n) {
                      case 0:
                        if (
                          ((r = new Set()),
                          0 !== (o = e.querySelectorAll("*")).length)
                        ) {
                          t.n = 1;
                          break;
                        }
                        return t.a(2, Hc(r));
                      case 1:
                        return (
                          (i = []),
                          o.forEach(function (t) {
                            if (t.shadowRoot) {
                              var e = a._findCustomElementsInBrowserContext(
                                t.shadowRoot,
                                function (t) {
                                  n(t);
                                }
                              );
                              i.push(e);
                            } else a._messageBus.publish(Jr, t);
                            a._isCustomElement(t) && n(t);
                          }),
                          (t.n = 2),
                          Promise.all(i)
                        );
                      case 2:
                        return t.a(2);
                    }
                }, t);
              })),
              (e = function () {
                var e = this,
                  n = arguments;
                return new Promise(function (r, o) {
                  var i = t.apply(e, n);
                  function a(t) {
                    Gc(i, r, o, a, u, "next", t);
                  }
                  function u(t) {
                    Gc(i, r, o, a, u, "throw", t);
                  }
                  a(void 0);
                });
              }),
              function (t, n) {
                return e.apply(this, arguments);
              }),
          },
        ]
      );
      var t, e;
    })();
    function qc(t) {
      return (
        (qc =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        qc(t)
      );
    }
    function Jc(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Xc(r.key), r);
      }
    }
    function Xc(t) {
      var e = (function (t, e) {
        if ("object" != qc(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != qc(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == qc(e) ? e : e + "";
    }
    var Yc = (function () {
      return (function (t, e, n) {
        return (
          e && Jc(t.prototype, e),
          n && Jc(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._configurationRepository = e),
            (this._startUpConfigurations = n);
        },
        [
          {
            key: "loadStartUpConfigurations",
            value: function () {
              var t, e;
              this._setConfigurationOrDefault(
                w.logAddress,
                this._startUpConfigurations.getLogServerURL(),
                null
              ),
                this._setConfigurationOrDefault(
                  w.enableMinifiedLogUri,
                  this._startUpConfigurations.isMinifiedLogUriEnabled(),
                  !1
                ),
                this._setConfigurationOrDefault(
                  w.enableFramesProcessing,
                  this._startUpConfigurations.getEnableFramesProcessing(),
                  !0
                ),
                this._setConfigurationOrDefault(
                  w.enableCustomElementsProcessing,
                  this._startUpConfigurations.getEnableCustomElementsProcessing(),
                  !1
                ),
                this._setConfigurationOrDefault(
                  w.customElementAttribute,
                  this._startUpConfigurations
                    .getCollectionSettings()
                    .getElementSettings()
                    .getCustomElementAttribute(),
                  "data-automation-id"
                ),
                this._setConfigurationOrDefault(
                  w.enableSameSiteNoneAndSecureCookies,
                  this._startUpConfigurations.getEnableSameSiteNoneAndSecureCookies(),
                  !0
                ),
                this._setConfigurationOrDefault(
                  w.maskElementsAttributes,
                  this._startUpConfigurations
                    .getCollectionSettings()
                    .getElementSettings()
                    .getAttributesToMask(),
                  []
                ),
                this._setConfigurationOrDefault(
                  w.parentElementSelector,
                  this._startUpConfigurations
                    .getCollectionSettings()
                    .getCustomInputElementSettings()
                    .getParentElementSelector(),
                  ""
                ),
                this._setConfigurationOrDefault(
                  w.childElementWithCustomAttribute,
                  this._startUpConfigurations
                    .getCollectionSettings()
                    .getCustomInputElementSettings()
                    .getChildElementWithCustomAttribute(),
                  ""
                ),
                this._setConfigurationOrDefault(
                  w.elementDataAttribute,
                  this._startUpConfigurations
                    .getCollectionSettings()
                    .getCustomInputElementSettings()
                    .getElementDataAttribute(),
                  ""
                ),
                this._setConfigurationOrDefault(
                  w.customButtons,
                  this._startUpConfigurations
                    .getCollectionSettings()
                    .getCustomInputElementSettings()
                    .getCustomButtons(),
                  []
                ),
                this._setConfigurationOrDefault(
                  w.agentType,
                  this._startUpConfigurations
                    .getCollectionSettings()
                    .getAgentType(),
                  ct.PRIMARY
                ),
                this._setConfigurationOrDefault(
                  w.collectionMode,
                  this._startUpConfigurations
                    .getCollectionSettings()
                    .getAgentMode(),
                  lt.FULL
                ),
                this._setConfigurationOrDefault(
                  w.keyEventsMaskSpecialChars,
                  this._startUpConfigurations
                    .getCollectionSettings()
                    .getElementSettings()
                    .getKeyEventsMaskSpecialChars(),
                  !1
                ),
                this._setConfigurationOrDefault(
                  w.enableWupMessagesHashing,
                  null ===
                    (t = this._startUpConfigurations.getClientSettings()) ||
                    void 0 === t
                    ? void 0
                    : t.enableWupMessagesHashing,
                  !1
                ),
                this._setConfigurationOrDefault(
                  w.enableCoordinatesMasking,
                  null ===
                    (e = this._startUpConfigurations.getClientSettings()) ||
                    void 0 === e
                    ? void 0
                    : e.enableCoordinatesMasking,
                  !1
                ),
                this._setConfigurationOrDefault(
                  w.enableStartupCustomerSessionId,
                  this._startUpConfigurations.getEnableStartupCustomerSessionId(),
                  !1
                ),
                this._setNumberConfigurationOrDefault(
                  w.mutationMaxChunkSize,
                  this._startUpConfigurations.getMutationMaxChunkSize(),
                  0
                ),
                this._setNumberConfigurationOrDefault(
                  w.mutationChunkDelayMs,
                  this._startUpConfigurations.getMutationChunkDelayMs(),
                  100
                ),
                this._setConfigurationOrDefault(
                  w.passwordIdMaskingList,
                  this._startUpConfigurations.getPasswordIdMaskingList(),
                  []
                ),
                this._setConfigurationOrDefault(
                  w.enableUnmaskedValues,
                  this._startUpConfigurations.isUnmaskedValuesEnabled(),
                  !1
                ),
                this._setConfigurationOrDefault(
                  w.allowedUnmaskedValuesList,
                  this._startUpConfigurations.getAllowedUnmaskedValuesList(),
                  []
                ),
                this._setConfigurationOrDefault(
                  w.useLegacyZeroTimeout,
                  this._startUpConfigurations.getUseLegacyZeroTimeout(),
                  []
                ),
                this._setConfigurationOrDefault(
                  w.externalWASMModules,
                  this._startUpConfigurations.getExternalWASMModules(),
                  []
                );
            },
          },
          {
            key: "_setConfigurationOrDefault",
            value: function (t, e, n) {
              se.isUndefinedNull(e)
                ? this._configurationRepository.set(t, n)
                : this._configurationRepository.set(t, e);
            },
          },
          {
            key: "_setNumberConfigurationOrDefault",
            value: function (t, e, n) {
              se.isNumber(e)
                ? this._configurationRepository.set(t, e)
                : this._configurationRepository.set(t, n);
            },
          },
        ]
      );
    })();
    function Zc(t) {
      return (
        (Zc =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Zc(t)
      );
    }
    function $c(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, tl(r.key), r);
      }
    }
    function tl(t) {
      var e = (function (t, e) {
        if ("object" != Zc(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Zc(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Zc(e) ? e : e + "";
    }
    var el = (function () {
      return (function (t, e, n) {
        return (
          e && $c(t.prototype, e),
          n && $c(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t() {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            this.reset();
        },
        [
          {
            key: "setLogLevel",
            value: function (t) {
              this._logLevel = t;
            },
          },
          {
            key: "add",
            value: function (t) {
              var e = t.data;
              if (!e)
                throw new Error(
                  "Unable to add log message. Missing data field"
                );
              (!e.level || e.level >= this._logLevel) && this._Q.push(e);
            },
          },
          {
            key: "take",
            value: function () {
              var t = this._Q;
              return this.reset(), t;
            },
          },
          {
            key: "reset",
            value: function () {
              (this._Q = []),
                this.setLogLevel(
                  void 0 === this._logLevel ? pt : this._logLevel
                );
            },
          },
          {
            key: "isEmpty",
            value: function () {
              return 0 === this._Q.length;
            },
          },
          {
            key: "filterOutByLogLevel",
            value: function (t) {
              this._Q = this._Q.filter(function (e, n, r) {
                return e.level >= t;
              });
            },
          },
        ]
      );
    })();
    function nl(t) {
      return (
        (nl =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        nl(t)
      );
    }
    function rl(t, e) {
      var n = Object.keys(t);
      if (Object.getOwnPropertySymbols) {
        var r = Object.getOwnPropertySymbols(t);
        e &&
          (r = r.filter(function (e) {
            return Object.getOwnPropertyDescriptor(t, e).enumerable;
          })),
          n.push.apply(n, r);
      }
      return n;
    }
    function ol(t) {
      for (var e = 1; e < arguments.length; e++) {
        var n = null != arguments[e] ? arguments[e] : {};
        e % 2
          ? rl(Object(n), !0).forEach(function (e) {
              il(t, e, n[e]);
            })
          : Object.getOwnPropertyDescriptors
          ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n))
          : rl(Object(n)).forEach(function (e) {
              Object.defineProperty(
                t,
                e,
                Object.getOwnPropertyDescriptor(n, e)
              );
            });
      }
      return t;
    }
    function il(t, e, n) {
      return (
        (e = ul(e)) in t
          ? Object.defineProperty(t, e, {
              value: n,
              enumerable: !0,
              configurable: !0,
              writable: !0,
            })
          : (t[e] = n),
        t
      );
    }
    function al(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, ul(r.key), r);
      }
    }
    function ul(t) {
      var e = (function (t, e) {
        if ("object" != nl(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != nl(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == nl(e) ? e : e + "";
    }
    var sl = (function () {
      return (function (t, e, n) {
        return (
          e && al(t.prototype, e),
          n && al(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n) {
          var r =
            arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "";
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this.sn = 0),
            (this.url = n),
            (this.logAggregator = e),
            (this.msgPrefix = r);
        },
        [
          {
            key: "log",
            value: function (t, e, n) {
              this.logAggregator.add({
                eventName: "log",
                data: ol(
                  ol({ msg: this.msgPrefix + t }, n),
                  {},
                  { url: this.url, level: e, sn: this.sn++ }
                ),
              });
            },
          },
          {
            key: "setLogLevel",
            value: function (t) {
              this.logAggregator instanceof el &&
                this.logAggregator.setLogLevel(t);
            },
          },
          {
            key: "clearLogEntriesByLogLevel",
            value: function (t) {
              this.logAggregator.filterOutByLogLevel(t);
            },
          },
        ]
      );
    })();
    function cl(t) {
      return (
        (cl =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        cl(t)
      );
    }
    function ll(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, fl(r.key), r);
      }
    }
    function fl(t) {
      var e = (function (t, e) {
        if ("object" != cl(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != cl(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == cl(e) ? e : e + "";
    }
    function pl(t, e, n) {
      return (
        (e = dl(e)),
        (function (t, e) {
          if (e && ("object" == cl(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          hl()
            ? Reflect.construct(e, n || [], dl(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function hl() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (hl = function () {
        return !!t;
      })();
    }
    function dl(t) {
      return (
        (dl = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        dl(t)
      );
    }
    function yl(t, e) {
      return (
        (yl = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        yl(t, e)
      );
    }
    var ml = (function (t) {
      function e() {
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          pl(this, e, arguments)
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && yl(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && ll(t.prototype, e),
            n && ll(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "add",
            value: function (t) {
              this.addToQueue(t.eventName, t.data);
            },
          },
          {
            key: "filterOutByLogLevel",
            value: function (t) {
              this.filterOut(function (e) {
                return e.data.level >= t;
              });
            },
          },
        ])
      );
    })(rn);
    function vl(t) {
      return (
        (vl =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        vl(t)
      );
    }
    function bl(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, gl(r.key), r);
      }
    }
    function gl(t) {
      var e = (function (t, e) {
        if ("object" != vl(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != vl(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == vl(e) ? e : e + "";
    }
    var _l = (function () {
      return (function (t, e, n) {
        return (
          e && bl(t.prototype, e),
          n && bl(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n, r) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._isSecureSameSite = n.get(
              w.enableSameSiteNoneAndSecureCookies
            )),
            (this._restrictedCookieDomains = r.getRestrictedCookieDomains()),
            (this._utils = e);
        },
        [
          {
            key: "getCookie",
            value: function (t) {
              return this._utils.StorageUtils.getCookie(t);
            },
          },
          {
            key: "setCookie",
            value: function (t, e, n) {
              return this._utils.StorageUtils.setCookie(
                t,
                e,
                n,
                this._isSecureSameSite,
                this._restrictedCookieDomains
              );
            },
          },
          {
            key: "setExpirationInCookie",
            value: function (t, e) {
              return this._utils.StorageUtils.setExpirationInCookie(
                t,
                e,
                this._isSecureSameSite,
                this._restrictedCookieDomains
              );
            },
          },
          {
            key: "getFromLocalStorage",
            value: function (t) {
              return this._utils.StorageUtils.getFromLocalStorage(t);
            },
          },
          {
            key: "saveToLocalStorage",
            value: function (t, e, n) {
              return this._utils.StorageUtils.saveToLocalStorage(t, e, n);
            },
          },
          {
            key: "setExpirationInLocalStorage",
            value: function (t, e) {
              return this._utils.StorageUtils.setExpirationInLocalStorage(t, e);
            },
          },
          {
            key: "removeFromLocalStorage",
            value: function (t) {
              return this._utils.StorageUtils.removeFromLocalStorage(t);
            },
          },
          {
            key: "removeCookie",
            value: function (t) {
              return this._utils.StorageUtils.removeCookie(t);
            },
          },
        ]
      );
    })();
    function wl(t) {
      return (
        (wl =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        wl(t)
      );
    }
    function Sl(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, El(r.key), r);
      }
    }
    function El(t) {
      var e = (function (t, e) {
        if ("object" != wl(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != wl(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == wl(e) ? e : e + "";
    }
    var kl = (function () {
      return (function (t, e, n) {
        return (
          e && Sl(t.prototype, e),
          n && Sl(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._workerCommunicator = e),
            (this._brandRepository = n);
        },
        [
          {
            key: "set",
            value: function (t) {
              this._validateBrand(t) &&
                (this._brandRepository.set(t),
                this._workerCommunicator.sendAsync(ve, { brand: t }));
            },
          },
          {
            key: "update",
            value: function () {
              var t = this._brandRepository.get();
              t && this.set(t);
            },
          },
          {
            key: "_validateBrand",
            value: function (t) {
              return t.length > 200
                ? (_t.warn(
                    "The received brand name length is greater than 200. It is illegal. Ignoring the API call"
                  ),
                  !1)
                : !!/^[a-zA-Z0-9.\-,_ ]+$/.test(t) ||
                    (_t.warn(
                      "The received brand contains illegal characters. The legal characters are: A-Za-z0-9.-,_ and space. Ignoring the API call"
                    ),
                    !1);
            },
          },
        ]
      );
    })();
    function Tl(t) {
      return (
        (Tl =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Tl(t)
      );
    }
    function Pl(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Ol(r.key), r);
      }
    }
    function Ol(t) {
      var e = (function (t, e) {
        if ("object" != Tl(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Tl(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Tl(e) ? e : e + "";
    }
    var Cl = (function () {
      return (function (t, e, n) {
        return (
          e && Pl(t.prototype, e),
          n && Pl(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this.brandKey = "brand"),
            (this._utils = e),
            (this._storageUtilsWrapper = n),
            (this.COOKIE_EXPIRATION_IN_MILLISECONDS =
              this._utils.minutesToMilliseconds(525600));
        },
        [
          {
            key: "get",
            value: function () {
              var t = this._storageUtilsWrapper.getCookie(this.brandKey),
                e = this._validateBrand(t);
              if (!e) {
                _t.debug(
                  "Brand was not found in cookie. Trying to get it from the local storage."
                );
                var n = this._storageUtilsWrapper.getFromLocalStorage(
                  this.brandKey
                );
                if (!(e = this._validateBrand(n)))
                  return (
                    _t.debug("Brand was not found in local storage."), null
                  );
              }
              return e;
            },
          },
          {
            key: "set",
            value: function (t) {
              var e = this._validateBrand(t);
              e
                ? (this._storageUtilsWrapper.saveToLocalStorage(
                    this.brandKey,
                    e
                  ) ||
                    _t.error(
                      "Failed saving brand ".concat(t, " to local storage.")
                    ),
                  this._storageUtilsWrapper.setCookie(
                    this.brandKey,
                    e,
                    this.COOKIE_EXPIRATION_IN_MILLISECONDS
                  ) ||
                    _t.error("Failed saving brand ".concat(t, " to cookie.")))
                : _t.error(
                    "Brand ".concat(t, " is invalid. Will not save it.")
                  );
            },
          },
          {
            key: "_validateBrand",
            value: function (t) {
              return t || null;
            },
          },
        ]
      );
    })();
    function jl(t) {
      return (
        (jl =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        jl(t)
      );
    }
    function Ml(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Rl(r.key), r);
      }
    }
    function Rl(t) {
      var e = (function (t, e) {
        if ("object" != jl(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != jl(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == jl(e) ? e : e + "";
    }
    var Bl = (function () {
      return (function (t, e, n) {
        return (
          e && Ml(t.prototype, e),
          n && Ml(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n, r, o) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._messageBus = e),
            (this._muidService = n),
            (this._clientEventService = r),
            (this._workerCommunicator = o),
            this._messageBus.subscribe(Er, this._handler.bind(this), !0),
            this._workerCommunicator.addMessageListener(
              Gn,
              this._publish.bind(this),
              !0
            );
        },
        [
          {
            key: "_handler",
            value: function (t) {
              var e;
              null === (e = this._muidService) ||
                void 0 === e ||
                e.updateMuid(t),
                this._clientEventService.publishRestoredMuidEvent(t);
            },
          },
          {
            key: "_publish",
            value: function (t) {
              this._messageBus.publish(Er, t);
            },
          },
        ]
      );
    })();
    function Al(t) {
      return (
        (Al =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Al(t)
      );
    }
    function xl(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Dl(r.key), r);
      }
    }
    function Dl(t) {
      var e = (function (t, e) {
        if ("object" != Al(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Al(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Al(e) ? e : e + "";
    }
    var Ll = (function () {
      return (function (t, e, n) {
        return (
          e && xl(t.prototype, e),
          n && xl(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._configurationRepository = e);
        },
        [
          {
            key: "onConfigUpdate",
            value: function (t) {
              var e = t.get(w.enableCoordinatesMasking);
              this._setConfigurationKey(e);
            },
          },
          {
            key: "updateConfig",
            value: function (t) {
              this._handleConfigurationUpdate(t);
            },
          },
          {
            key: "_handleConfigurationUpdate",
            value: function (t) {
              se.isBoolean(t)
                ? (_t.info(
                    "Set coordinates masking API was called, is enabled: ".concat(
                      t
                    )
                  ),
                  this._setConfigurationKey(t))
                : _t.warn("Invalid argument type: ".concat(t));
            },
          },
          {
            key: "_setConfigurationKey",
            value: function (t) {
              this._configurationRepository.set(w.enableCoordinatesMasking, t);
            },
          },
        ]
      );
    })();
    function Nl(t) {
      return (
        (Nl =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Nl(t)
      );
    }
    function Il(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Fl(r.key), r);
      }
    }
    function Fl(t) {
      var e = (function (t, e) {
        if ("object" != Nl(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Nl(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Nl(e) ? e : e + "";
    }
    var Ul = "cdAgentId",
      Wl = (function () {
        return (function (t, e, n) {
          return (
            e && Il(t.prototype, e),
            n && Il(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (this._storageUtilsWrapper = e),
              (this._agentId = null),
              this._loadAgentIdFromStorage();
          },
          [
            {
              key: "get",
              value: function () {
                return this._agentId;
              },
            },
            {
              key: "set",
              value: function (t) {
                if (!t || "string" != typeof t)
                  throw new Error("Invalid agentId value");
                (this._agentId = t), this._saveAgentIdToStorage();
              },
            },
            {
              key: "_saveAgentIdToStorage",
              value: function () {
                this._storageUtilsWrapper.saveToLocalStorage(Ul, this._agentId);
              },
            },
            {
              key: "_loadAgentIdFromStorage",
              value: function () {
                this._agentId =
                  this._storageUtilsWrapper.getFromLocalStorage(Ul) || null;
              },
            },
          ]
        );
      })();
    function Gl(t) {
      return (
        (Gl =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Gl(t)
      );
    }
    function Hl(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Ql(r.key), r);
      }
    }
    function Ql(t) {
      var e = (function (t, e) {
        if ("object" != Gl(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Gl(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Gl(e) ? e : e + "";
    }
    var zl = (function () {
      return (function (t, e, n) {
        return (
          e && Hl(t.prototype, e),
          n && Hl(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._agentIdCache = e),
            (this._serverWorkerCommunicator = n);
        },
        [
          {
            key: "updateAgentIdWithServer",
            value: function () {
              var t = this._agentIdCache.get();
              this._serverWorkerCommunicator.sendAsync(_e, { agentId: t });
            },
          },
          {
            key: "set",
            value: function (t) {
              if (!t) throw new Error("Invalid agentId value of undefined");
              this._agentIdCache.set(t);
            },
          },
        ]
      );
    })();
    function Vl(t) {
      return (
        (Vl =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Vl(t)
      );
    }
    function Kl(t, e) {
      var n = Object.keys(t);
      if (Object.getOwnPropertySymbols) {
        var r = Object.getOwnPropertySymbols(t);
        e &&
          (r = r.filter(function (e) {
            return Object.getOwnPropertyDescriptor(t, e).enumerable;
          })),
          n.push.apply(n, r);
      }
      return n;
    }
    function ql(t) {
      for (var e = 1; e < arguments.length; e++) {
        var n = null != arguments[e] ? arguments[e] : {};
        e % 2
          ? Kl(Object(n), !0).forEach(function (e) {
              nf(t, e, n[e]);
            })
          : Object.getOwnPropertyDescriptors
          ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n))
          : Kl(Object(n)).forEach(function (e) {
              Object.defineProperty(
                t,
                e,
                Object.getOwnPropertyDescriptor(n, e)
              );
            });
      }
      return t;
    }
    function Jl(t, e) {
      if (!(t instanceof e))
        throw new TypeError("Cannot call a class as a function");
    }
    function Xl(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, rf(r.key), r);
      }
    }
    function Yl(t, e, n) {
      return (
        e && Xl(t.prototype, e),
        n && Xl(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
    }
    function Zl(t, e, n) {
      return (
        (e = tf(e)),
        (function (t, e) {
          if (e && ("object" == Vl(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          $l()
            ? Reflect.construct(e, n || [], tf(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function $l() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return ($l = function () {
        return !!t;
      })();
    }
    function tf(t) {
      return (
        (tf = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        tf(t)
      );
    }
    function ef(t, e) {
      return (
        (ef = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        ef(t, e)
      );
    }
    function nf(t, e, n) {
      return (
        (e = rf(e)) in t
          ? Object.defineProperty(t, e, {
              value: n,
              enumerable: !0,
              configurable: !0,
              writable: !0,
            })
          : (t[e] = n),
        t
      );
    }
    function rf(t) {
      var e = (function (t, e) {
        if ("object" != Vl(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Vl(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Vl(e) ? e : e + "";
    }
    var of = {
        configKey: "isElementsEvent",
        isDefault: !0,
        shouldRunPerContext: !0,
        shouldRunPerSession: !1,
        shouldRun: !0,
        isFrameRelated: !0,
        runInUns: !1,
        runInSlave: !0,
        runInLean: !0,
        isRunning: !1,
        instance: null,
      },
      af = {
        input: 0,
        initial: 1,
        focus: 2,
        blur: 3,
        change: 4,
        click: 5,
        submit: 6,
      },
      uf = [
        "eventSequence",
        "timestamp",
        "eventType",
        "isTrusted",
        "elementHash",
        "length",
        "elementValues",
        "selected",
        "hashedValue",
        "relativeTime",
      ],
      sf = (function (t) {
        function e(t) {
          var n;
          return (
            Jl(this, e),
            nf((n = Zl(this, e)), "mutationMessageHandler", function (t) {
              var e, r;
              t.browserContext &&
                (n._inputEvents.addOnLoadInputData(t.browserContext, !0),
                n._inputEvents.bind(t.browserContext),
                n._clickEvents.addOnLoadInputData(t.browserContext, !0),
                n._clickEvents.bind(t.browserContext),
                n._selectElementEvents.bind(t.browserContext),
                n._formEvents.bind(t.browserContext),
                null === (e = n._customInputEvents) ||
                  void 0 === e ||
                  e.addOnLoadInputData(t.browserContext, !0),
                null === (r = n._customInputEvents) ||
                  void 0 === r ||
                  r.bind(t.browserContext));
            }),
            nf(n, "startFeature", function (t) {
              var e, r;
              n._inputEvents.addOnLoadInputData(t, !1),
                n._inputEvents.bind(t),
                n._clickEvents.addOnLoadInputData(t, !1),
                n._clickEvents.bind(t),
                n._selectElementEvents.bind(t),
                null === (e = n._customInputEvents) ||
                  void 0 === e ||
                  e.addOnLoadInputData(t, !1),
                null === (r = n._customInputEvents) ||
                  void 0 === r ||
                  r.bind(t),
                n._formEvents.bind(t),
                n._configurationRepository.get(w.isMutationObserver) &&
                  n._mutationEmitter &&
                  (n._mutationEmitter.startObserver(t),
                  n._jQueryElementListenerSiteMapper.initTracking());
            }),
            nf(n, "_onSiteMapperMatch", function (t) {
              var e = t.selector;
              if (e)
                try {
                  var r = window.document.querySelector(e);
                  if (!r)
                    return void _t.debug(
                      "ElementEvents._onSiteMapperMatch - selector:".concat(
                        JSON.stringify(e),
                        " not found on page"
                      )
                    );
                  n._domUtils.matches(r, n._inputSelectors)
                    ? n._jqueryEventHandler.bindInputEvents(r)
                    : n._domUtils.matches(r, n._onClickSelectors)
                    ? n._jqueryEventHandler.bindOnClickEvents(r)
                    : n._domUtils.matches(r, n._onSelectSelectors)
                    ? n._jqueryEventHandler.bindOnChangeEvents(r)
                    : n._domUtils.matches(r, n._onFormSelectors)
                    ? n._jqueryEventHandler.bindOnFormsEvents(r)
                    : _t.error(
                        "ElementEvents._onSiteMapperMatch - Unable to match the element with selector:\n                ".concat(
                          JSON.stringify(e),
                          " to any selectors group. Aborting jQuery element listening process."
                        )
                      );
                } catch (t) {
                  _t.error(
                    "ElementEvents._onSiteMapperMatch - ".concat(t.message),
                    t
                  );
                }
              else
                _t.warn(
                  "ElementEvents._onSiteMapperMatch - No selector defined for match. Aborting jQuery element listening process."
                );
            }),
            (n._configurationRepository = t.configurationRepository),
            (n._utils = t.utils),
            (n._domUtils = t.domUtils),
            (n._dataQ = t.dataQ),
            (n._elements = t.elements),
            (n._jQueryElementListenerSiteMapper =
              t.jQueryElementListenerSiteMapper),
            n._jQueryElementListenerSiteMapper.updateObserver(
              n._onSiteMapperMatch
            ),
            (n._messageBus = t.messageBus),
            (n._mutationEmitter = t.mutationEmitter),
            n._messageBus.subscribe(Tr, n.mutationMessageHandler),
            (n._StandardInputEventsEmitter = t.StandardInputEventsEmitter),
            (n._SyntheticMaskInputEventsHandler =
              t.SyntheticMaskInputEventsHandler),
            (n._SyntheticAutotabInputEventsHandler =
              t.SyntheticAutotabInputEventsHandler),
            (n._maskingService = t.maskingService),
            (n._categoryService = t.categoryService),
            (n._inputEvents = new t.InputEvents(
              n._elements,
              n.sendToQueue.bind(n),
              n._utils,
              n._messageBus,
              n._StandardInputEventsEmitter,
              n._SyntheticMaskInputEventsHandler,
              n._SyntheticAutotabInputEventsHandler,
              n._maskingService,
              n._categoryService,
              t.maxShadowDepth,
              t.iframeLoadingTimeout
            )),
            (n._inputSelectors = t.inputSelectors),
            (n._StandardOnClickEventsEmitter = t.StandardOnClickEventsEmitter),
            n._configurationRepository.get(w.parentElementSelector) &&
              n._configurationRepository.get(
                w.childElementWithCustomAttribute
              ) &&
              n._configurationRepository.get(w.elementDataAttribute) &&
              ((n._StandardCustomInputEmitter = t.StandardCustomInputEmitter),
              (n._inputElementSettings = {
                parentElementSelector: n._configurationRepository.get(
                  w.parentElementSelector
                ),
                childElementWithCustomAttribute: n._configurationRepository.get(
                  w.childElementWithCustomAttribute
                ),
                elementDataAttribute: n._configurationRepository.get(
                  w.elementDataAttribute
                ),
                customButtons: n._configurationRepository.get(w.customButtons),
              }),
              (n._customInputEvents = new t.CustomInputEvents(
                n._elements,
                n.sendToQueue.bind(n),
                n._utils,
                n._messageBus,
                n._StandardCustomInputEmitter,
                n._maskingService,
                (n.inputElementSettings = n._inputElementSettings)
              ))),
            (n._clickEvents = new t.ClickEvents(
              n.sendToQueue.bind(n),
              n._utils,
              n._messageBus,
              n._configurationRepository,
              n._StandardOnClickEventsEmitter,
              n._maskingService,
              n._elements,
              t.maxShadowDepth,
              t.iframeLoadingTimeout
            )),
            (n._onClickSelectors = t.onClickSelectors),
            (n._StandardOnChangeEventsEmitter =
              t.StandardOnChangeEventsEmitter),
            (n._elementFocusEventEmitter = t.ElementFocusEventsEmitter),
            (n._elementBlurEventEmitter = t.ElementBlurEventsEmitter),
            (n._selectElementEvents = new t.SelectElementEvents(
              n.sendToQueue.bind(n),
              n._utils,
              n._messageBus,
              n._StandardOnChangeEventsEmitter,
              n._elementFocusEventEmitter,
              n._elementBlurEventEmitter,
              n._configurationRepository,
              n._maskingService,
              t.maxShadowDepth,
              t.iframeLoadingTimeout
            )),
            (n._onSelectSelectors = t.onSelectSelectors),
            (n._StandardOnFormEventsEmitter = t.StandardOnFormEventsEmitter),
            (n._formEvents = new t.FormEvents(
              n.sendToQueue.bind(n),
              n._messageBus,
              n._StandardOnFormEventsEmitter,
              t.maxShadowDepth,
              t.iframeLoadingTimeout
            )),
            (n._onFormSelectors = t.onFormSelectors),
            (n._jqueryEventHandler = t.JqueryElementsHandler),
            (n._maxElemValLength = 200),
            (n._hashTruncationLength =
              n._configurationRepository.get("elementHashTruncationLength") ||
              2),
            n
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && ef(t, e);
          })(e, t),
          Yl(
            e,
            [
              {
                key: "stopFeature",
                value: function (t) {
                  var e;
                  this._inputEvents.unbind(t),
                    this._clickEvents.unbind(t),
                    this._selectElementEvents.unbind(t),
                    null === (e = this._customInputEvents) ||
                      void 0 === e ||
                      e.unbind(t),
                    this._formEvents.unbind(t),
                    this._jQueryElementListenerSiteMapper.stopTracking(),
                    this._mutationEmitter.stopObserver(t);
                },
              },
              {
                key: "updateFeatureConfig",
                value: function (t) {
                  this._configurationRepository.get("isMutationObserver") &&
                    this._mutationEmitter &&
                    (this._mutationEmitter.startObserver(t),
                    this._jQueryElementListenerSiteMapper.onConfigUpdate(
                      this._configurationRepository
                    )),
                    (this._hashTruncationLength =
                      void 0 !==
                      this._configurationRepository.get(
                        "elementHashTruncationLength"
                      )
                        ? this._configurationRepository.get(
                            "elementHashTruncationLength"
                          )
                        : this._hashTruncationLength),
                    this._elements.updateFeatureConfig(),
                    this._selectElementEvents.updateSettings(t);
                },
              },
              {
                key: "sendToQueue",
                value: function (t, e) {
                  var n = so[t.isTrusted],
                    r = this.getEventTimestamp(t),
                    o = this.getTimestampFromEvent(t),
                    i = af[t.type];
                  this._utils.isUndefinedNull(i) && (i = -1);
                  var a = this._elements.getElementHashFromEvent(t),
                    u =
                      this._utils.StorageUtils.getAndUpdateEventSequenceNumber();
                  (e = e || {}).elementValues &&
                    e.elementValues.length > this._maxElemValLength &&
                    (e.elementValues = "");
                  var s = ql(ql({}, e), {
                    eventType: i,
                    eventSequence: u,
                    timestamp: r,
                    elementHash: a,
                    isTrusted: n,
                    hashedValue: "",
                    relativeTime: o,
                  });
                  this._dataQ.addToQueue(
                    "element_events",
                    this._utils.convertToArrayByMap(uf, s),
                    !0
                  );
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return of;
                },
              },
              {
                key: "Builder",
                get: function () {
                  var t = (function () {
                    return Yl(
                      function t(e, n, r, o, i, a) {
                        Jl(this, t),
                          (this.configurationRepository = e),
                          (this.utils = n),
                          (this.domUtils = r),
                          (this.elements = o),
                          (this.dataQ = i),
                          (this.maxShadowDepth = a.getMaxShadowDepth()),
                          (this.iframeLoadingTimeout =
                            a.getIframeLoadingTimeout());
                      },
                      [
                        {
                          key: "withMessageBus",
                          value: function (t) {
                            return (this.messageBus = t), this;
                          },
                        },
                        {
                          key: "withMutationEmitter",
                          value: function (t) {
                            return (this.mutationEmitter = t), this;
                          },
                        },
                        {
                          key: "withjQueryElementListenerSiteMapper",
                          value: function (t) {
                            return (
                              (this.jQueryElementListenerSiteMapper = t), this
                            );
                          },
                        },
                        {
                          key: "withjQueryElementsHandler",
                          value: function (t) {
                            return (this.JqueryElementsHandler = t), this;
                          },
                        },
                        {
                          key: "withInputEvents",
                          value: function (t, e, n, r) {
                            return (
                              (this.InputEvents = t),
                              (this.inputSelectors = e),
                              (this.maskingService = n),
                              (this.categoryService = r),
                              this
                            );
                          },
                        },
                        {
                          key: "withStandardInputEventsEmitter",
                          value: function (t) {
                            return (this.StandardInputEventsEmitter = t), this;
                          },
                        },
                        {
                          key: "withSyntheticMaskInputEventsHandler",
                          value: function (t) {
                            return (
                              (this.SyntheticMaskInputEventsHandler = t), this
                            );
                          },
                        },
                        {
                          key: "withSyntheticAutotabInputEventsHandler",
                          value: function (t) {
                            return (
                              (this.SyntheticAutotabInputEventsHandler = t),
                              this
                            );
                          },
                        },
                        {
                          key: "withClickEvents",
                          value: function (t, e) {
                            return (
                              (this.ClickEvents = t),
                              (this.onClickSelectors = e),
                              this
                            );
                          },
                        },
                        {
                          key: "withStandardOnClickEventsEmitter",
                          value: function (t) {
                            return (
                              (this.StandardOnClickEventsEmitter = t), this
                            );
                          },
                        },
                        {
                          key: "withSelectElementEvents",
                          value: function (t, e) {
                            return (
                              (this.SelectElementEvents = t),
                              (this.onSelectSelectors = e),
                              this
                            );
                          },
                        },
                        {
                          key: "withStandardOnChangeEventsEmitter",
                          value: function (t) {
                            return (
                              (this.StandardOnChangeEventsEmitter = t), this
                            );
                          },
                        },
                        {
                          key: "withElementFocusEventsEmitter",
                          value: function (t) {
                            return (this.ElementFocusEventsEmitter = t), this;
                          },
                        },
                        {
                          key: "withElementBlurEventsEmitter",
                          value: function (t) {
                            return (this.ElementBlurEventsEmitter = t), this;
                          },
                        },
                        {
                          key: "withFormEvents",
                          value: function (t, e) {
                            return (
                              (this.FormEvents = t),
                              (this.onFormSelectors = e),
                              this
                            );
                          },
                        },
                        {
                          key: "withStandardOnFormEventsEmitter",
                          value: function (t) {
                            return (this.StandardOnFormEventsEmitter = t), this;
                          },
                        },
                        {
                          key: "withCustomInputEventEmitter",
                          value: function (t, e) {
                            return (
                              (this.CustomInputEvents = t),
                              (this.StandardCustomInputEmitter = e),
                              this
                            );
                          },
                        },
                        {
                          key: "build",
                          value: function () {
                            return new e(this);
                          },
                        },
                      ]
                    );
                  })();
                  return t;
                },
              },
            ]
          )
        );
      })(uo),
      cf = sf;
    function lf(t) {
      return (
        (lf =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        lf(t)
      );
    }
    function ff(t, e) {
      if (!(t instanceof e))
        throw new TypeError("Cannot call a class as a function");
    }
    function pf(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, gf(r.key), r);
      }
    }
    function hf(t, e, n) {
      return (
        e && pf(t.prototype, e),
        n && pf(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
    }
    function df(t, e, n) {
      return (
        (e = mf(e)),
        (function (t, e) {
          if (e && ("object" == lf(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          yf()
            ? Reflect.construct(e, n || [], mf(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function yf() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (yf = function () {
        return !!t;
      })();
    }
    function mf(t) {
      return (
        (mf = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        mf(t)
      );
    }
    function vf(t, e) {
      return (
        (vf = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        vf(t, e)
      );
    }
    function bf(t, e, n) {
      return (
        (e = gf(e)) in t
          ? Object.defineProperty(t, e, {
              value: n,
              enumerable: !0,
              configurable: !0,
              writable: !0,
            })
          : (t[e] = n),
        t
      );
    }
    function gf(t) {
      var e = (function (t, e) {
        if ("object" != lf(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != lf(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == lf(e) ? e : e + "";
    }
    var _f = {
        configKey: "isClipboardEvent",
        isDefault: !0,
        shouldRunPerContext: !1,
        shouldRunPerSession: !1,
        shouldRun: !0,
        isFrameRelated: !0,
        runInUns: !1,
        runInSlave: !0,
        runInLean: !0,
        isRunning: !1,
        instance: null,
      },
      wf = { copy: 0, paste: 1, cut: 2 },
      Sf = [
        "eventSequence",
        "timestamp",
        "clipboardEventType",
        "elementHash",
        "copiedText",
      ],
      Ef = (function (t) {
        function e(t) {
          var n;
          return (
            ff(this, e),
            bf((n = df(this, e)), "startFeature", function (t) {
              try {
                var e = t.getDocument();
                n._cutEventEmitter.start(e),
                  n._copyEventEmitter.start(e),
                  n._pasteEventEmitter.start(e),
                  t
                    .collectAllElementsBySelectorAsync(
                      "iframe",
                      n._maxShadowDepth,
                      n._iframeLoadingTimeout
                    )
                    .then(function (t) {
                      t.forEach(function (t) {
                        t &&
                          t.contentDocument &&
                          (n._cutEventEmitter.start(t.contentDocument),
                          n._copyEventEmitter.start(t.contentDocument),
                          n._pasteEventEmitter.start(t.contentDocument));
                      });
                    }),
                  n._messageBus.subscribe(Nr, n._handleClipboardEvent),
                  n._messageBus.subscribe(Ir, n._handleClipboardEvent),
                  n._messageBus.subscribe(Fr, n._handleClipboardEvent);
              } catch (t) {
                _t.error(
                  "Failed starting the ClipboardEvents feature. msg: ".concat(
                    t.message
                  ),
                  t
                );
              }
            }),
            bf(n, "_handleClipboardEvent", function (t) {
              n._sendToQueue(t);
            }),
            bf(n, "_sendToQueue", function (t) {
              try {
                var e = n.getEventTimestamp(t),
                  r = n._elements.getElementHashFromEvent(t),
                  o = n._utils.StorageUtils.getAndUpdateEventSequenceNumber(),
                  i = t.clipboardData
                    ? t.clipboardData.getData("text")
                    : window.clipboardData
                    ? window.clipboardData.getData("text")
                    : "";
                "" !== (i = i || "") &&
                  (i = i
                    .replace(/[\d]/g, "1")
                    .replace(/[a-zA-Z]/g, "a")
                    .replace(/[^a-zA-Z\d]/g, "*"));
                var a = wf[t.type];
                n._utils.isUndefinedNull(a) && (a = -1),
                  n._dataQueue.addToQueue(
                    "clipboard_events",
                    n._utils.convertToArrayByMap(Sf, {
                      eventSequence: o,
                      timestamp: e,
                      elementHash: r,
                      copiedText: i,
                      clipboardEventType: a,
                    })
                  );
              } catch (t) {
                _t.error(
                  "Failed handling ClipboardEvent. msg: ".concat(t.message),
                  t
                );
              }
            }),
            (n._utils = t.utils),
            (n._dataQueue = t.dataQueue),
            (n._elements = t.elements),
            (n._messageBus = t.messageBus),
            (n._cutEventEmitter = t.cutEventEmitter),
            (n._copyEventEmitter = t.copyEventEmitter),
            (n._pasteEventEmitter = t.pasteEventEmitter),
            (n._maxShadowDepth = t.maxShadowDepth),
            (n._iframeLoadingTimeout = t.iframeLoadingTimeout),
            n
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && vf(t, e);
          })(e, t),
          hf(
            e,
            [
              {
                key: "stopFeature",
                value: function (t) {
                  var e = this;
                  try {
                    var n = t.getDocument();
                    this._cutEventEmitter.stop(n),
                      this._copyEventEmitter.stop(n),
                      this._pasteEventEmitter.stop(n),
                      t
                        .collectAllElementsBySelectorAsync(
                          "iframe",
                          this._maxShadowDepth,
                          this._iframeLoadingTimeout
                        )
                        .then(function (t) {
                          t.forEach(function (t) {
                            t &&
                              t.contentDocument &&
                              (e._cutEventEmitter.stop(t.contentDocument),
                              e._copyEventEmitter.stop(t.contentDocument),
                              e._pasteEventEmitter.stop(t.contentDocument));
                          });
                        }),
                      this._messageBus.unsubscribe(
                        Nr,
                        this._handleClipboardEvent
                      ),
                      this._messageBus.unsubscribe(
                        Ir,
                        this._handleClipboardEvent
                      ),
                      this._messageBus.unsubscribe(
                        Fr,
                        this._handleClipboardEvent
                      );
                  } catch (t) {
                    _t.error(
                      "Failed stopping the ClipboardEvents feature. msg: ".concat(
                        t.message
                      ),
                      t
                    );
                  }
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return _f;
                },
              },
              {
                key: "Builder",
                get: function () {
                  return (function () {
                    return hf(
                      function t(e, n, r, o) {
                        ff(this, t),
                          (this.utils = e),
                          (this.dataQueue = r),
                          (this.elements = n),
                          (this.maxShadowDepth = o.getMaxShadowDepth()),
                          (this.iframeLoadingTimeout =
                            o.getIframeLoadingTimeout());
                      },
                      [
                        {
                          key: "withMessageBus",
                          value: function (t) {
                            return (this.messageBus = t), this;
                          },
                        },
                        {
                          key: "withCutEventEmitter",
                          value: function (t) {
                            return (this.cutEventEmitter = t), this;
                          },
                        },
                        {
                          key: "withCopyEventEmitter",
                          value: function (t) {
                            return (this.copyEventEmitter = t), this;
                          },
                        },
                        {
                          key: "withPasteEventEmitter",
                          value: function (t) {
                            return (this.pasteEventEmitter = t), this;
                          },
                        },
                        {
                          key: "build",
                          value: function () {
                            return new e(this);
                          },
                        },
                      ]
                    );
                  })();
                },
              },
            ]
          )
        );
      })(uo),
      kf = Ef;
    function Tf(t) {
      return (
        (Tf =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Tf(t)
      );
    }
    function Pf(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Rf(r.key), r);
      }
    }
    function Of(t, e, n) {
      return (
        (e = jf(e)),
        (function (t, e) {
          if (e && ("object" == Tf(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Cf()
            ? Reflect.construct(e, n || [], jf(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Cf() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Cf = function () {
        return !!t;
      })();
    }
    function jf(t) {
      return (
        (jf = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        jf(t)
      );
    }
    function Mf(t, e) {
      return (
        (Mf = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Mf(t, e)
      );
    }
    function Rf(t) {
      var e = (function (t, e) {
        if ("object" != Tf(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Tf(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Tf(e) ? e : e + "";
    }
    var Bf = {
        configKey: "isOrientationEvents",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !1,
        shouldRun: !0,
        isFrameRelated: !1,
        runInSlave: !1,
        runInLean: !1,
        runInUns: !1,
        isRunning: !1,
        instance: null,
      },
      Af = (function (t) {
        function e(t, n, r, o, i) {
          var a;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            (function (t, e, n) {
              (e = Rf(e)) in t
                ? Object.defineProperty(t, e, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (t[e] = n);
            })(
              (a = Of(this, e)),
              "_handleDeviceOrientationEvent",
              function (t) {
                var e = a._utils.dateNow();
                if (t && e - a._lastTime > a._samplePeriod) {
                  var n = t.absolute || !1,
                    r = a._utils.isUndefinedNull(t.alpha)
                      ? 0
                      : a._utils.cutDecimalPointDigits(t.alpha, 4),
                    o = a._utils.isUndefinedNull(t.beta)
                      ? 0
                      : a._utils.cutDecimalPointDigits(t.beta, 4),
                    i = a._utils.isUndefinedNull(t.gamma)
                      ? 0
                      : a._utils.cutDecimalPointDigits(t.gamma, 4);
                  if (
                    r !== a._lastAlpha ||
                    o !== a._lastBeta ||
                    i !== a._lastGamma
                  ) {
                    _t.isDebug() &&
                      _t.debug(
                        "OrientationEvents:_onOrientationEvent, sending data: timestamp: "
                          .concat(e, "\n                alpha,betta,gamma: ")
                          .concat(r, ",")
                          .concat(o, ",")
                          .concat(i, ",prevTime:")
                          .concat(a._lastTime)
                      ),
                      (a._lastTime = e),
                      (a._lastAlpha = r),
                      (a._lastBeta = o),
                      (a._lastGamma = i);
                    var u =
                      a._utils.StorageUtils.getAndUpdateEventSequenceNumber();
                    a._dataQ.addToQueue("orientation_events", [
                      null,
                      u,
                      e,
                      n,
                      r,
                      o,
                      i,
                    ]);
                  }
                }
              }
            ),
            (a._dataQ = r),
            (a._configurationRepository = t),
            (a._utils = n),
            (a._samplePeriod =
              a._configurationRepository.get(w.orientationEventsSamplePeriod) ||
              0),
            (a._lastAlpha = 0),
            (a._lastBeta = 0),
            (a._lastGamma = 0),
            (a._lastTime = 0),
            (a._messageBus = o),
            (a._deviceOrientationEventEmitter = i),
            a
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && Mf(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && Pf(t.prototype, e),
              n && Pf(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value: function () {
                  window.DeviceOrientationEvent &&
                    (this._deviceOrientationEventEmitter.start(),
                    this._messageBus.subscribe(
                      Ur,
                      this._handleDeviceOrientationEvent
                    ));
                },
              },
              {
                key: "stopFeature",
                value: function () {
                  window.DeviceOrientationEvent &&
                    (this._deviceOrientationEventEmitter.stop(),
                    this._messageBus.unsubscribe(
                      Ur,
                      this._handleDeviceOrientationEvent
                    ));
                },
              },
              {
                key: "updateFeatureConfig",
                value: function () {
                  var t = this._configurationRepository.get(
                    w.orientationEventsSamplePeriod
                  );
                  this._samplePeriod = void 0 !== t ? t : this._samplePeriod;
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return Bf;
                },
              },
            ]
          )
        );
      })(uo),
      xf = Af;
    function Df(t) {
      return (
        (Df =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Df(t)
      );
    }
    function Lf(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Wf(r.key), r);
      }
    }
    function Nf(t, e, n) {
      return (
        (e = Ff(e)),
        (function (t, e) {
          if (e && ("object" == Df(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          If()
            ? Reflect.construct(e, n || [], Ff(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function If() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (If = function () {
        return !!t;
      })();
    }
    function Ff(t) {
      return (
        (Ff = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Ff(t)
      );
    }
    function Uf(t, e) {
      return (
        (Uf = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Uf(t, e)
      );
    }
    function Wf(t) {
      var e = (function (t, e) {
        if ("object" != Df(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Df(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Df(e) ? e : e + "";
    }
    var Gf = {
        configKey: "isBeforeInstallPrompt",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !1,
        shouldRun: !1,
        isFrameRelated: !1,
        runInLean: !1,
        runInUns: !1,
        isRunning: !1,
        instance: null,
      },
      Hf = ["eventSequence", "timestamp", "platforms", "relativeTime"],
      Qf = (function (t) {
        function e(t, n, r, o) {
          var i;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            (function (t, e, n) {
              (e = Wf(e)) in t
                ? Object.defineProperty(t, e, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (t[e] = n);
            })((i = Nf(this, e)), "_onBeforeInstallPrompt", function (t) {
              var e = i._utils.StorageUtils.getAndUpdateEventSequenceNumber(),
                n = i.getEventTimestamp(),
                r = i.getTimestampFromEvent(t),
                o = t.platforms ? t.platforms.join(",") : "";
              i._dataQueue.addToQueue(
                "before_install_prompt",
                i._utils.convertToArrayByMap(Hf, {
                  eventSequence: e,
                  timestamp: n,
                  platforms: o,
                  relativeTime: r,
                })
              );
            }),
            (i._messageBus = r),
            (i._eventEmitter = o),
            (i._dataQueue = t),
            (i._utils = n),
            i
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && Uf(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && Lf(t.prototype, e),
              n && Lf(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value: function () {
                  this._eventEmitter.start(window),
                    this._messageBus.subscribe(Wr, this._onBeforeInstallPrompt);
                },
              },
              {
                key: "stopFeature",
                value: function () {
                  this._eventEmitter.stop(window),
                    this._messageBus.unsubscribe(
                      Wr,
                      this._onBeforeInstallPrompt
                    );
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return Gf;
                },
              },
            ]
          )
        );
      })(uo),
      zf = Qf;
    function Vf(t) {
      return (
        (Vf =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Vf(t)
      );
    }
    function Kf(t, e) {
      if (!(t instanceof e))
        throw new TypeError("Cannot call a class as a function");
    }
    function qf(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, ep(r.key), r);
      }
    }
    function Jf(t, e, n) {
      return (
        e && qf(t.prototype, e),
        n && qf(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
    }
    function Xf(t, e, n) {
      return (
        (e = Zf(e)),
        (function (t, e) {
          if (e && ("object" == Vf(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Yf()
            ? Reflect.construct(e, n || [], Zf(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Yf() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Yf = function () {
        return !!t;
      })();
    }
    function Zf(t) {
      return (
        (Zf = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Zf(t)
      );
    }
    function $f(t, e) {
      return (
        ($f = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        $f(t, e)
      );
    }
    function tp(t, e, n) {
      return (
        (e = ep(e)) in t
          ? Object.defineProperty(t, e, {
              value: n,
              enumerable: !0,
              configurable: !0,
              writable: !0,
            })
          : (t[e] = n),
        t
      );
    }
    function ep(t) {
      var e = (function (t, e) {
        if ("object" != Vf(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Vf(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Vf(e) ? e : e + "";
    }
    var np = {
        configKey: "isWindowEvents",
        isDefault: !0,
        shouldRunPerContext: !1,
        shouldRunPerSession: !1,
        shouldRun: !0,
        isFrameRelated: !1,
        runInUns: !1,
        runInSlave: !1,
        runInLean: !1,
        isRunning: !1,
        instance: null,
      },
      rp = {
        DOMContentLoaded: 0,
        scroll: 1,
        resize: 2,
        focus: 3,
        blur: 4,
        tabFocus: 5,
        tabBlur: 6,
      },
      op = [
        "eventSequence",
        "timestamp",
        "eventType",
        "isTrusted",
        "screenWidth",
        "screenHeight",
        "clientWidth",
        "clientHeight",
        "documentWidth",
        "documentHeight",
        "scrollTop",
        "scrollLeft",
        "windowInnerWidth",
        "windowInnerHeight",
        "windowOuterWidth",
        "windowOuterHeight",
      ],
      ip = (function (t) {
        function e(t) {
          var n;
          return (
            Kf(this, e),
            tp((n = Xf(this, e)), "startFeature", function (t) {
              try {
                n._resizeEventEmitter.start(t.Context),
                  n._messageBus.subscribe(Qr, n._onWindowEvent),
                  n._focusEventEmitter.start(t.Context),
                  n._messageBus.subscribe(Gr, n._onWindowEvent),
                  n._blurEventEmitter.start(t.Context),
                  n._messageBus.subscribe(Hr, n._onWindowEvent),
                  n._domContentLoadedEventEmitter.start(t.getDocument()),
                  n._messageBus.subscribe(zr, n._onWindowEvent),
                  n._visibilityChangeEventEmitter.start(t.getDocument()),
                  n._messageBus.subscribe(Vr, n._onWindowEvent),
                  n._configurationRepository.get(w.isScrollCollect) &&
                    (n._scrollEventEmitter.start(t.Context),
                    n._messageBus.subscribe(Kr, n._onWindowEvent));
              } catch (t) {
                _t.error(
                  "Failed starting the WindowEventCollector. msg: ".concat(
                    t.message
                  ),
                  t
                );
              }
            }),
            tp(n, "stopFeature", function (t) {
              try {
                n._resizeEventEmitter.stop(t.Context),
                  n._messageBus.unsubscribe(Qr, n._onWindowEvent),
                  n._focusEventEmitter.stop(t.Context),
                  n._messageBus.unsubscribe(Gr, n._onWindowEvent),
                  n._blurEventEmitter.stop(t.Context),
                  n._messageBus.unsubscribe(Hr, n._onWindowEvent),
                  n._domContentLoadedEventEmitter.stop(t.getDocument()),
                  n._messageBus.unsubscribe(zr, n._onWindowEvent),
                  n._visibilityChangeEventEmitter.stop(t.getDocument()),
                  n._messageBus.unsubscribe(Vr, n._onWindowEvent),
                  n._configurationRepository.get(w.isScrollCollect) &&
                    (n._scrollEventEmitter.stop(t.Context),
                    n._messageBus.unsubscribe(Kr, n._onWindowEvent));
              } catch (t) {
                _t.error(
                  "Failed stopping the ClipboardEvents feature. msg: ".concat(
                    t.message
                  ),
                  t
                );
              }
            }),
            tp(n, "updateFeatureConfig", function (t) {
              n._configurationRepository.get(w.isScrollCollect)
                ? n._configurationRepository.get(w.isScrollCollect) &&
                  (n._scrollEventEmitter.start(t.Context),
                  n._messageBus.subscribe(Kr, n._onWindowEvent))
                : (n._scrollEventEmitter.stop(t.Context),
                  n._messageBus.unsubscribe(Kr, n._onWindowEvent));
            }),
            tp(n, "_onWindowEvent", function (t) {
              try {
                n._sendToQueue(t);
              } catch (t) {
                _t.error(
                  "An error has occurred while sending window event. ".concat(
                    t.message
                  ),
                  t
                );
              }
            }),
            tp(n, "_sendToQueue", function (t) {
              if (!t) throw new Error("Invalid window event received.");
              var e,
                r = so[void 0];
              "DOMContentLoaded" === t.type
                ? (e = new Date().getTime())
                : ((e = n.getEventTimestamp(t)), (r = so[t.isTrusted])),
                _t.isDebug() &&
                  (_t.trace("got event " + t.type + " at time " + e),
                  _t.trace(
                    "adding to queue - screen(width,height): " +
                      screen.width +
                      "," +
                      screen.height +
                      " window(width,height): " +
                      window.innerWidth +
                      "," +
                      window.innerHeight
                  ));
              var o = n._utils.StorageUtils.getAndUpdateEventSequenceNumber(),
                i =
                  "visibilitychange" !== t.type
                    ? t.type
                    : "hidden" === document.visibilityState
                    ? "tabBlur"
                    : "tabFocus",
                a = rp[i];
              (null != a && void 0 !== a) || (a = -1),
                n._dataQueue.addToQueue(
                  "window_events",
                  n._utils.convertToArrayByMap(op, {
                    eventType: a,
                    eventSequence: o,
                    timestamp: e,
                    screenWidth: screen.width ? Math.round(screen.width) : -1,
                    screenHeight: screen.height
                      ? Math.round(screen.height)
                      : -1,
                    clientWidth: window.innerWidth
                      ? Math.round(window.innerWidth)
                      : -1,
                    clientHeight: window.innerHeight
                      ? Math.round(window.innerHeight)
                      : -1,
                    documentWidth:
                      document.body && document.body.clientWidth
                        ? Math.round(document.body.clientWidth)
                        : -1,
                    documentHeight:
                      document.body && document.body.clientHeight
                        ? Math.round(document.body.clientHeight)
                        : -1,
                    scrollTop:
                      document.body && document.body.scrollTop
                        ? Math.round(document.body.scrollTop)
                        : 0,
                    scrollLeft:
                      document.body && document.body.scrollLeft
                        ? Math.round(document.body.scrollLeft)
                        : 0,
                    windowInnerWidth: window.innerWidth
                      ? Math.round(window.innerWidth)
                      : -1,
                    windowInnerHeight: window.innerHeight
                      ? Math.round(window.innerHeight)
                      : -1,
                    windowOuterWidth: window.outerWidth
                      ? Math.round(window.outerWidth)
                      : -1,
                    windowOuterHeight: window.outerHeight
                      ? Math.round(window.outerHeight)
                      : -1,
                    isTrusted: r,
                  })
                );
            }),
            (n._configurationRepository = t.configurationRepository),
            (n._utils = t.utils),
            (n._dataQueue = t.dataQueue),
            (n._messageBus = t.messageBus),
            (n._focusEventEmitter = t.focusEventEmitter),
            (n._blurEventEmitter = t.blurEventEmitter),
            (n._resizeEventEmitter = t.resizeEventEmitter),
            (n._domContentLoadedEventEmitter = t.domContentLoadedEventEmitter),
            (n._visibilityChangeEventEmitter = t.visibilityChangeEventEmitter),
            (n._scrollEventEmitter = t.scrollEventEmitter),
            n
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && $f(t, e);
          })(e, t),
          Jf(e, null, [
            {
              key: "getDefaultSettings",
              value: function () {
                return np;
              },
            },
            {
              key: "Builder",
              get: function () {
                return (function () {
                  return Jf(
                    function t(e, n, r) {
                      Kf(this, t),
                        (this.configurationRepository = e),
                        (this.utils = n),
                        (this.dataQueue = r);
                    },
                    [
                      {
                        key: "withMessageBus",
                        value: function (t) {
                          return (this.messageBus = t), this;
                        },
                      },
                      {
                        key: "withFocusEventEmitter",
                        value: function (t) {
                          return (this.focusEventEmitter = t), this;
                        },
                      },
                      {
                        key: "withBlurEventEmitter",
                        value: function (t) {
                          return (this.blurEventEmitter = t), this;
                        },
                      },
                      {
                        key: "withResizeEventEmitter",
                        value: function (t) {
                          return (this.resizeEventEmitter = t), this;
                        },
                      },
                      {
                        key: "withDOMContentLoadedEventEmitter",
                        value: function (t) {
                          return (this.domContentLoadedEventEmitter = t), this;
                        },
                      },
                      {
                        key: "withVisibilityChangeEventEmitter",
                        value: function (t) {
                          return (this.visibilityChangeEventEmitter = t), this;
                        },
                      },
                      {
                        key: "withScrollEventEmitter",
                        value: function (t) {
                          return (this.scrollEventEmitter = t), this;
                        },
                      },
                      {
                        key: "build",
                        value: function () {
                          return new e(this);
                        },
                      },
                    ]
                  );
                })();
              },
            },
          ])
        );
      })(uo);
    function ap(t) {
      return (
        (ap =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        ap(t)
      );
    }
    function up() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          sp(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (sp((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), sp(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        sp(f, "constructor", c),
        sp(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        sp(c, o, "GeneratorFunction"),
        sp(f),
        sp(f, o, "Generator"),
        sp(f, r, function () {
          return this;
        }),
        sp(f, "toString", function () {
          return "[object Generator]";
        }),
        (up = function () {
          return { w: i, m: p };
        })()
      );
    }
    function sp(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (sp = function (t, e, n, r) {
        function i(e, n) {
          sp(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        sp(t, e, n, r);
    }
    function cp(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function lp(t) {
      return function () {
        var e = this,
          n = arguments;
        return new Promise(function (r, o) {
          var i = t.apply(e, n);
          function a(t) {
            cp(i, r, o, a, u, "next", t);
          }
          function u(t) {
            cp(i, r, o, a, u, "throw", t);
          }
          a(void 0);
        });
      };
    }
    function fp(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, pp(r.key), r);
      }
    }
    function pp(t) {
      var e = (function (t, e) {
        if ("object" != ap(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != ap(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == ap(e) ? e : e + "";
    }
    function hp(t, e, n) {
      return (
        (e = yp(e)),
        (function (t, e) {
          if (e && ("object" == ap(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          dp()
            ? Reflect.construct(e, n || [], yp(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function dp() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (dp = function () {
        return !!t;
      })();
    }
    function yp(t) {
      return (
        (yp = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        yp(t)
      );
    }
    function mp(t, e) {
      return (
        (mp = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        mp(t, e)
      );
    }
    var vp = "granted",
      bp = "accelerometer",
      gp = "gyroscope",
      _p = {
        configKey: "isAccelerometerEvents",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !1,
        shouldRun: !0,
        isFrameRelated: !1,
        runInSlave: !1,
        runInLean: !1,
        runInUns: !1,
        isRunning: !1,
        instance: null,
      },
      wp = (function (t) {
        function e(t, n, r) {
          var o,
            i =
              arguments.length > 3 && void 0 !== arguments[3]
                ? arguments[3]
                : window.navigator,
            a =
              arguments.length > 4 && void 0 !== arguments[4]
                ? arguments[4]
                : window;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((o = hp(this, e))._configurationRepository = t),
            (o._utils = n),
            (o._dataQueue = r),
            (o._storageUtils = o._utils.StorageUtils),
            (o._navigator = i),
            (o._window = a),
            (o._samplePeriod =
              o._configurationRepository.get(
                w.accelerometerEventsSamplePeriod
              ) || 0),
            (o._samplePeriodGyro =
              o._configurationRepository.get(w.gyroEventsSamplePeriod) || 0),
            (o._lastAccelerometerData = { x: 0, y: 0, z: 0, time: 0 }),
            (o._lastGyroData = { alpha: 0, beta: 0, gamma: 0, time: 0 }),
            (o._hasAccelerometerPermission = !1),
            (o._hasGyroscopePermission = !1),
            (o._onAccelerometerventFunc = o._onAccelerometerEvent.bind(o)),
            o
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && mp(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && fp(t.prototype, e),
              n && fp(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "_checkPermissions",
                value:
                  ((r = lp(
                    up().m(function t() {
                      var e, n, r, o, i;
                      return up().w(
                        function (t) {
                          for (;;)
                            switch ((t.p = t.n)) {
                              case 0:
                                if (
                                  null !== (e = this._navigator.permissions) &&
                                  void 0 !== e &&
                                  e.query
                                ) {
                                  t.n = 1;
                                  break;
                                }
                                return (
                                  (this._hasAccelerometerPermission = !0),
                                  (this._hasGyroscopePermission = !0),
                                  _t.debug(
                                    "Permissions API not available, defaulting to allowed access"
                                  ),
                                  t.a(2)
                                );
                              case 1:
                                return (
                                  (t.p = 1),
                                  (t.n = 2),
                                  this._navigator.permissions.query({
                                    name: bp,
                                  })
                                );
                              case 2:
                                (n = t.v),
                                  (this._hasAccelerometerPermission =
                                    n.state === vp),
                                  (t.n = 4);
                                break;
                              case 3:
                                (t.p = 3),
                                  (o = t.v),
                                  _t.warn(
                                    "Failed to check accelerometer permission:",
                                    o
                                  ),
                                  (this._hasAccelerometerPermission = !0);
                              case 4:
                                return (
                                  (t.p = 4),
                                  (t.n = 5),
                                  this._navigator.permissions.query({
                                    name: gp,
                                  })
                                );
                              case 5:
                                (r = t.v),
                                  (this._hasGyroscopePermission =
                                    r.state === vp),
                                  (t.n = 7);
                                break;
                              case 6:
                                (t.p = 6),
                                  (i = t.v),
                                  _t.warn(
                                    "Failed to check gyroscope permission:",
                                    i
                                  ),
                                  (this._hasGyroscopePermission = !0);
                              case 7:
                                this._hasAccelerometerPermission ||
                                  this._hasGyroscopePermission ||
                                  _t.warn(
                                    "Both accelerometer and gyroscope permissions are denied"
                                  );
                              case 8:
                                return t.a(2);
                            }
                        },
                        t,
                        this,
                        [
                          [4, 6],
                          [1, 3],
                        ]
                      );
                    })
                  )),
                  function () {
                    return r.apply(this, arguments);
                  }),
              },
              {
                key: "_processAccelerometerData",
                value: function (t, e) {
                  if (
                    t &&
                    !(
                      e - this._lastAccelerometerData.time <=
                      this._samplePeriod
                    )
                  ) {
                    var n = this._utils.isUndefinedNull(t.x)
                        ? -1
                        : this._utils.cutDecimalPointDigits(t.x, 4),
                      r = this._utils.isUndefinedNull(t.y)
                        ? -1
                        : this._utils.cutDecimalPointDigits(t.y, 4),
                      o = this._utils.isUndefinedNull(t.z)
                        ? -1
                        : this._utils.cutDecimalPointDigits(t.z, 4);
                    if (
                      n !== this._lastAccelerometerData.x ||
                      r !== this._lastAccelerometerData.y ||
                      o !== this._lastAccelerometerData.z
                    ) {
                      var i =
                        this._storageUtils.getAndUpdateEventSequenceNumber();
                      (this._lastAccelerometerData = {
                        x: n,
                        y: r,
                        z: o,
                        time: e,
                      }),
                        this._dataQueue.addToQueue("accelerometer_events", [
                          null,
                          i,
                          e,
                          n,
                          r,
                          o,
                        ]),
                        _t.isDebug() &&
                          _t.debug(
                            "Accelerometer data: timestamp:"
                              .concat(e, " x,y,z:")
                              .concat(n, ",")
                              .concat(r, ",")
                              .concat(o)
                          );
                    }
                  }
                },
              },
              {
                key: "_processGyroData",
                value: function (t, e, n) {
                  if (
                    t &&
                    !(n - this._lastGyroData.time <= this._samplePeriodGyro)
                  ) {
                    var r = this._utils.isUndefinedNull(t.alpha)
                        ? 0
                        : this._utils.cutDecimalPointDigits(t.alpha, 4),
                      o = this._utils.isUndefinedNull(t.beta)
                        ? 0
                        : this._utils.cutDecimalPointDigits(t.beta, 4),
                      i = this._utils.isUndefinedNull(t.gamma)
                        ? 0
                        : this._utils.cutDecimalPointDigits(t.gamma, 4);
                    if (
                      r !== this._lastGyroData.alpha ||
                      o !== this._lastGyroData.beta ||
                      i !== this._lastGyroData.gamma
                    ) {
                      var a =
                        this._storageUtils.getAndUpdateEventSequenceNumber();
                      (this._lastGyroData = {
                        alpha: r,
                        beta: o,
                        gamma: i,
                        time: n,
                      }),
                        this._dataQueue.addToQueue("gyro_events", [
                          null,
                          a,
                          n,
                          e,
                          r,
                          o,
                          i,
                        ]),
                        _t.isDebug() &&
                          _t.debug(
                            "Gyro data: timestamp:"
                              .concat(n, " alpha,beta,gamma:")
                              .concat(r, ",")
                              .concat(o, ",")
                              .concat(i)
                          );
                    }
                  }
                },
              },
              {
                key: "_onAccelerometerEvent",
                value: function (t) {
                  if (!t) return !0;
                  var e = this._utils.dateNow();
                  return (
                    this._hasAccelerometerPermission &&
                      t.accelerationIncludingGravity &&
                      this._processAccelerometerData(
                        t.accelerationIncludingGravity,
                        e
                      ),
                    this._hasGyroscopePermission &&
                      t.rotationRate &&
                      this._processGyroData(
                        t.rotationRate,
                        t.absolute || !1,
                        e
                      ),
                    !0
                  );
                },
              },
              {
                key: "startFeature",
                value:
                  ((n = lp(
                    up().m(function t() {
                      return up().w(
                        function (t) {
                          for (;;)
                            switch (t.n) {
                              case 0:
                                if (this._window.DeviceMotionEvent) {
                                  t.n = 1;
                                  break;
                                }
                                return (
                                  _t.debug(
                                    "DeviceMotionEvent not supported in this environment"
                                  ),
                                  t.a(2)
                                );
                              case 1:
                                return (t.n = 2), this._checkPermissions();
                              case 2:
                                this._hasAccelerometerPermission ||
                                this._hasGyroscopePermission
                                  ? (this._utils.addEventListener(
                                      this._window,
                                      "devicemotion",
                                      this._onAccelerometerventFunc
                                    ),
                                    _t.debug(
                                      "Device motion event listener added successfully"
                                    ))
                                  : _t.warn(
                                      "Device motion event listener not added due to missing permissions"
                                    );
                              case 3:
                                return t.a(2);
                            }
                        },
                        t,
                        this
                      );
                    })
                  )),
                  function () {
                    return n.apply(this, arguments);
                  }),
              },
              {
                key: "stopFeature",
                value: function () {
                  this._window.DeviceMotionEvent &&
                    (this._utils.removeEventListener(
                      this._window,
                      "devicemotion",
                      this._onAccelerometerventFunc
                    ),
                    _t.debug("Device motion event listener removed"));
                },
              },
              {
                key: "updateFeatureConfig",
                value: function () {
                  var t = this._configurationRepository.get(
                      w.accelerometerEventsSamplePeriod
                    ),
                    e = this._configurationRepository.get(
                      w.gyroEventsSamplePeriod
                    );
                  void 0 !== t && (this._samplePeriod = t),
                    void 0 !== e && (this._samplePeriodGyro = e),
                    _t.debug(
                      "Updated sample periods - Accelerometer: "
                        .concat(this._samplePeriod, ", Gyro: ")
                        .concat(this._samplePeriodGyro)
                    );
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return _p;
                },
              },
            ]
          )
        );
        var n, r;
      })(uo);
    function Sp(t) {
      return (
        (Sp =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Sp(t)
      );
    }
    function Ep(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, kp(r.key), r);
      }
    }
    function kp(t) {
      var e = (function (t, e) {
        if ("object" != Sp(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Sp(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Sp(e) ? e : e + "";
    }
    function Tp(t, e, n) {
      return (
        (e = Op(e)),
        (function (t, e) {
          if (e && ("object" == Sp(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Pp()
            ? Reflect.construct(e, n || [], Op(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Pp() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Pp = function () {
        return !!t;
      })();
    }
    function Op(t) {
      return (
        (Op = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Op(t)
      );
    }
    function Cp(t, e) {
      return (
        (Cp = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Cp(t, e)
      );
    }
    var jp = ["clientX", "clientY"],
      Mp = ["screenX", "screenY"],
      Rp = function (t, e, n) {
        function r(t, e) {
          var r = e[n[0]] - t[n[0]],
            o = e[n[1]] - t[n[1]];
          return Math.sqrt(r * r + o * o);
        }
        return {
          getScale: function () {
            return r(t[0], t[1]) / r(e[0], e[1]);
          },
          getFocusPoint: function () {
            return (
              (e = t[1]),
              (r = t[0]),
              { x: (e[n[0]] + r[n[0]]) / 2, y: (e[n[1]] + r[n[1]]) / 2 }
            );
            var e, r;
          },
        };
      },
      Bp = { pointerdown: 0, pointermove: 1, pointerup: 2 },
      Ap = {
        configKey: "isPinchZoomEvents",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !1,
        shouldRun: !0,
        isFrameRelated: !0,
        runInSlave: !0,
        runInLean: !0,
        runInUns: !1,
        isRunning: !1,
        instance: null,
      },
      xp = ["eventSequence", "timestamp", "focusX", "focusY", "scaleFactor"],
      Dp = (function (t) {
        function e(t, n, r, o, i) {
          var a;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((a = Tp(this, e))._utils = t),
            (a._dataQ = r),
            (a._elements = n),
            (a._msgBus = o),
            (a._evGesturesCache = []),
            (a._prevEventDiff = -1),
            (a._prevEvGestureSet = []),
            (a._prevTouchEvents = []),
            (a._onAllBrowsersPinchZoomEventBinded =
              a._onAllBrowsersPinchZoomEvent.bind(a)),
            (a._maxShadowDepth = i.getMaxShadowDepth()),
            (a._iframeLoadingTimeout = i.getIframeLoadingTimeout()),
            a
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && Cp(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && Ep(t.prototype, e),
              n && Ep(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value: function (t) {
                  this._bind(t);
                },
              },
              {
                key: "stopFeature",
                value: function (t) {
                  this._unbind(t);
                },
              },
              {
                key: "_addToCommunicationQueue",
                value: function (t, e, n, r) {
                  (t !== Bp.pointerdown && t !== Bp.pointerup) ||
                    this._msgBus.publish("pinchEvent", { action: t });
                  var o = this.getEventTimestamp(r),
                    i =
                      this._utils.StorageUtils.getAndUpdateEventSequenceNumber();
                  this._dataQ.addToQueue(
                    "pinch_events",
                    this._utils.convertToArrayByMap(xp, {
                      eventSequence: i,
                      timestamp: o,
                      focusX: n.x,
                      focusY: n.y,
                      scaleFactor: e,
                    })
                  );
                },
              },
              {
                key: "_bind",
                value: function (t) {
                  var e,
                    n = this,
                    r = t.getDocument();
                  if (
                    (window.PointerEvent
                      ? (e = ["pointerdown", "pointermove", "pointerup"])
                      : window.TouchEvent &&
                        (e = [
                          "touchstart",
                          "touchend",
                          "touchcancel",
                          "touchmove",
                        ]),
                    (this._listeningToEvents = e),
                    this._listeningToEvents)
                  )
                    for (
                      var o = function (e) {
                          n._utils.addEventListener(
                            r,
                            n._listeningToEvents[e],
                            n._onAllBrowsersPinchZoomEventBinded,
                            !1,
                            !1
                          ),
                            t
                              .collectAllElementsBySelectorAsync(
                                "iframe",
                                n._maxShadowDepth,
                                n._iframeLoadingTimeout
                              )
                              .then(function (t) {
                                t.forEach(function (t) {
                                  t &&
                                    t.contentDocument &&
                                    n._utils.addEventListener(
                                      t.contentDocument,
                                      n._listeningToEvents[e],
                                      n._onAllBrowsersPinchZoomEventBinded,
                                      !1,
                                      !1
                                    );
                                });
                              });
                        },
                        i = 0;
                      i < this._listeningToEvents.length;
                      i++
                    )
                      o(i);
                },
              },
              {
                key: "_unbind",
                value: function (t) {
                  var e = this,
                    n = t.getDocument();
                  if (this._listeningToEvents)
                    for (
                      var r = function (r) {
                          e._utils.removeEventListener(
                            n,
                            e._listeningToEvents[r],
                            e._onAllBrowsersPinchZoomEventBinded
                          ),
                            t
                              .collectAllElementsBySelectorAsync(
                                "iframe",
                                e._maxShadowDepth,
                                e._iframeLoadingTimeout
                              )
                              .then(function (t) {
                                t.forEach(function (t) {
                                  t &&
                                    t.contentDocument &&
                                    e._utils.removeEventListener(
                                      t.contentDocument,
                                      e._listeningToEvents[r],
                                      e._onAllBrowsersPinchZoomEventBinded
                                    );
                                });
                              });
                        },
                        o = 0;
                      o < this._listeningToEvents.length;
                      o++
                    )
                      r(o);
                  (this._evGesturesCache = []), (this._prevEventDiff = -1);
                },
              },
              {
                key: "_onAllBrowsersPinchZoomEvent",
                value: function (t) {
                  switch (t.type) {
                    case "pointerdown":
                      this._onPointerDownEvent(t);
                      break;
                    case "pointermove":
                      this._onPointerMoveEvent(t);
                      break;
                    case "pointerup":
                      this._onPointerUpEvent(t);
                      break;
                    case "touchstart":
                      this._onTouchStartEvent(t);
                      break;
                    case "touchend":
                      this._onTouchEndEvent();
                      break;
                    case "touchmove":
                      this._onTouchMoveEvent(t);
                  }
                  return !0;
                },
              },
              {
                key: "_onPointerDownEvent",
                value: function (t) {
                  this._evGesturesCache.push(t);
                },
              },
              {
                key: "_onPointerMoveEvent",
                value: function (t) {
                  for (var e = 0; e < this._evGesturesCache.length; e++)
                    if (t.pointerId === this._evGesturesCache[e].pointerId) {
                      this._evGesturesCache[e] = t;
                      break;
                    }
                  if (
                    2 === this._evGesturesCache.length &&
                    this._evGesturesCache[0].pointerId !==
                      this._evGesturesCache[1].pointerId
                  ) {
                    var n = Math.abs(
                      this._evGesturesCache[0].clientX -
                        this._evGesturesCache[1].clientX
                    );
                    if (
                      this._prevEventDiff > 0 &&
                      (this._prevEventDiff,
                      this._prevEventDiff,
                      2 === this._prevEvGestureSet.length)
                    ) {
                      var r = Rp(
                          this._evGesturesCache,
                          this._prevEvGestureSet,
                          jp
                        ),
                        o = r.getScale();
                      this._addToCommunicationQueue(
                        Bp[t.type],
                        o,
                        r.getFocusPoint(),
                        t
                      );
                    }
                    (this._prevEventDiff = n),
                      (this._prevEvGestureSet = this._evGesturesCache.slice(0));
                  } else
                    this._evGesturesCache.length > 2 &&
                      ((this._evGesturesCache = []),
                      (this._prevEvGestureSet = []));
                },
              },
              {
                key: "_onPointerUpEvent",
                value: function (t) {
                  for (var e = 0; e < this._evGesturesCache.length; e++)
                    if (this._evGesturesCache[e].pointerId === t.pointerId) {
                      this._evGesturesCache.splice(e, 1);
                      break;
                    }
                  this._evGesturesCache.length < 2 &&
                    ((this._prevEventDiff = -1), (this._prevEvGestureSet = []));
                },
              },
              {
                key: "_onTouchStartEvent",
                value: function (t) {
                  (this._prevTouchEvents[0] = t.touches.item(0)),
                    (this._prevTouchEvents[1] = t.touches.item(1));
                },
              },
              {
                key: "_onTouchEndEvent",
                value: function () {
                  this._prevTouchEvents = [];
                },
              },
              {
                key: "_onTouchMoveEvent",
                value: function (t) {
                  if (2 === t.touches.length) {
                    if (2 === this._prevTouchEvents.length) {
                      var e = [t.touches.item(0), t.touches.item(1)],
                        n = Rp(e, this._prevTouchEvents.splice(0), Mp),
                        r = n.getScale();
                      this._addToCommunicationQueue(
                        Bp[t.type],
                        r,
                        n.getFocusPoint(),
                        t
                      );
                    }
                    (this._prevTouchEvents[0] = t.touches.item(0)),
                      (this._prevTouchEvents[1] = t.touches.item(1));
                  }
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return Ap;
                },
              },
            ]
          )
        );
      })(uo);
    function Lp(t) {
      return (
        (Lp =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Lp(t)
      );
    }
    function Np(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Ip(r.key), r);
      }
    }
    function Ip(t) {
      var e = (function (t, e) {
        if ("object" != Lp(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Lp(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Lp(e) ? e : e + "";
    }
    function Fp(t, e, n) {
      return (
        (e = Wp(e)),
        (function (t, e) {
          if (e && ("object" == Lp(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Up()
            ? Reflect.construct(e, n || [], Wp(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Up() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Up = function () {
        return !!t;
      })();
    }
    function Wp(t) {
      return (
        (Wp = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Wp(t)
      );
    }
    function Gp(t, e) {
      return (
        (Gp = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Gp(t, e)
      );
    }
    var Hp = { load: 0 },
      Qp = {
        configKey: "isScriptExecuteEve",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !1,
        shouldRun: !0,
        isFrameRelated: !1,
        runInSlave: !1,
        runInLean: !1,
        runInUns: !1,
        isRunning: !1,
        instance: null,
      },
      zp = [
        "eventSequence",
        "timestamp",
        "eventType",
        "scriptId",
        "namespaceURI",
        "outerHTML",
        "scriptSource",
        "scriptType",
      ],
      Vp = (function (t) {
        function e(t, n) {
          var r;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((r = Fp(this, e))._onScriptExecuteEventFunc =
              r._onScriptExecuteEvent.bind(r)),
            (r._dataQueue = n),
            (r._utils = t),
            r
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && Gp(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && Np(t.prototype, e),
              n && Np(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "_onScriptExecuteEvent",
                value: function (t) {
                  if (
                    t &&
                    t.target &&
                    ("load" !== t.type ||
                      "script" === t.target.nodeName.toLowerCase())
                  )
                    try {
                      var e = this.getEventTimestamp(t),
                        n =
                          this._utils.StorageUtils.getAndUpdateEventSequenceNumber(),
                        r = Hp[t.type];
                      this._utils.isUndefinedNull(r) && (r = -1),
                        _t.isDebug() &&
                          _t.trace(
                            "got event " +
                              t.type +
                              ", " +
                              r +
                              ", scriptSrc: " +
                              t.target.src +
                              " at time " +
                              e
                          ),
                        this._dataQueue.addToQueue(
                          "script_events",
                          this._utils.convertToArrayByMap(zp, {
                            eventSequence: n,
                            timestamp: e,
                            eventType: r,
                            scriptId: t.target.id || "",
                            namespaceURI: t.target.namespaceURI || "",
                            outerHTML: t.target.outerHTML || "",
                            scriptSource: t.target.src || "",
                            scriptType: t.target.type || "",
                          })
                        );
                    } catch (t) {
                      _t.error(
                        "error on getScriptExecuteEvent ".concat(t.toString())
                      );
                    }
                },
              },
              {
                key: "startFeature",
                value: function () {
                  this._utils.addEventListener(
                    document,
                    "load",
                    this._onScriptExecuteEventFunc,
                    !0
                  );
                },
              },
              {
                key: "stopFeature",
                value: function () {
                  this._utils.removeEventListener(
                    document,
                    "load",
                    this._onScriptExecuteEventFunc,
                    !0
                  );
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return Qp;
                },
              },
            ]
          )
        );
      })(uo);
    function Kp(t) {
      return (
        (Kp =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Kp(t)
      );
    }
    function qp(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Jp(r.key), r);
      }
    }
    function Jp(t) {
      var e = (function (t, e) {
        if ("object" != Kp(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Kp(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Kp(e) ? e : e + "";
    }
    function Xp(t, e, n) {
      return (
        (e = Zp(e)),
        (function (t, e) {
          if (e && ("object" == Kp(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Yp()
            ? Reflect.construct(e, n || [], Zp(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Yp() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Yp = function () {
        return !!t;
      })();
    }
    function Zp(t) {
      return (
        (Zp = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Zp(t)
      );
    }
    function $p(t, e) {
      return (
        ($p = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        $p(t, e)
      );
    }
    var th = {
        configKey: "isNetInfoEvents",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !1,
        shouldRun: !0,
        isFrameRelated: !1,
        runInSlave: !1,
        runInLean: !1,
        runInUns: !1,
        isRunning: !1,
        instance: null,
      },
      eh = [
        "eventSequence",
        "timestamp",
        "connectionType",
        "effectiveType",
        "downlinkMax",
        "downlink",
        "rtt",
        "isSaveData",
      ],
      nh = (function (t) {
        function e(t, n) {
          var r,
            o =
              arguments.length > 2 && void 0 !== arguments[2]
                ? arguments[2]
                : navigator.connection ||
                  navigator.mozConnection ||
                  navigator.webkitConnection;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((r = Xp(this, e))._dataQueue = n),
            (r._utils = t),
            (r._connection = o),
            (r._boundOnChangeNetworkInfo = r.onChangeNetworkInfo.bind(r)),
            r
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && $p(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && qp(t.prototype, e),
              n && qp(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "onChangeNetworkInfo",
                value: function () {
                  _t.debug("NetInfoEvents:onChangeNetworkInfo");
                  var t = this._utils.isUndefinedNull(this._connection.saveData)
                      ? ""
                      : this._connection.saveData.toString(),
                    e = this.getEventTimestamp(),
                    n =
                      this._utils.StorageUtils.getAndUpdateEventSequenceNumber();
                  this._dataQueue.addToQueue(
                    "net_info_events",
                    this._utils.convertToArrayByMap(eh, {
                      eventSequence: n,
                      timestamp: e,
                      connectionType: this._connection.type
                        ? this._connection.type
                        : "",
                      effectiveType: this._connection.effectiveType
                        ? this._connection.effectiveType
                        : "",
                      downlinkMax: this._connection.downlinkMax
                        ? this._connection.downlinkMax.toString()
                        : "",
                      downlink: this._connection.downlink
                        ? this._connection.downlink.toString()
                        : "",
                      rtt: this._connection.rtt
                        ? this._connection.rtt.toString()
                        : "",
                      isSaveData: t,
                    })
                  );
                },
              },
              {
                key: "startFeature",
                value: function () {
                  this._connection &&
                    (this._connection.addEventListener(
                      "change",
                      this._boundOnChangeNetworkInfo,
                      !0
                    ),
                    this.onChangeNetworkInfo());
                },
              },
              {
                key: "stopFeature",
                value: function () {
                  this._connection &&
                    this._connection.removeEventListener(
                      "change",
                      this._boundOnChangeNetworkInfo,
                      !0
                    );
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return th;
                },
              },
            ]
          )
        );
      })(uo);
    function rh(t) {
      return (
        (rh =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        rh(t)
      );
    }
    function oh(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, ih(r.key), r);
      }
    }
    function ih(t) {
      var e = (function (t, e) {
        if ("object" != rh(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != rh(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == rh(e) ? e : e + "";
    }
    function ah(t, e, n) {
      return (
        (e = sh(e)),
        (function (t, e) {
          if (e && ("object" == rh(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          uh()
            ? Reflect.construct(e, n || [], sh(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function uh() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (uh = function () {
        return !!t;
      })();
    }
    function sh(t) {
      return (
        (sh = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        sh(t)
      );
    }
    function ch(t, e) {
      return (
        (ch = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        ch(t, e)
      );
    }
    var lh = {
        configKey: "isDeviceOrientationEvents",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !1,
        shouldRun: !0,
        isFrameRelated: !1,
        runInSlave: !1,
        runInLean: !1,
        runInUns: !1,
        isRunning: !1,
        instance: null,
      },
      fh = {
        undefined: 0,
        "portrait-primary": 1,
        "landscape-primary": 2,
        "portrait-secondary": 3,
        "landscape-secondary": 4,
      },
      ph = ["eventSequence", "timestamp", "orientation"],
      hh = (function (t) {
        function e(t, n) {
          var r;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((r = ah(this, e))._dataQ = n),
            (r._utils = t),
            (r._onDeviceOrientationEventFunc =
              r._onDeviceOrientationEvent.bind(r)),
            screen.mozOrientation && screen.addEventListener
              ? ((r._eventTarget = screen),
                (r._eventName = "mozorientationchange"))
              : screen.msOrientation && screen.addEventListener
              ? ((r._eventTarget = screen),
                (r._eventName = "msorientationchange"))
              : ((r._eventTarget = window),
                (r._eventName = "orientationchange")),
            r
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && ch(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && oh(t.prototype, e),
              n && oh(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value: function () {
                  this._utils.addEventListener(
                    this._eventTarget,
                    this._eventName,
                    this._onDeviceOrientationEventFunc
                  ),
                    this._handleDeviceOrientationEvent(screen);
                },
              },
              {
                key: "stopFeature",
                value: function () {
                  this._utils.removeEventListener(
                    this._eventTarget,
                    this._eventName,
                    this._onDeviceOrientationEventFunc
                  );
                },
              },
              {
                key: "_onDeviceOrientationEvent",
                value: function (t) {
                  var e;
                  (e = t && t.target ? t.target.screen || t.target : screen),
                    this._handleDeviceOrientationEvent(e);
                },
              },
              {
                key: "_handleDeviceOrientationEvent",
                value: function (t) {
                  var e = t.mozOrientation || t.msOrientation || t.orientation;
                  if (void 0 !== e) {
                    var n = e.type || e,
                      r = fh[n];
                    if (void 0 !== r) {
                      if (this._lastDeviceOrientationType !== r) {
                        var o = this.getEventTimestamp(),
                          i =
                            this._utils.StorageUtils.getAndUpdateEventSequenceNumber();
                        (this._lastDeviceOrientationType = r),
                          _t.trace(
                            "onDeviceOrientationEvent: Orientation changed to "
                              .concat(r, " at time ")
                              .concat(o)
                          ),
                          this._dataQ.addToQueue(
                            "screen_orientation",
                            this._utils.convertToArrayByMap(ph, {
                              eventSequence: i,
                              timestamp: o,
                              orientation: r,
                            })
                          );
                      }
                    } else
                      _t.error(
                        "onDeviceOrientationEvent: Unknown orientation ".concat(
                          n,
                          " value."
                        )
                      );
                  } else
                    _t.debug(
                      "onDeviceOrientationEvent: Unable to find orientation data."
                    );
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return lh;
                },
              },
            ]
          )
        );
      })(uo);
    function dh(t) {
      return (
        (dh =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        dh(t)
      );
    }
    function yh(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, mh(r.key), r);
      }
    }
    function mh(t) {
      var e = (function (t, e) {
        if ("object" != dh(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != dh(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == dh(e) ? e : e + "";
    }
    function vh(t, e, n) {
      return (
        (e = gh(e)),
        (function (t, e) {
          if (e && ("object" == dh(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          bh()
            ? Reflect.construct(e, n || [], gh(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function bh() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (bh = function () {
        return !!t;
      })();
    }
    function gh(t) {
      return (
        (gh = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        gh(t)
      );
    }
    function _h(t, e) {
      return (
        (_h = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        _h(t, e)
      );
    }
    var wh = {
        configKey: "isTapEvents",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !1,
        shouldRun: !0,
        isFrameRelated: !0,
        runInSlave: !0,
        runInLean: !0,
        runInUns: !1,
        isRunning: !1,
        instance: null,
      },
      Sh = [
        "eventSequence",
        "timestamp",
        "screenX",
        "screenY",
        "pageX",
        "pageY",
        "clientX",
        "clientY",
        "isTrusted",
        "elementHash",
        "touchIndex",
        "touchSizeMajor",
        "touchSizeMinor",
      ],
      Eh = [
        "eventSequence",
        "timestamp",
        "screenX",
        "screenY",
        "pageX",
        "pageY",
        "clientX",
        "clientY",
        "isTrusted",
        "elementHash",
        "touchIndex",
        "touchSizeMajor",
        "touchSizeMinor",
      ],
      kh = (function (t) {
        function e(t, n, r, o, i, a) {
          var u;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((u = vh(this, e))._configurationRepository = t),
            (u._utils = n),
            (u._dataQ = o),
            (u._elements = r),
            (u._activeTouchActions = {}),
            (u._maskingService = i),
            (u._tapMaxSlop =
              u._configurationRepository.get("tapEventsTapMaxSlop") || 20),
            (u._longPressTimeout =
              u._configurationRepository.get("tapEventsLongPressTimeout") ||
              500),
            (u._handleStartEventBind = u._handleStartEvent.bind(u)),
            (u._handleMoveEventBind = u._handleMoveEvent.bind(u)),
            (u._handleEndEventBind = u._handleEndEvent.bind(u)),
            (u._handleCancelEventBind = u._handleCancelEvent.bind(u)),
            (u._eventDefinitions = e.getSupportedTouchEvents()),
            (u._maxShadowDepth = a.getMaxShadowDepth()),
            (u._iframeLoadingTimeout = a.getIframeLoadingTimeout()),
            u
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && _h(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && yh(t.prototype, e),
              n && yh(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value: function (t) {
                  this._bind(t);
                },
              },
              {
                key: "stopFeature",
                value: function (t) {
                  this._unbind(t);
                },
              },
              {
                key: "updateFeatureConfig",
                value: function () {
                  (this._tapMaxSlop =
                    void 0 !==
                    this._configurationRepository.get("tapEventsTapMaxSlop")
                      ? this._configurationRepository.get("tapEventsTapMaxSlop")
                      : this._tapMaxSlop),
                    (this._longPressTimeout =
                      void 0 !==
                      this._configurationRepository.get(
                        "tapEventsLongPressTimeout"
                      )
                        ? this._configurationRepository.get(
                            "tapEventsLongPressTimeout"
                          )
                        : this._longPressTimeout);
                },
              },
              {
                key: "_bind",
                value: function (t) {
                  var e = this;
                  if (this._eventDefinitions) {
                    var n = t.getDocument();
                    this._addEventListeners(n),
                      t
                        .collectAllElementsBySelectorAsync(
                          "iframe",
                          this._maxShadowDepth,
                          this._iframeLoadingTimeout
                        )
                        .then(function (t) {
                          t.forEach(function (t) {
                            t &&
                              t.contentDocument &&
                              e._addEventListeners(t.contentDocument);
                          });
                        });
                  } else
                    _t.debug(
                      "TapEvents:_bind - No event definitions. Might be a legacy browser. Aborting bind operation."
                    );
                },
              },
              {
                key: "_addEventListeners",
                value: function (t) {
                  this._utils.addEventListener(
                    t,
                    this._eventDefinitions.startEvent,
                    this._handleStartEventBind
                  ),
                    this._utils.addEventListener(
                      t,
                      this._eventDefinitions.moveEvent,
                      this._handleMoveEventBind
                    ),
                    this._utils.addEventListener(
                      t,
                      this._eventDefinitions.endEvent,
                      this._handleEndEventBind
                    ),
                    this._utils.addEventListener(
                      t,
                      this._eventDefinitions.cancelEvent,
                      this._handleCancelEventBind
                    );
                },
              },
              {
                key: "_unbind",
                value: function (t) {
                  var e = this;
                  if (this._eventDefinitions) {
                    var n = t.getDocument();
                    this._removeEventListeners(n),
                      t
                        .collectAllElementsBySelectorAsync(
                          "iframe",
                          this._maxShadowDepth,
                          this._iframeLoadingTimeout
                        )
                        .then(function (t) {
                          t.forEach(function (t) {
                            t &&
                              t.contentDocument &&
                              e._removeEventListeners(t.contentDocument);
                          });
                        });
                  }
                },
              },
              {
                key: "_removeEventListeners",
                value: function (t) {
                  this._utils.removeEventListener(
                    t,
                    this._eventDefinitions.startEvent,
                    this._handleStartEventBind
                  ),
                    this._utils.removeEventListener(
                      t,
                      this._eventDefinitions.moveEvent,
                      this._handleMoveEventBind
                    ),
                    this._utils.removeEventListener(
                      t,
                      this._eventDefinitions.endEvent,
                      this._handleEndEventBind
                    ),
                    this._utils.removeEventListener(
                      t,
                      this._eventDefinitions.cancelEvent,
                      this._handleCancelEventBind
                    );
                },
              },
              {
                key: "_handleStartEvent",
                value: function (t) {
                  for (var e = this._getEventData(t), n = 0; n < e.length; n++)
                    this._activeTouchActions[e[n].identifier] = {
                      startTime: this.getEventTimestamp(),
                      startX: e[n].touchData.pageX,
                      startY: e[n].touchData.pageY,
                      offsetX: 0,
                      offsetY: 0,
                    };
                },
              },
              {
                key: "_handleMoveEvent",
                value: function (t) {
                  for (
                    var e = this._getEventData(t), n = 0;
                    n < e.length;
                    n++
                  ) {
                    var r = this._activeTouchActions[e[n].identifier];
                    r &&
                      ((r.offsetX = Math.abs(e[n].touchData.pageX - r.startX)),
                      (r.offsetY = Math.abs(e[n].touchData.pageY - r.startY)));
                  }
                },
              },
              {
                key: "_handleEndEvent",
                value: function (t) {
                  for (
                    var e = this._getEventData(t), n = 0;
                    n < e.length;
                    n++
                  ) {
                    var r = this._activeTouchActions[e[n].identifier];
                    r &&
                      (r.offsetX < this._tapMaxSlop &&
                        r.offsetY < this._tapMaxSlop &&
                        (this.getEventTimestamp() - r.startTime <
                        this._longPressTimeout
                          ? this._sendEvent(
                              "tap_events",
                              Sh,
                              e[n].identifier,
                              e[n].touchData,
                              e[n].eventArgs
                            )
                          : this._sendEvent(
                              "longpress_events",
                              Eh,
                              e[n].identifier,
                              e[n].touchData,
                              e[n].eventArgs
                            )),
                      delete this._activeTouchActions[e[n].identifier]);
                  }
                },
              },
              {
                key: "_handleCancelEvent",
                value: function (t) {
                  for (var e = this._getEventData(t), n = 0; n < e.length; n++)
                    delete this._activeTouchActions[e[n].identifier];
                },
              },
              {
                key: "_getEventData",
                value: function (t) {
                  if (void 0 !== t.changedTouches) {
                    for (var e = [], n = 0; n < t.changedTouches.length; n++) {
                      var r = t.changedTouches[n],
                        o = r.identifier;
                      e.push({ identifier: o, touchData: r, eventArgs: t });
                    }
                    return e;
                  }
                  if (
                    null != t.pointerType &&
                    ("touch" === t.pointerType ||
                      "pen" === t.pointerType ||
                      t.pointerType === t.MSPOINTER_TYPE_TOUCH ||
                      t.pointerType === t.MSPOINTER_TYPE_PEN)
                  )
                    return [
                      {
                        identifier: t.pointerId ? t.pointerId : 0,
                        touchData: t,
                        eventArgs: t,
                      },
                    ];
                  return [];
                },
              },
              {
                key: "_sendEvent",
                value: function (t, e, n, r, o) {
                  var i = this.getEventTimestamp(),
                    a = so[o.isTrusted],
                    u = this._elements.getElementHashFromEvent(o),
                    s =
                      this._utils.StorageUtils.getAndUpdateEventSequenceNumber();
                  this._utils.isUndefinedNull(n) && (n = 0),
                    this._dataQ.addToQueue(
                      t,
                      this._utils.convertToArrayByMap(e, {
                        eventSequence: s,
                        timestamp: i,
                        screenX: this._maskingService.shouldMaskCoordinates()
                          ? mo
                          : r.screenX
                          ? Math.round(r.screenX)
                          : 0,
                        screenY: this._maskingService.shouldMaskCoordinates()
                          ? mo
                          : r.screenY
                          ? Math.round(r.screenY)
                          : 0,
                        pageX: this._maskingService.shouldMaskCoordinates()
                          ? mo
                          : r.pageX || 0,
                        pageY: this._maskingService.shouldMaskCoordinates()
                          ? mo
                          : r.pageY || 0,
                        clientX: this._maskingService.shouldMaskCoordinates()
                          ? mo
                          : r.clientX || 0,
                        clientY: this._maskingService.shouldMaskCoordinates()
                          ? mo
                          : r.clientY || 0,
                        isTrusted: a,
                        elementHash: u,
                        touchIndex: n % 1e4,
                        touchSizeMajor: r.radiusX ? 2 * r.radiusX : 0,
                        touchSizeMinor: r.radiusY ? 2 * r.radiusY : 0,
                      })
                    );
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return wh;
                },
              },
              {
                key: "getSupportedTouchEvents",
                value: function () {
                  return window.TouchEvent
                    ? {
                        startEvent: "touchstart",
                        moveEvent: "touchmove",
                        endEvent: "touchend",
                        cancelEvent: "touchcancel",
                      }
                    : window.PointerEvent
                    ? {
                        startEvent: "pointerdown",
                        moveEvent: "pointermove",
                        endEvent: "pointerup",
                        cancelEvent: "pointercancel",
                      }
                    : void _t.debug(
                        "TapEvents:_createEventsToListenList - No touch support for browser."
                      );
                },
              },
            ]
          )
        );
      })(uo);
    function Th(t) {
      return (
        (Th =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Th(t)
      );
    }
    function Ph(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Oh(r.key), r);
      }
    }
    function Oh(t) {
      var e = (function (t, e) {
        if ("object" != Th(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Th(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Th(e) ? e : e + "";
    }
    function Ch(t, e, n) {
      return (
        (e = Mh(e)),
        (function (t, e) {
          if (e && ("object" == Th(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          jh()
            ? Reflect.construct(e, n || [], Mh(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function jh() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (jh = function () {
        return !!t;
      })();
    }
    function Mh(t) {
      return (
        (Mh = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Mh(t)
      );
    }
    function Rh(t, e) {
      return (
        (Rh = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Rh(t, e)
      );
    }
    var Bh = {
        configKey: "isStorageEvents",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !1,
        shouldRun: !1,
        isFrameRelated: !1,
        runInSlave: !1,
        runInLean: !1,
        runInUns: !1,
        isRunning: !1,
        instance: null,
      },
      Ah = 0,
      xh = ["eventSequence", "timestamp", "keys", "action", "tabsOpened"],
      Dh = (function (t) {
        function e(t, n, r, o) {
          var i;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((i = Ch(this, e))._utils = t),
            (i._dataQ = r),
            (i._elements = n),
            (i._msgBus = o),
            (i._onAllStorageEventBinded = i._onAllStorageEvent.bind(i)),
            i
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && Rh(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && Ph(t.prototype, e),
              n && Ph(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value: function (t) {
                  this._bind(t);
                },
              },
              {
                key: "stopFeature",
                value: function (t) {
                  this._unbind(t);
                },
              },
              {
                key: "_addToCommunicationQueue",
                value: function (t, e, n, r, o) {
                  t === Ah &&
                    this._msgBus.publish("storageEvent", { action: t });
                  var i = this.getEventTimestamp(o),
                    a =
                      this._utils.StorageUtils.getAndUpdateEventSequenceNumber();
                  this._dataQ.addToQueue(
                    "storage_events",
                    this._utils.convertToArrayByMap(xh, {
                      eventSequence: a,
                      timestamp: i,
                      keys: e,
                      action: n,
                      tabsOpened: r,
                    })
                  );
                },
              },
              {
                key: "_bind",
                value: function (t) {
                  var e,
                    n = t.Context;
                  if (
                    ((n.localStorage || n.sessionStorage) && (e = ["storage"]),
                    (this._listeningToEvents = e),
                    this._listeningToEvents.length > 0)
                  )
                    for (var r = 0; r < this._listeningToEvents.length; r++)
                      this._utils.addEventListener(
                        n,
                        this._listeningToEvents[r],
                        this._onAllStorageEventBinded,
                        !0
                      );
                },
              },
              {
                key: "_unbind",
                value: function (t) {
                  if (this._listeningToEvents)
                    for (var e = 0; e < this._listeningToEvents.length; e++)
                      this._utils.removeEventListener(
                        t.Context,
                        this._listeningToEvents[e],
                        this._onAllStorageEventBinded,
                        !0
                      );
                },
              },
              {
                key: "_onAllStorageEvent",
                value: function (t) {
                  if ("storage" === t.type) this._onStorageEvent(t);
                  return !0;
                },
              },
              {
                key: "_onStorageEvent",
                value: function (t) {
                  var e = !1,
                    n = null,
                    r = null;
                  null === t.key && (n = null),
                    "string" == typeof t.key && null === t.newValue
                      ? ((n = t.key), (r = "delete"))
                      : ((n = t.key), (r = "update"));
                  var o =
                    this._utils.StorageUtils.getFromLocalStorage("cdTabList");
                  o && "object" === Th(o[0]) && (e = !0),
                    (e = e ? 1 : 0),
                    this._addToCommunicationQueue(t.type, n, r, e, t);
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return Bh;
                },
              },
            ]
          )
        );
      })(uo);
    function Lh(t) {
      return (
        (Lh =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Lh(t)
      );
    }
    function Nh(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Ih(r.key), r);
      }
    }
    function Ih(t) {
      var e = (function (t, e) {
        if ("object" != Lh(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Lh(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Lh(e) ? e : e + "";
    }
    function Fh(t, e, n) {
      return (
        (e = Wh(e)),
        (function (t, e) {
          if (e && ("object" == Lh(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Uh()
            ? Reflect.construct(e, n || [], Wh(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Uh() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Uh = function () {
        return !!t;
      })();
    }
    function Wh(t) {
      return (
        (Wh = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Wh(t)
      );
    }
    function Gh(t, e) {
      return (
        (Gh = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Gh(t, e)
      );
    }
    var Hh = {
        configKey: "isPrintEvents",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !1,
        shouldRun: !1,
        isFrameRelated: !1,
        runInSlave: !1,
        runInLean: !1,
        runInUns: !1,
        isRunning: !1,
        instance: null,
      },
      Qh = 1,
      zh = 0,
      Vh = ["eventSequence", "timestamp", "printDialogState"],
      Kh = (function (t) {
        function e(t, n) {
          var r;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((r = Fh(this, e))._utils = t),
            (r._dataQueue = n),
            (r._addToEventQueueFunc = r._addToEventQueue.bind(r)),
            (r._myAfterPrintFunc = r._myAfterPrint.bind(r)),
            r
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && Gh(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && Nh(t.prototype, e),
              n && Nh(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "_myAfterPrint",
                value: function () {
                  this._addToEventQueueFunc(zh),
                    window.removeEventListener("focus", this._myAfterPrintFunc);
                },
              },
              {
                key: "_onBeforePrintEvent",
                value: function () {
                  this._addToEventQueueFunc(Qh),
                    this._utils.addEventListener(
                      window,
                      "focus",
                      this._myAfterPrintFunc.bind(this)
                    );
                },
              },
              {
                key: "_addToEventQueue",
                value: function (t) {
                  var e = this.getEventTimestamp(),
                    n =
                      this._utils.StorageUtils.getAndUpdateEventSequenceNumber();
                  this._dataQueue.addToQueue(
                    "print_events",
                    this._utils.convertToArrayByMap(Vh, {
                      eventSequence: n,
                      timestamp: e,
                      printDialogState: t,
                    })
                  );
                },
              },
              {
                key: "startFeature",
                value: function () {
                  this._utils.addEventListener(
                    window,
                    "beforeprint",
                    this._onBeforePrintEvent.bind(this)
                  );
                },
              },
              {
                key: "stopFeature",
                value: function () {
                  this._utils.removeEventListener(
                    window,
                    "beforeprint",
                    this._onBeforePrintEvent.bind(this),
                    !0
                  );
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return Hh;
                },
              },
            ]
          )
        );
      })(uo);
    function qh(t) {
      return (
        (qh =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        qh(t)
      );
    }
    function Jh(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Xh(r.key), r);
      }
    }
    function Xh(t) {
      var e = (function (t, e) {
        if ("object" != qh(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != qh(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == qh(e) ? e : e + "";
    }
    function Yh(t, e, n) {
      return (
        (e = $h(e)),
        (function (t, e) {
          if (e && ("object" == qh(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Zh()
            ? Reflect.construct(e, n || [], $h(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Zh() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Zh = function () {
        return !!t;
      })();
    }
    function $h(t) {
      return (
        ($h = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        $h(t)
      );
    }
    function td(t, e) {
      return (
        (td = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        td(t, e)
      );
    }
    var ed = {
        configKey: "isLightSensor",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !1,
        shouldRun: !1,
        isFrameRelated: !1,
        runInSlave: !1,
        runInLean: !1,
        runInUns: !1,
        isRunning: !1,
        instance: null,
      },
      nd = ["eventSequence", "timestamp", "illuminance"],
      rd = (function (t) {
        function e(t, n, r) {
          var o;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((o = Yh(this, e))._dataQueue = t),
            (o._utils = n),
            (o._configurationRepository = r),
            (o._eventThreshold =
              o._configurationRepository.get("lightSensorEventThreshold") ||
              5e3),
            (o._lastTime = 0),
            (o.onReadingSensorBoundble = o._onReadingSensor.bind(o)),
            o
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && td(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && Jh(t.prototype, e),
              n && Jh(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "_onReadingSensor",
                value: function () {
                  var t = this.getEventTimestamp();
                  if (t - this._lastTime > this._eventThreshold) {
                    var e =
                      this._utils.StorageUtils.getAndUpdateEventSequenceNumber();
                    (this._lastTime = t),
                      this._dataQueue.addToQueue(
                        "ambient_light_level",
                        this._utils.convertToArrayByMap(nd, {
                          eventSequence: e,
                          timestamp: t,
                          illuminance: this._sensor.illuminance,
                        })
                      );
                  }
                },
              },
              {
                key: "startFeature",
                value: function () {
                  window.AmbientLightSensor
                    ? (_t.info("AmbientLightSensor exists and collected"),
                      (this._sensor = new AmbientLightSensor()),
                      this._sensor.addEventListener(
                        "reading",
                        this.onReadingSensorBoundble,
                        !0
                      ),
                      this._sensor.addEventListener(
                        "error",
                        e._onSensorError,
                        !0
                      ),
                      this._sensor.start())
                    : _t.debug("LightSensor does not exist, not collecting");
                },
              },
              {
                key: "stopFeature",
                value: function () {
                  this._sensor &&
                    (this._sensor.removeEventListener(
                      "reading",
                      this.onReadingSensorBoundble,
                      !0
                    ),
                    this._sensor.removeEventListener(
                      "error",
                      e._onSensorError,
                      !0
                    ),
                    this._sensor.stop(),
                    (this._sensor = null));
                },
              },
              {
                key: "updateFeatureConfig",
                value: function () {
                  this._eventThreshold = this._configurationRepository.get(
                    "lightSensorEventThreshold"
                  )
                    ? this._configurationRepository.get(
                        "lightSensorEventThreshold"
                      )
                    : this._eventThreshold;
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return ed;
                },
              },
              {
                key: "_onSensorError",
                value: function (t) {
                  _t.debug("Error connecting LightSensor ".concat(t.error));
                },
              },
            ]
          )
        );
      })(uo);
    function od(t) {
      return (
        (od =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        od(t)
      );
    }
    function id(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, fd(r.key), r);
      }
    }
    function ad(t, e, n) {
      return (
        (e = sd(e)),
        (function (t, e) {
          if (e && ("object" == od(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          ud()
            ? Reflect.construct(e, n || [], sd(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function ud() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (ud = function () {
        return !!t;
      })();
    }
    function sd(t) {
      return (
        (sd = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        sd(t)
      );
    }
    function cd(t, e) {
      return (
        (cd = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        cd(t, e)
      );
    }
    function ld(t, e, n) {
      return (
        (e = fd(e)) in t
          ? Object.defineProperty(t, e, {
              value: n,
              enumerable: !0,
              configurable: !0,
              writable: !0,
            })
          : (t[e] = n),
        t
      );
    }
    function fd(t) {
      var e = (function (t, e) {
        if ("object" != od(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != od(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == od(e) ? e : e + "";
    }
    var pd = {
        configKey: "isMouseEvents",
        isDefault: !0,
        shouldRunPerContext: !1,
        shouldRunPerSession: !1,
        shouldRun: !0,
        isFrameRelated: !0,
        runInSlave: !0,
        runInLean: !0,
        runInUns: !1,
        isRunning: !1,
        instance: null,
      },
      hd = {
        mousemove: 0,
        mousedown: 1,
        mouseup: 2,
        click: 3,
        dblclick: 4,
        mouseleave: 5,
        mouseenter: 6,
        wheel: 7,
        mouseout: 8,
        mouseover: 9,
      },
      dd = [
        "eventSequence",
        "timestamp",
        "eventType",
        "isTrusted",
        "elementHash",
        "pageX",
        "pageY",
        "screenX",
        "screenY",
        "button",
        "wheelDelta",
        "clientX",
        "clientY",
        "eventDetail",
        "buttonNew",
        "relativeTime",
      ],
      yd = (function (t) {
        function e(t, n, r, o, i, a) {
          var u;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ld((u = ad(this, e)), "_lastButton", void 0),
            ld(u, "_getMouseEvent", function (t) {
              var e = t.which;
              "mouseup" === t.type
                ? (u._lastButton = e)
                : "click" === t.type && 0 === e && (e = u._lastButton);
              var n = hd[t.type];
              u._utils.isUndefinedNull(n) && (n = -1);
              var r = t.deltaY || t.deltaX || t.deltaZ || t.wheelDelta || 0,
                o = u.getTimestampFromEvent(t);
              u._dataQueue.addToQueue("mouse_events", [
                null,
                u._utils.StorageUtils.getAndUpdateEventSequenceNumber(),
                u.getEventTimestamp(t),
                n,
                so[t.isTrusted],
                "mousemove" === t.type
                  ? 0
                  : u._elements.getElementHashFromEvent(t),
                u._maskingService.shouldMaskCoordinates()
                  ? mo
                  : u._roundCoordinate(t.pageX),
                u._maskingService.shouldMaskCoordinates()
                  ? mo
                  : u._roundCoordinate(t.pageY),
                u._maskingService.shouldMaskCoordinates()
                  ? mo
                  : u._roundCoordinate(t.screenX),
                u._maskingService.shouldMaskCoordinates()
                  ? mo
                  : u._roundCoordinate(t.screenY),
                null == e ? -1 : e,
                Math.round(r),
                u._maskingService.shouldMaskCoordinates()
                  ? mo
                  : u._roundCoordinate(t.clientX),
                u._maskingService.shouldMaskCoordinates()
                  ? mo
                  : u._roundCoordinate(t.clientY),
                t.detail || 0,
                null === t.button || void 0 === t.button ? -1 : t.button,
                o,
              ]);
            }),
            (u._utils = t),
            (u._domUtils = n),
            (u._elements = r),
            (u._dataQueue = o),
            (u._maskingService = i),
            (u._maxShadowDepth = a.getMaxShadowDepth()),
            (u._iframeLoadingTimeout = a.getIframeLoadingTimeout()),
            (u._listenedDocuments = new WeakSet()),
            u
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && cd(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && id(t.prototype, e),
              n && id(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value: function (t) {
                  var e = this;
                  try {
                    var n = t.getDocument();
                    this._addEventListeners(t, n),
                      t
                        .collectAllElementsBySelectorAsync(
                          "iframe",
                          this._maxShadowDepth,
                          this._iframeLoadingTimeout
                        )
                        .then(function (n) {
                          n.forEach(function (n) {
                            n &&
                              n.contentDocument &&
                              e._addEventListeners(t, n.contentDocument);
                          });
                        });
                  } catch (t) {
                    _t.error(
                      "MouseEvents:startFeature failed. msg: ".concat(
                        t.message
                      ),
                      t
                    );
                  }
                },
              },
              {
                key: "stopFeature",
                value: function (t) {
                  var e = this;
                  try {
                    var n = t.getDocument();
                    this._removeEventListeners(n),
                      t
                        .collectAllElementsBySelectorAsync(
                          "iframe",
                          this._maxShadowDepth,
                          this._iframeLoadingTimeout
                        )
                        .then(function (t) {
                          t.forEach(function (t) {
                            t &&
                              t.contentDocument &&
                              e._removeEventListeners(t.contentDocument);
                          });
                        });
                  } catch (t) {
                    _t.error(
                      "MouseEvents:stopFeature failed. msg: ".concat(t.message),
                      t
                    );
                  }
                },
              },
              {
                key: "_addEventListeners",
                value: function (t, e) {
                  var n = this;
                  this._listenedDocuments.has(e) ||
                    (this._listenedDocuments.add(e),
                    this._domUtils.addEventListener(
                      e,
                      "mousemove",
                      this._getMouseEvent,
                      !0
                    ),
                    this._domUtils.addEventListener(
                      e,
                      "mousedown",
                      this._getMouseEvent,
                      !0
                    ),
                    this._domUtils.addEventListener(
                      e,
                      "mouseup",
                      this._getMouseEvent,
                      !0
                    ),
                    this._domUtils.addEventListener(
                      e,
                      "click",
                      this._getMouseEvent,
                      !0
                    ),
                    this._domUtils.addEventListener(
                      e,
                      "dblclick",
                      this._getMouseEvent,
                      !0
                    ),
                    (this._isIE =
                      !!e.documentMode ||
                      /edge/.test(window.navigator.userAgent.toLowerCase())),
                    this._isIE
                      ? this._domUtils.onDocumentBody(t.Context, function () {
                          n._domUtils.addEventListener(
                            e.body,
                            "mouseleave",
                            n._getMouseEvent
                          ),
                            n._domUtils.addEventListener(
                              e.body,
                              "mouseenter",
                              n._getMouseEvent
                            );
                        })
                      : (this._domUtils.addEventListener(
                          e,
                          "mouseleave",
                          this._getMouseEvent
                        ),
                        this._domUtils.addEventListener(
                          e,
                          "mouseenter",
                          this._getMouseEvent
                        )),
                    this._domUtils.addEventListener(
                      e,
                      "wheel",
                      this._getMouseEvent,
                      !0
                    ));
                },
              },
              {
                key: "_removeEventListeners",
                value: function (t) {
                  this._listenedDocuments.delete(t),
                    this._domUtils.removeEventListener(
                      t,
                      "mousemove",
                      this._getMouseEvent,
                      !0
                    ),
                    this._domUtils.removeEventListener(
                      t,
                      "mousedown",
                      this._getMouseEvent,
                      !0
                    ),
                    this._domUtils.removeEventListener(
                      t,
                      "mouseup",
                      this._getMouseEvent,
                      !0
                    ),
                    this._domUtils.removeEventListener(
                      t,
                      "click",
                      this._getMouseEvent,
                      !0
                    ),
                    this._domUtils.removeEventListener(
                      t,
                      "dblclick",
                      this._getMouseEvent,
                      !0
                    ),
                    this._isIE
                      ? (this._domUtils.removeEventListener(
                          t.body,
                          "mouseleave",
                          this._getMouseEvent
                        ),
                        this._domUtils.removeEventListener(
                          t.body,
                          "mouseenter",
                          this._getMouseEvent
                        ))
                      : (this._domUtils.removeEventListener(
                          t,
                          "mouseleave",
                          this._getMouseEvent
                        ),
                        this._domUtils.removeEventListener(
                          t,
                          "mouseenter",
                          this._getMouseEvent
                        )),
                    this._domUtils.removeEventListener(
                      t,
                      "wheel",
                      this._getMouseEvent,
                      !0
                    );
                },
              },
              {
                key: "_roundCoordinate",
                value: function (t) {
                  return t ? Math.round(t) : -1;
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return pd;
                },
              },
            ]
          )
        );
      })(uo);
    function md(t) {
      return (
        (md =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        md(t)
      );
    }
    function vd(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, bd(r.key), r);
      }
    }
    function bd(t) {
      var e = (function (t, e) {
        if ("object" != md(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != md(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == md(e) ? e : e + "";
    }
    function gd(t, e, n) {
      return (
        (e = wd(e)),
        (function (t, e) {
          if (e && ("object" == md(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          _d()
            ? Reflect.construct(e, n || [], wd(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function _d() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (_d = function () {
        return !!t;
      })();
    }
    function wd(t) {
      return (
        (wd = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        wd(t)
      );
    }
    function Sd(t, e) {
      return (
        (Sd = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Sd(t, e)
      );
    }
    var Ed = {
        configKey: "isTabsEvents",
        isDefault: !0,
        shouldRunPerContext: !1,
        shouldRunPerSession: !1,
        shouldRun: !0,
        isFrameRelated: !1,
        runInSlave: !1,
        runInLean: !1,
        runInUns: !1,
        isRunning: !1,
        instance: null,
      },
      kd = 0,
      Td = 1,
      Pd = 2,
      Od = [
        "eventSequence",
        "timestamp",
        "type",
        "id",
        "href",
        "referrer",
        "currentTabsList",
      ],
      Cd = (function (t) {
        function e(t, n) {
          var r;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((r = gd(this, e))._utils = t),
            (r._currState = null),
            (r._dataQueue = n),
            (r._tabData = { id: "", openTabTS: 0 }),
            (r._onUnloadTabBinded = r._onUnloadTab.bind(r)),
            r
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && Sd(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && vd(t.prototype, e),
              n && vd(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value: function () {
                  _t.info("Starting tab events feature"),
                    this._initTabInfo(),
                    window.addEventListener(
                      "beforeunload",
                      this._onUnloadTabBinded
                    );
                },
              },
              {
                key: "stopFeature",
                value: function () {
                  _t.info("Stopping tab events feature"),
                    window.removeEventListener(
                      "beforeunload",
                      this._onUnloadTabBinded
                    );
                },
              },
              {
                key: "_initTabInfo",
                value: function () {
                  var t =
                    this._utils.StorageUtils.getFromLocalStorage("cdTabList");
                  t || (t = []);
                  var e = kd;
                  (this._tabData =
                    this._utils.StorageUtils.getFromSessionStorage(
                      "cdTabData"
                    ) || this._tabData.id),
                    this._tabData || (this._updateTabData(), (e = Td));
                  for (var n = -1, r = 0, o = t.length; r < o; r++)
                    if (t[r][0] === this._tabData.id) {
                      n = r;
                      break;
                    }
                  (-1 !== n && n !== t.length) ||
                    (t.push([this._tabData.id, this._tabData.openTabTS]),
                    this._utils.StorageUtils.saveToLocalStorage("cdTabList", t),
                    _t.debug(
                      "added tab to list. " +
                        this._tabData.id +
                        ", tab index=" +
                        t.length
                    ));
                  var i = this._utils.getDocUrl(),
                    a =
                      this._utils.StorageUtils.getAndUpdateEventSequenceNumber(),
                    u = JSON.stringify(t);
                  this._dataQueue.addToQueue(
                    "tab_events",
                    this._utils.convertToArrayByMap(Od, {
                      eventSequence: a,
                      timestamp: this._tabData.openTabTS,
                      type: e,
                      id: this._tabData.id || "",
                      href: i || "",
                      referrer: this._utils.clearTextFromNumbers(
                        document.referrer
                      ),
                      currentTabsList: u || "",
                    })
                  );
                },
              },
              {
                key: "_onUnloadTab",
                value: function () {
                  var t =
                    this._utils.StorageUtils.getFromLocalStorage("cdTabList");
                  t || (t = []);
                  var e = this.getEventTimestamp(),
                    n =
                      this._utils.StorageUtils.getAndUpdateEventSequenceNumber(),
                    r = this._utils.getDocUrl(),
                    o = Pd,
                    i = JSON.stringify(t);
                  _t.debug(
                    "removing tab from list. id:"
                      .concat(this._tabData.id, ", timestamp:")
                      .concat(e)
                  ),
                    this._dataQueue.addToQueue(
                      "tab_events",
                      this._utils.convertToArrayByMap(Od, {
                        eventSequence: n,
                        timestamp: e,
                        type: o,
                        id: this._tabData.id || "",
                        href: r || "",
                        referrer: this._utils.clearTextFromNumbers(
                          document.referrer
                        ),
                        currentTabsList: i || "",
                      }),
                      !0,
                      !0
                    );
                  for (var a = 0, u = t.length; a < u; a++)
                    if (t[a][0] === this._tabData.id) {
                      t.splice(a, 1);
                      break;
                    }
                  this._utils.StorageUtils.saveToLocalStorage("cdTabList", t);
                },
              },
              {
                key: "_updateTabData",
                value: function () {
                  (this._tabData = {}),
                    (this._tabData = {
                      id: this._utils.generateUUID(),
                      openTabTS: this.getEventTimestamp(),
                    }),
                    _t.debug(
                      "initialize tab data: id:"
                        .concat(this._tabData.id, ", timestamp:")
                        .concat(this._tabData.openTabTS)
                    ),
                    this._utils.StorageUtils.saveToSessionStorage(
                      "cdTabData",
                      this._tabData
                    );
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return Ed;
                },
              },
            ]
          )
        );
      })(uo);
    function jd(t) {
      return (
        (jd =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        jd(t)
      );
    }
    function Md(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Ld(r.key), r);
      }
    }
    function Rd(t, e, n) {
      return (
        (e = Ad(e)),
        (function (t, e) {
          if (e && ("object" == jd(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Bd()
            ? Reflect.construct(e, n || [], Ad(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Bd() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Bd = function () {
        return !!t;
      })();
    }
    function Ad(t) {
      return (
        (Ad = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Ad(t)
      );
    }
    function xd(t, e) {
      return (
        (xd = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        xd(t, e)
      );
    }
    function Dd(t, e, n) {
      return (
        (e = Ld(e)) in t
          ? Object.defineProperty(t, e, {
              value: n,
              enumerable: !0,
              configurable: !0,
              writable: !0,
            })
          : (t[e] = n),
        t
      );
    }
    function Ld(t) {
      var e = (function (t, e) {
        if ("object" != jd(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != jd(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == jd(e) ? e : e + "";
    }
    var Nd = {
        configKey: "isLocationEvents",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !0,
        shouldRun: !1,
        isFrameRelated: !1,
        runInSlave: !1,
        runInLean: !1,
        runInUns: !1,
        isRunning: !1,
        instance: null,
      },
      Id = [
        "eventSequence",
        "timestamp",
        "longitude",
        "latitude",
        "accuracy",
        "speed",
        "provider",
      ],
      Fd = (function (t) {
        function e(t, n, r) {
          var o,
            i =
              arguments.length > 3 && void 0 !== arguments[3]
                ? arguments[3]
                : window.navigator;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            Dd((o = Rd(this, e)), "_subscribeForLocationEvents", function () {
              o._unsubscribeFromLocationEvents(),
                (o._watcherID = o._navigator.geolocation.watchPosition(
                  o._onGeoLocationPositionEvent,
                  o._onGeoLocationPositionError
                )),
                o._clearLocationEventsTimeout(),
                (o._locationEventsTimeoutID = setTimeout(function () {
                  o._unsubscribeFromLocationEvents();
                }));
            }),
            Dd(o, "_unsubscribeFromLocationEvents", function () {
              o._clearLocationEventsTimeout(),
                o._watcherID &&
                  (o._navigator.geolocation.clearWatch(o._watcherID),
                  (o._watcherID = null));
            }),
            Dd(o, "_onGeoLocationPositionEvent", function (t) {
              o._sendData(t);
            }),
            Dd(o, "_onGeoLocationPositionError", function (t) {
              _t.warn(
                "Failed getting geolocation with code "
                  .concat(t.code, ". ")
                  .concat(t.message)
              );
            }),
            (o._configurationRepository = r),
            (o._locationEventsTimeoutMsec = o._configurationRepository.get(
              w.locationEventsTimeoutMsec
            )),
            (o._utils = n),
            (o._dataQ = t),
            (o._navigator = i),
            (o._watcherID = null),
            (o._locationEventsTimeoutID = null),
            o
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && xd(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && Md(t.prototype, e),
              n && Md(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value: function () {
                  this._subscribeForLocationIfPermissionGranted();
                },
              },
              {
                key: "stopFeature",
                value: function () {
                  this._unsubscribeFromLocationEvents();
                },
              },
              {
                key: "updateFeatureConfig",
                value: function () {
                  try {
                    this._configurationRepository.get(
                      w.locationEventsTimeoutMsec
                    ) !== this._locationEventsTimeoutMsec &&
                      (this._locationEventsTimeoutMsec =
                        this._configurationRepository.get(
                          w.locationEventsTimeoutMsec
                        ));
                  } catch (t) {
                    _t.error(
                      "LocationEvents: updateFeatureConfig failed, msg: ".concat(
                        t.message
                      ),
                      t
                    );
                  }
                },
              },
              {
                key: "_subscribeForLocationIfPermissionGranted",
                value: function () {
                  var t = this;
                  this._navigator.permissions &&
                    this._navigator.permissions.query &&
                    this._navigator.permissions
                      .query({ name: "geolocation" })
                      .then(function (e) {
                        "granted" === e.state
                          ? t._subscribeForLocationEvents()
                          : _t.info(
                              "location permission is denied. Location data will not be collected"
                            );
                      })
                      .catch(function (t) {
                        _t.error(
                          "Failed querying for geolocation permission. ".concat(
                            t.message
                          )
                        );
                      });
                },
              },
              {
                key: "_clearLocationEventsTimeout",
                value: function () {
                  this._locationEventsTimeoutID &&
                    clearTimeout(this._locationEventsTimeoutID),
                    (this._locationEventsTimeoutID = null);
                },
              },
              {
                key: "_sendData",
                value: function (t) {
                  var e = t.coords,
                    n =
                      this._utils.StorageUtils.getAndUpdateEventSequenceNumber(),
                    r = this.getEventTimestamp();
                  this._dataQ.addToQueue(
                    "location_events",
                    this._utils.convertToArrayByMap(Id, {
                      eventSequence: n,
                      timestamp: r,
                      longitude: e.longitude || -1,
                      latitude: e.latitude || -1,
                      accuracy: e.accuracy || -1,
                      speed: e.speed || -1,
                      provider: "",
                    })
                  );
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return Nd;
                },
              },
            ]
          )
        );
      })(uo);
    function Ud(t) {
      return (
        (Ud =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Ud(t)
      );
    }
    function Wd(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, qd(r.key), r);
      }
    }
    function Gd(t, e, n) {
      return (
        (e = Vd(e)),
        (function (t, e) {
          if (e && ("object" == Ud(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Hd()
            ? Reflect.construct(e, n || [], Vd(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Hd() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Hd = function () {
        return !!t;
      })();
    }
    function Qd(t, e, n, r) {
      var o = zd(Vd(1 & r ? t.prototype : t), e, n);
      return 2 & r && "function" == typeof o
        ? function (t) {
            return o.apply(n, t);
          }
        : o;
    }
    function zd() {
      return (
        (zd =
          "undefined" != typeof Reflect && Reflect.get
            ? Reflect.get.bind()
            : function (t, e, n) {
                var r = (function (t, e) {
                  for (
                    ;
                    !{}.hasOwnProperty.call(t, e) && null !== (t = Vd(t));

                  );
                  return t;
                })(t, e);
                if (r) {
                  var o = Object.getOwnPropertyDescriptor(r, e);
                  return o.get
                    ? o.get.call(arguments.length < 3 ? t : n)
                    : o.value;
                }
              }),
        zd.apply(null, arguments)
      );
    }
    function Vd(t) {
      return (
        (Vd = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Vd(t)
      );
    }
    function Kd(t, e) {
      return (
        (Kd = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Kd(t, e)
      );
    }
    function qd(t) {
      var e = (function (t, e) {
        if ("object" != Ud(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Ud(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Ud(e) ? e : e + "";
    }
    var Jd = "levenshtein",
      Xd = "matchNameEmail",
      Yd = {
        configKey: "isLevenshteinDistanceCollector",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !1,
        shouldRun: !1,
        isFrameRelated: !1,
        runInSlave: !1,
        runInLean: !1,
        runInUns: !1,
        isRunning: !1,
        instance: null,
      },
      Zd = ["eventSequence", "timestamp", "similarity", "score"],
      $d = (function (t) {
        function e(t, n, r, o, i, a) {
          var u;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            (function (t, e, n) {
              (e = qd(e)) in t
                ? Object.defineProperty(t, e, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (t[e] = n);
            })(
              (u = Gd(this, e)),
              "_handleLevenshteinDistanceEvent",
              function (t) {
                var e = t.target.value || "";
                if ("" !== e) {
                  var n = u._categoryService.categoryField(t.target);
                  if (
                    (("0100" !== n && "0101" !== n) || (u.name = e),
                    "0103" === n && (u.email = e),
                    u.name && u.email)
                  ) {
                    var r = u.getEventTimestamp(),
                      o =
                        u._utils.StorageUtils.getAndUpdateEventSequenceNumber(),
                      i = u._levenshteinScoreFunction(u.name, u.email),
                      a = u._levenshteinMatchEmailFunction(u.name, u.email);
                    u._dataQ.addToQueue(
                      "match_score",
                      u._utils.convertToArrayByMap(Zd, {
                        eventSequence: o,
                        timestamp: r,
                        similarity: a,
                        score: i,
                      })
                    );
                  }
                }
              }
            ),
            (u._utils = t),
            (u._configurationRepository = n),
            (u._dataQ = r),
            (u._messageBus = o),
            (u._moduleLoader = i),
            (u._categoryService = a),
            (u._levenshteinScoreFunction = null),
            (u._levenshteinMatchEmailFunction = null),
            (u._boundHandleLevenshteinDistanceEvent =
              u._handleLevenshteinDistanceEvent.bind(u)),
            u
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && Kd(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && Wd(t.prototype, e),
              n && Wd(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value: function () {
                  Qd(e, "startFeature", this, 3)([]),
                    this._moduleLoader.loadExternalWASMModuleByName(
                      "cdld",
                      this._loadWasmMethod.bind(this)
                    );
                },
              },
              {
                key: "stopFeature",
                value: function () {
                  Qd(e, "stopFeature", this, 3)([]),
                    this._messageBus.unsubscribe(
                      Mr,
                      this._boundHandleLevenshteinDistanceEvent
                    );
                },
              },
              {
                key: "_loadWasmMethod",
                value: function (t) {
                  t &&
                  t[Jd] &&
                  "function" == typeof t[Jd] &&
                  "function" == typeof t[Xd]
                    ? ((this._levenshteinScoreFunction = t[Jd]),
                      (this._levenshteinMatchEmailFunction = t[Xd]),
                      this._messageBus.subscribe(
                        Mr,
                        this._boundHandleLevenshteinDistanceEvent
                      ))
                    : _t.error(
                        "Failed to load Levenshtein distance function from wasm module"
                      );
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return Yd;
                },
              },
            ]
          )
        );
      })(uo);
    function ty(t) {
      return (
        (ty =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        ty(t)
      );
    }
    function ey(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, cy(r.key), r);
      }
    }
    function ny(t, e, n) {
      return (
        (e = ay(e)),
        (function (t, e) {
          if (e && ("object" == ty(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          ry()
            ? Reflect.construct(e, n || [], ay(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function ry() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (ry = function () {
        return !!t;
      })();
    }
    function oy(t, e, n, r) {
      var o = iy(ay(1 & r ? t.prototype : t), e, n);
      return 2 & r && "function" == typeof o
        ? function (t) {
            return o.apply(n, t);
          }
        : o;
    }
    function iy() {
      return (
        (iy =
          "undefined" != typeof Reflect && Reflect.get
            ? Reflect.get.bind()
            : function (t, e, n) {
                var r = (function (t, e) {
                  for (
                    ;
                    !{}.hasOwnProperty.call(t, e) && null !== (t = ay(t));

                  );
                  return t;
                })(t, e);
                if (r) {
                  var o = Object.getOwnPropertyDescriptor(r, e);
                  return o.get
                    ? o.get.call(arguments.length < 3 ? t : n)
                    : o.value;
                }
              }),
        iy.apply(null, arguments)
      );
    }
    function ay(t) {
      return (
        (ay = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        ay(t)
      );
    }
    function uy(t, e) {
      return (
        (uy = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        uy(t, e)
      );
    }
    function sy(t, e, n) {
      return (
        (e = cy(e)) in t
          ? Object.defineProperty(t, e, {
              value: n,
              enumerable: !0,
              configurable: !0,
              writable: !0,
            })
          : (t[e] = n),
        t
      );
    }
    function cy(t) {
      var e = (function (t, e) {
        if ("object" != ty(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != ty(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == ty(e) ? e : e + "";
    }
    var ly = (function (t) {
      function e(t, n, r, o, i) {
        var a;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          sy((a = ny(this, e)), "_collectEventElement", function (t) {
            var e = a._utils.StorageUtils.getAndUpdateEventSequenceNumber(),
              n = a.getEventTimestamp(),
              r = a.getTimestampFromEvent(t),
              o = a._maskingService.maskText(t.elementValue, t.elementId),
              i = af[t.eventType];
            o && o.length > a._maxElemValLength && (o = ""),
              a._dataQueue.addToQueue(
                "element_events",
                a._utils.convertToArrayByMap(uf, {
                  eventSequence: e,
                  timestamp: n,
                  eventType: i,
                  isTrusted: -1,
                  elementHash: t.hashCode,
                  length: o.length,
                  elementValues: o,
                  selected: -1,
                  hashedValue: "",
                  relativeTime: r,
                })
              );
          }),
          sy(a, "_collectElement", function (t) {
            if (
              !a._utils.isUndefinedNull(t.hashCode) &&
              !a._elementWMap.has(t.hashCode)
            ) {
              a._elementWMap.add(t.hashCode);
              var e = a._maskingService.maskAbsoluteIfRequired(
                t.elementId,
                t.elementId
              );
              a._dataQueue.addToQueue("elements", [
                a._contextMgr.contextHash,
                t.hashCode,
                "",
                e || "",
                "",
                t.widgetType || "",
                t.dxPosition || 0,
                t.dyPosition || 0,
                t.widthElement || 0,
                t.heightElement || 0,
                "",
                "",
                "",
                "",
                "",
                "",
                0,
                t.timeStamp,
                "",
                "",
                "",
              ]);
            }
          }),
          (a._msgBus = t),
          (a._dataQueue = n),
          (a._utils = r),
          (a._contextMgr = o),
          (a._maskingService = i),
          (a._elementWMap = new Set()),
          (a._maxElemValLength = 200),
          a
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && uy(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && ey(t.prototype, e),
            n && ey(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "startFeature",
            value: function () {
              oy(e, "startFeature", this, 3)([]),
                this._msgBus.subscribe(
                  $r.ElementEventsEvent,
                  this._collectEventElement
                ),
                this._msgBus.subscribe($r.ElementsEvent, this._collectElement);
            },
          },
          {
            key: "stopFeature",
            value: function () {
              this._msgBus.unsubscribe(
                $r.ElementEventsEvent,
                this._collectEventElement
              ),
                this._msgBus.unsubscribe(
                  $r.ElementsEvent,
                  this._collectElement
                ),
                oy(e, "stopFeature", this, 3)([]);
            },
          },
        ])
      );
    })(uo);
    function fy(t) {
      return (
        (fy =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        fy(t)
      );
    }
    function py(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, gy(r.key), r);
      }
    }
    function hy(t, e, n) {
      return (
        (e = vy(e)),
        (function (t, e) {
          if (e && ("object" == fy(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          dy()
            ? Reflect.construct(e, n || [], vy(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function dy() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (dy = function () {
        return !!t;
      })();
    }
    function yy(t, e, n, r) {
      var o = my(vy(1 & r ? t.prototype : t), e, n);
      return 2 & r && "function" == typeof o
        ? function (t) {
            return o.apply(n, t);
          }
        : o;
    }
    function my() {
      return (
        (my =
          "undefined" != typeof Reflect && Reflect.get
            ? Reflect.get.bind()
            : function (t, e, n) {
                var r = (function (t, e) {
                  for (
                    ;
                    !{}.hasOwnProperty.call(t, e) && null !== (t = vy(t));

                  );
                  return t;
                })(t, e);
                if (r) {
                  var o = Object.getOwnPropertyDescriptor(r, e);
                  return o.get
                    ? o.get.call(arguments.length < 3 ? t : n)
                    : o.value;
                }
              }),
        my.apply(null, arguments)
      );
    }
    function vy(t) {
      return (
        (vy = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        vy(t)
      );
    }
    function by(t, e) {
      return (
        (by = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        by(t, e)
      );
    }
    function gy(t) {
      var e = (function (t, e) {
        if ("object" != fy(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != fy(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == fy(e) ? e : e + "";
    }
    var _y = (function (t) {
      function e(t, n, r, o) {
        var i;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (function (t, e, n) {
            (e = gy(e)) in t
              ? Object.defineProperty(t, e, {
                  value: n,
                  enumerable: !0,
                  configurable: !0,
                  writable: !0,
                })
              : (t[e] = n);
          })((i = hy(this, e)), "_onKeyEvent", function (t) {
            var e = i._utils.StorageUtils.getAndUpdateEventSequenceNumber(),
              n = i.getEventTimestamp(),
              r = t.char,
              o = i._maskingService.maskKey(r, "", t.elementId),
              a = o.key.length > 1 ? "" : o.key,
              u = i.getTimestampFromEvent(t);
            i._dataQueue.addToQueue(
              "key_events",
              i._utils.convertToArrayByMap(zo, {
                eventSequence: e,
                timestamp: n,
                eventType: 2,
                isTrusted: -1,
                elementHash: t.hashCode,
                charCode: o.charCode,
                character: a,
                keyComboType: -1,
                isCtrl: !1,
                isShift: !1,
                isAlt: !1,
                isMetaKey: !1,
                keyLocation: 0,
                code: o.code || "",
                key: o.key || "",
                isRepeat: !1,
                keyRegion: "-1",
                relativeTime: u,
                isSameKey: -1,
              })
            );
          }),
          (i._msgBus = t),
          (i._dataQueue = n),
          (i._utils = r),
          (i._maskingService = o),
          i
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && by(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && py(t.prototype, e),
            n && py(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "startFeature",
            value: function () {
              yy(e, "startFeature", this, 3)([]),
                this._msgBus.subscribe($r.KeyEvent, this._onKeyEvent);
            },
          },
          {
            key: "stopFeature",
            value: function () {
              this._msgBus.unsubscribe($r.KeyEvent, this._onKeyEvent),
                yy(e, "stopFeature", this, 3)([]);
            },
          },
        ])
      );
    })(uo);
    function wy(t) {
      return (
        (wy =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        wy(t)
      );
    }
    function Sy(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, jy(r.key), r);
      }
    }
    function Ey(t, e, n) {
      return (
        (e = Oy(e)),
        (function (t, e) {
          if (e && ("object" == wy(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          ky()
            ? Reflect.construct(e, n || [], Oy(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function ky() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (ky = function () {
        return !!t;
      })();
    }
    function Ty(t, e, n, r) {
      var o = Py(Oy(1 & r ? t.prototype : t), e, n);
      return 2 & r && "function" == typeof o
        ? function (t) {
            return o.apply(n, t);
          }
        : o;
    }
    function Py() {
      return (
        (Py =
          "undefined" != typeof Reflect && Reflect.get
            ? Reflect.get.bind()
            : function (t, e, n) {
                var r = (function (t, e) {
                  for (
                    ;
                    !{}.hasOwnProperty.call(t, e) && null !== (t = Oy(t));

                  );
                  return t;
                })(t, e);
                if (r) {
                  var o = Object.getOwnPropertyDescriptor(r, e);
                  return o.get
                    ? o.get.call(arguments.length < 3 ? t : n)
                    : o.value;
                }
              }),
        Py.apply(null, arguments)
      );
    }
    function Oy(t) {
      return (
        (Oy = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Oy(t)
      );
    }
    function Cy(t, e) {
      return (
        (Cy = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Cy(t, e)
      );
    }
    function jy(t) {
      var e = (function (t, e) {
        if ("object" != wy(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != wy(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == wy(e) ? e : e + "";
    }
    var My = { onTapDown: 0, onTapUp: 2 },
      Ry = (function (t) {
        function e(t, n, r, o) {
          var i;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            (function (t, e, n) {
              (e = jy(e)) in t
                ? Object.defineProperty(t, e, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (t[e] = n);
            })((i = Ey(this, e)), "_onTouchEvent", function (t) {
              var e = My[t.touchState];
              (e !== My.onTapDown && e !== My.onTapUp) ||
                i._msgBus.publish(pr, { action: e });
              var n = i.getEventTimestamp(),
                r = i._utils.StorageUtils.getAndUpdateEventSequenceNumber(),
                o = i.getTimestampFromEvent(t);
              i._utils.isUndefinedNull(e) && (e = -1),
                i._dataQueue.addToQueue(
                  "touch_events",
                  i._utils.convertToArrayByMap(Co, {
                    eventSequence: r,
                    timestamp: n,
                    eventType: e,
                    isTrusted: -1,
                    elementHash: t.hashCode,
                    clientX: i._maskingService.shouldMaskCoordinates()
                      ? mo
                      : t.x
                      ? Math.round(t.x)
                      : 0,
                    clientY: i._maskingService.shouldMaskCoordinates()
                      ? mo
                      : t.y
                      ? Math.round(t.y)
                      : 0,
                    touchIndex: t.pointer,
                    touchSizeMajor: t.radiusMajor ? 2 * t.radiusMajor : 0,
                    touchSizeMinor: t.radiusMinor ? 2 * t.radiusMinor : 0,
                    pageX: 0,
                    pageY: 0,
                    screenX: 0,
                    screenY: 0,
                    relativeTime: o,
                    touchPressure: t.pressure || -1,
                  })
                );
            }),
            (i._msgBus = t),
            (i._dataQueue = n),
            (i._utils = r),
            (i._maskingService = o),
            i
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && Cy(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && Sy(t.prototype, e),
              n && Sy(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(e, [
            {
              key: "startFeature",
              value: function () {
                Ty(e, "startFeature", this, 3)([]),
                  this._msgBus.subscribe($r.TouchEvent, this._onTouchEvent);
              },
            },
            {
              key: "stopFeature",
              value: function () {
                this._msgBus.unsubscribe($r.TouchEvent, this._onTouchEvent),
                  Ty(e, "stopFeature", this, 3)([]);
              },
            },
          ])
        );
      })(uo);
    function By(t) {
      return (
        (By =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        By(t)
      );
    }
    function Ay(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Uy(r.key), r);
      }
    }
    function xy(t, e, n) {
      return (
        (e = Iy(e)),
        (function (t, e) {
          if (e && ("object" == By(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Dy()
            ? Reflect.construct(e, n || [], Iy(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Dy() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Dy = function () {
        return !!t;
      })();
    }
    function Ly(t, e, n, r) {
      var o = Ny(Iy(1 & r ? t.prototype : t), e, n);
      return 2 & r && "function" == typeof o
        ? function (t) {
            return o.apply(n, t);
          }
        : o;
    }
    function Ny() {
      return (
        (Ny =
          "undefined" != typeof Reflect && Reflect.get
            ? Reflect.get.bind()
            : function (t, e, n) {
                var r = (function (t, e) {
                  for (
                    ;
                    !{}.hasOwnProperty.call(t, e) && null !== (t = Iy(t));

                  );
                  return t;
                })(t, e);
                if (r) {
                  var o = Object.getOwnPropertyDescriptor(r, e);
                  return o.get
                    ? o.get.call(arguments.length < 3 ? t : n)
                    : o.value;
                }
              }),
        Ny.apply(null, arguments)
      );
    }
    function Iy(t) {
      return (
        (Iy = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Iy(t)
      );
    }
    function Fy(t, e) {
      return (
        (Fy = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Fy(t, e)
      );
    }
    function Uy(t) {
      var e = (function (t, e) {
        if ("object" != By(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != By(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == By(e) ? e : e + "";
    }
    var Wy = { mousemove: 0, onTapDown: 1, onTapUp: 2 },
      Gy = (function (t) {
        function e(t, n, r, o, i, a) {
          var u;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            (function (t, e, n) {
              (e = Uy(e)) in t
                ? Object.defineProperty(t, e, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (t[e] = n);
            })((u = xy(this, e)), "_onMouseEvent", function (t) {
              var e = Wy[t.type],
                n = u.getTimestampFromEvent(t);
              u._dataQueue.addToQueue(
                "mouse_events",
                u._utils.convertToArrayByMap(dd, {
                  eventSequence:
                    u._utils.StorageUtils.getAndUpdateEventSequenceNumber(),
                  timestamp: u.getEventTimestamp(),
                  eventType: e,
                  isTrusted: "mousemove" === t.type ? so[t.isTrusted] : -1,
                  elementHash: "mousemove" === t.type ? 0 : t.hashCode,
                  pageX: u._resolveCoordinate(t.type, t.pageX),
                  pageY: u._resolveCoordinate(t.type, t.pageY),
                  screenX: u._maskingService.shouldMaskCoordinates()
                    ? mo
                    : u._roundCoordinate(t.screenX),
                  screenY: u._maskingService.shouldMaskCoordinates()
                    ? mo
                    : u._roundCoordinate(t.screenY),
                  button: 0,
                  wheelDelta: 0,
                  clientX: u._resolveCoordinate(t.type, t.clientX),
                  clientY: u._resolveCoordinate(t.type, t.clientY),
                  eventDetail: ("mousemove" === t.type && t.detail) || 0,
                  buttonNew: 0,
                  relativeTime: n,
                })
              );
            }),
            (u._msgBus = t),
            (u._dataQueue = n),
            (u._utils = r),
            (u._maskingService = o),
            (u._domUtils = i),
            (u._maxShadowDepth = a.getMaxShadowDepth()),
            (u._iframeLoadingTimeout = a.getIframeLoadingTimeout()),
            u
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && Fy(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && Ay(t.prototype, e),
              n && Ay(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(e, [
            {
              key: "startFeature",
              value: function (t) {
                var n = this;
                Ly(e, "startFeature", this, 3)([]);
                try {
                  var r = t.getDocument();
                  this._domUtils.addEventListener(
                    r,
                    "mousemove",
                    this._onMouseEvent,
                    !0
                  ),
                    t
                      .collectAllElementsBySelectorAsync(
                        "iframe",
                        this._maxShadowDepth,
                        this._iframeLoadingTimeout
                      )
                      .then(function (t) {
                        t.forEach(function (t) {
                          n._domUtils.addEventListener(
                            t.contentDocument,
                            "mousemove",
                            n._onMouseEvent,
                            !0
                          );
                        });
                      }),
                    this._msgBus.subscribe($r.MouseEvent, this._onMouseEvent);
                } catch (t) {
                  _t.error(
                    "MouseEvents:startFeature failed. msg: ".concat(t.message),
                    t
                  );
                }
              },
            },
            {
              key: "stopFeature",
              value: function (t) {
                var n = this;
                try {
                  var r = t.getDocument();
                  this._domUtils.removeEventListener(
                    r,
                    "mousemove",
                    this._onMouseEvent,
                    !0
                  ),
                    t
                      .collectAllElementsBySelectorAsync(
                        "iframe",
                        this._maxShadowDepth,
                        this._iframeLoadingTimeout
                      )
                      .then(function (t) {
                        t.forEach(function (t) {
                          n._domUtils.removeEventListener(
                            t.contentDocument,
                            "mousemove",
                            n._onMouseEvent,
                            !0
                          );
                        });
                      }),
                    this._msgBus.unsubscribe($r.MouseEvent, this._onMouseEvent);
                } catch (t) {
                  _t.error(
                    "MouseEvents:stopFeature failed. msg: ".concat(t.message),
                    t
                  );
                }
                Ly(e, "stopFeature", this, 3)([]);
              },
            },
            {
              key: "_resolveCoordinate",
              value: function (t, e) {
                return "mousemove" === t
                  ? this._maskingService.shouldMaskCoordinates()
                    ? mo
                    : this._roundCoordinate(e)
                  : 0;
              },
            },
            {
              key: "_roundCoordinate",
              value: function (t) {
                return t ? Math.round(t) : -1;
              },
            },
          ])
        );
      })(uo);
    function Hy(t) {
      return (
        (Hy =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Hy(t)
      );
    }
    function Qy() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          zy(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (zy((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), zy(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        zy(f, "constructor", c),
        zy(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        zy(c, o, "GeneratorFunction"),
        zy(f),
        zy(f, o, "Generator"),
        zy(f, r, function () {
          return this;
        }),
        zy(f, "toString", function () {
          return "[object Generator]";
        }),
        (Qy = function () {
          return { w: i, m: p };
        })()
      );
    }
    function zy(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (zy = function (t, e, n, r) {
        function i(e, n) {
          zy(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        zy(t, e, n, r);
    }
    function Vy(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function Ky(t) {
      return function () {
        var e = this,
          n = arguments;
        return new Promise(function (r, o) {
          var i = t.apply(e, n);
          function a(t) {
            Vy(i, r, o, a, u, "next", t);
          }
          function u(t) {
            Vy(i, r, o, a, u, "throw", t);
          }
          a(void 0);
        });
      };
    }
    function qy(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Jy(r.key), r);
      }
    }
    function Jy(t) {
      var e = (function (t, e) {
        if ("object" != Hy(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Hy(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Hy(e) ? e : e + "";
    }
    function Xy(t, e, n) {
      return (
        (e = Zy(e)),
        (function (t, e) {
          if (e && ("object" == Hy(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Yy()
            ? Reflect.construct(e, n || [], Zy(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Yy() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Yy = function () {
        return !!t;
      })();
    }
    function Zy(t) {
      return (
        (Zy = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Zy(t)
      );
    }
    function $y(t, e) {
      return (
        ($y = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        $y(t, e)
      );
    }
    var tm = {
        configKey: "isBatteryStatusFeature",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !1,
        shouldRun: !1,
        isFrameRelated: !1,
        runInSlave: !1,
        runInLean: !1,
        runInUns: !1,
        isRunning: !1,
        instance: null,
      },
      em = [
        "eventSequence",
        "timestamp",
        "chargeLevel",
        "isCharging",
        "powerSource",
      ],
      nm = (function (t) {
        function e(t, n) {
          var r,
            o =
              arguments.length > 2 && void 0 !== arguments[2]
                ? arguments[2]
                : window.navigator;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((r = Xy(this, e))._dataQueue = t),
            (r._utils = n),
            (r._storageUtils = n.StorageUtils),
            (r._navigator = o),
            (r._battery = null),
            (r._onLevelChangeEventFunc = r._onLevelChangeEventFunc.bind(r)),
            (r._onChargingChangeEventFunc =
              r._onChargingChangeEventFunc.bind(r)),
            r
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && $y(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && qy(t.prototype, e),
              n && qy(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value:
                  ((r = Ky(
                    Qy().m(function t() {
                      var e;
                      return Qy().w(
                        function (t) {
                          for (;;)
                            switch ((t.p = t.n)) {
                              case 0:
                                return (
                                  (t.p = 0), (t.n = 1), this.getBatteryManager()
                                );
                              case 1:
                                return (
                                  (this._battery = t.v),
                                  this._setupEventListeners(),
                                  (t.n = 2),
                                  this._sendData()
                                );
                              case 2:
                                t.n = 4;
                                break;
                              case 3:
                                (t.p = 3),
                                  (e = t.v),
                                  _t.error(
                                    "Failed to start battery status collector: ".concat(
                                      e.message || e
                                    )
                                  );
                              case 4:
                                return t.a(2);
                            }
                        },
                        t,
                        this,
                        [[0, 3]]
                      );
                    })
                  )),
                  function () {
                    return r.apply(this, arguments);
                  }),
              },
              {
                key: "stopFeature",
                value: function () {
                  this._cleanupEventListeners(), (this._battery = null);
                },
              },
              {
                key: "_setupEventListeners",
                value: function () {
                  this._battery &&
                    (this._battery.addEventListener(
                      "levelchange",
                      this._onLevelChangeEventFunc
                    ),
                    this._battery.addEventListener(
                      "chargingchange",
                      this._onChargingChangeEventFunc
                    ));
                },
              },
              {
                key: "_cleanupEventListeners",
                value: function () {
                  this._battery &&
                    (this._battery.removeEventListener(
                      "levelchange",
                      this._onLevelChangeEventFunc
                    ),
                    this._battery.removeEventListener(
                      "chargingchange",
                      this._onChargingChangeEventFunc
                    ));
                },
              },
              {
                key: "getBatteryManager",
                value:
                  ((n = Ky(
                    Qy().m(function t() {
                      var e;
                      return Qy().w(
                        function (t) {
                          for (;;)
                            switch ((t.p = t.n)) {
                              case 0:
                                return (
                                  (t.p = 0),
                                  (t.n = 1),
                                  this._navigator.getBattery()
                                );
                              case 1:
                                return t.a(2, t.v);
                              case 2:
                                throw (
                                  ((t.p = 2),
                                  (e = t.v),
                                  new Error(
                                    "Failed to get battery manager: ".concat(
                                      e.message || e
                                    )
                                  ))
                                );
                              case 3:
                                return t.a(2);
                            }
                        },
                        t,
                        this,
                        [[0, 2]]
                      );
                    })
                  )),
                  function () {
                    return n.apply(this, arguments);
                  }),
              },
              {
                key: "_onLevelChangeEventFunc",
                value: function (t) {
                  this._sendData(t.currentTarget);
                },
              },
              {
                key: "_onChargingChangeEventFunc",
                value: function (t) {
                  this._sendData(t.currentTarget);
                },
              },
              {
                key: "_sendData",
                value: function () {
                  var t =
                    arguments.length > 0 && void 0 !== arguments[0]
                      ? arguments[0]
                      : this._battery;
                  if (t) {
                    var e =
                        this._storageUtils.getAndUpdateEventSequenceNumber(),
                      n = this._utils.dateNow();
                    this._dataQueue.addToQueue(
                      "battery_status",
                      this._utils.convertToArrayByMap(em, {
                        eventSequence: e,
                        timestamp: n,
                        chargeLevel: t.level,
                        isCharging: t.charging,
                        powerSource: 0,
                      })
                    );
                  }
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return tm;
                },
              },
            ]
          )
        );
        var n, r;
      })(uo);
    function rm(t) {
      return (
        (rm =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        rm(t)
      );
    }
    function om(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, im(r.key), r);
      }
    }
    function im(t) {
      var e = (function (t, e) {
        if ("object" != rm(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != rm(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == rm(e) ? e : e + "";
    }
    function am(t, e, n) {
      return (
        (e = sm(e)),
        (function (t, e) {
          if (e && ("object" == rm(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          um()
            ? Reflect.construct(e, n || [], sm(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function um() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (um = function () {
        return !!t;
      })();
    }
    function sm(t) {
      return (
        (sm = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        sm(t)
      );
    }
    function cm(t, e) {
      return (
        (cm = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        cm(t, e)
      );
    }
    var lm = {
        configKey: "isMainThreadBlocking",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !1,
        shouldRun: !1,
        isFrameRelated: !1,
        runInSlave: !1,
        runInLean: !0,
        runInUns: !1,
        isRunning: !1,
        instance: null,
      },
      fm = 0,
      pm = [
        "eventSequence",
        "timestamp",
        "eventType",
        "blockingDuration",
        "attribution",
      ],
      hm = (function (t) {
        function e(t, n, r) {
          var o;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((o = am(this, e))._configurationRepository = t),
            (o._utils = n),
            (o._dataQueue = r),
            (o._blockingThreshold = 200),
            (o._performanceObserver = null),
            o
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && cm(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && om(t.prototype, e),
              n && om(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value: function () {
                  var t = this;
                  this._isPerformanceObserverSupported()
                    ? ((this._performanceObserver = new PerformanceObserver(
                        function (e) {
                          e.getEntries().forEach(function (e) {
                            "longtask" === e.entryType &&
                              e.duration >= t._blockingThreshold &&
                              t._onBlocking(e);
                          });
                        }
                      )),
                      this._performanceObserver.observe({
                        entryTypes: ["longtask"],
                      }),
                      _t.trace(
                        "MainThreadBlocking: Feature started using PerformanceObserver"
                      ))
                    : _t.trace(
                        "MainThreadBlocking: PerformanceObserver not supported, feature disabled"
                      );
                },
              },
              {
                key: "stopFeature",
                value: function () {
                  this._performanceObserver &&
                    (this._performanceObserver.disconnect(),
                    (this._performanceObserver = null)),
                    _t.trace("MainThreadBlocking: Feature stopped");
                },
              },
              {
                key: "updateFeatureConfig",
                value: function () {
                  var t =
                    this._configurationRepository.get(
                      w.mainThreadBlockingThreshold
                    ) || 200;
                  t !== this._blockingThreshold &&
                    ((this._blockingThreshold = t),
                    _t.trace(
                      "MainThreadBlocking: Threshold updated to ".concat(
                        this._blockingThreshold,
                        "ms"
                      )
                    ));
                },
              },
              {
                key: "_isPerformanceObserverSupported",
                value: function () {
                  var t;
                  return (
                    "PerformanceObserver" in window &&
                    (null === (t = PerformanceObserver.supportedEntryTypes) ||
                    void 0 === t
                      ? void 0
                      : t.includes("longtask"))
                  );
                },
              },
              {
                key: "_extractAttribution",
                value: function (t) {
                  var e = null;
                  if (t.attribution && t.attribution.length > 0) {
                    var n = t.attribution[0];
                    n.scriptURL && n.scriptLine
                      ? (e = "".concat(n.scriptURL, "/").concat(n.scriptLine))
                      : n.scriptURL && (e = n.scriptURL);
                  }
                  return e;
                },
              },
              {
                key: "_onBlocking",
                value: function (t) {
                  var e =
                      this._utils.StorageUtils.getAndUpdateEventSequenceNumber(),
                    n = this.getEventTimestamp({
                      timeStamp: performance.now(),
                    }),
                    r = this._extractAttribution(t);
                  _t.debug(
                    "MainThreadBlocking: Blocking detected - "
                      .concat(t.duration.toFixed(2), "ms, attribution: ")
                      .concat(r)
                  ),
                    this._dataQueue.addToQueue(
                      "main_thread_blocking",
                      this._utils.convertToArrayByMap(pm, {
                        eventType: fm,
                        eventSequence: e,
                        timestamp: n,
                        blockingDuration: t.duration,
                        attribution: r,
                      })
                    );
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return lm;
                },
              },
            ]
          )
        );
      })(uo);
    function dm(t) {
      return (
        (dm =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        dm(t)
      );
    }
    function ym(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, mm(r.key), r);
      }
    }
    function mm(t) {
      var e = (function (t, e) {
        if ("object" != dm(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != dm(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == dm(e) ? e : e + "";
    }
    var vm = (function () {
      return (function (t, e, n) {
        return (
          e && ym(t.prototype, e),
          n && ym(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t() {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t);
        },
        [
          {
            key: "validateParams",
            value: function () {
              throw new Error("_validateParams should be overridden");
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              throw new Error("buildQueueMessage should be overridden");
            },
          },
          {
            key: "validateMessage",
            value: function () {
              throw new Error("_validateMessage should be overridden");
            },
          },
          {
            key: "getName",
            value: function () {
              throw new Error("_getName should be overridden");
            },
          },
        ]
      );
    })();
    function bm(t) {
      return (
        (bm =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        bm(t)
      );
    }
    function gm(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, _m(r.key), r);
      }
    }
    function _m(t) {
      var e = (function (t, e) {
        if ("object" != bm(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != bm(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == bm(e) ? e : e + "";
    }
    function wm(t, e, n) {
      return (
        (e = Em(e)),
        (function (t, e) {
          if (e && ("object" == bm(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Sm()
            ? Reflect.construct(e, n || [], Em(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Sm() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Sm = function () {
        return !!t;
      })();
    }
    function Em(t) {
      return (
        (Em = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Em(t)
      );
    }
    function km(t, e) {
      return (
        (km = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        km(t, e)
      );
    }
    var Tm = (function (t) {
      function e(t, n, r, o, i, a, u) {
        var s;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (s = wm(this, e)).validateParams(t, n, r, o, i, a, u),
          (s.isChrome = t),
          (s.isFirefox = n),
          (s.isEdge = r),
          (s.isIE = o),
          (s.isSafari = i),
          (s.isOpera = a),
          (s.isBlink = u),
          s
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && km(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && gm(t.prototype, e),
            n && gm(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t, e, n, r, o, i, a) {
              ("boolean" == typeof t &&
                "boolean" == typeof e &&
                "boolean" == typeof n &&
                "boolean" == typeof r &&
                "boolean" == typeof o &&
                "boolean" == typeof i &&
                "boolean" == typeof a) ||
                _t.warn(
                  "wrong type in Per, BrowserDetectContract, parameters. isChrome : {expected: boolean, received: "
                    .concat(
                      bm(t),
                      "},\n            isFirefox : {expected: boolean, received: "
                    )
                    .concat(bm(e), "},isEdge : {expected: boolean, received: ")
                    .concat(bm(n), "},isIE : {expected: boolean, received: ")
                    .concat(
                      bm(r),
                      "},\n            isSafari : {expected: boolean, received: "
                    )
                    .concat(bm(o), "},isOpera : {expected: boolean, received: ")
                    .concat(
                      bm(i),
                      "} ,isBlink : {expected: boolean, received: "
                    )
                    .concat(bm(a), "}")
                );
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [
                this.getName(),
                [
                  this.isChrome,
                  this.isFirefox,
                  this.isEdge,
                  this.isIE,
                  this.isSafari,
                  this.isOpera,
                  this.isBlink,
                ],
              ];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] &&
                Array.isArray(t[1]) &&
                7 === t[1].length) ||
                _t.warn("BrowserDetect - Contract verification failed");
            },
          },
          {
            key: "getName",
            value: function () {
              return "browser_spoofing";
            },
          },
        ])
      );
    })(vm);
    function Pm(t) {
      return (
        (Pm =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Pm(t)
      );
    }
    function Om(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Cm(r.key), r);
      }
    }
    function Cm(t) {
      var e = (function (t, e) {
        if ("object" != Pm(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Pm(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Pm(e) ? e : e + "";
    }
    function jm(t, e, n) {
      return (
        (e = Rm(e)),
        (function (t, e) {
          if (e && ("object" == Pm(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Mm()
            ? Reflect.construct(e, n || [], Rm(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Mm() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Mm = function () {
        return !!t;
      })();
    }
    function Rm(t) {
      return (
        (Rm = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Rm(t)
      );
    }
    function Bm(t, e) {
      return (
        (Bm = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Bm(t, e)
      );
    }
    var Am = {
        configKey: "isBrowserDetect",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !0,
        shouldRun: !0,
        isFrameRelated: !1,
        runInUns: !0,
        runInSlave: !1,
        runInLean: !1,
        isRunning: !1,
        instance: null,
      },
      xm = (function (t) {
        function e(t) {
          var n;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((n = jm(this, e))._dataQ = t),
            n
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && Bm(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && Om(t.prototype, e),
              n && Om(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value: function () {
                  var t = !1,
                    e = !1,
                    n = !1,
                    r = !1,
                    o = !1,
                    i = !1,
                    a = !1;
                  if (this.doesUserAagentDataExists())
                    navigator.userAgentData.brands.forEach(function (r) {
                      "Google Chrome" === r.brand && (t = !0),
                        "Opera" === r.brand && (e = !0),
                        "Microsoft Edge" === r.brand && (i = !0),
                        "Firefox" === r.brand && (n = !0);
                    }),
                      navigator.userAgentData.platform &&
                        (r =
                          "macOS" === navigator.userAgentData.platform &&
                          !t &&
                          !i &&
                          !e &&
                          /Safari/.test(navigator.userAgent)),
                      (a = t || e);
                  else {
                    var u = navigator.userAgent;
                    (e = /OPR|Opera/.test(u)),
                      (n = /Firefox/.test(u)),
                      (r =
                        /Safari/.test(u) &&
                        /Apple Computer/.test(navigator.vendor)),
                      (o = /MSIE|Trident/.test(u)),
                      (i = /Edg/.test(u)),
                      (a =
                        ((t =
                          /Chrome/.test(u) &&
                          !i &&
                          !e &&
                          /Google Inc/.test(navigator.vendor)) ||
                          e) &&
                        !!window.CSS);
                  }
                  var s = new Tm(t, n, i, o, r, e, a).buildQueueMessage();
                  this._dataQ.addToQueue("static_fields", s, !1);
                },
              },
              {
                key: "doesUserAagentDataExists",
                value: function () {
                  return (
                    navigator.userAgentData &&
                    navigator.userAgentData.brands &&
                    navigator.userAgentData.brands.length > 0
                  );
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return Am;
                },
              },
            ]
          )
        );
      })(uo);
    function Dm(t) {
      return (
        (Dm =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Dm(t)
      );
    }
    function Lm(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Nm(r.key), r);
      }
    }
    function Nm(t) {
      var e = (function (t, e) {
        if ("object" != Dm(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Dm(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Dm(e) ? e : e + "";
    }
    function Im(t, e, n) {
      return (
        (e = Um(e)),
        (function (t, e) {
          if (e && ("object" == Dm(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Fm()
            ? Reflect.construct(e, n || [], Um(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Fm() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Fm = function () {
        return !!t;
      })();
    }
    function Um(t) {
      return (
        (Um = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Um(t)
      );
    }
    function Wm(t, e) {
      return (
        (Wm = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Wm(t, e)
      );
    }
    var Gm = (function (t) {
      function e(t) {
        var n;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (n = Im(this, e)).validateParams(t),
          (n.scriptVersion = t),
          n
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && Wm(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && Lm(t.prototype, e),
            n && Lm(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t) {
              "string" == typeof t ||
                _t.warn(
                  " wrong type in VersionClient, BrowserProps parameters. scriptVersion : {expected: string, received: ".concat(
                    Dm(t),
                    "}"
                  )
                );
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [this.getName(), this.scriptVersion];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] && "string" == typeof t[1]) ||
                _t.warn(
                  "version_client, BrowserPropsContract - Contract verification failed"
                );
            },
          },
          {
            key: "getName",
            value: function () {
              return "version_client";
            },
          },
        ])
      );
    })(vm);
    function Hm(t) {
      return (
        (Hm =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Hm(t)
      );
    }
    function Qm(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, zm(r.key), r);
      }
    }
    function zm(t) {
      var e = (function (t, e) {
        if ("object" != Hm(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Hm(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Hm(e) ? e : e + "";
    }
    function Vm(t, e, n) {
      return (
        (e = qm(e)),
        (function (t, e) {
          if (e && ("object" == Hm(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Km()
            ? Reflect.construct(e, n || [], qm(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Km() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Km = function () {
        return !!t;
      })();
    }
    function qm(t) {
      return (
        (qm = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        qm(t)
      );
    }
    function Jm(t, e) {
      return (
        (Jm = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Jm(t, e)
      );
    }
    var Xm = (function (t) {
      function e(t) {
        var n;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (n = Vm(this, e)).validateParams(t),
          (n.source = t),
          n
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && Jm(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && Qm(t.prototype, e),
            n && Qm(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t) {
              "string" == typeof t ||
                _t.warn(
                  " wrong type in DeviceSource, BrowserProps parameters. source : {expected: string, received: ".concat(
                    Hm(t),
                    "}"
                  )
                );
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [this.getName(), this.source];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] && "string" == typeof t[1]) ||
                _t.warn(
                  "device_source, BrowserPropsContract - Contract verification failed"
                );
            },
          },
          {
            key: "getName",
            value: function () {
              return "device_source";
            },
          },
        ])
      );
    })(vm);
    function Ym(t) {
      return (
        (Ym =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Ym(t)
      );
    }
    function Zm(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, $m(r.key), r);
      }
    }
    function $m(t) {
      var e = (function (t, e) {
        if ("object" != Ym(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Ym(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Ym(e) ? e : e + "";
    }
    function tv(t, e, n) {
      return (
        (e = nv(e)),
        (function (t, e) {
          if (e && ("object" == Ym(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          ev()
            ? Reflect.construct(e, n || [], nv(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function ev() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (ev = function () {
        return !!t;
      })();
    }
    function nv(t) {
      return (
        (nv = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        nv(t)
      );
    }
    function rv(t, e) {
      return (
        (rv = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        rv(t, e)
      );
    }
    var ov = (function (t) {
      function e(t) {
        var n;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (n = tv(this, e)).validateParams(t),
          (n.platform = t),
          n
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && rv(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && Zm(t.prototype, e),
            n && Zm(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t) {
              "string" == typeof t ||
                _t.warn(
                  " wrong type in OS, BrowserProps parameters. platform : {expected: string, received: ".concat(
                    Ym(t),
                    "}"
                  )
                );
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [this.getName(), this.platform];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] && "string" == typeof t[1]) ||
                _t.warn(
                  "os, BrowserPropsContract - Contract verification failed"
                );
            },
          },
          {
            key: "getName",
            value: function () {
              return "os";
            },
          },
        ])
      );
    })(vm);
    function iv(t) {
      return (
        (iv =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        iv(t)
      );
    }
    function av(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, uv(r.key), r);
      }
    }
    function uv(t) {
      var e = (function (t, e) {
        if ("object" != iv(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != iv(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == iv(e) ? e : e + "";
    }
    function sv(t, e, n) {
      return (
        (e = lv(e)),
        (function (t, e) {
          if (e && ("object" == iv(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          cv()
            ? Reflect.construct(e, n || [], lv(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function cv() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (cv = function () {
        return !!t;
      })();
    }
    function lv(t) {
      return (
        (lv = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        lv(t)
      );
    }
    function fv(t, e) {
      return (
        (fv = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        fv(t, e)
      );
    }
    var pv = (function (t) {
      function e(t) {
        var n;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (n = sv(this, e)).validateParams(t),
          (n.version = t),
          n
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && fv(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && av(t.prototype, e),
            n && av(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t) {
              "number" == typeof t ||
                null === t ||
                _t.warn(
                  " wrong type in OSVersion, BrowserProps parameters. version : {expected: number, received: ".concat(
                    iv(t),
                    "}"
                  )
                );
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [this.getName(), this.version];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] &&
                ("number" == typeof t[1] || null === t[1])) ||
                _t.warn(
                  "os_version, BrowserPropsContract - Contract verification failed"
                );
            },
          },
          {
            key: "getName",
            value: function () {
              return "os_version";
            },
          },
        ])
      );
    })(vm);
    function hv(t) {
      return (
        (hv =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        hv(t)
      );
    }
    function dv(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, yv(r.key), r);
      }
    }
    function yv(t) {
      var e = (function (t, e) {
        if ("object" != hv(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != hv(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == hv(e) ? e : e + "";
    }
    function mv(t, e, n) {
      return (
        (e = bv(e)),
        (function (t, e) {
          if (e && ("object" == hv(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          vv()
            ? Reflect.construct(e, n || [], bv(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function vv() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (vv = function () {
        return !!t;
      })();
    }
    function bv(t) {
      return (
        (bv = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        bv(t)
      );
    }
    function gv(t, e) {
      return (
        (gv = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        gv(t, e)
      );
    }
    var _v = (function (t) {
      function e(t) {
        var n;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (n = mv(this, e)).validateParams(t),
          (n.osName = t),
          n
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && gv(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && dv(t.prototype, e),
            n && dv(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t) {
              "string" == typeof t ||
                _t.warn(
                  " wrong type in OSFamily, BrowserProps parameters. osName : {expected: string, received: ".concat(
                    hv(t),
                    "}"
                  )
                );
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [this.getName(), this.osName];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] && "string" == typeof t[1]) ||
                _t.warn(
                  "os_family, BrowserPropsContract - Contract verification failed"
                );
            },
          },
          {
            key: "getName",
            value: function () {
              return "os_family";
            },
          },
        ])
      );
    })(vm);
    function wv(t) {
      return (
        (wv =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        wv(t)
      );
    }
    function Sv(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Ev(r.key), r);
      }
    }
    function Ev(t) {
      var e = (function (t, e) {
        if ("object" != wv(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != wv(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == wv(e) ? e : e + "";
    }
    function kv(t, e, n) {
      return (
        (e = Pv(e)),
        (function (t, e) {
          if (e && ("object" == wv(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Tv()
            ? Reflect.construct(e, n || [], Pv(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Tv() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Tv = function () {
        return !!t;
      })();
    }
    function Pv(t) {
      return (
        (Pv = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Pv(t)
      );
    }
    function Ov(t, e) {
      return (
        (Ov = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Ov(t, e)
      );
    }
    var Cv = (function (t) {
      function e(t, n) {
        var r;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (r = kv(this, e)).validateParams(t, n),
          (r.pointer = t),
          (r.hover = n),
          r
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && Ov(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && Sv(t.prototype, e),
            n && Sv(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t, e) {
              !(
                "number" != typeof t ||
                (1 !== t && 2 !== t && 3 !== t && 4 !== t && 5 !== t) ||
                "number" != typeof e ||
                (1 !== e && 2 !== e && 3 !== e && 4 !== e && 5 !== e)
              ) ||
                _t.warn(
                  " wrong type in InputMech, BrowserProps parameters. pointer : {expected: number, received: "
                    .concat(wv(t), "}, hover : {expected: number, received: ")
                    .concat(wv(e), "}")
                );
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [this.getName(), [this.pointer, this.hover]];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] &&
                Array.isArray(t[1]) &&
                2 === t[1].length) ||
                _t.warn(
                  "input_mech, BrowserPropsContract - Contract verification failed"
                );
            },
          },
          {
            key: "getName",
            value: function () {
              return "input_mech";
            },
          },
        ])
      );
    })(vm);
    function jv(t) {
      return (
        (jv =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        jv(t)
      );
    }
    function Mv(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Rv(r.key), r);
      }
    }
    function Rv(t) {
      var e = (function (t, e) {
        if ("object" != jv(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != jv(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == jv(e) ? e : e + "";
    }
    function Bv(t, e, n) {
      return (
        (e = xv(e)),
        (function (t, e) {
          if (e && ("object" == jv(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Av()
            ? Reflect.construct(e, n || [], xv(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Av() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Av = function () {
        return !!t;
      })();
    }
    function xv(t) {
      return (
        (xv = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        xv(t)
      );
    }
    function Dv(t, e) {
      return (
        (Dv = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Dv(t, e)
      );
    }
    var Lv = (function (t) {
      function e(t) {
        var n;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (n = Bv(this, e)).validateParams(t),
          (n.hardwareConcurrency = t),
          n
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && Dv(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && Mv(t.prototype, e),
            n && Mv(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t) {
              "number" == typeof t ||
                _t.warn(
                  "wrong type in cores, BrowserProps parameters. hardwareConcurrency : {expected: number, received: ".concat(
                    jv(t),
                    "}"
                  )
                );
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [this.getName(), this.hardwareConcurrency];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] && "number" == typeof t[1]) ||
                _t.warn(
                  "cores,BrowserPropsContract - Contract verification failed"
                );
            },
          },
          {
            key: "getName",
            value: function () {
              return "cores";
            },
          },
        ])
      );
    })(vm);
    function Nv(t, e) {
      var n =
        ("undefined" != typeof Symbol && t[Symbol.iterator]) || t["@@iterator"];
      if (!n) {
        if (
          Array.isArray(t) ||
          (n = (function (t, e) {
            if (t) {
              if ("string" == typeof t) return Iv(t, e);
              var n = {}.toString.call(t).slice(8, -1);
              return (
                "Object" === n && t.constructor && (n = t.constructor.name),
                "Map" === n || "Set" === n
                  ? Array.from(t)
                  : "Arguments" === n ||
                    /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                  ? Iv(t, e)
                  : void 0
              );
            }
          })(t)) ||
          (e && t && "number" == typeof t.length)
        ) {
          n && (t = n);
          var r = 0,
            o = function () {};
          return {
            s: o,
            n: function () {
              return r >= t.length ? { done: !0 } : { done: !1, value: t[r++] };
            },
            e: function (t) {
              throw t;
            },
            f: o,
          };
        }
        throw new TypeError(
          "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
        );
      }
      var i,
        a = !0,
        u = !1;
      return {
        s: function () {
          n = n.call(t);
        },
        n: function () {
          var t = n.next();
          return (a = t.done), t;
        },
        e: function (t) {
          (u = !0), (i = t);
        },
        f: function () {
          try {
            a || null == n.return || n.return();
          } finally {
            if (u) throw i;
          }
        },
      };
    }
    function Iv(t, e) {
      (null == e || e > t.length) && (e = t.length);
      for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
      return r;
    }
    function Fv(t) {
      return (
        (Fv =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Fv(t)
      );
    }
    function Uv(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Wv(r.key), r);
      }
    }
    function Wv(t) {
      var e = (function (t, e) {
        if ("object" != Fv(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Fv(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Fv(e) ? e : e + "";
    }
    function Gv(t, e, n) {
      return (
        (e = Qv(e)),
        (function (t, e) {
          if (e && ("object" == Fv(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Hv()
            ? Reflect.construct(e, n || [], Qv(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Hv() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Hv = function () {
        return !!t;
      })();
    }
    function Qv(t) {
      return (
        (Qv = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Qv(t)
      );
    }
    function zv(t, e) {
      return (
        (zv = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        zv(t, e)
      );
    }
    var Vv = (function (t) {
      function e(t) {
        var n;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (n = Gv(this, e)).validateParams(t),
          (n.plugins = t),
          n
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && zv(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && Uv(t.prototype, e),
            n && Uv(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t) {
              (Array.isArray(t) && this._eachPluginIsValid(t)) ||
                _t.warn(
                  " wrong type in plugins, BrowserProps parameters. plugins : {expected: [[...string]], received: ".concat(
                    Fv(t),
                    "}"
                  )
                );
            },
          },
          {
            key: "_eachPluginIsValid",
            value: function (t) {
              var e,
                n = !0,
                r = !0,
                o = !0,
                i = Nv(t);
              try {
                for (i.s(); !(e = i.n()).done; ) {
                  var a = e.value;
                  if (Array.isArray(a)) {
                    4 !== a.length && (o = !1);
                    var u,
                      s = Nv(a);
                    try {
                      for (s.s(); !(u = s.n()).done; ) {
                        "string" != typeof u.value && (r = !1);
                      }
                    } catch (t) {
                      s.e(t);
                    } finally {
                      s.f();
                    }
                  } else n = !1;
                }
              } catch (t) {
                i.e(t);
              } finally {
                i.f();
              }
              return n && o && r;
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [this.getName(), this.plugins];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] && Array.isArray(t[1])) ||
                _t.warn(
                  "plugins, BrowserPropsContract - Contract verification failed"
                );
            },
          },
          {
            key: "getName",
            value: function () {
              return "plugins";
            },
          },
        ])
      );
    })(vm);
    function Kv(t) {
      return (
        (Kv =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Kv(t)
      );
    }
    function qv(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Jv(r.key), r);
      }
    }
    function Jv(t) {
      var e = (function (t, e) {
        if ("object" != Kv(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Kv(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Kv(e) ? e : e + "";
    }
    function Xv(t, e, n) {
      return (
        (e = Zv(e)),
        (function (t, e) {
          if (e && ("object" == Kv(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Yv()
            ? Reflect.construct(e, n || [], Zv(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Yv() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Yv = function () {
        return !!t;
      })();
    }
    function Zv(t) {
      return (
        (Zv = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Zv(t)
      );
    }
    function $v(t, e) {
      return (
        ($v = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        $v(t, e)
      );
    }
    var tb = (function (t) {
      function e(t) {
        var n;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (n = Xv(this, e)).validateParams(t),
          (n.userAgent = t),
          n
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && $v(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && qv(t.prototype, e),
            n && qv(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t) {
              "string" == typeof t ||
                _t.warn(
                  "wrong type in JsUa, BrowserProps parameters. userAgent : {expected: string, received: ".concat(
                    Kv(t),
                    "}"
                  )
                );
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [this.getName(), this.userAgent];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] && "string" == typeof t[1]) ||
                _t.warn(
                  "js_ua, BrowserPropsContract - Contract verification failed"
                );
            },
          },
          {
            key: "getName",
            value: function () {
              return "js_ua";
            },
          },
        ])
      );
    })(vm);
    function eb(t) {
      return (
        (eb =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        eb(t)
      );
    }
    function nb(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, rb(r.key), r);
      }
    }
    function rb(t) {
      var e = (function (t, e) {
        if ("object" != eb(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != eb(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == eb(e) ? e : e + "";
    }
    function ob(t, e, n) {
      return (
        (e = ab(e)),
        (function (t, e) {
          if (e && ("object" == eb(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          ib()
            ? Reflect.construct(e, n || [], ab(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function ib() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (ib = function () {
        return !!t;
      })();
    }
    function ab(t) {
      return (
        (ab = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        ab(t)
      );
    }
    function ub(t, e) {
      return (
        (ub = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        ub(t, e)
      );
    }
    var sb = (function (t) {
      function e(t) {
        var n;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (n = ob(this, e)).validateParams(t),
          (n.tz = t),
          n
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && ub(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && nb(t.prototype, e),
            n && nb(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t) {
              "number" == typeof t ||
                _t.warn(
                  "wrong type in TimeZone, BrowserProps parameters. tz : {expected: string, received: ".concat(
                    eb(t),
                    "}"
                  )
                );
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [this.getName(), this.tz];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] && "number" == typeof t[1]) ||
                _t.warn(
                  "time_zone, BrowserPropsContract - Contract verification failed"
                );
            },
          },
          {
            key: "getName",
            value: function () {
              return "time_zone";
            },
          },
        ])
      );
    })(vm);
    function cb(t) {
      return (
        (cb =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        cb(t)
      );
    }
    function lb(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, fb(r.key), r);
      }
    }
    function fb(t) {
      var e = (function (t, e) {
        if ("object" != cb(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != cb(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == cb(e) ? e : e + "";
    }
    function pb(t, e, n) {
      return (
        (e = db(e)),
        (function (t, e) {
          if (e && ("object" == cb(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          hb()
            ? Reflect.construct(e, n || [], db(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function hb() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (hb = function () {
        return !!t;
      })();
    }
    function db(t) {
      return (
        (db = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        db(t)
      );
    }
    function yb(t, e) {
      return (
        (yb = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        yb(t, e)
      );
    }
    var mb = (function (t) {
      function e(t) {
        var n;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (n = pb(this, e)).validateParams(t),
          (n.isCookie = t),
          n
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && yb(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && lb(t.prototype, e),
            n && lb(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t) {
              "boolean" == typeof t ||
                _t.warn(
                  "wrong type in CookieEnabled, BrowserProps parameters. isCookie : {expected: boolean, received: ".concat(
                    cb(t),
                    "}"
                  )
                );
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [this.getName(), this.isCookie];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] && "boolean" == typeof t[1]) ||
                _t.warn(
                  "CookieEnabled,BrowserPropsContract - Contract verification failed"
                );
            },
          },
          {
            key: "getName",
            value: function () {
              return "cookie_enabled";
            },
          },
        ])
      );
    })(vm);
    function vb(t) {
      return (
        (vb =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        vb(t)
      );
    }
    function bb(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, gb(r.key), r);
      }
    }
    function gb(t) {
      var e = (function (t, e) {
        if ("object" != vb(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != vb(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == vb(e) ? e : e + "";
    }
    function _b(t, e, n) {
      return (
        (e = Sb(e)),
        (function (t, e) {
          if (e && ("object" == vb(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          wb()
            ? Reflect.construct(e, n || [], Sb(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function wb() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (wb = function () {
        return !!t;
      })();
    }
    function Sb(t) {
      return (
        (Sb = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Sb(t)
      );
    }
    function Eb(t, e) {
      return (
        (Eb = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Eb(t, e)
      );
    }
    var kb = (function (t) {
      function e(t) {
        var n;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (n = _b(this, e)).validateParams(t),
          (n.memory = t),
          n
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && Eb(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && bb(t.prototype, e),
            n && bb(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t) {
              ("number" == typeof t &&
                (0.25 === t ||
                  0.5 === t ||
                  1 === t ||
                  2 === t ||
                  4 === t ||
                  8 === t ||
                  0 === t)) ||
                _t.warn(
                  "wrong type in DeviceMemoryBrowser, BrowserProps parameters. memory : {expected: number in {0.25, 0.5, 1, 2, 4, 8, 0} received: type:"
                    .concat(vb(t), " value:")
                    .concat(t, "}")
                );
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [this.getName(), this.memory];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] && "number" == typeof t[1]) ||
                _t.warn(
                  "device_memory, BrowserPropsContract - Contract verification failed"
                );
            },
          },
          {
            key: "getName",
            value: function () {
              return "device_memory";
            },
          },
        ])
      );
    })(vm);
    function Tb(t) {
      return (
        (Tb =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Tb(t)
      );
    }
    function Pb(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Ob(r.key), r);
      }
    }
    function Ob(t) {
      var e = (function (t, e) {
        if ("object" != Tb(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Tb(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Tb(e) ? e : e + "";
    }
    function Cb(t, e, n) {
      return (
        (e = Mb(e)),
        (function (t, e) {
          if (e && ("object" == Tb(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          jb()
            ? Reflect.construct(e, n || [], Mb(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function jb() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (jb = function () {
        return !!t;
      })();
    }
    function Mb(t) {
      return (
        (Mb = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Mb(t)
      );
    }
    function Rb(t, e) {
      return (
        (Rb = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Rb(t, e)
      );
    }
    var Bb = (function (t) {
      function e(t) {
        var n;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (n = Cb(this, e)).validateParams(t),
          (n.language = t),
          n
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && Rb(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && Pb(t.prototype, e),
            n && Pb(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t) {
              "string" == typeof t ||
                _t.warn(
                  " wrong type in Lang, BrowserProps parameters. language : {expected: string, received: ".concat(
                    Tb(t),
                    "}"
                  )
                );
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [this.getName(), this.language];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] && "string" == typeof t[1]) ||
                _t.warn(
                  "main_lang, BrowserPropsContract - Contract verification failed"
                );
            },
          },
          {
            key: "getName",
            value: function () {
              return "main_lang";
            },
          },
        ])
      );
    })(vm);
    function Ab(t, e) {
      var n =
        ("undefined" != typeof Symbol && t[Symbol.iterator]) || t["@@iterator"];
      if (!n) {
        if (
          Array.isArray(t) ||
          (n = (function (t, e) {
            if (t) {
              if ("string" == typeof t) return xb(t, e);
              var n = {}.toString.call(t).slice(8, -1);
              return (
                "Object" === n && t.constructor && (n = t.constructor.name),
                "Map" === n || "Set" === n
                  ? Array.from(t)
                  : "Arguments" === n ||
                    /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                  ? xb(t, e)
                  : void 0
              );
            }
          })(t)) ||
          (e && t && "number" == typeof t.length)
        ) {
          n && (t = n);
          var r = 0,
            o = function () {};
          return {
            s: o,
            n: function () {
              return r >= t.length ? { done: !0 } : { done: !1, value: t[r++] };
            },
            e: function (t) {
              throw t;
            },
            f: o,
          };
        }
        throw new TypeError(
          "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
        );
      }
      var i,
        a = !0,
        u = !1;
      return {
        s: function () {
          n = n.call(t);
        },
        n: function () {
          var t = n.next();
          return (a = t.done), t;
        },
        e: function (t) {
          (u = !0), (i = t);
        },
        f: function () {
          try {
            a || null == n.return || n.return();
          } finally {
            if (u) throw i;
          }
        },
      };
    }
    function xb(t, e) {
      (null == e || e > t.length) && (e = t.length);
      for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
      return r;
    }
    function Db(t) {
      return (
        (Db =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Db(t)
      );
    }
    function Lb(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Nb(r.key), r);
      }
    }
    function Nb(t) {
      var e = (function (t, e) {
        if ("object" != Db(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Db(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Db(e) ? e : e + "";
    }
    function Ib(t, e, n) {
      return (
        (e = Ub(e)),
        (function (t, e) {
          if (e && ("object" == Db(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Fb()
            ? Reflect.construct(e, n || [], Ub(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Fb() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Fb = function () {
        return !!t;
      })();
    }
    function Ub(t) {
      return (
        (Ub = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Ub(t)
      );
    }
    function Wb(t, e) {
      return (
        (Wb = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Wb(t, e)
      );
    }
    var Gb = (function (t) {
      function e(t) {
        var n;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (n = Ib(this, e)).validateParams(t),
          (n.languagesList = t),
          n
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && Wb(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && Lb(t.prototype, e),
            n && Lb(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t) {
              (Array.isArray(t) && this._eachLangIsValid(t)) ||
                _t.warn(
                  " wrong type in LanguagesList, BrowserProps parameters. languagesList : {expected: [...string], received: ".concat(
                    Db(t),
                    "}"
                  )
                );
            },
          },
          {
            key: "_eachLangIsValid",
            value: function (t) {
              var e,
                n = !0,
                r = Ab(t);
              try {
                for (r.s(); !(e = r.n()).done; ) {
                  "string" != typeof e.value && (n = !1);
                }
              } catch (t) {
                r.e(t);
              } finally {
                r.f();
              }
              return n;
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [this.getName(), this.languagesList];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] && Array.isArray(t[1])) ||
                _t.warn(
                  "languages, BrowserPropsContract - Contract verification failed"
                );
            },
          },
          {
            key: "getName",
            value: function () {
              return "languages";
            },
          },
        ])
      );
    })(vm);
    function Hb(t) {
      return (
        (Hb =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Hb(t)
      );
    }
    function Qb(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, zb(r.key), r);
      }
    }
    function zb(t) {
      var e = (function (t, e) {
        if ("object" != Hb(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Hb(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Hb(e) ? e : e + "";
    }
    function Vb(t, e, n) {
      return (
        (e = qb(e)),
        (function (t, e) {
          if (e && ("object" == Hb(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Kb()
            ? Reflect.construct(e, n || [], qb(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Kb() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Kb = function () {
        return !!t;
      })();
    }
    function qb(t) {
      return (
        (qb = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        qb(t)
      );
    }
    function Jb(t, e) {
      return (
        (Jb = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Jb(t, e)
      );
    }
    var Xb = (function (t) {
      function e(t) {
        var n;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (n = Vb(this, e)).validateParams(t),
          (n.buildID = t),
          n
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && Jb(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && Qb(t.prototype, e),
            n && Qb(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t) {
              (void 0 !== t && "string" == typeof t) ||
                _t.warn(
                  "The buildID is either undefined or of a wrong type. Expected string, received: ".concat(
                    Hb(t)
                  )
                );
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [this.getName(), this.buildID];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] && "string" == typeof t[1]) ||
                _t.warn(
                  "navigator_build_id, BrowserPropsContract - Contract verification failed"
                );
            },
          },
          {
            key: "getName",
            value: function () {
              return "navigator_build_id";
            },
          },
        ])
      );
    })(vm);
    function Yb(t) {
      return (
        (Yb =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Yb(t)
      );
    }
    function Zb(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, $b(r.key), r);
      }
    }
    function $b(t) {
      var e = (function (t, e) {
        if ("object" != Yb(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Yb(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Yb(e) ? e : e + "";
    }
    function tg(t, e, n) {
      return (
        (e = ng(e)),
        (function (t, e) {
          if (e && ("object" == Yb(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          eg()
            ? Reflect.construct(e, n || [], ng(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function eg() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (eg = function () {
        return !!t;
      })();
    }
    function ng(t) {
      return (
        (ng = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        ng(t)
      );
    }
    function rg(t, e) {
      return (
        (rg = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        rg(t, e)
      );
    }
    var og = (function (t) {
      function e(t) {
        var n;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (n = tg(this, e)).validateParams(t),
          (n.maxTouchPoints = t),
          n
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && rg(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && Zb(t.prototype, e),
            n && Zb(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t) {
              (void 0 !== t && "number" == typeof t) ||
                _t.warn(
                  "wrong type in MaxTouchPointsContract parameters. Expected: number, received: ".concat(
                    Yb(t)
                  )
                );
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [this.getName(), this.maxTouchPoints];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] && "number" == typeof t[1]) ||
                _t.warn(
                  "navigator_max_touch_points, BrowserPropsContract - Contract verification failed"
                );
            },
          },
          {
            key: "getName",
            value: function () {
              return "navigator_max_touch_points";
            },
          },
        ])
      );
    })(vm);
    function ig(t) {
      return (
        (ig =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        ig(t)
      );
    }
    function ag(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, ug(r.key), r);
      }
    }
    function ug(t) {
      var e = (function (t, e) {
        if ("object" != ig(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != ig(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == ig(e) ? e : e + "";
    }
    function sg(t, e, n) {
      return (
        (e = lg(e)),
        (function (t, e) {
          if (e && ("object" == ig(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          cg()
            ? Reflect.construct(e, n || [], lg(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function cg() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (cg = function () {
        return !!t;
      })();
    }
    function lg(t) {
      return (
        (lg = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        lg(t)
      );
    }
    function fg(t, e) {
      return (
        (fg = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        fg(t, e)
      );
    }
    var pg = (function (t) {
      function e(t) {
        var n;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (n = sg(this, e)).validateParams(t),
          (n.math = t),
          n
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && fg(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && ag(t.prototype, e),
            n && ag(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t) {
              "string" == typeof t ||
                _t.warn(
                  "wrong type in MathDetect parameters. renderer: {expected: string, received: ".concat(
                    ig(t),
                    "}"
                  )
                );
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [this.getName(), this.math];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] && "string" == typeof t[1]) ||
                _t.warn("MathDetect - Contract verification failed");
            },
          },
          {
            key: "getName",
            value: function () {
              return "math_detect";
            },
          },
        ])
      );
    })(vm);
    function hg(t) {
      return (
        (hg =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        hg(t)
      );
    }
    function dg(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, yg(r.key), r);
      }
    }
    function yg(t) {
      var e = (function (t, e) {
        if ("object" != hg(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != hg(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == hg(e) ? e : e + "";
    }
    function mg(t, e, n) {
      return (
        (e = bg(e)),
        (function (t, e) {
          if (e && ("object" == hg(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          vg()
            ? Reflect.construct(e, n || [], bg(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function vg() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (vg = function () {
        return !!t;
      })();
    }
    function bg(t) {
      return (
        (bg = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        bg(t)
      );
    }
    function gg(t, e) {
      return (
        (gg = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        gg(t, e)
      );
    }
    var _g = (function (t) {
      function e(t) {
        var n;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (n = mg(this, e)).validateParams(t),
          (n.browserDisplay = t),
          n
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && gg(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && dg(t.prototype, e),
            n && dg(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t) {
              "string" == typeof t ||
                _t.warn(
                  "wrong type in BrowserDisplay, BrowserProps parameters. BrowserDisplay : {expected: string, received: ".concat(
                    hg(t),
                    "}"
                  )
                );
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [this.getName(), this.browserDisplay];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] && "string" == typeof t[1]) ||
                _t.warn(
                  "TransparencyReduced, BrowserPropsContract - Contract verification failed"
                );
            },
          },
          {
            key: "getName",
            value: function () {
              return "browser_display_detect";
            },
          },
        ])
      );
    })(vm);
    function wg(t) {
      return (
        (wg =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        wg(t)
      );
    }
    function Sg(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Eg(r.key), r);
      }
    }
    function Eg(t) {
      var e = (function (t, e) {
        if ("object" != wg(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != wg(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == wg(e) ? e : e + "";
    }
    function kg(t, e, n) {
      return (
        (e = Pg(e)),
        (function (t, e) {
          if (e && ("object" == wg(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Tg()
            ? Reflect.construct(e, n || [], Pg(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Tg() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Tg = function () {
        return !!t;
      })();
    }
    function Pg(t) {
      return (
        (Pg = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Pg(t)
      );
    }
    function Og(t, e) {
      return (
        (Og = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Og(t, e)
      );
    }
    var Cg = {
        configKey: "collectBrowserProps",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !0,
        shouldRun: !0,
        isFrameRelated: !1,
        runInUns: !0,
        runInSlave: !1,
        runInLean: !1,
        isRunning: !1,
        instance: null,
      },
      jg = (function (t) {
        function e(t, n, r, o, i) {
          var a;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((a = kg(this, e))._dataQ = t),
            (a._pointerHoverDetector = n),
            (a._utils = r),
            (a._configurationRepository = o),
            (a._configurations = i),
            a
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && Og(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && Sg(t.prototype, e),
              n && Sg(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value: function () {
                  var t = this;
                  _t.info("Collecting Browser Props");
                  var n = new Gm(this._utils.scriptVersion).buildQueueMessage();
                  this._dataQ.addToQueue("static_fields", n, !1);
                  var r = new Xm("js").buildQueueMessage();
                  this._dataQ.addToQueue("static_fields", r, !1),
                    _t.info(
                      "SDK Version is ".concat(this._utils.scriptVersion)
                    );
                  var o = e.getLanguage();
                  if (o) {
                    this._configurationRepository.get(
                      "browserPropsShouldHashLanguageField"
                    ) &&
                      (_t.debug(
                        "Hashing language field according to configuration"
                      ),
                      (o = this._utils.getHash(o).toString()));
                    var i = new Bb(o).buildQueueMessage();
                    this._dataQ.addToQueue("static_fields", i, !1);
                  }
                  var a = new ov(
                    e.getAvailablePlatform(window.navigator)
                  ).buildQueueMessage();
                  this._dataQ.addToQueue("static_fields", a, !1);
                  var u = e.getOperatingSystem(),
                    s = new pv(u.version).buildQueueMessage();
                  this._dataQ.addToQueue("static_fields", s, !1);
                  var c = new _v(u.name).buildQueueMessage();
                  this._dataQ.addToQueue("static_fields", c, !1);
                  var l = this._pointerHoverDetector.getPointerHover(),
                    f = new Cv(l.pointer, l.hover).buildQueueMessage();
                  this._dataQ.addToQueue("static_fields", f, !1);
                  var p = new Lv(
                    window.navigator.hardwareConcurrency || 0
                  ).buildQueueMessage();
                  if (
                    (this._dataQ.addToQueue("static_fields", p, !1),
                    navigator.languages)
                  ) {
                    var h = navigator.languages;
                    this._configurationRepository.get(
                      "browserPropsShouldHashLanguageField"
                    ) &&
                      (_t.debug(
                        "Hashing languages field according to configuration"
                      ),
                      (h = Array.from(h, function (e) {
                        return t._utils.getHash(e).toString();
                      })));
                    var d = new Gb(h).buildQueueMessage();
                    this._dataQ.addToQueue("static_fields", d, !1);
                  }
                  var y = e.getPlugins();
                  if (y && y.length > 0) {
                    var m = new Vv(y).buildQueueMessage();
                    this._dataQ.addToQueue("static_fields", m, !1);
                  }
                  var v = new tb(navigator.userAgent).buildQueueMessage();
                  this._dataQ.addToQueue("static_fields", v, !1);
                  var b = -1 * new Date().getTimezoneOffset(),
                    g = new sb(b).buildQueueMessage();
                  this._dataQ.addToQueue("static_fields", g, !1);
                  var _ = e.checkCookie(),
                    w = new mb(_).buildQueueMessage();
                  this._dataQ.addToQueue("static_fields", w, !1);
                  var S = navigator.deviceMemory || 0,
                    E = new kb(S).buildQueueMessage();
                  this._dataQ.addToQueue("static_fields", E, !1);
                  var k = navigator.buildID;
                  if (k) {
                    var T = new Xb(k).buildQueueMessage();
                    this._dataQ.addToQueue("static_fields", T, !1);
                  }
                  var P = navigator.maxTouchPoints,
                    O = new og(P).buildQueueMessage();
                  if (
                    (this._dataQ.addToQueue("static_fields", O, !1),
                    this._configurations.isBrowserDisplayDetectEnabled())
                  ) {
                    var C = ""
                        .concat(e.isTransparencyReduced(), ",\n            ")
                        .concat(e.isMotionReduced(), ",\n            ")
                        .concat(e.getColorGamut(), ",\n            ")
                        .concat(e.areColorsForced(), ",\n            ")
                        .concat(e.areColorsInverted(), ",\n            ")
                        .concat(e.isHDR(), ",\n            ")
                        .concat(e.getMonochromeDepth()),
                      j = new _g(C).buildQueueMessage();
                    this._dataQ.addToQueue("static_fields", j, !1);
                  }
                  if (this._configurations.isMathDetectEnabled()) {
                    var M = e.getMathFingerprint(),
                      R = new pg(M).buildQueueMessage();
                    this._dataQ.addToQueue("static_fields", R, !1);
                  }
                  _t.info("Browser Props collected");
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return Cg;
                },
              },
              {
                key: "getLanguage",
                value: function () {
                  if (navigator) {
                    if (navigator.language) return navigator.language;
                    if (navigator.userLanguage) return navigator.userLanguage;
                  }
                },
              },
              {
                key: "getMonochromeDepth",
                value: function () {
                  if (matchMedia("(min-monochrome: 0)").matches)
                    for (var t = 0; t <= 100; ++t)
                      if (
                        matchMedia("(max-monochrome: ".concat(t, ")")).matches
                      )
                        return t;
                },
              },
              {
                key: "isHDR",
                value: function () {
                  var t = function (t) {
                    return matchMedia("(dynamic-range: ".concat(t, ")"))
                      .matches;
                  };
                  return t("high")
                    ? "high"
                    : t("standard")
                    ? "standard"
                    : "undefined";
                },
              },
              {
                key: "areColorsInverted",
                value: function () {
                  var t = function (t) {
                    return matchMedia("(inverted-colors: ".concat(t, ")"))
                      .matches;
                  };
                  return t("inverted")
                    ? "inverted"
                    : t("none")
                    ? "none"
                    : "undefined";
                },
              },
              {
                key: "areColorsForced",
                value: function () {
                  var t = function (t) {
                    return matchMedia("(forced-colors: ".concat(t, ")"))
                      .matches;
                  };
                  return t("active")
                    ? "active"
                    : t("none")
                    ? "none"
                    : "undefined";
                },
              },
              {
                key: "getColorGamut",
                value: function () {
                  for (
                    var t = 0, e = ["rec2020", "p3", "srgb"];
                    t < e.length;
                    t++
                  ) {
                    var n = e[t];
                    if (matchMedia("(color-gamut: ".concat(n, ")")).matches)
                      return n;
                  }
                  return "undefined";
                },
              },
              {
                key: "isMotionReduced",
                value: function () {
                  var t = function (t) {
                    return matchMedia(
                      "(prefers-reduced-motion: ".concat(t, ")")
                    ).matches;
                  };
                  return t("reduce")
                    ? "reduce"
                    : t("no-preference")
                    ? "no-preference"
                    : "undefined";
                },
              },
              {
                key: "isTransparencyReduced",
                value: function () {
                  var t = function (t) {
                    return matchMedia(
                      "(prefers-reduced-transparency: ".concat(t, ")")
                    ).matches;
                  };
                  return t("reduce")
                    ? "reduce"
                    : t("no-preference")
                    ? "no-preference"
                    : "undefined";
                },
              },
              {
                key: "getMathFingerprint",
                value: function () {
                  return [
                    Math.acos(0.12312423423423424),
                    Math.acosh(1e308),
                    Math.asin(0.12312423423423424),
                    Math.asinh(1),
                    Math.atan(0.5),
                    Math.atanh(0.5),
                    Math.sin(-1e300),
                    Math.sinh(1),
                    Math.cos(10.000000000123),
                    Math.cosh(1),
                    Math.tan(-1e300),
                    Math.tanh(1),
                    Math.exp(1),
                    Math.expm1(1),
                    Math.log1p(10),
                    Math.pow(Math.PI, -100),
                  ].join("|");
                },
              },
              {
                key: "getPlugins",
                value: function () {
                  try {
                    var t = [];
                    if (
                      window.navigator.plugins &&
                      window.navigator.plugins.length > 0
                    )
                      for (
                        var n = 0, r = window.navigator.plugins.length;
                        n < r;
                        n++
                      )
                        t.push([
                          window.navigator.plugins[n].name,
                          window.navigator.plugins[n].filename,
                          window.navigator.plugins[n].description,
                          window.navigator.plugins[n].version
                            ? window.navigator.plugins[n].version
                            : "",
                        ]);
                    else if (
                      window.navigator.mimeTypes &&
                      window.navigator.mimeTypes.length > 0
                    )
                      for (
                        var o = 0;
                        o < window.navigator.mimeTypes.length;
                        o++
                      )
                        t.push([
                          window.navigator.mimeTypes[o].type,
                          "",
                          window.navigator.mimeTypes[o].description,
                          "",
                        ]);
                    var i = e.isActiveXAndFlashEnabled;
                    return (
                      e.augmentWithFlashInIE(t, window.navigator.plugins, i), t
                    );
                  } catch (t) {
                    _t.warn("getPlugins error: ".concat(t.message), t);
                  }
                },
              },
              {
                key: "checkCookie",
                value: function () {
                  var t = navigator.cookieEnabled;
                  return (
                    t ||
                      (this._utils.StorageUtils.setCookie(
                        "testcookie",
                        "1",
                        6e4
                      ),
                      (t = -1 !== document.cookie.indexOf("testcookie"))),
                    t
                  );
                },
              },
              {
                key: "getOperatingSystem",
                value: function () {
                  for (
                    var t,
                      n,
                      r = [
                        {
                          name: "Windows Phone",
                          value: "Windows Phone",
                          version: "OS",
                        },
                        { name: "Windows", value: "Win", version: "NT" },
                        { name: "iPhone", value: "iPhone", version: "OS" },
                        { name: "iPad", value: "iPad", version: "OS" },
                        { name: "Kindle", value: "Silk", version: "Silk" },
                        {
                          name: "Android",
                          value: "Android",
                          version: "Android",
                        },
                        { name: "PlayBook", value: "PlayBook", version: "OS" },
                        {
                          name: "BlackBerry",
                          value: "BlackBerry",
                          version: "/",
                        },
                        { name: "Macintosh", value: "Mac", version: "OS X" },
                        { name: "Linux", value: "Linux", version: "rv" },
                        { name: "Palm", value: "Palm", version: "PalmOS" },
                      ],
                      o = [
                        e.getAvailablePlatform(window.navigator),
                        navigator.userAgent,
                      ].join(" "),
                      i = "",
                      a = "Unknown",
                      u = 0;
                    u < r.length;
                    u++
                  )
                    if (new RegExp(r[u].value, "i").test(o)) {
                      if (
                        ((t = new RegExp(
                          r[u].version + "[- /:;]([\\d._]+)",
                          "i"
                        )),
                        (n = o.match(t)))
                      ) {
                        n[1] && (n = n[1]), (n = n.split(/[._]+/));
                        for (var s = 0; s < n.length; s++)
                          i += 0 === s ? n[s] + "." : n[s];
                      }
                      a = r[u].name;
                      break;
                    }
                  return { version: parseFloat(i) || null, name: a };
                },
              },
              {
                key: "isActiveXAndFlashEnabled",
                value: function () {
                  try {
                    return Boolean(
                      new ActiveXObject("ShockwaveFlash.ShockwaveFlash")
                    );
                  } catch (t) {
                    return !1;
                  }
                },
              },
              {
                key: "getAvailablePlatform",
                value: function (t) {
                  return "platform" in t
                    ? t.platform
                    : "userAgentData" in t
                    ? t.userAgentData.platform
                    : null;
                },
              },
              {
                key: "augmentWithFlashInIE",
                value: function (t, e, n) {
                  if (
                    "[object PluginArray]" === Object.prototype.toString.call(e)
                  )
                    return t;
                  return (
                    n() &&
                      t.push([
                        "Flash32_32_0_0_238.ocx",
                        2,
                        "Shockwave Flash",
                        "32.0.0.238",
                      ]),
                    t
                  );
                },
              },
            ]
          )
        );
      })(uo);
    function Mg(t) {
      return (
        (Mg =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Mg(t)
      );
    }
    function Rg(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Bg(r.key), r);
      }
    }
    function Bg(t) {
      var e = (function (t, e) {
        if ("object" != Mg(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Mg(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Mg(e) ? e : e + "";
    }
    function Ag(t, e, n) {
      return (
        (e = Dg(e)),
        (function (t, e) {
          if (e && ("object" == Mg(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          xg()
            ? Reflect.construct(e, n || [], Dg(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function xg() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (xg = function () {
        return !!t;
      })();
    }
    function Dg(t) {
      return (
        (Dg = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Dg(t)
      );
    }
    function Lg(t, e) {
      return (
        (Lg = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Lg(t, e)
      );
    }
    var Ng = (function (t) {
      function e(t) {
        var n;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (n = Ag(this, e)).validateParams(t),
          (n.dnt = t),
          n
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && Lg(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && Rg(t.prototype, e),
            n && Rg(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t) {
              ("number" == typeof t && (0 === t || 1 === t || 2 === t)) ||
                _t.warn(
                  "wrong type in DoNotTrackContract parameters. dnt : {expected: number in {0,1,2}, received: type: "
                    .concat(Mg(t), ", value: ")
                    .concat(t)
                );
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [this.getName(), this.dnt];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] && "number" == typeof t[1]) ||
                _t.warn("DoNotTrack - Contract verification failed");
            },
          },
          {
            key: "getName",
            value: function () {
              return "dnt";
            },
          },
        ])
      );
    })(vm);
    function Ig(t) {
      return (
        (Ig =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Ig(t)
      );
    }
    function Fg(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Ug(r.key), r);
      }
    }
    function Ug(t) {
      var e = (function (t, e) {
        if ("object" != Ig(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Ig(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Ig(e) ? e : e + "";
    }
    function Wg(t, e, n) {
      return (
        (e = Hg(e)),
        (function (t, e) {
          if (e && ("object" == Ig(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Gg()
            ? Reflect.construct(e, n || [], Hg(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Gg() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Gg = function () {
        return !!t;
      })();
    }
    function Hg(t) {
      return (
        (Hg = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Hg(t)
      );
    }
    function Qg(t, e) {
      return (
        (Qg = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Qg(t, e)
      );
    }
    var zg = {
        configKey: "isDoNotTrack",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !0,
        shouldRun: !0,
        isFrameRelated: !1,
        runInUns: !0,
        runInSlave: !1,
        runInLean: !1,
        isRunning: !1,
        instance: null,
      },
      Vg = (function (t) {
        function e(t) {
          var n;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((n = Wg(this, e))._dataQ = t),
            n
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && Qg(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && Fg(t.prototype, e),
              n && Fg(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value: function () {
                  var t = navigator.doNotTrack;
                  void 0 === t &&
                    void 0 === (t = window.doNotTrack) &&
                    (t = navigator.msDoNotTrack);
                  var e = new Ng(
                    (t =
                      null === t || "unspecified" === t || "0" === t
                        ? 0
                        : "1" === t
                        ? 1
                        : 2)
                  ).buildQueueMessage();
                  this._dataQ.addToQueue("static_fields", e, !1);
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return zg;
                },
              },
            ]
          )
        );
      })(uo);
    function Kg(t) {
      return (
        (Kg =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Kg(t)
      );
    }
    function qg(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Jg(r.key), r);
      }
    }
    function Jg(t) {
      var e = (function (t, e) {
        if ("object" != Kg(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Kg(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Kg(e) ? e : e + "";
    }
    function Xg(t, e, n) {
      return (
        (e = Zg(e)),
        (function (t, e) {
          if (e && ("object" == Kg(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Yg()
            ? Reflect.construct(e, n || [], Zg(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Yg() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Yg = function () {
        return !!t;
      })();
    }
    function Zg(t) {
      return (
        (Zg = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Zg(t)
      );
    }
    function $g(t, e) {
      return (
        ($g = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        $g(t, e)
      );
    }
    var t_ = (function (t) {
      function e(t, n, r, o) {
        var i;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (i = Xg(this, e)).validateParams(t, n, r, o),
          (i.renderer = t),
          (i.vendor = n),
          (i.version = r),
          (i.supportedExtensions = o),
          i
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && $g(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && qg(t.prototype, e),
            n && qg(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t, e, n, r) {
              ("string" == typeof t &&
                "string" == typeof e &&
                "string" == typeof n &&
                "string" == typeof r) ||
                _t.warn(
                  "wrong type in GraphicDetectContract parameters. renderer: {expected: string, received: "
                    .concat(Kg(t), "}, vendor: {expected: string, received: ")
                    .concat(
                      Kg(e),
                      "},\n            version: {expected: string, received: "
                    )
                    .concat(
                      Kg(n),
                      "}, supportedExtensions: {expected: string, received: "
                    )
                    .concat(Kg(r), "}")
                );
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [
                this.getName(),
                [
                  this.renderer,
                  this.vendor,
                  this.version,
                  this.supportedExtensions,
                ],
              ];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] &&
                Array.isArray(t[1]) &&
                4 === t[1].length) ||
                _t.warn("GraphicDetect - Contract verification failed");
            },
          },
          {
            key: "getName",
            value: function () {
              return "grph_card";
            },
          },
        ])
      );
    })(vm);
    function e_(t) {
      return (
        (e_ =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        e_(t)
      );
    }
    function n_(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, r_(r.key), r);
      }
    }
    function r_(t) {
      var e = (function (t, e) {
        if ("object" != e_(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != e_(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == e_(e) ? e : e + "";
    }
    function o_(t, e, n) {
      return (
        (e = a_(e)),
        (function (t, e) {
          if (e && ("object" == e_(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          i_()
            ? Reflect.construct(e, n || [], a_(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function i_() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (i_ = function () {
        return !!t;
      })();
    }
    function a_(t) {
      return (
        (a_ = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        a_(t)
      );
    }
    function u_(t, e) {
      return (
        (u_ = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        u_(t, e)
      );
    }
    var s_ = {
        configKey: "isVMDetection",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !0,
        shouldRun: !0,
        isFrameRelated: !1,
        runInUns: !1,
        runInSlave: !1,
        runInLean: !1,
        isRunning: !1,
        instance: null,
      },
      c_ = (function (t) {
        function e(t, n) {
          var r;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((r = o_(this, e))._dataQ = t),
            (r._configurations = n),
            (r.canvasId = "cd_canvas"),
            r
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && u_(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && n_(t.prototype, e),
              n && n_(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value: function () {
                  try {
                    this._configurations &&
                      this._configurations.isGraphCardEnabled() &&
                      this._getMappedRenderInfo();
                  } catch (t) {
                    _t.error(
                      "Failed collecting Graphic Card information. ".concat(t)
                    );
                  }
                },
              },
              {
                key: "_getMappedRenderInfo",
                value: function () {
                  _t.info("Collecting Graphic Card props");
                  var t = {
                    renderer: "unknown",
                    vendor: "",
                    version: "unknown",
                    supportedExtensions: "",
                  };
                  if (
                    window.WebGLRenderingContext ||
                    window.WebGL2RenderingContext
                  ) {
                    var e = document.createElement("canvas");
                    e.id = this.canvasId;
                    var n = e.getContext("experimental-webgl");
                    if (n) {
                      var r = n.getExtension("WEBGL_debug_renderer_info");
                      if (null != r) {
                        (t.renderer = n.getParameter(
                          r.UNMASKED_RENDERER_WEBGL
                        )),
                          (t.vendor = n.getParameter(r.UNMASKED_VENDOR_WEBGL)),
                          (t.supportedExtensions = n
                            .getSupportedExtensions()
                            .join(","));
                        if (
                          t.renderer.indexOf("Intel") > -1 &&
                          t.renderer.indexOf("HD Graphics") > -1
                        ) {
                          var o = t.renderer.match(/\d+/g);
                          if (o) {
                            var i = o[0];
                            i > 500 &&
                              i < 599 &&
                              (t.version = "SKL (6th gen core)"),
                              i > 5300 &&
                                i < 6999 &&
                                (t.version = "BDW (5th gen core)");
                          }
                        }
                      }
                    }
                  }
                  var a = new t_(
                    t.renderer,
                    t.vendor,
                    t.version,
                    t.supportedExtensions
                  ).buildQueueMessage();
                  this._dataQ.addToQueue("static_fields", a, !1),
                    _t.info("Graphic Card props collected");
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return s_;
                },
              },
            ]
          )
        );
      })(uo);
    function l_(t) {
      return (
        (l_ =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        l_(t)
      );
    }
    function f_(t, e) {
      var n =
        ("undefined" != typeof Symbol && t[Symbol.iterator]) || t["@@iterator"];
      if (!n) {
        if (
          Array.isArray(t) ||
          (n = (function (t, e) {
            if (t) {
              if ("string" == typeof t) return p_(t, e);
              var n = {}.toString.call(t).slice(8, -1);
              return (
                "Object" === n && t.constructor && (n = t.constructor.name),
                "Map" === n || "Set" === n
                  ? Array.from(t)
                  : "Arguments" === n ||
                    /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                  ? p_(t, e)
                  : void 0
              );
            }
          })(t)) ||
          (e && t && "number" == typeof t.length)
        ) {
          n && (t = n);
          var r = 0,
            o = function () {};
          return {
            s: o,
            n: function () {
              return r >= t.length ? { done: !0 } : { done: !1, value: t[r++] };
            },
            e: function (t) {
              throw t;
            },
            f: o,
          };
        }
        throw new TypeError(
          "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
        );
      }
      var i,
        a = !0,
        u = !1;
      return {
        s: function () {
          n = n.call(t);
        },
        n: function () {
          var t = n.next();
          return (a = t.done), t;
        },
        e: function (t) {
          (u = !0), (i = t);
        },
        f: function () {
          try {
            a || null == n.return || n.return();
          } finally {
            if (u) throw i;
          }
        },
      };
    }
    function p_(t, e) {
      (null == e || e > t.length) && (e = t.length);
      for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
      return r;
    }
    function h_(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, d_(r.key), r);
      }
    }
    function d_(t) {
      var e = (function (t, e) {
        if ("object" != l_(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != l_(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == l_(e) ? e : e + "";
    }
    function y_(t, e, n) {
      return (
        (e = v_(e)),
        (function (t, e) {
          if (e && ("object" == l_(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          m_()
            ? Reflect.construct(e, n || [], v_(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function m_() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (m_ = function () {
        return !!t;
      })();
    }
    function v_(t) {
      return (
        (v_ = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        v_(t)
      );
    }
    function b_(t, e) {
      return (
        (b_ = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        b_(t, e)
      );
    }
    var g_ = (function (t) {
      function e(t) {
        var n;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (n = y_(this, e)).validateParams(t),
          (n.mediaDevices = t),
          n
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && b_(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && h_(t.prototype, e),
            n && h_(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t) {
              (Array.isArray(t) && this._eachDeviceIsValid(t)) ||
                _t.warn(
                  " wrong type in MediaDevicesContract parameters. mediaDevices : {expected: [[...string]], received: ".concat(
                    t,
                    "}"
                  )
                );
            },
          },
          {
            key: "_eachDeviceIsValid",
            value: function (t) {
              var e,
                n = !0,
                r = !0,
                o = !0,
                i = f_(t);
              try {
                for (i.s(); !(e = i.n()).done; ) {
                  var a = e.value;
                  if (Array.isArray(a)) {
                    4 !== a.length && (o = !1);
                    var u,
                      s = f_(a);
                    try {
                      for (s.s(); !(u = s.n()).done; ) {
                        "string" != typeof u.value && (r = !1);
                      }
                    } catch (t) {
                      s.e(t);
                    } finally {
                      s.f();
                    }
                  } else n = !1;
                }
              } catch (t) {
                i.e(t);
              } finally {
                i.f();
              }
              return n && o && r;
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [this.getName(), this.mediaDevices];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] && Array.isArray(t[1])) ||
                _t.warn("MediaDevices - Contract verification failed");
            },
          },
          {
            key: "getName",
            value: function () {
              return "media_devices";
            },
          },
        ])
      );
    })(vm);
    function __(t) {
      return (
        (__ =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        __(t)
      );
    }
    function w_(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, S_(r.key), r);
      }
    }
    function S_(t) {
      var e = (function (t, e) {
        if ("object" != __(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != __(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == __(e) ? e : e + "";
    }
    function E_(t, e, n) {
      return (
        (e = T_(e)),
        (function (t, e) {
          if (e && ("object" == __(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          k_()
            ? Reflect.construct(e, n || [], T_(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function k_() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (k_ = function () {
        return !!t;
      })();
    }
    function T_(t) {
      return (
        (T_ = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        T_(t)
      );
    }
    function P_(t, e) {
      return (
        (P_ = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        P_(t, e)
      );
    }
    var O_ = {
        configKey: "isMediaDevices",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !0,
        shouldRun: !0,
        isFrameRelated: !1,
        runInUns: !1,
        runInSlave: !1,
        runInLean: !1,
        isRunning: !1,
        instance: null,
      },
      C_ = (function (t) {
        function e(t) {
          var n,
            r =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : window.navigator;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((n = E_(this, e))._dataQ = t),
            (n._navigator = r),
            (n._metric = "MediaDevicesFeature"),
            n
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && P_(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && w_(t.prototype, e),
              n && w_(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value: function () {
                  var t = this;
                  this._navigator.mediaDevices &&
                    this._navigator.mediaDevices.enumerateDevices &&
                    this._navigator.mediaDevices
                      .enumerateDevices()
                      .then(function (e) {
                        var n = [];
                        e.forEach(function (t) {
                          var e = [
                            t.kind || "",
                            t.label || "",
                            t.deviceId || "",
                            t.groupId || "",
                          ];
                          n.push(e);
                        });
                        var r = new g_(n).buildQueueMessage();
                        t._dataQ.addToQueue("static_fields", r, !1);
                      })
                      .catch(function (e) {
                        t.cancelMonitor(t._metric),
                          _t.error(
                            "MediaDevicesFeature:startFeature failed to enumerateDevices: ".concat(
                              e.message
                            )
                          );
                      });
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return O_;
                },
              },
            ]
          )
        );
      })(uo);
    function j_(t) {
      return (
        (j_ =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        j_(t)
      );
    }
    function M_(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, R_(r.key), r);
      }
    }
    function R_(t) {
      var e = (function (t, e) {
        if ("object" != j_(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != j_(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == j_(e) ? e : e + "";
    }
    function B_(t, e, n) {
      return (
        (e = x_(e)),
        (function (t, e) {
          if (e && ("object" == j_(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          A_()
            ? Reflect.construct(e, n || [], x_(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function A_() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (A_ = function () {
        return !!t;
      })();
    }
    function x_(t) {
      return (
        (x_ = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        x_(t)
      );
    }
    function D_(t, e) {
      return (
        (D_ = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        D_(t, e)
      );
    }
    var L_ = (function (t) {
      function e(t, n) {
        var r;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (r = B_(this, e)).validateParams(t, n),
          (r.per = t),
          (r.state = n),
          r
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && D_(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && M_(t.prototype, e),
            n && M_(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t, e) {
              ("string" == typeof t && "number" == typeof e) ||
                _t.warn(
                  "wrong type in Per, UserPermissionContract, parameters. per : {expected: string, received: "
                    .concat(j_(t), "}, state : {expected: number, received: ")
                    .concat(j_(e), "}")
                );
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [this.getName(), this.state];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] && "number" == typeof t[1]) ||
                _t.warn(
                  "per, UserPermissionContract - Contract verification failed"
                );
            },
          },
          {
            key: "getName",
            value: function () {
              return "per_".concat(this.per);
            },
          },
        ])
      );
    })(vm);
    function N_(t) {
      return (
        (N_ =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        N_(t)
      );
    }
    function I_(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, F_(r.key), r);
      }
    }
    function F_(t) {
      var e = (function (t, e) {
        if ("object" != N_(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != N_(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == N_(e) ? e : e + "";
    }
    function U_(t, e, n) {
      return (
        (e = G_(e)),
        (function (t, e) {
          if (e && ("object" == N_(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          W_()
            ? Reflect.construct(e, n || [], G_(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function W_() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (W_ = function () {
        return !!t;
      })();
    }
    function G_(t) {
      return (
        (G_ = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        G_(t)
      );
    }
    function H_(t, e) {
      return (
        (H_ = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        H_(t, e)
      );
    }
    var Q_ = (function (t) {
      function e(t) {
        var n;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (n = U_(this, e)).validateParams(t),
          (n.persistent = t),
          n
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && H_(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && I_(t.prototype, e),
            n && I_(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t) {
              "number" == typeof t ||
                _t.warn(
                  "wrong type in PerStorage , UserPermissionContract, parameters. persistent : {expected: number, received: ".concat(
                    N_(t),
                    "}"
                  )
                );
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [this.getName(), this.persistent];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] && "number" == typeof t[1]) ||
                _t.warn(
                  "per_storage, UserPermissionContract - Contract verification failed"
                );
            },
          },
          {
            key: "getName",
            value: function () {
              return "per_storage";
            },
          },
        ])
      );
    })(vm);
    function z_(t) {
      return (
        (z_ =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        z_(t)
      );
    }
    function V_(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, K_(r.key), r);
      }
    }
    function K_(t) {
      var e = (function (t, e) {
        if ("object" != z_(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != z_(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == z_(e) ? e : e + "";
    }
    function q_(t, e, n) {
      return (
        (e = X_(e)),
        (function (t, e) {
          if (e && ("object" == z_(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          J_()
            ? Reflect.construct(e, n || [], X_(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function J_() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (J_ = function () {
        return !!t;
      })();
    }
    function X_(t) {
      return (
        (X_ = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        X_(t)
      );
    }
    function Y_(t, e) {
      return (
        (Y_ = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Y_(t, e)
      );
    }
    var Z_ = (function (t) {
      function e(t, n) {
        var r;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (r = q_(this, e)).validateParams(t, n),
          (r.kind = t),
          (r.perm = n),
          r
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && Y_(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && V_(t.prototype, e),
            n && V_(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t, e) {
              ("string" == typeof t && "number" == typeof e) ||
                _t.warn(
                  "wrong type in PerKind , UserPermissionContract, parameters. kind : {expected: string, received: "
                    .concat(z_(t), "}, perm : {expected: number, received: ")
                    .concat(z_(e), "}")
                );
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [this.getName(), this.perm];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] && "number" == typeof t[1]) ||
                _t.warn(
                  "PerKind, UserPermissionContract - Contract verification failed"
                );
            },
          },
          {
            key: "getName",
            value: function () {
              return "per_".concat(this.kind);
            },
          },
        ])
      );
    })(vm);
    function $_(t) {
      return (
        ($_ =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        $_(t)
      );
    }
    function tw(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, ew(r.key), r);
      }
    }
    function ew(t) {
      var e = (function (t, e) {
        if ("object" != $_(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != $_(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == $_(e) ? e : e + "";
    }
    function nw(t, e, n) {
      return (
        (e = ow(e)),
        (function (t, e) {
          if (e && ("object" == $_(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          rw()
            ? Reflect.construct(e, n || [], ow(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function rw() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (rw = function () {
        return !!t;
      })();
    }
    function ow(t) {
      return (
        (ow = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        ow(t)
      );
    }
    function iw(t, e) {
      return (
        (iw = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        iw(t, e)
      );
    }
    var aw = {
        configKey: "isUserPermissions",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !0,
        shouldRun: !0,
        isFrameRelated: !1,
        runInUns: !1,
        runInSlave: !1,
        runInLean: !1,
        isRunning: !1,
        instance: null,
      },
      uw = (function (t) {
        function e(t) {
          var n,
            r =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : window.navigator;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((n = nw(this, e))._permDefs = {
              granted: 1,
              prompt: 2,
              denied: 3,
              true: 1,
              false: 3,
            }),
            (n._permissions = ["geolocation", "midi", "notifications", "push"]),
            (n._dataQ = t),
            (n._navigator = r),
            n
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && iw(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && tw(t.prototype, e),
              n && tw(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value: function () {
                  this._reportQueryPermissions(),
                    this._reportStoragePermission(),
                    this._reportMicCameraPermissions();
                },
              },
              {
                key: "_reportQueryPermissions",
                value: function () {
                  var t = this;
                  if (
                    this._navigator.permissions &&
                    this._navigator.permissions.query
                  )
                    for (
                      var e = _t,
                        n = function () {
                          var n = t._permissions[r];
                          t._navigator.permissions
                            .query({ name: n })
                            .then(function (e) {
                              var r = t._permDefs[e.state] || -1,
                                o = new L_(n, r).buildQueueMessage();
                              t._dataQ.addToQueue("static_fields", o, !1);
                            })
                            .catch(function (t) {
                              e.debug(
                                "Failed querying for "
                                  .concat(n, " permissions ")
                                  .concat(t.message)
                              );
                            });
                        },
                        r = 0;
                      r < this._permissions.length;
                      r++
                    )
                      n();
                },
              },
              {
                key: "_reportStoragePermission",
                value: function () {
                  var t = this;
                  this._navigator.storage &&
                    this._navigator.storage.persisted &&
                    this._navigator.storage
                      .persisted()
                      .then(function (e) {
                        var n = new Q_(
                          t._permDefs[e] || -1
                        ).buildQueueMessage();
                        t._dataQ.addToQueue("static_fields", n, !1);
                      })
                      .catch(function (t) {
                        _t.debug(
                          "Failed to check storage persisted: ".concat(
                            t.message
                          )
                        );
                      });
                },
              },
              {
                key: "_reportMicCameraPermissions",
                value: function () {
                  var t = this,
                    e = { audio: !1, video: !1 };
                  this._navigator.mediaDevices &&
                    this._navigator.mediaDevices.enumerateDevices &&
                    this._navigator.mediaDevices
                      .enumerateDevices()
                      .then(function (n) {
                        n.forEach(function (n) {
                          if (
                            !(
                              ((a = n.kind).includes("audio") && e.audio) ||
                              (a.includes("video") && e.video)
                            )
                          ) {
                            var r = (function (t) {
                                return t.includes("audio")
                                  ? ((e.audio = !0), "audio")
                                  : t.includes("video")
                                  ? ((e.video = !0), "video")
                                  : void 0;
                              })(n.kind),
                              o =
                                "" !== n.label
                                  ? t._permDefs.granted
                                  : t._permDefs.denied,
                              i = new Z_(r, o).buildQueueMessage();
                            t._dataQ.addToQueue("static_fields", i, !1);
                          }
                          var a;
                        });
                      })
                      .catch(function (t) {
                        _t.debug(
                          "UserPermissions:startFeature failed to enumerateDevices: ".concat(
                            t.message
                          )
                        );
                      });
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return aw;
                },
              },
            ]
          )
        );
      })(uo);
    function sw(t) {
      return (
        (sw =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        sw(t)
      );
    }
    function cw(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, lw(r.key), r);
      }
    }
    function lw(t) {
      var e = (function (t, e) {
        if ("object" != sw(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != sw(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == sw(e) ? e : e + "";
    }
    function fw(t, e, n) {
      return (
        (e = hw(e)),
        (function (t, e) {
          if (e && ("object" == sw(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          pw()
            ? Reflect.construct(e, n || [], hw(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function pw() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (pw = function () {
        return !!t;
      })();
    }
    function hw(t) {
      return (
        (hw = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        hw(t)
      );
    }
    function dw(t, e) {
      return (
        (dw = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        dw(t, e)
      );
    }
    var yw = (function (t) {
      function e(t) {
        var n;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (n = fw(this, e)).validateParams(t),
          (n.isPrivate = t),
          n
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && dw(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && cw(t.prototype, e),
            n && cw(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t) {
              "boolean" == typeof t ||
                _t.warn(
                  "wrong type in IsPrivateBrowsingContract parameters. isPrivate : {expected: boolean, received: ".concat(
                    sw(t),
                    "}"
                  )
                );
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [this.getName(), this.isPrivate];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] && "boolean" == typeof t[1]) ||
                _t.warn("IsPrivateBrowsing - Contract verification failed");
            },
          },
          {
            key: "getName",
            value: function () {
              return "is_private_browsing";
            },
          },
        ])
      );
    })(vm);
    function mw(t) {
      return (
        (mw =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        mw(t)
      );
    }
    function vw(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, bw(r.key), r);
      }
    }
    function bw(t) {
      var e = (function (t, e) {
        if ("object" != mw(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != mw(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == mw(e) ? e : e + "";
    }
    function gw(t, e, n) {
      return (
        (e = ww(e)),
        (function (t, e) {
          if (e && ("object" == mw(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          _w()
            ? Reflect.construct(e, n || [], ww(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function _w() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (_w = function () {
        return !!t;
      })();
    }
    function ww(t) {
      return (
        (ww = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        ww(t)
      );
    }
    function Sw(t, e) {
      return (
        (Sw = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Sw(t, e)
      );
    }
    var Ew = {
        configKey: "isPrivateBrowsing",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !0,
        shouldRun: !0,
        isFrameRelated: !1,
        runInUns: !0,
        runInSlave: !1,
        runInLean: !1,
        isRunning: !1,
        instance: null,
      },
      kw = (function (t) {
        function e(t, n) {
          var r;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((r = gw(this, e))._dataQ = t),
            (r._privateBrowsingDetector = n),
            r
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && Sw(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && vw(t.prototype, e),
              n && vw(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value: function () {
                  var t = this;
                  this._privateBrowsingDetector.detectPrivateMode(function (e) {
                    var n = new yw(e).buildQueueMessage();
                    t._dataQ.addToQueue("static_fields", n, !1);
                  });
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return Ew;
                },
              },
            ]
          )
        );
      })(uo);
    function Tw(t) {
      return (
        (Tw =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Tw(t)
      );
    }
    function Pw(t, e) {
      return (
        (function (t) {
          if (Array.isArray(t)) return t;
        })(t) ||
        (function (t, e) {
          var n =
            null == t
              ? null
              : ("undefined" != typeof Symbol && t[Symbol.iterator]) ||
                t["@@iterator"];
          if (null != n) {
            var r,
              o,
              i,
              a,
              u = [],
              s = !0,
              c = !1;
            try {
              if (((i = (n = n.call(t)).next), 0 === e)) {
                if (Object(n) !== n) return;
                s = !1;
              } else
                for (
                  ;
                  !(s = (r = i.call(n)).done) &&
                  (u.push(r.value), u.length !== e);
                  s = !0
                );
            } catch (t) {
              (c = !0), (o = t);
            } finally {
              try {
                if (
                  !s &&
                  null != n.return &&
                  ((a = n.return()), Object(a) !== a)
                )
                  return;
              } finally {
                if (c) throw o;
              }
            }
            return u;
          }
        })(t, e) ||
        (function (t, e) {
          if (t) {
            if ("string" == typeof t) return Ow(t, e);
            var n = {}.toString.call(t).slice(8, -1);
            return (
              "Object" === n && t.constructor && (n = t.constructor.name),
              "Map" === n || "Set" === n
                ? Array.from(t)
                : "Arguments" === n ||
                  /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                ? Ow(t, e)
                : void 0
            );
          }
        })(t, e) ||
        (function () {
          throw new TypeError(
            "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
          );
        })()
      );
    }
    function Ow(t, e) {
      (null == e || e > t.length) && (e = t.length);
      for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
      return r;
    }
    function Cw(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, jw(r.key), r);
      }
    }
    function jw(t) {
      var e = (function (t, e) {
        if ("object" != Tw(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Tw(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Tw(e) ? e : e + "";
    }
    function Mw(t, e, n) {
      return (
        (e = Bw(e)),
        (function (t, e) {
          if (e && ("object" == Tw(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Rw()
            ? Reflect.construct(e, n || [], Bw(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Rw() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Rw = function () {
        return !!t;
      })();
    }
    function Bw(t) {
      return (
        (Bw = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Bw(t)
      );
    }
    function Aw(t, e) {
      return (
        (Aw = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Aw(t, e)
      );
    }
    var xw = (function (t) {
        function e(t, n) {
          var r;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            (r = Mw(this, e)).validateParams(t, n),
            (r.dataType = t),
            (r.fontList = n),
            r
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && Aw(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && Cw(t.prototype, e),
              n && Cw(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(e, [
            {
              key: "validateParams",
              value: function (t, e) {
                if (
                  !(
                    Array.isArray(e) &&
                    2 === e.length &&
                    Object.values(Dw).includes(t)
                  )
                )
                  throw (
                    (_t.warn(
                      "Invalid parameters in FontsDetectionContract. \n                dataType: {expected: "
                        .concat(Object.keys(Dw).join(", "), ", received: ")
                        .concat(
                          t,
                          "},\n                fontList: {expected: tuple [string, array], received: "
                        )
                        .concat(JSON.stringify(e), "}")
                    ),
                    new Error(
                      "Invalid parameters provided to FontsDetectionContract."
                    ))
                  );
              },
            },
            {
              key: "buildQueueMessage",
              value: function () {
                var t;
                if (this.dataType === Dw.V1_ONLY)
                  t = this.fontList[0].join(",");
                else if (this.dataType === Dw.V2_ONLY) t = this.fontList[1];
                else {
                  if (this.dataType !== Dw.V1_AND_V2)
                    throw new Error("Invalid dataType: ".concat(this.dataType));
                  t = [this.fontList[0].join(","), this.fontList[1]];
                }
                var e = [this.getName(), [this.dataType, t]];
                return this.validateMessage(e), e;
              },
            },
            {
              key: "validateMessage",
              value: function (t) {
                var e = "string" == typeof t[0],
                  n = Pw(t[1] || [], 2),
                  r = n[0],
                  o = n[1],
                  i = !1;
                if (
                  (r === Dw.V1_ONLY
                    ? (i = "string" == typeof o)
                    : r === Dw.V2_ONLY
                    ? (i =
                        Array.isArray(o) &&
                        o.every(function (t) {
                          return "string" == typeof t;
                        }))
                    : r === Dw.V1_AND_V2 &&
                      (i =
                        Array.isArray(o) &&
                        2 === o.length &&
                        "string" == typeof o[0] &&
                        Array.isArray(o[1]) &&
                        o[1].every(function (t) {
                          return "string" == typeof t;
                        })),
                  !e || !i)
                )
                  throw (
                    (_t.warn(
                      "FontsDetectionContract - Queue message validation failed."
                    ),
                    _t.debug("Invalid message: ".concat(JSON.stringify(t))),
                    new Error("Invalid message structure."))
                  );
              },
            },
            {
              key: "getName",
              value: function () {
                return "fonts";
              },
            },
          ])
        );
      })(vm),
      Dw = Object.freeze({ V1_ONLY: "v1", V2_ONLY: "v2", V1_AND_V2: "v1+v2" });
    function Lw(t) {
      return (
        (Lw =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Lw(t)
      );
    }
    function Nw(t) {
      return (
        (function (t) {
          if (Array.isArray(t)) return Uw(t);
        })(t) ||
        (function (t) {
          if (
            ("undefined" != typeof Symbol && null != t[Symbol.iterator]) ||
            null != t["@@iterator"]
          )
            return Array.from(t);
        })(t) ||
        Fw(t) ||
        (function () {
          throw new TypeError(
            "Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
          );
        })()
      );
    }
    function Iw(t, e) {
      return (
        (function (t) {
          if (Array.isArray(t)) return t;
        })(t) ||
        (function (t, e) {
          var n =
            null == t
              ? null
              : ("undefined" != typeof Symbol && t[Symbol.iterator]) ||
                t["@@iterator"];
          if (null != n) {
            var r,
              o,
              i,
              a,
              u = [],
              s = !0,
              c = !1;
            try {
              if (((i = (n = n.call(t)).next), 0 === e)) {
                if (Object(n) !== n) return;
                s = !1;
              } else
                for (
                  ;
                  !(s = (r = i.call(n)).done) &&
                  (u.push(r.value), u.length !== e);
                  s = !0
                );
            } catch (t) {
              (c = !0), (o = t);
            } finally {
              try {
                if (
                  !s &&
                  null != n.return &&
                  ((a = n.return()), Object(a) !== a)
                )
                  return;
              } finally {
                if (c) throw o;
              }
            }
            return u;
          }
        })(t, e) ||
        Fw(t, e) ||
        (function () {
          throw new TypeError(
            "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
          );
        })()
      );
    }
    function Fw(t, e) {
      if (t) {
        if ("string" == typeof t) return Uw(t, e);
        var n = {}.toString.call(t).slice(8, -1);
        return (
          "Object" === n && t.constructor && (n = t.constructor.name),
          "Map" === n || "Set" === n
            ? Array.from(t)
            : "Arguments" === n ||
              /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
            ? Uw(t, e)
            : void 0
        );
      }
    }
    function Uw(t, e) {
      (null == e || e > t.length) && (e = t.length);
      for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
      return r;
    }
    function Ww() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          Gw(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (Gw((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), Gw(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        Gw(f, "constructor", c),
        Gw(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        Gw(c, o, "GeneratorFunction"),
        Gw(f),
        Gw(f, o, "Generator"),
        Gw(f, r, function () {
          return this;
        }),
        Gw(f, "toString", function () {
          return "[object Generator]";
        }),
        (Ww = function () {
          return { w: i, m: p };
        })()
      );
    }
    function Gw(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (Gw = function (t, e, n, r) {
        function i(e, n) {
          Gw(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        Gw(t, e, n, r);
    }
    function Hw(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function Qw(t) {
      return function () {
        var e = this,
          n = arguments;
        return new Promise(function (r, o) {
          var i = t.apply(e, n);
          function a(t) {
            Hw(i, r, o, a, u, "next", t);
          }
          function u(t) {
            Hw(i, r, o, a, u, "throw", t);
          }
          a(void 0);
        });
      };
    }
    function zw(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Vw(r.key), r);
      }
    }
    function Vw(t) {
      var e = (function (t, e) {
        if ("object" != Lw(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Lw(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Lw(e) ? e : e + "";
    }
    var Kw = (function () {
      return (function (t, e, n) {
        return (
          e && zw(t.prototype, e),
          n && zw(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e) {
          var n = e.fontVersion,
            r = e.utils,
            o = e.fontConfig,
            i = e.fontScanner,
            a = e.fontsProvider,
            u = e.fontsCache,
            s = e.fontTimingService;
          if (
            ((function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
            !Object.values(Zn).includes(n))
          )
            throw new Error(
              "Invalid font version type. Use one of: ".concat(
                Object.keys(Zn).join(", ")
              )
            );
          if (!r) throw new Error("CDUtils instance is required.");
          if (!o) throw new Error("FontConfiguration instance is required.");
          if (!i) throw new Error("FontScanner instance is required.");
          if (!a) throw new Error("FontsProvider instance is required.");
          if (!u) throw new Error("FontsCache instance is required.");
          (this._fontVersion = n),
            (this._utils = r),
            (this._fontConfig = o),
            (this._fontScanner = i),
            (this._fontsProvider = a),
            (this._fontCache = u),
            (this._fontTimingService = s),
            (this._collectorHasStopped = !1),
            (this._fontCacheExpiration = 864e5),
            (this._logsTag = "[FONTS-COLLECTOR][".concat(n, "]"));
        },
        [
          {
            key: "collectFonts",
            value:
              ((e = Qw(
                Ww().m(function t() {
                  var e, n, r, o, i, a, u, s, c, l, f, p, h, d;
                  return Ww().w(
                    function (t) {
                      for (;;)
                        switch ((t.p = t.n)) {
                          case 0:
                            return (
                              _t.info(
                                "".concat(
                                  this._logsTag,
                                  " Starting font collection."
                                ) +
                                  " | Font version: ".concat(this._fontVersion)
                              ),
                              (t.n = 1),
                              this._fontCache.getStoredFonts(this._fontVersion)
                            );
                          case 1:
                            if (
                              ((r = t.v),
                              (o =
                                null !==
                                  (e = null == r ? void 0 : r.installedFonts) &&
                                void 0 !== e
                                  ? e
                                  : r),
                              (i =
                                null !==
                                  (n = null == r ? void 0 : r.scannedAt) &&
                                void 0 !== n
                                  ? n
                                  : -1),
                              _t.debug(
                                ""
                                  .concat(
                                    this._logsTag,
                                    " Cached fonts retrieved: "
                                  )
                                  .concat(JSON.stringify(o))
                              ),
                              (t.p = 2),
                              (a = Date.now() - i > this._fontCacheExpiration),
                              !o || a)
                            ) {
                              t.n = 3;
                              break;
                            }
                            return (
                              _t.info(
                                "".concat(
                                  this._logsTag,
                                  " Font collection complete using valid cache."
                                )
                              ),
                              t.a(2, o)
                            );
                          case 3:
                            return (t.n = 4), this._scanForInstalledFonts();
                          case 4:
                            if (
                              ((u = t.v),
                              (s = u.installedFonts),
                              (c = u.scannedAt),
                              (l = u.scanTime),
                              (f = u.totalFontsScanned),
                              (p = u.totalFontsFound),
                              !this._collectorHasStopped)
                            ) {
                              t.n = 5;
                              break;
                            }
                            return t.a(2);
                          case 5:
                            return (
                              (h = this._utils.getHash(JSON.stringify(s))),
                              _t.debug(
                                ""
                                  .concat(this._logsTag, " Detected fonts: ")
                                  .concat(JSON.stringify(s), " | Hash: ")
                                  .concat(h, " | Count: ")
                                  .concat(p)
                              ),
                              (t.n = 6),
                              this._fontCache.saveFonts(
                                { installedFonts: s, scannedAt: c },
                                this._fontVersion
                              )
                            );
                          case 6:
                            return (
                              _t.debug(
                                "".concat(
                                  this._logsTag,
                                  " Font cache updated with new fonts."
                                )
                              ),
                              _t.info(
                                ""
                                  .concat(
                                    this._logsTag,
                                    " Font collection complete. Scan time: "
                                  )
                                  .concat(l, "ms. Total Fonts Scanned: ")
                                  .concat(f, " Total Installed Fonts: ")
                                  .concat(s.length)
                              ),
                              t.a(2, s)
                            );
                          case 7:
                            return (
                              (t.p = 7),
                              (d = t.v),
                              _t.error(
                                "".concat(
                                  this._logsTag,
                                  " Error during font collection:"
                                ),
                                d
                              ),
                              t.a(2, o || [])
                            );
                        }
                    },
                    t,
                    this,
                    [[2, 7]]
                  );
                })
              )),
              function () {
                return e.apply(this, arguments);
              }),
          },
          {
            key: "release",
            value: function () {
              (this._collectorHasStopped = !0), this._fontScanner.release();
            },
          },
          {
            key: "_scanForInstalledFonts",
            value:
              ((t = Qw(
                Ww().m(function t() {
                  var e, n, r, o, i, a, u, s, c, l, f, p, h, d, y;
                  return Ww().w(
                    function (t) {
                      for (;;)
                        switch (t.n) {
                          case 0:
                            _t.info(
                              "".concat(
                                this._logsTag,
                                " Starting font scanning process."
                              )
                            ),
                              (e = Date.now()),
                              (n = this._fontsProvider.getFontsByVersion(
                                this._fontVersion
                              )),
                              (r = this._fontConfig.getIgnoredFonts()),
                              (o = this._fontConfig.getConfigByVersion(
                                this._fontVersion
                              )),
                              (i = []),
                              (a = 0),
                              (u = Object.entries(n));
                          case 1:
                            if (!(a < u.length)) {
                              t.n = 4;
                              break;
                            }
                            return (
                              (s = Iw(u[a], 2)),
                              (c = s[0]),
                              (l = s[1]),
                              (f = l.filter(function (t) {
                                return !r.includes(t);
                              })),
                              (t.n = 2),
                              this._fontScanner.scan({
                                fonts: f,
                                fontsFamily: c,
                                fontsConfig: o,
                              })
                            );
                          case 2:
                            (p = t.v), i.push.apply(i, Nw(p));
                          case 3:
                            a++, (t.n = 1);
                            break;
                          case 4:
                            return (
                              (h = Date.now()),
                              (d = h - e),
                              (y = Object.values(n).reduce(function (t, e) {
                                return t + e.length;
                              }, 0)),
                              this._fontTimingService &&
                                this._fontTimingService.recordFontScan({
                                  scanTime: d,
                                  totalFontsScanned: y,
                                  totalFontsFound: i.length,
                                  fontVersion: this._fontVersion,
                                  scannedAt: h,
                                }),
                              t.a(2, {
                                installedFonts: i,
                                scanTime: d,
                                scannedAt: h,
                                totalFontsScanned: y,
                                totalFontsFound: i.length,
                              })
                            );
                        }
                    },
                    t,
                    this
                  );
                })
              )),
              function () {
                return t.apply(this, arguments);
              }),
          },
        ]
      );
      var t, e;
    })();
    function qw(t) {
      return (
        (qw =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        qw(t)
      );
    }
    function Jw() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          Xw(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (Xw((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), Xw(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        Xw(f, "constructor", c),
        Xw(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        Xw(c, o, "GeneratorFunction"),
        Xw(f),
        Xw(f, o, "Generator"),
        Xw(f, r, function () {
          return this;
        }),
        Xw(f, "toString", function () {
          return "[object Generator]";
        }),
        (Jw = function () {
          return { w: i, m: p };
        })()
      );
    }
    function Xw(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (Xw = function (t, e, n, r) {
        function i(e, n) {
          Xw(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        Xw(t, e, n, r);
    }
    function Yw(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function Zw(t) {
      return function () {
        var e = this,
          n = arguments;
        return new Promise(function (r, o) {
          var i = t.apply(e, n);
          function a(t) {
            Yw(i, r, o, a, u, "next", t);
          }
          function u(t) {
            Yw(i, r, o, a, u, "throw", t);
          }
          a(void 0);
        });
      };
    }
    function $w(t, e, n) {
      return (
        (e = eS(e)) in t
          ? Object.defineProperty(t, e, {
              value: n,
              enumerable: !0,
              configurable: !0,
              writable: !0,
            })
          : (t[e] = n),
        t
      );
    }
    function tS(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, eS(r.key), r);
      }
    }
    function eS(t) {
      var e = (function (t, e) {
        if ("object" != qw(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != qw(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == qw(e) ? e : e + "";
    }
    var nS = (function () {
        return (function (t, e, n) {
          return (
            e && tS(t.prototype, e),
            n && tS(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (this._storageUtils = e),
              (this._versionKeys = $w(
                $w({}, Zn.VERSION1, "detectedFonts_2.1.5"),
                Zn.VERSION2,
                "detectedFonts_3"
              ));
          },
          [
            {
              key: "saveFonts",
              value:
                ((e = Zw(
                  Jw().m(function t(e, n) {
                    var r;
                    return Jw().w(
                      function (t) {
                        for (;;)
                          switch (t.n) {
                            case 0:
                              return (
                                (r = this._getKeyByVersion(n)),
                                _t.debug(
                                  "[FONTS-COLLECTOR]["
                                    .concat(
                                      n,
                                      "] Saving fonts to localStorage under key: "
                                    )
                                    .concat(r)
                                ),
                                (t.n = 1),
                                this._storageUtils.saveToLocalStorage(r, e)
                              );
                            case 1:
                              return t.a(2);
                          }
                      },
                      t,
                      this
                    );
                  })
                )),
                function (t, n) {
                  return e.apply(this, arguments);
                }),
            },
            {
              key: "getStoredFonts",
              value:
                ((t = Zw(
                  Jw().m(function t(e) {
                    var n, r;
                    return Jw().w(
                      function (t) {
                        for (;;)
                          switch (t.n) {
                            case 0:
                              return (
                                (n = this._getKeyByVersion(e)),
                                (t.n = 1),
                                this._storageUtils.getFromLocalStorage(n)
                              );
                            case 1:
                              return (
                                (r = t.v),
                                _t.debug(
                                  "[FONTS-COLLECTOR]["
                                    .concat(
                                      e,
                                      "] Retrieved fonts from localStorage under key "
                                    )
                                    .concat(n, ": ")
                                    .concat(r)
                                ),
                                t.a(2, r)
                              );
                          }
                      },
                      t,
                      this
                    );
                  })
                )),
                function (e) {
                  return t.apply(this, arguments);
                }),
            },
            {
              key: "_getKeyByVersion",
              value: function (t) {
                var e = this._versionKeys[t];
                if (!e)
                  throw new Error("Unsupported font version type: ".concat(t));
                return e;
              },
            },
          ]
        );
        var t, e;
      })(),
      rS = n(7837),
      oS = n.n(rS),
      iS = n(7521),
      aS = n.n(iS);
    function uS(t) {
      return (
        (uS =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        uS(t)
      );
    }
    function sS(t, e, n) {
      return (
        (e = lS(e)) in t
          ? Object.defineProperty(t, e, {
              value: n,
              enumerable: !0,
              configurable: !0,
              writable: !0,
            })
          : (t[e] = n),
        t
      );
    }
    function cS(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, lS(r.key), r);
      }
    }
    function lS(t) {
      var e = (function (t, e) {
        if ("object" != uS(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != uS(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == uS(e) ? e : e + "";
    }
    var fS = (function () {
        return (function (t, e, n) {
          return (
            e && cS(t.prototype, e),
            n && cS(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t() {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (this.fontVersions = sS(
                sS({}, Zn.VERSION1, oS()),
                Zn.VERSION2,
                aS()
              ));
          },
          [
            {
              key: "getFontsByVersion",
              value: function (t) {
                if (this.fontVersions[t]) return this.fontVersions[t];
                throw new Error(
                  "Invalid version type. Use one of: ".concat(
                    Object.keys(Zn).join(", ")
                  )
                );
              },
            },
          ]
        );
      })(),
      pS = fS;
    function hS(t) {
      return (
        (hS =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        hS(t)
      );
    }
    function dS(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, yS(r.key), r);
      }
    }
    function yS(t) {
      var e = (function (t, e) {
        if ("object" != hS(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != hS(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == hS(e) ? e : e + "";
    }
    var mS = "span",
      vS = (function () {
        return (function (t, e, n) {
          return (
            e && dS(t.prototype, e),
            n && dS(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t(e) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (this._domUtils = e),
              (this._baseFonts = [
                "rat-fonts",
                "monospace",
                "sans-serif",
                "serif",
              ]),
              (this._testString = "mmmmmmmmmmlli"),
              (this._testSize = "72px"),
              (this._chunkSize = 30),
              (this._defaultWidth = {}),
              (this._defaultHeight = {}),
              (this._body = null),
              (this._iframe = null),
              (this._spanArray = null),
              (this._allFontsDiffs = []);
          },
          [
            {
              key: "release",
              value: function () {
                this._body &&
                  this._iframe &&
                  this._body.removeChild(this._iframe),
                  (this._iframe = null),
                  (this._spanArray = null),
                  (this._allFontsDiffs = []);
              },
            },
            {
              key: "init",
              value: function () {
                var t = this;
                return new Promise(function (e, n) {
                  try {
                    t.initCallback(e);
                  } catch (t) {
                    n(t);
                  }
                });
              },
            },
            {
              key: "initCallback",
              value: function (t) {
                var e = this;
                if (((this._body = document.body), !this._body)) return "";
                (this._iframe = document.createElement("iframe")),
                  this._iframe.setAttribute("sandbox", "allow-same-origin"),
                  (this._iframe.id = vi),
                  (this._iframe.style.visibility = "hidden"),
                  (this._iframe.style.zIndex = "-1"),
                  (this._iframe.style.width = 0),
                  (this._iframe.style.height = 0),
                  (this._iframe.style.position = "absolute"),
                  (this._iframe.style.top = "-9999px"),
                  (this._iframe.style.left = "-9999px"),
                  (this._iframe.style.border = "none"),
                  (this._iframe.style.margin = "0"),
                  (this._iframe.style.padding = "0"),
                  (this._iframe.style.overflow = "hidden"),
                  this._body.appendChild(this._iframe),
                  this._iframe.contentDocument.body ||
                    ((this._iframe.style.width = null),
                    (this._iframe.style.height = null),
                    this._iframe.contentDocument.appendChild(
                      document.createElement("body")
                    )),
                  this._domUtils.onWindowDocumentReady(
                    this._iframe.contentWindow,
                    function () {
                      e._createCalculationElements(t);
                    }
                  );
              },
            },
            {
              key: "_createCalculationElements",
              value: function (t) {
                var e = document.createElement("span");
                (e.style.fontSize = this._testSize),
                  (e.style.visibility = "hidden"),
                  (e.style.position = "absolute"),
                  (e.style.zIndex = "-1"),
                  (e.style.lineHeight = "normal"),
                  (e.innerHTML = this._testString);
                for (var n = 0; n < this._baseFonts.length; n++)
                  (e.style.fontFamily = this._baseFonts[n]),
                    this._iframe.contentDocument.body.appendChild(e),
                    (this._defaultWidth[this._baseFonts[n]] = e.offsetWidth),
                    (this._defaultHeight[this._baseFonts[n]] = e.offsetHeight),
                    this._iframe.contentDocument.body.removeChild(e);
                _t.debug(
                  "FontsScanner:init - base fonts width: \n                "
                    .concat(this._baseFonts[0], ":")
                    .concat(
                      this._defaultWidth[this._baseFonts[0]],
                      ";\n                "
                    )
                    .concat(this._baseFonts[1], ":")
                    .concat(
                      this._defaultWidth[this._baseFonts[1]],
                      ";\n                "
                    )
                    .concat(this._baseFonts[2], ":")
                    .concat(
                      this._defaultWidth[this._baseFonts[2]],
                      ";\n                "
                    )
                    .concat(this._baseFonts[3], ":")
                    .concat(this._defaultWidth[this._baseFonts[3]])
                ),
                  _t.debug(
                    "FontsScanner:init - base fonts height: \n                "
                      .concat(this._baseFonts[0], ":")
                      .concat(
                        this._defaultHeight[this._baseFonts[0]],
                        ";\n                "
                      )
                      .concat(this._baseFonts[1], ":")
                      .concat(
                        this._defaultHeight[this._baseFonts[1]],
                        ";\n                "
                      )
                      .concat(this._baseFonts[2], ":")
                      .concat(
                        this._defaultHeight[this._baseFonts[2]],
                        ";\n                "
                      )
                      .concat(this._baseFonts[3], ":")
                      .concat(this._defaultHeight[this._baseFonts[3]])
                  ),
                  this._createSpanArray(),
                  t();
              },
            },
            {
              key: "_createSpanArray",
              value: function () {
                var t = document.createElement("div");
                (t.id = "currentDiv"),
                  (t.style.position = "absolute"),
                  (t.style.visibility = "hidden");
                for (var e = 0; e < this._chunkSize; e++) {
                  var n = document.createElement("span");
                  (n.style.lineHeight = "normal"),
                    (n.style.position = "absolute"),
                    (n.style.zIndex = "-1"),
                    (n.style.fontSize = this._testSize),
                    (n.innerHTML = this._testString),
                    t.appendChild(n);
                  var r = document.createElement("br");
                  t.appendChild(r);
                }
                this._iframe.contentDocument.body.appendChild(t),
                  (this._spanArray = t);
              },
            },
            {
              key: "getAllFontsDiffs",
              value: function () {
                return this._allFontsDiffs;
              },
            },
          ]
        );
      })();
    function bS(t) {
      return (
        (bS =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        bS(t)
      );
    }
    function gS(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, _S(r.key), r);
      }
    }
    function _S(t) {
      var e = (function (t, e) {
        if ("object" != bS(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != bS(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == bS(e) ? e : e + "";
    }
    function wS(t, e, n) {
      return (
        (e = ES(e)),
        (function (t, e) {
          if (e && ("object" == bS(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          SS()
            ? Reflect.construct(e, n || [], ES(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function SS() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (SS = function () {
        return !!t;
      })();
    }
    function ES(t) {
      return (
        (ES = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        ES(t)
      );
    }
    function kS(t, e) {
      return (
        (kS = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        kS(t, e)
      );
    }
    var TS = (function (t) {
      function e(t) {
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          wS(this, e, [t])
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && kS(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && gS(t.prototype, e),
            n && gS(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "scan",
            value: function (t) {
              var e = this,
                n = t.fonts,
                r = t.fontsFamily;
              t.fontsConfig;
              return this.init()
                .then(function () {
                  return new Promise(function (t, o) {
                    try {
                      e.detectCallback(n, r, t);
                    } catch (t) {
                      o(t);
                    }
                  });
                })
                .catch(function (t) {
                  return Promise.reject(t);
                });
            },
          },
          {
            key: "detectCallback",
            value: function (t, e, n) {
              var r = this,
                o = [],
                i = 0,
                a = 0;
              if (!this._spanArray) return n(o), o;
              var u = this._spanArray.getElementsByTagName(mS),
                s = this._defaultWidth[e],
                c = this._defaultHeight[e],
                l = function (t) {
                  t.forEach(function (t) {
                    var e = Math.abs(t.offsetWidth - s),
                      n = Math.abs(t.offsetHeight - c);
                    r._allFontsDiffs.push([t.id, e, n]),
                      (e > 1 || n > 1) && ((o[i] = t.id), i++);
                  });
                };
              t.forEach(function (t) {
                a >= r._chunkSize && ((a = 0), l(Array.from(u))),
                  (u[a].style.fontFamily = t + "," + e),
                  (u[a].id = t),
                  a++;
              }),
                a < this._chunkSize && l(Array.from(u).slice(0, a)),
                n(o);
            },
          },
        ])
      );
    })(vS);
    function PS(t) {
      return (
        (PS =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        PS(t)
      );
    }
    function OS(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, CS(r.key), r);
      }
    }
    function CS(t) {
      var e = (function (t, e) {
        if ("object" != PS(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != PS(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == PS(e) ? e : e + "";
    }
    function jS(t, e, n) {
      return (
        (e = RS(e)),
        (function (t, e) {
          if (e && ("object" == PS(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          MS()
            ? Reflect.construct(e, n || [], RS(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function MS() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (MS = function () {
        return !!t;
      })();
    }
    function RS(t) {
      return (
        (RS = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        RS(t)
      );
    }
    function BS(t, e) {
      return (
        (BS = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        BS(t, e)
      );
    }
    var AS = (function (t) {
        function e(t, n) {
          var r;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((r = jS(this, e, [t]))._getElementOffsetTask =
              r._getElementOffsetTask.bind(r)),
            (r._lastChunck = !0),
            (r._removeDuplicatedFonts = n),
            r
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && BS(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && OS(t.prototype, e),
              n && OS(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(e, [
            {
              key: "scan",
              value: function (t) {
                var e = this,
                  n = t.fonts,
                  r = t.fontsFamily;
                t.fontsConfig;
                return this.init()
                  .then(function () {
                    return new Promise(function (t, o) {
                      try {
                        e.detectCallback(n, r, t);
                      } catch (t) {
                        o(t);
                      }
                    });
                  })
                  .catch(function (t) {
                    return Promise.reject(t);
                  });
              },
            },
            {
              key: "detectCallback",
              value: function (t, e, n) {
                var r = this;
                if (!this._spanArray) return n([]), [];
                var o,
                  i,
                  a,
                  u,
                  s,
                  c,
                  l,
                  f,
                  p,
                  h = this._spanArray.getElementsByTagName(mS),
                  d =
                    ((o = 0),
                    (i = Math.min(t.length, this._chunkSize)),
                    (a = h),
                    (u = o),
                    (s = []),
                    (c = n),
                    (l = t),
                    (f = e),
                    (p = r._removeDuplicatedFonts),
                    {
                      next: function () {
                        var t = null;
                        return u < i ? ((t = a[u]), u++, t) : null;
                      },
                      reset: function () {
                        u = 0;
                      },
                      addFont: function (t) {
                        (p && s.includes(t)) || s.push(t);
                      },
                      runCallback: function () {
                        c(s);
                      },
                      getFontsArray: function () {
                        return l;
                      },
                      getFontFamily: function () {
                        return f;
                      },
                      getAvailableFonts: function () {
                        return s;
                      },
                    });
                (this._lastChunck = !0), this._applyFontsToSpanElements(d, 0);
              },
            },
            {
              key: "_applyFontsToSpanElements",
              value: function (t, e) {
                var n = this;
                _t.trace(
                  "[FONTS-COLLECTOR][VERSION1] Checking font ".concat(e, ".")
                );
                for (
                  var r = t.next(),
                    o = t.getFontsArray(),
                    i = t.getFontFamily();
                  null !== r && e < o.length;

                )
                  (r.style.fontFamily = o[e] + ", " + i),
                    (r.id = o[e]),
                    e++,
                    (r = t.next());
                if ((t.reset(), e >= o.length)) {
                  if (this._lastChunck)
                    return (
                      (this._lastChunck = !1),
                      window.setTimeout(function () {
                        n._getElementOffsetTask(t, e);
                      }, 0)
                    );
                  t.runCallback();
                } else
                  window.setTimeout(function () {
                    n._getElementOffsetTask(t, e);
                  }, 0);
              },
            },
            {
              key: "_getElementOffsetTask",
              value: function (t, e) {
                var n = this,
                  r = t.getFontFamily(),
                  o = this._defaultWidth[r],
                  i = this._defaultHeight[r],
                  a = t.next();
                if (a && a.offsetWidth) {
                  var u = Math.abs(a.offsetWidth - o),
                    s = Math.abs(a.offsetHeight - i);
                  this._allFontsDiffs.push([a.id, u, s]),
                    (u > 1 || s > 1) && t.addFont(a.id),
                    window.setTimeout(function () {
                      n._getElementOffsetTask(t, e);
                    }, 0);
                } else t.reset(), this._applyFontsToSpanElements(t, e);
              },
            },
            {
              key: "isSupported",
              value: function () {
                return !0;
              },
            },
          ])
        );
      })(vS),
      xS = "fontDetectionResponse";
    function DS(t) {
      return (
        (DS =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        DS(t)
      );
    }
    function LS() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          NS(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (NS((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), NS(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        NS(f, "constructor", c),
        NS(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        NS(c, o, "GeneratorFunction"),
        NS(f),
        NS(f, o, "Generator"),
        NS(f, r, function () {
          return this;
        }),
        NS(f, "toString", function () {
          return "[object Generator]";
        }),
        (LS = function () {
          return { w: i, m: p };
        })()
      );
    }
    function NS(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (NS = function (t, e, n, r) {
        function i(e, n) {
          NS(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        NS(t, e, n, r);
    }
    function IS(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function FS(t) {
      return function () {
        var e = this,
          n = arguments;
        return new Promise(function (r, o) {
          var i = t.apply(e, n);
          function a(t) {
            IS(i, r, o, a, u, "next", t);
          }
          function u(t) {
            IS(i, r, o, a, u, "throw", t);
          }
          a(void 0);
        });
      };
    }
    function US(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, WS(r.key), r);
      }
    }
    function WS(t) {
      var e = (function (t, e) {
        if ("object" != DS(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != DS(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == DS(e) ? e : e + "";
    }
    var GS = (function () {
      return (function (t, e, n) {
        return (
          e && US(t.prototype, e),
          n && US(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e) {
          var n = e.workerCommunicator;
          if (
            ((function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
            !n)
          )
            throw new Error("WorkerCommunicator is required for font scanning");
          (this._workerCommunicator = n),
            (this._pendingRequests = new Map()),
            (this._requestId = 0),
            (this._released = !1),
            (this._logsTag = "[FONTS-COLLECTOR][WORKER-FONT-SCANNER]");
        },
        [
          {
            key: "scan",
            value:
              ((e = FS(
                LS().m(function t(e) {
                  var n,
                    r,
                    o,
                    i,
                    a = this;
                  return LS().w(
                    function (t) {
                      for (;;)
                        switch (t.n) {
                          case 0:
                            if (
                              ((n = e.fonts),
                              e.fontsFamily,
                              (r = e.fontsConfig),
                              !this._released)
                            ) {
                              t.n = 1;
                              break;
                            }
                            throw new Error("FontsScanner has been released");
                          case 1:
                            if (Array.isArray(n) && 0 !== n.length) {
                              t.n = 2;
                              break;
                            }
                            return t.a(2, []);
                          case 2:
                            return (
                              _t.trace(
                                ""
                                  .concat(this._logsTag, " Starting scan of ")
                                  .concat(n.length, " fonts using WUP worker.")
                              ),
                              (o = performance.now()),
                              (i = ++this._requestId),
                              t.a(
                                2,
                                new Promise(function (t, e) {
                                  a._pendingRequests.set(i, {
                                    resolve: t,
                                    reject: e,
                                  }),
                                    a._workerCommunicator.sendAsync(
                                      Ee,
                                      {
                                        fontNames: n,
                                        requestId: i,
                                        config: {
                                          detectorType: r.detectorType,
                                          fontsPerBatch: r.fontsPerBatch,
                                          delayBetweenBatchesMs:
                                            r.delayBetweenBatchesMs,
                                          minFontsPerBatch: r.minFontsPerBatch,
                                          maxFontsPerBatch: r.maxFontsPerBatch,
                                          frameBudgetMs: r.frameBudgetMs,
                                          frameHistorySize: r.frameHistorySize,
                                          adaptiveBatchEnabled:
                                            r.adaptiveBatchEnabled,
                                        },
                                      },
                                      xS,
                                      function (t) {
                                        return a._handleResponse(i, t, o);
                                      },
                                      !0
                                    );
                                })
                              )
                            );
                        }
                    },
                    t,
                    this
                  );
                })
              )),
              function (t) {
                return e.apply(this, arguments);
              }),
          },
          {
            key: "_handleResponse",
            value: function (t, e, n) {
              var r = this._pendingRequests.get(t);
              if (r) {
                this._pendingRequests.delete(t);
                var o = r.resolve,
                  i = r.reject;
                if (e.success) {
                  var a = performance.now() - n;
                  _t.trace(
                    ""
                      .concat(this._logsTag, " Worker scan completed in ")
                      .concat(a.toFixed(2), "ms. Detected ")
                      .concat(e.detectedFonts.length, " fonts.")
                  ),
                    o(e.detectedFonts);
                } else
                  _t.error(
                    "".concat(this._logsTag, " Worker scan failed:"),
                    e.error
                  ),
                    i(new Error(e.error || "Font scanning failed"));
              }
            },
          },
          {
            key: "release",
            value:
              ((t = FS(
                LS().m(function t() {
                  return LS().w(
                    function (t) {
                      for (;;)
                        switch (t.n) {
                          case 0:
                            (this._released = !0),
                              this._pendingRequests.forEach(function (t) {
                                return (0,
                                t.reject)(new Error("Scanner released"));
                              }),
                              this._pendingRequests.clear();
                          case 1:
                            return t.a(2);
                        }
                    },
                    t,
                    this
                  );
                })
              )),
              function () {
                return t.apply(this, arguments);
              }),
          },
        ]
      );
      var t, e;
    })();
    function HS(t) {
      return (
        (HS =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        HS(t)
      );
    }
    function QS() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          zS(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (zS((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), zS(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        zS(f, "constructor", c),
        zS(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        zS(c, o, "GeneratorFunction"),
        zS(f),
        zS(f, o, "Generator"),
        zS(f, r, function () {
          return this;
        }),
        zS(f, "toString", function () {
          return "[object Generator]";
        }),
        (QS = function () {
          return { w: i, m: p };
        })()
      );
    }
    function zS(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (zS = function (t, e, n, r) {
        function i(e, n) {
          zS(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        zS(t, e, n, r);
    }
    function VS(t, e) {
      return (
        (function (t) {
          if (Array.isArray(t)) return t;
        })(t) ||
        (function (t, e) {
          var n =
            null == t
              ? null
              : ("undefined" != typeof Symbol && t[Symbol.iterator]) ||
                t["@@iterator"];
          if (null != n) {
            var r,
              o,
              i,
              a,
              u = [],
              s = !0,
              c = !1;
            try {
              if (((i = (n = n.call(t)).next), 0 === e)) {
                if (Object(n) !== n) return;
                s = !1;
              } else
                for (
                  ;
                  !(s = (r = i.call(n)).done) &&
                  (u.push(r.value), u.length !== e);
                  s = !0
                );
            } catch (t) {
              (c = !0), (o = t);
            } finally {
              try {
                if (
                  !s &&
                  null != n.return &&
                  ((a = n.return()), Object(a) !== a)
                )
                  return;
              } finally {
                if (c) throw o;
              }
            }
            return u;
          }
        })(t, e) ||
        (function (t, e) {
          if (t) {
            if ("string" == typeof t) return KS(t, e);
            var n = {}.toString.call(t).slice(8, -1);
            return (
              "Object" === n && t.constructor && (n = t.constructor.name),
              "Map" === n || "Set" === n
                ? Array.from(t)
                : "Arguments" === n ||
                  /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                ? KS(t, e)
                : void 0
            );
          }
        })(t, e) ||
        (function () {
          throw new TypeError(
            "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
          );
        })()
      );
    }
    function KS(t, e) {
      (null == e || e > t.length) && (e = t.length);
      for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
      return r;
    }
    function qS(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function JS(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, XS(r.key), r);
      }
    }
    function XS(t) {
      var e = (function (t, e) {
        if ("object" != HS(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != HS(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == HS(e) ? e : e + "";
    }
    function YS(t, e, n) {
      return (
        (e = $S(e)),
        (function (t, e) {
          if (e && ("object" == HS(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          ZS()
            ? Reflect.construct(e, n || [], $S(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function ZS() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (ZS = function () {
        return !!t;
      })();
    }
    function $S(t) {
      return (
        ($S = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        $S(t)
      );
    }
    function tE(t, e) {
      return (
        (tE = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        tE(t, e)
      );
    }
    var eE = {
        configKey: "isFonts",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !0,
        shouldRun: !0,
        isFrameRelated: !1,
        runInUns: !0,
        runInSlave: !1,
        runInLean: !1,
        isRunning: !1,
        instance: null,
      },
      nE = (function (t) {
        function e(t) {
          var n,
            r = t.utils,
            o = t.domUtils,
            i = t.dataQueue,
            a = t.fontConfig,
            u = t.v1Collector,
            s = void 0 === u ? null : u,
            c = t.v2Collector,
            l = void 0 === c ? null : c,
            f = t.fontTimingService,
            p = void 0 === f ? null : f;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((n = YS(this, e))._logsTag = "[FONTS-COLLECTOR][MAIN]"),
            (n._utils = r),
            (n._domUtils = o),
            (n._dataQueue = i),
            (n._fontConfig = a),
            (n._workerCommunicator = i._serverWorkerCommunicator),
            (n._v1Collector = s),
            (n._v2Collector = l),
            (n._fontTimingService = p),
            n
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && tE(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && JS(t.prototype, e),
              n && JS(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value:
                  ((n = QS().m(function t() {
                    var e, n, r, o, i, a, u, s, c, l, f, p;
                    return QS().w(
                      function (t) {
                        for (;;)
                          switch (t.n) {
                            case 0:
                              if (
                                (_t.info(
                                  "".concat(
                                    this._logsTag,
                                    " Starting font feature."
                                  )
                                ),
                                this._v1Collector ||
                                  (this._v1Collector =
                                    this._createFontCollector(Zn.VERSION1)),
                                this._v2Collector ||
                                  (this._v2Collector =
                                    this._createFontCollector(Zn.VERSION2)),
                                (e =
                                  this._fontConfig.getFontCollectionConfig()),
                                _t.info(
                                  ""
                                    .concat(
                                      this._logsTag,
                                      " Font collection config: "
                                    )
                                    .concat(JSON.stringify(e))
                                ),
                                (n = this._fontConfig.getMigrationMode(
                                  Yn.DUAL_COLLECTION_V1_PRIORITY
                                )) !== Yn.V1_ONLY)
                              ) {
                                t.n = 2;
                                break;
                              }
                              return (
                                (t.n = 1), this._v1Collector.collectFonts()
                              );
                            case 1:
                              return (
                                (r = t.v),
                                this._enqueueFontData(Dw.V1_ONLY, [r, null]),
                                t.a(2)
                              );
                            case 2:
                              if (n !== Yn.DUAL_COLLECTION_V1_PRIORITY) {
                                t.n = 5;
                                break;
                              }
                              return (
                                (t.n = 3), this._v1Collector.collectFonts()
                              );
                            case 3:
                              return (
                                (o = t.v),
                                this._enqueueFontData(Dw.V1_ONLY, [o, null]),
                                (t.n = 4),
                                this._v2Collector.collectFonts()
                              );
                            case 4:
                              (i = t.v),
                                this._enqueueFontData(Dw.V1_AND_V2, [o, i]);
                            case 5:
                              if (n !== Yn.DUAL_COLLECTION_V2_PRIORITY) {
                                t.n = 8;
                                break;
                              }
                              return (
                                (t.n = 6), this._v2Collector.collectFonts()
                              );
                            case 6:
                              return (
                                (a = t.v),
                                this._enqueueFontData(Dw.V2_ONLY, [null, a]),
                                (t.n = 7),
                                this._v1Collector.collectFonts()
                              );
                            case 7:
                              (u = t.v),
                                this._enqueueFontData(Dw.V1_AND_V2, [u, a]);
                            case 8:
                              if (n !== Yn.V2_ONLY) {
                                t.n = 10;
                                break;
                              }
                              return (
                                (t.n = 9), this._v2Collector.collectFonts()
                              );
                            case 9:
                              (s = t.v),
                                this._enqueueFontData(Dw.V2_ONLY, [null, s]);
                            case 10:
                              if (n !== Yn.DUAL_COLLECTION_PARALLEL) {
                                t.n = 12;
                                break;
                              }
                              return (
                                (t.n = 11),
                                Promise.all([
                                  this._v1Collector.collectFonts(),
                                  this._v2Collector.collectFonts(),
                                ])
                              );
                            case 11:
                              (c = t.v),
                                (l = VS(c, 2)),
                                (f = l[0]),
                                (p = l[1]),
                                this._enqueueFontData(Dw.V1_AND_V2, [f, p]);
                            case 12:
                              return t.a(2);
                          }
                      },
                      t,
                      this
                    );
                  })),
                  (r = function () {
                    var t = this,
                      e = arguments;
                    return new Promise(function (r, o) {
                      var i = n.apply(t, e);
                      function a(t) {
                        qS(i, r, o, a, u, "next", t);
                      }
                      function u(t) {
                        qS(i, r, o, a, u, "throw", t);
                      }
                      a(void 0);
                    });
                  }),
                  function () {
                    return r.apply(this, arguments);
                  }),
              },
              {
                key: "stopFeature",
                value: function () {
                  var t, e;
                  _t.info("".concat(this._logsTag, " Stopping font feature.")),
                    (this._collectorHasStopped = !0),
                    null === (t = this._v1Collector) ||
                      void 0 === t ||
                      t.release(),
                    null === (e = this._v2Collector) ||
                      void 0 === e ||
                      e.release(),
                    (this._v1Collector = null),
                    (this._v2Collector = null);
                },
              },
              {
                key: "_enqueueFontData",
                value: function (t, e) {
                  if (!this._collectorHasStopped) {
                    if (!e) throw Error("IllegalState fonts undefined");
                    var n = new xw(t, e).buildQueueMessage();
                    this._dataQueue.addToQueue("static_fields", n, !1),
                      _t.debug(
                        ""
                          .concat(this._logsTag, " Fonts enqueued: Data type: ")
                          .concat(t)
                      );
                  }
                },
              },
              {
                key: "_createFontCollector",
                value: function (t) {
                  var e = this._getFontsScanner({
                      domUtils: this._domUtils,
                      fontVersion: t,
                      workerCommunicator: this._workerCommunicator,
                    }),
                    n = new pS(),
                    r = new nS(this._utils.StorageUtils);
                  return new Kw({
                    fontVersion: t,
                    utils: this._utils,
                    fontConfig: this._fontConfig,
                    fontScanner: e,
                    fontsProvider: n,
                    fontsCache: r,
                    fontTimingService: this._fontTimingService,
                  });
                },
              },
              {
                key: "_getFontsScanner",
                value: function (t) {
                  var e = t.fontVersion,
                    n = t.domUtils,
                    r = t.workerCommunicator,
                    o = this._fontConfig.getV1ScannerConfig();
                  return e === Zn.VERSION1
                    ? o.offloadFontsCollectionEnabled
                      ? new AS(n, o.offloadFontsRemoveDuplicated)
                      : new TS(n)
                    : (_t.info(
                        "".concat(this._logsTag, " Using worker scanner")
                      ),
                      new GS({ workerCommunicator: r }));
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return eE;
                },
              },
            ]
          )
        );
        var n, r;
      })(uo);
    function rE(t) {
      return (
        (rE =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        rE(t)
      );
    }
    function oE(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, iE(r.key), r);
      }
    }
    function iE(t) {
      var e = (function (t, e) {
        if ("object" != rE(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != rE(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == rE(e) ? e : e + "";
    }
    function aE(t, e, n) {
      return (
        (e = sE(e)),
        (function (t, e) {
          if (e && ("object" == rE(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          uE()
            ? Reflect.construct(e, n || [], sE(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function uE() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (uE = function () {
        return !!t;
      })();
    }
    function sE(t) {
      return (
        (sE = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        sE(t)
      );
    }
    function cE(t, e) {
      return (
        (cE = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        cE(t, e)
      );
    }
    var lE = (function (t) {
      function e(t, n, r) {
        var o;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (o = aE(this, e)).validateParams(t, n, r),
          (o.winding = t),
          (o.text = n),
          (o.geometry = r),
          o
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && cE(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && oE(t.prototype, e),
            n && oE(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t, e, n) {
              if (
                !(
                  "boolean" == typeof t &&
                  "string" == typeof e &&
                  "string" == typeof n
                )
              ) {
                var r =
                  "wrong type in GfxRenderingContract parameters. winding: {expected: boolean, received: "
                    .concat(rE(t), "}, text: {expected: string, received: ")
                    .concat(
                      rE(e),
                      "},\n            geometry: {expected: string, received: "
                    )
                    .concat(rE(n), "}");
                _t.warn(r);
              }
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [
                this.getName(),
                [this.winding, this.text, this.geometry],
              ];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] &&
                Array.isArray(t[1]) &&
                3 === t[1].length) ||
                _t.warn("GfxRendering - Contract verification failed");
            },
          },
          {
            key: "getName",
            value: function () {
              return "gfx";
            },
          },
        ])
      );
    })(vm);
    function fE(t) {
      return (
        (fE =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        fE(t)
      );
    }
    function pE(t, e) {
      return (
        (function (t) {
          if (Array.isArray(t)) return t;
        })(t) ||
        (function (t, e) {
          var n =
            null == t
              ? null
              : ("undefined" != typeof Symbol && t[Symbol.iterator]) ||
                t["@@iterator"];
          if (null != n) {
            var r,
              o,
              i,
              a,
              u = [],
              s = !0,
              c = !1;
            try {
              if (((i = (n = n.call(t)).next), 0 === e)) {
                if (Object(n) !== n) return;
                s = !1;
              } else
                for (
                  ;
                  !(s = (r = i.call(n)).done) &&
                  (u.push(r.value), u.length !== e);
                  s = !0
                );
            } catch (t) {
              (c = !0), (o = t);
            } finally {
              try {
                if (
                  !s &&
                  null != n.return &&
                  ((a = n.return()), Object(a) !== a)
                )
                  return;
              } finally {
                if (c) throw o;
              }
            }
            return u;
          }
        })(t, e) ||
        (function (t, e) {
          if (t) {
            if ("string" == typeof t) return hE(t, e);
            var n = {}.toString.call(t).slice(8, -1);
            return (
              "Object" === n && t.constructor && (n = t.constructor.name),
              "Map" === n || "Set" === n
                ? Array.from(t)
                : "Arguments" === n ||
                  /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                ? hE(t, e)
                : void 0
            );
          }
        })(t, e) ||
        (function () {
          throw new TypeError(
            "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
          );
        })()
      );
    }
    function hE(t, e) {
      (null == e || e > t.length) && (e = t.length);
      for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
      return r;
    }
    function dE(t, e, n) {
      return (
        (e = mE(e)),
        (function (t, e) {
          if (e && ("object" == fE(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          yE()
            ? Reflect.construct(e, n || [], mE(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function yE() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (yE = function () {
        return !!t;
      })();
    }
    function mE(t) {
      return (
        (mE = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        mE(t)
      );
    }
    function vE(t, e) {
      return (
        (vE = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        vE(t, e)
      );
    }
    function bE(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, _E(r.key), r);
      }
    }
    function gE(t, e, n) {
      return (
        e && bE(t.prototype, e),
        n && bE(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
    }
    function _E(t) {
      var e = (function (t, e) {
        if ("object" != fE(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != fE(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == fE(e) ? e : e + "";
    }
    function wE(t, e) {
      if (!(t instanceof e))
        throw new TypeError("Cannot call a class as a function");
    }
    var SE = {
        configKey: "isGfxRendering",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !1,
        shouldRun: !0,
        isFrameRelated: !1,
        runInUns: !1,
        runInSlave: !0,
        runInLean: !0,
        isRunning: !1,
        instance: null,
      },
      EE = 256,
      kE = 256,
      TE = "0",
      PE = gE(function t() {
        wE(this, t),
          (this.winding = !1),
          (this.text = ""),
          (this.geometry = "");
      }),
      OE = (function (t) {
        function e(t, n) {
          var r;
          return (
            wE(this, e),
            ((r = dE(this, e))._dataQ = t),
            (r._utils = n),
            (r._metric = "GFX"),
            (r.canvasElement = null),
            (r.canvasContext = null),
            (r._addToQueueAndCleanUp = r.addToQueueAndCleanUp.bind(r)),
            r
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && vE(t, e);
          })(e, t),
          gE(
            e,
            [
              {
                key: "startFeature",
                value: function () {
                  this.initCanvasAndContext(),
                    this.isCanvas2DSupported(
                      this.canvasElement,
                      this.canvasContext
                    ) && this.generateCanvasData();
                },
              },
              {
                key: "addToQueueAndCleanUp",
                value: function (t) {
                  var e = new lE(
                    t.winding,
                    t.text,
                    t.geometry
                  ).buildQueueMessage();
                  this._dataQ.addToQueue("static_fields", e, !1),
                    this.cleanUp();
                },
              },
              {
                key: "initCanvasAndContext",
                value: function () {
                  (null !== this.canvasElement &&
                    null !== this.canvasContext) ||
                    ((this.canvasElement = document.createElement("canvas")),
                    (this.canvasContext = this.buildCanvasContext(
                      this.canvasElement
                    )));
                },
              },
              {
                key: "cleanUp",
                value: function () {
                  (this.canvasContext = null), (this.canvasElement = null);
                },
              },
              {
                key: "generateCanvasData",
                value: function () {
                  var t = this,
                    e = new PE();
                  (e.winding = this.hasWinding(this.canvasContext)),
                    this.renderTextImage(
                      this.canvasElement,
                      this.canvasContext
                    );
                  var n = this.canvasToText(this.canvasElement),
                    r = this.canvasToText(this.canvasElement);
                  0 === n.length || 0 === r.length || n !== r
                    ? ((e.text = TE),
                      (e.geometry = TE),
                      this._addToQueueAndCleanUp(e))
                    : this.hashCanvasText(n)
                        .then(function (n) {
                          return (
                            (e.text = n || TE),
                            t.renderGeometryImage(
                              t.canvasElement,
                              t.canvasContext
                            ),
                            t.hashCanvasText(t.canvasToText(t.canvasElement))
                          );
                        })
                        .then(function (n) {
                          (e.geometry = n || TE), t._addToQueueAndCleanUp(e);
                        });
                },
              },
              {
                key: "buildCanvasContext",
                value: function (t) {
                  return (t.width = 1), (t.height = 1), t.getContext("2d");
                },
              },
              {
                key: "isCanvas2DSupported",
                value: function (t, e) {
                  return !(!e || !t.toDataURL);
                },
              },
              {
                key: "renderTextImage",
                value: function (t, e) {
                  (t.width = 320), (t.height = 120);
                  var n = e.createLinearGradient(0, 0, 320, 120);
                  n.addColorStop(0, "#f60"),
                    n.addColorStop(1, "#069"),
                    (e.fillStyle = n),
                    e.fillRect(0, 0, 320, 120),
                    (e.textBaseline = "alphabetic"),
                    (e.fillStyle = "#fff"),
                    (e.font = "11pt Times New Roman");
                  var r = "DHO YbmPx KTGUL CQrSfJ iNvZAEW ".concat(
                    String.fromCharCode(55357, 56835),
                    " 😄 💩 ⚓ ↔"
                  );
                  e.fillText(r, 2, 15),
                    e.save(),
                    e.translate(4, 45),
                    e.rotate(0.1),
                    (e.font = "18pt Arial"),
                    (e.fillStyle = "rgba(102, 204, 0, 0.7)"),
                    e.fillText(r, 0, 0),
                    e.restore(),
                    (e.font = "14pt Georgia"),
                    (e.shadowColor = "rgba(0, 0, 0, 0.5)"),
                    (e.shadowBlur = 2),
                    (e.shadowOffsetX = 1),
                    (e.shadowOffsetY = 1),
                    (e.fillStyle = "#ff0"),
                    e.save(),
                    e.transform(1, 0.1, 0, 1, 0, 0),
                    e.fillText(r, 2, 75),
                    e.restore(),
                    (e.shadowColor = "transparent");
                  var o = e.createPattern(this.createPatternCanvas(), "repeat");
                  (e.font = "16pt Verdana"),
                    (e.fillStyle = o),
                    e.fillText(r, 2, 100);
                },
              },
              {
                key: "createPatternCanvas",
                value: function () {
                  var t = document.createElement("canvas");
                  (t.width = 20), (t.height = 20);
                  var e = t.getContext("2d");
                  return (
                    (e.fillStyle = "#f00"),
                    e.fillRect(0, 0, 10, 10),
                    (e.fillStyle = "#00f"),
                    e.fillRect(10, 10, 10, 10),
                    t
                  );
                },
              },
              {
                key: "renderGeometryImage",
                value: function (t, e) {
                  (t.width = EE), (t.height = kE);
                  var n = e.createRadialGradient(128, 128, 0, 128, 128, 128);
                  n.addColorStop(0, "#f2f"),
                    n.addColorStop(0.5, "#2ff"),
                    n.addColorStop(1, "#ff2"),
                    (e.fillStyle = n),
                    e.fillRect(0, 0, EE, kE),
                    (e.globalCompositeOperation = "multiply");
                  for (
                    var r = 0,
                      o = [
                        ["#f2f", 40, 40],
                        ["#2ff", 80, 40],
                        ["#ff2", 60, 80],
                      ];
                    r < o.length;
                    r++
                  ) {
                    var i = pE(o[r], 3),
                      a = i[0],
                      u = i[1],
                      s = i[2];
                    (e.fillStyle = a),
                      e.beginPath(),
                      e.arc(u, s, 40, 0, 2 * Math.PI, !0),
                      e.closePath(),
                      e.fill();
                  }
                  (e.globalCompositeOperation = "screen"),
                    (e.fillStyle = "#f9c"),
                    e.beginPath(),
                    e.arc(60, 60, 60, 0, 2 * Math.PI, !0),
                    e.arc(60, 60, 20, 0, 2 * Math.PI, !0),
                    e.fill("evenodd"),
                    (e.globalCompositeOperation = "difference"),
                    e.beginPath(),
                    e.moveTo(20, 20),
                    e.bezierCurveTo(40, 40, 60, 40, 80, 20),
                    (e.strokeStyle = "#0f0"),
                    (e.lineWidth = 3),
                    e.stroke(),
                    (e.globalCompositeOperation = "luminosity");
                  for (var c = 0; c < 5; c++)
                    e.beginPath(),
                      e.moveTo(0, 50 * c),
                      e.lineTo(EE, 50 * c),
                      (e.strokeStyle = "rgba(255, 255, 255, ".concat(
                        0.2 + 0.1 * c,
                        ")"
                      )),
                      e.stroke();
                },
              },
              {
                key: "canvasToText",
                value: function (t) {
                  try {
                    return t.toDataURL().split(",")[1];
                  } catch (t) {
                    return "";
                  }
                },
              },
              {
                key: "hashCanvasText",
                value: function (t) {
                  return this._utils
                    .digest_sha256(t)
                    .then(function (t) {
                      return t;
                    })
                    .catch(function () {
                      return "";
                    });
                },
              },
              {
                key: "hasWinding",
                value: function (t) {
                  return (
                    t.rect(0, 0, 10, 10),
                    t.rect(2, 2, 6, 6),
                    !t.isPointInPath(5, 5, "evenodd")
                  );
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return SE;
                },
              },
            ]
          )
        );
      })(uo);
    function CE(t) {
      return (
        (CE =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        CE(t)
      );
    }
    function jE(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, ME(r.key), r);
      }
    }
    function ME(t) {
      var e = (function (t, e) {
        if ("object" != CE(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != CE(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == CE(e) ? e : e + "";
    }
    function RE(t, e, n) {
      return (
        (e = AE(e)),
        (function (t, e) {
          if (e && ("object" == CE(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          BE()
            ? Reflect.construct(e, n || [], AE(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function BE() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (BE = function () {
        return !!t;
      })();
    }
    function AE(t) {
      return (
        (AE = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        AE(t)
      );
    }
    function xE(t, e) {
      return (
        (xE = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        xE(t, e)
      );
    }
    var DE = (function (t) {
      function e(t) {
        var n;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (n = RE(this, e)).validateParams(t),
          (n.acoustic = t),
          n
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && xE(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && jE(t.prototype, e),
            n && jE(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t) {
              "string" == typeof t ||
                _t.warn(
                  "wrong type in AudioDetect parameters. renderer: {expected: string, received: ".concat(
                    CE(t),
                    "}"
                  )
                );
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [this.getName(), this.acoustic];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] && "string" == typeof t[1]) ||
                _t.warn("AudioDetect - Contract verification failed");
            },
          },
          {
            key: "getName",
            value: function () {
              return "audio_detect";
            },
          },
        ])
      );
    })(vm);
    function LE(t) {
      return (
        (LE =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        LE(t)
      );
    }
    function NE() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          IE(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (IE((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), IE(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        IE(f, "constructor", c),
        IE(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        IE(c, o, "GeneratorFunction"),
        IE(f),
        IE(f, o, "Generator"),
        IE(f, r, function () {
          return this;
        }),
        IE(f, "toString", function () {
          return "[object Generator]";
        }),
        (NE = function () {
          return { w: i, m: p };
        })()
      );
    }
    function IE(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (IE = function (t, e, n, r) {
        function i(e, n) {
          IE(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        IE(t, e, n, r);
    }
    function FE(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function UE(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, WE(r.key), r);
      }
    }
    function WE(t) {
      var e = (function (t, e) {
        if ("object" != LE(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != LE(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == LE(e) ? e : e + "";
    }
    function GE(t, e, n) {
      return (
        (e = QE(e)),
        (function (t, e) {
          if (e && ("object" == LE(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          HE()
            ? Reflect.construct(e, n || [], QE(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function HE() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (HE = function () {
        return !!t;
      })();
    }
    function QE(t) {
      return (
        (QE = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        QE(t)
      );
    }
    function zE(t, e) {
      return (
        (zE = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        zE(t, e)
      );
    }
    var VE = {
        configKey: "isAudioDetectFeature",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !1,
        shouldRun: !0,
        isFrameRelated: !1,
        runInUns: !1,
        runInSlave: !0,
        runInLean: !0,
        isRunning: !1,
        instance: null,
      },
      KE = 1,
      qE = 5e3,
      JE = 44100,
      XE = "triangle",
      YE = 1e4,
      ZE = { threshold: -50, knee: 40, ratio: 12, attack: 0, release: 0.25 },
      $E = 500,
      tk = 3,
      ek = 4500,
      nk = (function (t) {
        function e(t, n) {
          var r;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((r = GE(this, e))._dataQ = t),
            (r._utils = n),
            r
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && zE(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && UE(t.prototype, e),
              n && UE(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value: function () {
                  _t.info("Starting Audio Detection Feature");
                  try {
                    this._collectAudioFingerprintInfo();
                  } catch (t) {
                    _t.error("Failed to collect audio information: ".concat(t));
                  }
                },
              },
              {
                key: "_collectAudioFingerprintInfo",
                value: function () {
                  var t = this;
                  _t.info("Collecting audio properties"),
                    this._getAudioFingerprint()
                      .then(function (e) {
                        return t._utils.digest_sha256(e);
                      })
                      .then(function (e) {
                        var n = new DE(e).buildQueueMessage();
                        t._dataQ.addToQueue("static_fields", n, !1),
                          _t.info("Audio properties collected successfully");
                      })
                      .catch(function (t) {
                        _t.error(
                          "Error collecting audio information: ".concat(t)
                        );
                      });
                },
              },
              {
                key: "_getAudioFingerprint",
                value:
                  ((n = NE().m(function t() {
                    var e, n, r, o, i;
                    return NE().w(
                      function (t) {
                        for (;;)
                          switch ((t.p = t.n)) {
                            case 0:
                              if (
                                ((t.p = 0),
                                (e =
                                  window.OfflineAudioContext ||
                                  window.webkitOfflineAudioContext))
                              ) {
                                t.n = 1;
                                break;
                              }
                              throw new Error("AudioContext is not supported");
                            case 1:
                              return (
                                (n = new e(KE, qE, JE)),
                                (r = n.createOscillator()),
                                (o = n.createDynamicsCompressor()),
                                (r.type = XE),
                                (r.frequency.value = YE),
                                (o.threshold.value = ZE.threshold),
                                (o.knee.value = ZE.knee),
                                (o.ratio.value = ZE.ratio),
                                (o.attack.value = ZE.attack),
                                (o.release.value = ZE.release),
                                r.connect(o),
                                o.connect(n.destination),
                                r.start(0),
                                t.a(
                                  2,
                                  this._renderAudio(n).then(function (t) {
                                    return t
                                      .getChannelData(0)
                                      .subarray(ek)
                                      .toString();
                                  })
                                )
                              );
                            case 2:
                              throw (
                                ((t.p = 2),
                                (i = t.v),
                                _t.error(
                                  "Error initializing audio fingerprint: ".concat(
                                    i
                                  )
                                ),
                                i)
                              );
                            case 3:
                              return t.a(2);
                          }
                      },
                      t,
                      this,
                      [[0, 2]]
                    );
                  })),
                  (r = function () {
                    var t = this,
                      e = arguments;
                    return new Promise(function (r, o) {
                      var i = n.apply(t, e);
                      function a(t) {
                        FE(i, r, o, a, u, "next", t);
                      }
                      function u(t) {
                        FE(i, r, o, a, u, "throw", t);
                      }
                      a(void 0);
                    });
                  }),
                  function () {
                    return r.apply(this, arguments);
                  }),
              },
              {
                key: "_renderAudio",
                value: function (t) {
                  var e = $E,
                    n = tk,
                    r = 0;
                  return new Promise(function (o, i) {
                    var a = function () {
                      try {
                        var u = t.startRendering();
                        "running" === t.state
                          ? o(u)
                          : "suspended" !== t.state ||
                            document.hidden ||
                            (++r < n
                              ? setTimeout(a, e)
                              : i(new Error("Audio context suspended")));
                      } catch (t) {
                        i(t);
                      }
                    };
                    a();
                  });
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return VE;
                },
              },
            ]
          )
        );
        var n, r;
      })(uo);
    function rk(t) {
      return (
        (rk =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        rk(t)
      );
    }
    function ok() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          ik(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (ik((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), ik(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        ik(f, "constructor", c),
        ik(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        ik(c, o, "GeneratorFunction"),
        ik(f),
        ik(f, o, "Generator"),
        ik(f, r, function () {
          return this;
        }),
        ik(f, "toString", function () {
          return "[object Generator]";
        }),
        (ok = function () {
          return { w: i, m: p };
        })()
      );
    }
    function ik(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (ik = function (t, e, n, r) {
        function i(e, n) {
          ik(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        ik(t, e, n, r);
    }
    function ak(t, e) {
      var n =
        ("undefined" != typeof Symbol && t[Symbol.iterator]) || t["@@iterator"];
      if (!n) {
        if (
          Array.isArray(t) ||
          (n = sk(t)) ||
          (e && t && "number" == typeof t.length)
        ) {
          n && (t = n);
          var r = 0,
            o = function () {};
          return {
            s: o,
            n: function () {
              return r >= t.length ? { done: !0 } : { done: !1, value: t[r++] };
            },
            e: function (t) {
              throw t;
            },
            f: o,
          };
        }
        throw new TypeError(
          "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
        );
      }
      var i,
        a = !0,
        u = !1;
      return {
        s: function () {
          n = n.call(t);
        },
        n: function () {
          var t = n.next();
          return (a = t.done), t;
        },
        e: function (t) {
          (u = !0), (i = t);
        },
        f: function () {
          try {
            a || null == n.return || n.return();
          } finally {
            if (u) throw i;
          }
        },
      };
    }
    function uk(t) {
      return (
        (function (t) {
          if (Array.isArray(t)) return ck(t);
        })(t) ||
        (function (t) {
          if (
            ("undefined" != typeof Symbol && null != t[Symbol.iterator]) ||
            null != t["@@iterator"]
          )
            return Array.from(t);
        })(t) ||
        sk(t) ||
        (function () {
          throw new TypeError(
            "Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
          );
        })()
      );
    }
    function sk(t, e) {
      if (t) {
        if ("string" == typeof t) return ck(t, e);
        var n = {}.toString.call(t).slice(8, -1);
        return (
          "Object" === n && t.constructor && (n = t.constructor.name),
          "Map" === n || "Set" === n
            ? Array.from(t)
            : "Arguments" === n ||
              /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
            ? ck(t, e)
            : void 0
        );
      }
    }
    function ck(t, e) {
      (null == e || e > t.length) && (e = t.length);
      for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
      return r;
    }
    function lk(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function fk(t) {
      return function () {
        var e = this,
          n = arguments;
        return new Promise(function (r, o) {
          var i = t.apply(e, n);
          function a(t) {
            lk(i, r, o, a, u, "next", t);
          }
          function u(t) {
            lk(i, r, o, a, u, "throw", t);
          }
          a(void 0);
        });
      };
    }
    function pk(t, e) {
      var n = Object.keys(t);
      if (Object.getOwnPropertySymbols) {
        var r = Object.getOwnPropertySymbols(t);
        e &&
          (r = r.filter(function (e) {
            return Object.getOwnPropertyDescriptor(t, e).enumerable;
          })),
          n.push.apply(n, r);
      }
      return n;
    }
    function hk(t) {
      for (var e = 1; e < arguments.length; e++) {
        var n = null != arguments[e] ? arguments[e] : {};
        e % 2
          ? pk(Object(n), !0).forEach(function (e) {
              dk(t, e, n[e]);
            })
          : Object.getOwnPropertyDescriptors
          ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n))
          : pk(Object(n)).forEach(function (e) {
              Object.defineProperty(
                t,
                e,
                Object.getOwnPropertyDescriptor(n, e)
              );
            });
      }
      return t;
    }
    function dk(t, e, n) {
      return (
        (e = mk(e)) in t
          ? Object.defineProperty(t, e, {
              value: n,
              enumerable: !0,
              configurable: !0,
              writable: !0,
            })
          : (t[e] = n),
        t
      );
    }
    function yk(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, mk(r.key), r);
      }
    }
    function mk(t) {
      var e = (function (t, e) {
        if ("object" != rk(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != rk(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == rk(e) ? e : e + "";
    }
    function vk(t, e, n) {
      return (
        (e = gk(e)),
        (function (t, e) {
          if (e && ("object" == rk(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          bk()
            ? Reflect.construct(e, n || [], gk(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function bk() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (bk = function () {
        return !!t;
      })();
    }
    function gk(t) {
      return (
        (gk = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        gk(t)
      );
    }
    function _k(t, e) {
      return (
        (_k = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        _k(t, e)
      );
    }
    var wk = {
        sampleRate: 44100,
        cloneCount: 4e4,
        stabilizationPrecision: 6.2,
        targetSampleIndex: 3395,
        signals: [
          {
            type: "square",
            frequency: 1e3,
            detune: 0,
            phase: 0,
            harmonics: [
              { frequency: 2e3, amplitude: 0.3 },
              { frequency: 3e3, amplitude: 0.2 },
            ],
          },
          {
            type: "sine",
            frequency: 2e3,
            detune: 0,
            phase: 0,
            modulation: { frequency: 5, depth: 0.1 },
          },
          {
            type: "triangle",
            frequency: 3e3,
            detune: 0,
            phase: 0,
            formants: [
              { frequency: 500, bandwidth: 50 },
              { frequency: 1500, bandwidth: 100 },
            ],
          },
          {
            type: "sawtooth",
            frequency: 4e3,
            detune: 0,
            phase: 0,
            resonance: { frequency: 6e3, Q: 10 },
          },
        ],
        compressor: {
          threshold: -70,
          knee: 40,
          ratio: 12,
          attack: 0,
          release: 0.25,
          makeupGain: 0,
          bypass: !1,
        },
        filters: [
          { type: "allpass", frequency: 5.239622852977861, Q: 0.1, gain: 0 },
          { type: "highpass", frequency: 20, Q: 1, gain: 0 },
          { type: "lowpass", frequency: 2e4, Q: 1, gain: 0 },
        ],
        analysis: {
          fftSize: 2048,
          smoothingTimeConstant: 0.8,
          minDecibels: -100,
          maxDecibels: -30,
          spectralPeaks: 10,
          phaseAnalysis: !0,
          harmonicDetection: !0,
        },
        browserOptimizations: {
          safari: {
            loopStartOffset: 1e-11,
            loopEndOffset: 1e-11,
            retryAttempts: 3,
          },
          chrome: { useWorklet: !1, bufferSize: 4096 },
          firefox: { useSharedArrayBuffer: !1, audioWorkletSupport: !1 },
        },
      },
      Sk = {
        configKey: "isAudioDetectFeature2",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !1,
        shouldRun: !1,
        isFrameRelated: !1,
        runInUns: !1,
        runInSlave: !1,
        runInLean: !1,
        isRunning: !1,
        instance: null,
      },
      Ek = (function (t) {
        function e(t, n) {
          var r,
            o =
              arguments.length > 2 && void 0 !== arguments[2]
                ? arguments[2]
                : {};
          if (
            ((function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            (r = vk(this, e)),
            !t)
          )
            throw new Error("DataQueue is required");
          if (!n) throw new Error("Utils is required");
          (r._dataQ = t), (r._utils = n);
          var i = o.audioContext || {};
          if (
            ((r._AudioContext =
              i.regular || window.AudioContext || window.webkitAudioContext),
            (r._OfflineAudioContext =
              i.offline ||
              window.OfflineAudioContext ||
              window.webkitOfflineAudioContext),
            !r._AudioContext || !r._OfflineAudioContext)
          )
            throw new Error("AudioContext constructors are required");
          if (
            ((r._performance = o.performance || window.performance),
            !r._performance)
          )
            throw new Error("Performance API is required");
          return (
            (r._audioConfig = o.audioConfig || hk({}, wk)),
            (r._featureSettings = o.featureSettings || hk({}, Sk)),
            r
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && _k(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && yk(t.prototype, e),
              n && yk(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value: function () {
                  _t.info("Starting Advanced Audio Detection Feature 2");
                  try {
                    this._collectAudioFingerprintInfo();
                  } catch (t) {
                    _t.error("Failed to collect audio information: ".concat(t));
                  }
                },
              },
              {
                key: "_collectAudioFingerprintInfo",
                value: function () {
                  var t = this;
                  _t.info("Collecting advanced audio properties (method 2)"),
                    this._getAdvancedAudioFingerprint()
                      .then(function (e) {
                        return t._utils.digest_sha256(e.toString());
                      })
                      .then(function (e) {
                        t._dataQ.addToQueue(
                          "static_fields",
                          ["audio_detect2", e],
                          !1
                        ),
                          _t.info(
                            "Advanced audio properties collected successfully (method 2) " +
                              e
                          );
                      })
                      .catch(function (t) {
                        _t.error(
                          "Error collecting audio information: ".concat(t)
                        );
                      });
                },
              },
              {
                key: "_getAdvancedAudioFingerprint",
                value:
                  ((u = fk(
                    ok().m(function t() {
                      var e,
                        n,
                        r,
                        o,
                        i,
                        a,
                        u,
                        s,
                        c,
                        l,
                        f,
                        p,
                        h = this;
                      return ok().w(
                        function (t) {
                          for (;;)
                            switch ((t.p = t.n)) {
                              case 0:
                                return (
                                  (t.p = 0),
                                  (t.n = 1),
                                  this._getAudioContextInfo()
                                );
                              case 1:
                                return (
                                  (e = t.v),
                                  (t.n = 2),
                                  Promise.all(
                                    [
                                      this._getBaseSignal(
                                        this._OfflineAudioContext
                                      ),
                                    ].concat(
                                      uk(
                                        this._audioConfig.signals.map(function (
                                          t
                                        ) {
                                          return h._getAdvancedSignal(t);
                                        })
                                      )
                                    )
                                  )
                                );
                              case 2:
                                (n = t.v),
                                  (r = []),
                                  (o = ak(n)),
                                  (t.p = 3),
                                  o.s();
                              case 4:
                                if ((i = o.n()).done) {
                                  t.n = 7;
                                  break;
                                }
                                if (!(a = i.value)) {
                                  t.n = 6;
                                  break;
                                }
                                return (
                                  (t.n = 5), this._applyAdvancedProcessing(a)
                                );
                              case 5:
                                (u = t.v) &&
                                  u.buffer &&
                                  u.metrics &&
                                  r.push({
                                    buffer: u.buffer,
                                    metrics: u.metrics,
                                  });
                              case 6:
                                t.n = 4;
                                break;
                              case 7:
                                t.n = 9;
                                break;
                              case 8:
                                (t.p = 8), (f = t.v), o.e(f);
                              case 9:
                                return (t.p = 9), o.f(), t.f(9);
                              case 10:
                                if (0 !== r.length) {
                                  t.n = 11;
                                  break;
                                }
                                throw new Error("No valid processed signals");
                              case 11:
                                return (
                                  (t.n = 12),
                                  this._combineSignalsAdvanced(
                                    r.map(function (t) {
                                      return t.buffer;
                                    })
                                  )
                                );
                              case 12:
                                return (
                                  (s = t.v),
                                  (c = this._generateCompositeFingerprint(
                                    s,
                                    r.map(function (t) {
                                      return t.metrics;
                                    }),
                                    e
                                  )),
                                  (l = this._stabilizeAdvanced(c, e)),
                                  t.a(
                                    2,
                                    this._stabilize(
                                      l,
                                      this._audioConfig.stabilizationPrecision
                                    )
                                  )
                                );
                              case 13:
                                throw (
                                  ((t.p = 13),
                                  (p = t.v),
                                  _t.error(
                                    "Error in advanced audio fingerprinting: ".concat(
                                      p
                                    )
                                  ),
                                  p)
                                );
                              case 14:
                                return t.a(2);
                            }
                        },
                        t,
                        this,
                        [
                          [3, 8, 9, 10],
                          [0, 13],
                        ]
                      );
                    })
                  )),
                  function () {
                    return u.apply(this, arguments);
                  }),
              },
              {
                key: "_getAudioContextInfo",
                value:
                  ((a = fk(
                    ok().m(function t() {
                      var e, n, r, o, i, a, u, s;
                      return ok().w(
                        function (t) {
                          for (;;)
                            if (0 === t.n) {
                              for (
                                e = new this._AudioContext(),
                                  n = {
                                    sampleRate: e.sampleRate,
                                    baseLatency: e.baseLatency || 0,
                                    maxChannelCount:
                                      e.destination.maxChannelCount,
                                    state: e.state,
                                    supportedSampleRates: [],
                                    supportedChannelCounts: [],
                                    browser: this._browserInfo,
                                  },
                                  r = 0,
                                  o = [
                                    8e3, 11025, 16e3, 22050, 24e3, 32e3, 44100,
                                    48e3, 88200, 96e3,
                                  ];
                                r < o.length;
                                r++
                              ) {
                                i = o[r];
                                try {
                                  (a = new this._AudioContext({
                                    sampleRate: i,
                                  })),
                                    n.supportedSampleRates.push(i),
                                    "function" == typeof a.close && a.close();
                                } catch (t) {}
                              }
                              for (u = 1; u <= 32; u *= 2)
                                try {
                                  (s =
                                    new this._AudioContext()).createChannelMerger(
                                    u
                                  ),
                                    n.supportedChannelCounts.push(u),
                                    "function" == typeof s.close && s.close();
                                } catch (t) {}
                              return (
                                "function" == typeof e.close && e.close(),
                                t.a(2, n)
                              );
                            }
                        },
                        t,
                        this
                      );
                    })
                  )),
                  function () {
                    return a.apply(this, arguments);
                  }),
              },
              {
                key: "_getBaseSignal",
                value:
                  ((i = fk(
                    ok().m(function t(e) {
                      var n, r, o, i;
                      return ok().w(
                        function (t) {
                          for (;;)
                            switch (t.n) {
                              case 0:
                                return (
                                  (n = new e(
                                    1,
                                    this._audioConfig.targetSampleIndex + 1,
                                    this._audioConfig.sampleRate
                                  )),
                                  ((r = n.createOscillator()).type = "square"),
                                  (r.frequency.value = 1e3),
                                  ((o =
                                    n.createDynamicsCompressor()).threshold.value =
                                    -70),
                                  (o.knee.value = 40),
                                  (o.ratio.value = 12),
                                  (o.attack.value = 0),
                                  (o.release.value = 0.25),
                                  ((i = n.createBiquadFilter()).type =
                                    "allpass"),
                                  (i.frequency.value = 5.239622852977861),
                                  (i.Q.value = 0.1),
                                  r.connect(o),
                                  o.connect(i),
                                  i.connect(n.destination),
                                  r.start(0),
                                  (t.n = 1),
                                  this._renderAudio(n)
                                );
                              case 1:
                                return t.a(2, t.v);
                            }
                        },
                        t,
                        this
                      );
                    })
                  )),
                  function (t) {
                    return i.apply(this, arguments);
                  }),
              },
              {
                key: "_getAdvancedSignal",
                value:
                  ((o = fk(
                    ok().m(function t(e) {
                      var n, r, o, i, a, u, s, c, l;
                      return ok().w(
                        function (t) {
                          for (;;)
                            switch (t.n) {
                              case 0:
                                return (
                                  (n = new this._OfflineAudioContext(
                                    1,
                                    this._audioConfig.targetSampleIndex + 1,
                                    this._audioConfig.sampleRate
                                  )),
                                  ((r = n.createOscillator()).type = e.type),
                                  (r.frequency.value = e.frequency),
                                  0 !== e.detune && (r.detune.value = e.detune),
                                  (o = this._createAdvancedCompressor(n)),
                                  (i = this._createFilterChain(n)),
                                  (a = r).connect(o),
                                  (a = o),
                                  i.forEach(function (t) {
                                    a.connect(t), (a = t);
                                  }),
                                  e.harmonics &&
                                    ((u = n.createGain()),
                                    a.connect(u),
                                    e.harmonics.forEach(function (t) {
                                      var e = n.createOscillator();
                                      (e.type = "sine"),
                                        (e.frequency.value = t.frequency),
                                        e.connect(u, 0, 0),
                                        (u.gain.value = t.amplitude),
                                        e.start(0);
                                    }),
                                    (a = u)),
                                  e.modulation &&
                                    (((s = n.createOscillator()).type = "sine"),
                                    (s.frequency.value =
                                      e.modulation.frequency),
                                    ((c = n.createGain()).gain.value =
                                      e.modulation.depth),
                                    s.connect(c),
                                    c.connect(r.frequency),
                                    s.start(0)),
                                  e.formants &&
                                    e.formants.forEach(function (t) {
                                      var e = n.createBiquadFilter();
                                      (e.type = "bandpass"),
                                        (e.frequency.value = t.frequency),
                                        (e.Q.value = t.frequency / t.bandwidth),
                                        a.connect(e),
                                        (a = e);
                                    }),
                                  e.resonance &&
                                    (((l = n.createBiquadFilter()).type =
                                      "peaking"),
                                    (l.frequency.value = e.resonance.frequency),
                                    (l.Q.value = e.resonance.Q),
                                    (l.gain.value = 6),
                                    a.connect(l),
                                    (a = l)),
                                  a.connect(n.destination),
                                  r.start(0),
                                  (t.n = 1),
                                  this._renderAudio(n)
                                );
                              case 1:
                                return t.a(2, t.v);
                            }
                        },
                        t,
                        this
                      );
                    })
                  )),
                  function (t) {
                    return o.apply(this, arguments);
                  }),
              },
              {
                key: "_createAdvancedCompressor",
                value: function (t) {
                  var e = t.createDynamicsCompressor(),
                    n = this._audioConfig.compressor;
                  return (
                    (e.threshold.value = n.threshold),
                    (e.knee.value = n.knee),
                    (e.ratio.value = n.ratio),
                    (e.attack.value = n.attack),
                    (e.release.value = n.release),
                    e.makeupGain && (e.makeupGain.value = n.makeupGain),
                    e
                  );
                },
              },
              {
                key: "_createFilterChain",
                value: function (t) {
                  return this._audioConfig.filters.map(function (e) {
                    var n = t.createBiquadFilter();
                    return (
                      (n.type = e.type),
                      (n.frequency.value = e.frequency),
                      (n.Q.value = e.Q),
                      (n.gain.value = e.gain),
                      n
                    );
                  });
                },
              },
              {
                key: "_applyAdvancedProcessing",
                value:
                  ((r = fk(
                    ok().m(function t(e) {
                      var n, r, o, i, a, u;
                      return ok().w(
                        function (t) {
                          for (;;)
                            switch (t.n) {
                              case 0:
                                if (
                                  ((n = new this._AudioContext()),
                                  e instanceof AudioBuffer)
                                ) {
                                  t.n = 1;
                                  break;
                                }
                                throw new Error(
                                  "Invalid audio signal: expected AudioBuffer"
                                );
                              case 1:
                                return (
                                  ((r = n.createAnalyser()).fftSize =
                                    this._audioConfig.analysis.fftSize),
                                  (r.smoothingTimeConstant =
                                    this._audioConfig.analysis.smoothingTimeConstant),
                                  (r.minDecibels =
                                    this._audioConfig.analysis.minDecibels),
                                  (r.maxDecibels =
                                    this._audioConfig.analysis.maxDecibels),
                                  ((o = n.createBufferSource()).buffer = e),
                                  o.connect(r),
                                  r.connect(n.destination),
                                  o.start(0),
                                  (i = new Float32Array(r.frequencyBinCount)),
                                  (a = new Float32Array(r.frequencyBinCount)),
                                  r.getFloatFrequencyData(i),
                                  r.getFloatTimeDomainData(a),
                                  (u = {
                                    spectral: this._analyzeSpectralData(i),
                                    phase: this._analyzePhaseData(a),
                                    dynamic: this._analyzeDynamicRange(i),
                                    harmonic: this._analyzeHarmonicContent(
                                      i,
                                      a
                                    ),
                                    temporal:
                                      this._analyzeTemporalCharacteristics(a),
                                  }),
                                  t.a(2, { buffer: e, metrics: u })
                                );
                            }
                        },
                        t,
                        this
                      );
                    })
                  )),
                  function (t) {
                    return r.apply(this, arguments);
                  }),
              },
              {
                key: "_analyzeSpectralData",
                value: function (t) {
                  var e = {
                    peaks: [],
                    centroid: 0,
                    spread: 0,
                    skewness: 0,
                    kurtosis: 0,
                  };
                  if (!t || 0 === t.length) return e;
                  for (var n = 1; n < t.length - 1; n++)
                    t[n] > t[n - 1] &&
                      t[n] > t[n + 1] &&
                      e.peaks.push({ index: n, magnitude: t[n] });
                  e.peaks.sort(function (t, e) {
                    return e.magnitude - t.magnitude;
                  }),
                    (e.peaks = e.peaks.slice(
                      0,
                      this._audioConfig.analysis.spectralPeaks
                    ));
                  for (var r = 0, o = 0, i = 0; i < t.length; i++) {
                    var a = Math.pow(10, t[i] / 20);
                    (r += i * a), (o += a);
                  }
                  if ((o > 0 && (e.centroid = r / o), o > 0)) {
                    for (var u = 0, s = 0; s < t.length; s++) {
                      var c = Math.pow(10, t[s] / 20);
                      u += Math.pow(s - e.centroid, 2) * c;
                    }
                    e.spread = Math.sqrt(u / o);
                  }
                  return e;
                },
              },
              {
                key: "_analyzePhaseData",
                value: function (t) {
                  var e = {
                    zeroCrossings: 0,
                    phaseVariance: 0,
                    phaseCoherence: 0,
                  };
                  if (!t || 0 === t.length) return e;
                  for (var n = t[0], r = 1; r < t.length; r++)
                    ((n < 0 && t[r] >= 0) || (n >= 0 && t[r] < 0)) &&
                      e.zeroCrossings++,
                      (n = t[r]);
                  var o =
                    t.reduce(function (t, e) {
                      return t + e;
                    }, 0) / t.length;
                  if (
                    ((e.phaseVariance =
                      t.reduce(function (t, e) {
                        return t + Math.pow(e - o, 2);
                      }, 0) / t.length),
                    t.length > 1)
                  ) {
                    for (var i = 0, a = 1; a < t.length; a++) {
                      var u = Math.abs(t[a] - t[a - 1]);
                      i += Math.cos(u);
                    }
                    e.phaseCoherence = i / (t.length - 1);
                  }
                  return e;
                },
              },
              {
                key: "_analyzeDynamicRange",
                value: function (t) {
                  var e = {
                    crestFactor: 0,
                    dynamicRange: 0,
                    compressionRatio: 0,
                  };
                  if (!t || 0 === t.length) return e;
                  var n = t
                    .map(function (t) {
                      return Math.pow(10, t / 20);
                    })
                    .filter(function (t) {
                      return t > 0;
                    });
                  if (0 === n.length) return e;
                  var r = Math.sqrt(
                      n.reduce(function (t, e) {
                        return t + e * e;
                      }, 0) / n.length
                    ),
                    o = Math.max.apply(Math, uk(n));
                  if (r > 0) {
                    e.crestFactor = o / r;
                    var i = Math.min.apply(Math, uk(n));
                    e.dynamicRange = 20 * Math.log10(o / i);
                  }
                  return e;
                },
              },
              {
                key: "_analyzeHarmonicContent",
                value: function (t, e) {
                  var n = { totalHarmonicDistortion: 0, harmonicSpectrum: 0 };
                  if (!t || 0 === t.length) return n;
                  var r = t.map(function (t) {
                      return Math.pow(10, t / 20);
                    }),
                    o = Math.max.apply(Math, uk(r)),
                    i = r
                      .filter(function (t, e) {
                        return e > 0 && t > 0.1 * o;
                      })
                      .reduce(function (t, e) {
                        return t + e * e;
                      }, 0);
                  return (
                    (n.totalHarmonicDistortion = o > 0 ? Math.sqrt(i) / o : 0),
                    n
                  );
                },
              },
              {
                key: "_analyzeTemporalCharacteristics",
                value: function (t) {
                  var e = { attackTime: 0, decayTime: 0, sustainLevel: 0 };
                  if (!t || 0 === t.length) return e;
                  var n = this._calculateEnvelope(t);
                  if (n.length > 0) {
                    for (
                      var r = 0.9 * Math.max.apply(Math, uk(n)), o = 0, i = 0;
                      i < n.length;
                      i++
                    )
                      if (n[i] >= r) {
                        o = i;
                        break;
                      }
                    e.attackTime = o / this._audioConfig.sampleRate;
                  }
                  return e;
                },
              },
              {
                key: "_calculateEnvelope",
                value: function (t) {
                  for (
                    var e = [],
                      n = Math.max(1, Math.floor(0.001 * t.length)),
                      r = 0;
                    r < t.length;
                    r += n
                  ) {
                    var o = t.slice(r, Math.min(r + n, t.length)),
                      i = Math.sqrt(
                        o.reduce(function (t, e) {
                          return t + e * e;
                        }, 0) / o.length
                      );
                    e.push(i);
                  }
                  return e;
                },
              },
              {
                key: "_combineSignalsAdvanced",
                value:
                  ((n = fk(
                    ok().m(function t(e) {
                      var n, r, o, i, a, u, s, c, l, f;
                      return ok().w(
                        function (t) {
                          for (;;)
                            switch (t.n) {
                              case 0:
                                if (Array.isArray(e) && 0 !== e.length) {
                                  t.n = 1;
                                  break;
                                }
                                throw new Error("Invalid signals array");
                              case 1:
                                for (
                                  n = new this._OfflineAudioContext(
                                    1,
                                    this._audioConfig.targetSampleIndex + 1,
                                    this._audioConfig.sampleRate
                                  ),
                                    r = n.createBuffer(
                                      1,
                                      n.length,
                                      n.sampleRate
                                    ),
                                    o = r.getChannelData(0),
                                    i = e.map(function (t, e) {
                                      return 1 - 0.1 * e;
                                    }),
                                    a = i.reduce(function (t, e) {
                                      return t + e;
                                    }, 0),
                                    u = 0;
                                  u < o.length;
                                  u++
                                ) {
                                  for (s = 0, c = 0; c < e.length; c++)
                                    (l = e[c]),
                                      (f = l.getChannelData(0)),
                                      u < f.length && (s += f[u] * i[c]);
                                  o[u] = s / a;
                                }
                                return t.a(2, r);
                            }
                        },
                        t,
                        this
                      );
                    })
                  )),
                  function (t) {
                    return n.apply(this, arguments);
                  }),
              },
              {
                key: "_generateCompositeFingerprint",
                value: function (t, e, n) {
                  var r = this,
                    o = this._hashSignal(t.getChannelData(0)),
                    i = e.reduce(function (t, e, n) {
                      var o = 1 + 0.1 * n,
                        i = r._hashSpectralMetrics(e.spectral || {}),
                        a = r._hashPhaseMetrics(e.phase || {}),
                        u = r._hashDynamicMetrics(e.dynamic || {}),
                        s = r._hashHarmonicMetrics(e.harmonic || {}),
                        c = r._hashTemporalMetrics(e.temporal || {}),
                        l = r._combineHashes([i, a, u, s, c]),
                        f = Math.floor(l * o);
                      return r._combineHashes([t, f]);
                    }, 0),
                    a = this._hashContextInfo(n);
                  return this._combineHashes([o, i, a]);
                },
              },
              {
                key: "_hashSignal",
                value: function (t) {
                  if (!t || !t.length) return 0;
                  var e = 0;
                  return (
                    [1, 10, 50, 100].forEach(function (n) {
                      for (var r = 0; r < t.length; r += n) {
                        var o = t[r] || 0,
                          i = 1 + (r / t.length) * 0.5;
                        (e = (e << 5) - e + o * i), (e &= e);
                      }
                    }),
                    e
                  );
                },
              },
              {
                key: "_hashSpectralMetrics",
                value: function (t) {
                  var e = 0;
                  return (
                    Array.isArray(t.peaks) &&
                      t.peaks.forEach(function (t) {
                        t &&
                          "object" === rk(t) &&
                          (e =
                            ((e = (e << 5) - e + (t.index || 0)) << 5) -
                            e +
                            (t.magnitude || 0));
                      }),
                    (e =
                      ((e =
                        ((e =
                          ((e = (e << 5) - e + (t.centroid || 0)) << 5) -
                          e +
                          (t.spread || 0)) <<
                          5) -
                        e +
                        (t.skewness || 0)) <<
                        5) -
                      e +
                      (t.kurtosis || 0)) & e
                  );
                },
              },
              {
                key: "_hashPhaseMetrics",
                value: function (t) {
                  var e = 0;
                  return (
                    (e =
                      ((e =
                        ((e = (e << 5) - e + (t.zeroCrossings || 0)) << 5) -
                        e +
                        (t.phaseVariance || 0)) <<
                        5) -
                      e +
                      (t.phaseCoherence || 0)) & e
                  );
                },
              },
              {
                key: "_hashDynamicMetrics",
                value: function (t) {
                  var e = 0;
                  return (
                    (e =
                      ((e =
                        ((e = (e << 5) - e + (t.crestFactor || 0)) << 5) -
                        e +
                        (t.dynamicRange || 0)) <<
                        5) -
                      e +
                      (t.compressionRatio || 0)) & e
                  );
                },
              },
              {
                key: "_hashHarmonicMetrics",
                value: function (t) {
                  var e = 0;
                  return (
                    (e =
                      ((e = (e << 5) - e + (t.totalHarmonicDistortion || 0)) <<
                        5) -
                      e +
                      (t.harmonicSpectrum || 0)) & e
                  );
                },
              },
              {
                key: "_hashTemporalMetrics",
                value: function (t) {
                  var e = 0;
                  return (
                    (e =
                      ((e =
                        ((e = (e << 5) - e + (t.attackTime || 0)) << 5) -
                        e +
                        (t.decayTime || 0)) <<
                        5) -
                      e +
                      (t.sustainLevel || 0)) & e
                  );
                },
              },
              {
                key: "_hashContextInfo",
                value: function (t) {
                  var e = 0;
                  return (
                    (e =
                      ((e =
                        ((e =
                          ((e =
                            ((e = (e << 5) - e + t.sampleRate) << 5) -
                            e +
                            t.baseLatency) <<
                            5) -
                          e +
                          t.maxChannelCount) <<
                          5) -
                        e +
                        this._hashString(t.state)) <<
                        5) -
                      e +
                      this._hashString(t.browser)),
                    t.supportedSampleRates.forEach(function (t) {
                      e = (e << 5) - e + t;
                    }),
                    t.supportedChannelCounts.forEach(function (t) {
                      e = (e << 5) - e + t;
                    }),
                    e & e
                  );
                },
              },
              {
                key: "_hashString",
                value: function (t) {
                  var e = 0;
                  "string" != typeof t && (t = String(t));
                  for (var n = 0; n < t.length; n++) {
                    (e = (e << 5) - e + t.charCodeAt(n)), (e &= e);
                  }
                  return e;
                },
              },
              {
                key: "_combineHashes",
                value: function (t) {
                  return t.reduce(function (t, e) {
                    return (t = (t << 5) - t + e) & t;
                  }, 0);
                },
              },
              {
                key: "_stabilizeAdvanced",
                value: function (t, e) {
                  var n = t;
                  return (
                    (n =
                      ((n = (n << 5) - n + this._hashContextInfo(e)) << 5) -
                      n +
                      this._hashBrowserQuirks(e)),
                    (n &= n)
                  );
                },
              },
              {
                key: "_hashBrowserQuirks",
                value: function (t) {
                  var e = 0;
                  return (
                    (e =
                      ((e =
                        ((e = (e << 5) - e + this._hashString(t.browser)) <<
                          5) -
                        e +
                        t.baseLatency) <<
                        5) -
                      e +
                      t.maxChannelCount) & e
                  );
                },
              },
              {
                key: "_stabilize",
                value: function (t, e) {
                  if (0 === t) return t;
                  var n =
                      Math.floor(Math.log10(Math.abs(t))) - Math.floor(e) + 1,
                    r = Math.pow(10, -n) * ((10 * e) % 10 || 1);
                  return Math.round(t * r) / r;
                },
              },
              {
                key: "_renderAudio",
                value: function (t) {
                  var e = this;
                  return new Promise(function (n, r) {
                    var o,
                      i = 0,
                      a =
                        (null ===
                          (o =
                            e._audioConfig.browserOptimizations[
                              e._browserInfo
                            ]) || void 0 === o
                          ? void 0
                          : o.retryAttempts) || 3,
                      u = function () {
                        try {
                          (t.oncomplete = function (t) {
                            n(t.renderedBuffer);
                          }),
                            (t.onstatechange = function () {
                              "suspended" === t.state && t.resume();
                            });
                          var e = t.startRendering();
                          if (e && e instanceof Promise)
                            return e
                              .then(function () {
                                n(e);
                              })
                              .catch(r);
                        } catch (t) {
                          ++i < a ? setTimeout(u, 100) : r(t);
                        }
                      };
                    u();
                  });
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return hk({}, Sk);
                },
              },
            ]
          )
        );
        var n, r, o, i, a, u;
      })(uo);
    function kk(t) {
      return (
        (kk =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        kk(t)
      );
    }
    function Tk() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          Pk(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (Pk((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), Pk(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        Pk(f, "constructor", c),
        Pk(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        Pk(c, o, "GeneratorFunction"),
        Pk(f),
        Pk(f, o, "Generator"),
        Pk(f, r, function () {
          return this;
        }),
        Pk(f, "toString", function () {
          return "[object Generator]";
        }),
        (Tk = function () {
          return { w: i, m: p };
        })()
      );
    }
    function Pk(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (Pk = function (t, e, n, r) {
        function i(e, n) {
          Pk(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        Pk(t, e, n, r);
    }
    function Ok(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function Ck(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, jk(r.key), r);
      }
    }
    function jk(t) {
      var e = (function (t, e) {
        if ("object" != kk(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != kk(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == kk(e) ? e : e + "";
    }
    function Mk(t, e, n) {
      return (
        (e = Bk(e)),
        (function (t, e) {
          if (e && ("object" == kk(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Rk()
            ? Reflect.construct(e, n || [], Bk(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Rk() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Rk = function () {
        return !!t;
      })();
    }
    function Bk(t) {
      return (
        (Bk = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Bk(t)
      );
    }
    function Ak(t, e) {
      return (
        (Ak = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Ak(t, e)
      );
    }
    var xk = {
        configKey: "enableEmuidFeature",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !0,
        shouldRun: !1,
        isFrameRelated: !1,
        runInUns: !1,
        runInSlave: !1,
        runInLean: !1,
        isRunning: !1,
        instance: null,
      },
      Dk = (function (t) {
        function e(t, n) {
          var r;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((r = Mk(this, e))._encryptedMuidService = n),
            (r._dataQ = t),
            r
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && Ak(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && Ck(t.prototype, e),
              n && Ck(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value:
                  ((n = Tk().m(function t() {
                    var e;
                    return Tk().w(
                      function (t) {
                        for (;;)
                          switch (t.n) {
                            case 0:
                              return (
                                (t.n = 1),
                                this._encryptedMuidService.getEncryptedMuid()
                              );
                            case 1:
                              (e = t.v) &&
                                this._dataQ.addToQueue(
                                  "static_fields",
                                  ["emuid", e],
                                  !1
                                );
                            case 2:
                              return t.a(2);
                          }
                      },
                      t,
                      this
                    );
                  })),
                  (r = function () {
                    var t = this,
                      e = arguments;
                    return new Promise(function (r, o) {
                      var i = n.apply(t, e);
                      function a(t) {
                        Ok(i, r, o, a, u, "next", t);
                      }
                      function u(t) {
                        Ok(i, r, o, a, u, "throw", t);
                      }
                      a(void 0);
                    });
                  }),
                  function () {
                    return r.apply(this, arguments);
                  }),
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return xk;
                },
              },
            ]
          )
        );
        var n, r;
      })(uo);
    function Lk(t) {
      return (
        (Lk =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Lk(t)
      );
    }
    function Nk() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          Ik(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (Ik((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), Ik(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        Ik(f, "constructor", c),
        Ik(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        Ik(c, o, "GeneratorFunction"),
        Ik(f),
        Ik(f, o, "Generator"),
        Ik(f, r, function () {
          return this;
        }),
        Ik(f, "toString", function () {
          return "[object Generator]";
        }),
        (Nk = function () {
          return { w: i, m: p };
        })()
      );
    }
    function Ik(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (Ik = function (t, e, n, r) {
        function i(e, n) {
          Ik(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        Ik(t, e, n, r);
    }
    function Fk(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function Uk(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Wk(r.key), r);
      }
    }
    function Wk(t) {
      var e = (function (t, e) {
        if ("object" != Lk(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Lk(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Lk(e) ? e : e + "";
    }
    function Gk(t, e, n) {
      return (
        (e = Qk(e)),
        (function (t, e) {
          if (e && ("object" == Lk(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Hk()
            ? Reflect.construct(e, n || [], Qk(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Hk() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Hk = function () {
        return !!t;
      })();
    }
    function Qk(t) {
      return (
        (Qk = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Qk(t)
      );
    }
    function zk(t, e) {
      return (
        (zk = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        zk(t, e)
      );
    }
    var Vk = {
        configKey: "isNavigatorFeature",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !0,
        shouldRun: !1,
        isFrameRelated: !1,
        runInUns: !1,
        runInSlave: !0,
        runInLean: !1,
        isRunning: !1,
        instance: null,
      },
      Kk = (function (t) {
        function e(t) {
          var n,
            r =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : window.navigator;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((n = Gk(this, e))._dataQ = t),
            (n._navigator = r),
            n
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && zk(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && Uk(t.prototype, e),
              n && Uk(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value:
                  ((n = Nk().m(function t() {
                    var e;
                    return Nk().w(
                      function (t) {
                        for (;;)
                          switch (t.n) {
                            case 0:
                              try {
                                (e = {
                                  oscpu: this._navigator.oscpu || null,
                                  pdfViewerEnabled:
                                    this._navigator.pdfViewerEnabled || null,
                                  webdriver: this._navigator.webdriver || null,
                                  userAgentData:
                                    this._navigator.userAgentData || null,
                                  appVersion:
                                    this._navigator.appVersion || null,
                                  platform: this._navigator.platform || null,
                                  vendor: this._navigator.vendor || null,
                                  productSub:
                                    this._navigator.productSub || null,
                                  vendorSub: this._navigator.vendorSub || null,
                                  onLine: this._navigator.onLine || null,
                                  prototype: Object.getOwnPropertyNames(
                                    Object.getPrototypeOf(this._navigator)
                                  ),
                                }),
                                  _t.debug(
                                    "NavigatorFeature: Collected navigator data" +
                                      JSON.stringify(e)
                                  ),
                                  this._dataQ.addToQueue(
                                    "static_fields",
                                    ["navigator_oscpu", e.oscpu],
                                    !1
                                  ),
                                  this._dataQ.addToQueue(
                                    "static_fields",
                                    [
                                      "navigator_pdfViewerEnabled",
                                      e.pdfViewerEnabled,
                                    ],
                                    !1
                                  ),
                                  this._dataQ.addToQueue(
                                    "static_fields",
                                    ["navigator_webdriver", e.webdriver],
                                    !1
                                  ),
                                  this._dataQ.addToQueue(
                                    "static_fields",
                                    [
                                      "navigator_userAgentData",
                                      e.userAgentData,
                                    ],
                                    !1
                                  ),
                                  this._dataQ.addToQueue(
                                    "static_fields",
                                    ["navigator_appVersion", e.appVersion],
                                    !1
                                  ),
                                  this._dataQ.addToQueue(
                                    "static_fields",
                                    ["navigator_platform", e.platform],
                                    !1
                                  ),
                                  this._dataQ.addToQueue(
                                    "static_fields",
                                    ["navigator_vendor", e.vendor],
                                    !1
                                  ),
                                  this._dataQ.addToQueue(
                                    "static_fields",
                                    ["navigator_productSub", e.productSub],
                                    !1
                                  ),
                                  this._dataQ.addToQueue(
                                    "static_fields",
                                    ["navigator_vendorSub", e.vendorSub],
                                    !1
                                  ),
                                  this._dataQ.addToQueue(
                                    "static_fields",
                                    ["navigator_onLine", e.onLine],
                                    !1
                                  ),
                                  this._dataQ.addToQueue(
                                    "static_fields",
                                    ["navigator_prototype", e.prototype],
                                    !1
                                  );
                              } catch (t) {
                                _t.error(
                                  "NavigatorFeature: Error collecting navigator data",
                                  t
                                );
                              }
                            case 1:
                              return t.a(2);
                          }
                      },
                      t,
                      this
                    );
                  })),
                  (r = function () {
                    var t = this,
                      e = arguments;
                    return new Promise(function (r, o) {
                      var i = n.apply(t, e);
                      function a(t) {
                        Fk(i, r, o, a, u, "next", t);
                      }
                      function u(t) {
                        Fk(i, r, o, a, u, "throw", t);
                      }
                      a(void 0);
                    });
                  }),
                  function () {
                    return r.apply(this, arguments);
                  }),
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return Vk;
                },
              },
            ]
          )
        );
        var n, r;
      })(uo),
      qk = {
        abpIndo: [
          "#Iklan-Melayang",
          "#Kolom-Iklan-728",
          "#SidebarIklan-wrapper",
          'a[title="7naga poker" i]',
          '[title="ALIENBOLA" i]',
        ],
        abpvn: [
          "#quangcaomb",
          ".i-said-no-thing-can-stop-me-warning.dark",
          ".quangcao",
          '[href^="https://r88.vn/"]',
          '[href^="https://zbet.vn/"]',
        ],
        adBlockFinland: [
          ".mainostila",
          ".sponsorit",
          ".ylamainos",
          'a[href*="/clickthrgh.asp?"]',
          'a[href^="https://app.readpeak.com/ads"]',
        ],
        adBlockPersian: [
          "#navbar_notice_50",
          'a[href^="http://g1.v.fwmrm.net/ad/"]',
          ".kadr",
          'TABLE[width="140px"]',
          "#divAgahi",
        ],
        adBlockWarningRemoval: [
          "#adblock_message",
          ".adblockInfo",
          ".deadblocker-header-bar",
          ".no-ad-reminder",
          "#AdBlockDialog",
        ],
        adGuardAnnoyances: [
          'amp-embed[type="zen"]',
          ".hs-sosyal",
          "#cookieconsentdiv",
          'div[class^="app_gdpr"]',
          ".as-oil",
        ],
        adGuardBase: [
          "#ad-fullbanner2-billboard-outer",
          ".stky-ad-footer",
          ".BetterJsPopOverlay",
          "#ad_300X250",
          "#bannerfloat22",
        ],
        adGuardChinese: [
          '#piao_div_0[style*="width:140px;"]',
          'a[href*=".ttz5.cn"]',
          'a[href*=".yabovip2027.com/"]',
          ".tm3all2h4b",
          "#duilian_left",
        ],
        adGuardFrench: [
          "#anAdScGp300x25",
          'a[href*=".kfiopkln.com/"]',
          'a[href^="https://jsecoin.com/o/?"]',
          'a[href^="https://www.clickadu.com/?"]',
          ".bandeauClosePub",
        ],
        adGuardGerman: [
          ".banneritemwerbung_head_1",
          ".boxstartwerbung",
          ".werbung3",
          'a[href^="http://www.eis.de/index.phtml?refid="]',
          'a[href^="https://www.tipico.com/?affiliateId="]',
        ],
        adGuardJapanese: [
          "#kauli_yad_1",
          ".adArticleSidetile",
          ".ads_entrymore",
          'a[href^="http://ad2.trafficgate.net/"]',
          'a[href^="http://www.rssad.jp/"]',
        ],
        adGuardMobile: [
          "amp-auto-ads",
          "#mgid_iframe",
          ".amp_ad",
          "amp-sticky-ad",
          ".plugin-blogroll",
        ],
        adGuardRussian: [
          'a[href^="https://ya-distrib.ru/r/"]',
          'a[href^="https://ad.letmeads.com/"]',
          ".reclama",
          'div[id^="smi2adblock"]',
          'div[id^="AdFox_banner_"]',
        ],
        adGuardSocial: [
          'a[href^="//www.stumbleupon.com/submit?url="]',
          'a[href^="//telegram.me/share/url?"]',
          ".etsy-tweet",
          "#inlineShare",
          ".popup-social",
        ],
        adGuardSpanishPortuguese: [
          "#barraPublicidade",
          "#Publicidade",
          "#publiEspecial",
          "#queTooltip",
          '[href^="http://ads.glispa.com/"]',
        ],
        adGuardTrackingProtection: [
          'amp-embed[type="taboola"]',
          "#qoo-counter",
          'a[href^="http://click.hotlog.ru/"]',
          'a[href^="http://hitcounter.ru/top/stat.php"]',
          'a[href^="http://top.mail.ru/jump"]',
        ],
        adGuardTurkish: [
          "#backkapat",
          "#reklami",
          'a[href^="http://adserv.ontek.com.tr/"]',
          'a[href^="http://izlenzi.com/campaign/"]',
          'a[href^="http://www.installads.net/"]',
        ],
        bulgarian: [
          "td#freenet_table_ads",
          "#newAd",
          "#ea_intext_div",
          ".lapni-pop-over",
          "#xenium_hot_offers",
        ],
        easyList: [
          "#adlabelheader",
          "#anAdScGame300x250",
          "#adTakeOverLeft",
          "#ad_LargeRec01",
          "#adundergame",
        ],
        easyListChina: [
          'a[href*=".wensixuetang.com/"]',
          'A[href*="/hth107.com/"]',
          '.appguide-wrap[onclick*="bcebos.com"]',
          ".frontpageAdvM",
          "#taotaole",
        ],
        easyListCookie: [
          "#Button_Cookie",
          "#CWCookie",
          "#CookieCon",
          "#DGPR",
          "#PnlCookie",
        ],
        easyListCzechSlovak: [
          "#onlajny-stickers",
          "#reklamni-box",
          ".reklama-megaboard",
          ".sklik",
          '[id^="sklikReklama"]',
        ],
        easyListDutch: [
          "#advertentie",
          "#vipAdmarktBannerBlock",
          ".adstekst",
          'a[href^="http://adserver.webads.nl/adclick/"]',
          "#semilo-lrectangle",
        ],
        easyListGermany: [
          "#nativendo-hometop",
          'a[href^="http://www.kontakt-vermittler.de/?wm="]',
          "#gwerbung",
          'a[href^="https://marketing.net.brillen.de/"]',
          ".werbenbox",
        ],
        easyListItaly: [
          ".box_adv_annunci",
          ".sb-box-pubbliredazionale",
          'a[href^="http://affiliazioniads.snai.it/"]',
          'a[href^="https://adserver.html.it/"]',
          'a[href^="https://affiliazioniads.snai.it/"]',
        ],
        easyListLithuania: [
          ".reklamos_tarpas",
          ".reklamos_nuorodos",
          'img[alt="Reklaminis skydelis"]',
          'img[alt="Dedikuoti.lt serveriai"]',
          'img[alt="Hostingas Serveriai.lt"]',
        ],
        estonian: ['A[href*="http://pay4results24.eu"]'],
        fanboyAnnoyances: [
          "#feedback-tab",
          "#taboola-below-article",
          ".feedburnerFeedBlock",
          ".widget-feedburner-counter",
          '[title="Subscribe to our blog"]',
        ],
        fanboyAntiFacebook: [".util-bar-module-firefly-visible"],
        fanboyEnhancedTrackers: [
          ".open.pushModal",
          "#issuem-leaky-paywall-articles-zero-remaining-nag",
          'div[style*="box-shadow: rgb(136, 136, 136) 0px 0px 12px; color: "]',
          'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',
          ".BlockNag__Card",
        ],
        fanboySocial: [
          ".td-tags-and-social-wrapper-box",
          ".twitterContainer",
          ".youtube-social",
          'a[title^="Like us on Facebook"]',
          'img[alt^="Share on Digg"]',
        ],
        frellwitSwedish: [
          'a[href*="casinopro.se"][target="_blank"]',
          'a[href*="doktor-se.onelink.me"]',
          "article.category-samarbete",
          "div.holidAds",
          "ul.adsmodern",
        ],
        greekAdBlock: [
          'A[href*="adman.otenet.gr/click?"]',
          'A[href*="http://axiabanners.exodus.gr/"]',
          'A[href*="http://interactive.forthnet.gr/click?"]',
          "DIV.agores300",
          "TABLE.advright",
        ],
        hungarian: [
          'A[href*="ad.eval.hu"]',
          'A[href*="ad.netmedia.hu"]',
          'A[href*="daserver.ultraweb.hu"]',
          "#cemp_doboz",
          ".optimonk-iframe-container",
        ],
        iDontCareAboutCookies: [
          '.alert-info[data-block-track*="CookieNotice"]',
          ".ModuleTemplateCookieIndicator",
          ".o--cookies--container",
          ".cookie-msg-info-container",
          "#cookies-policy-sticky",
        ],
        icelandicAbp: ['A[href^="/framework/resources/forms/ads.aspx"]'],
        latvian: [
          'a[href="http://www.salidzini.lv/"][style="display: block; width: 120px; height: 40px; overflow: hidden; position: relative;"]',
          'a[href="http://www.salidzini.lv/"][style="display: block; width: 88px; height: 31px; overflow: hidden; position: relative;"]',
        ],
        listKr: [
          'a[href*="//kingtoon.slnk.kr"]',
          'a[href*="//playdsb.com/kr"]',
          "div.logly-lift-adz",
          'div[data-widget_id="ml6EJ074"]',
          "ins.daum_ddn_area",
        ],
        listeAr: [
          ".geminiLB1Ad",
          ".right-and-left-sponsers",
          'a[href*=".aflam.info"]',
          'a[href*="booraq.org"]',
          'a[href*="dubizzle.com/ar/?utm_source="]',
        ],
        listeFr: [
          'a[href^="http://promo.vador.com/"]',
          "#adcontainer_recherche",
          'a[href*="weborama.fr/fcgi-bin/"]',
          ".site-pub-interstitiel",
          'div[id^="crt-"][data-criteo-id]',
        ],
        officialPolish: [
          "#ceneo-placeholder-ceneo-12",
          '[href^="https://aff.sendhub.pl/"]',
          'a[href^="http://advmanager.techfun.pl/redirect/"]',
          'a[href^="http://www.trizer.pl/?utm_source"]',
          "div#skapiec_ad",
        ],
        ro: [
          'a[href^="//afftrk.altex.ro/Counter/Click"]',
          'a[href^="/magazin/"]',
          'a[href^="https://blackfridaysales.ro/trk/shop/"]',
          'a[href^="https://event.2performant.com/events/click"]',
          'a[href^="https://l.profitshare.ro/"]',
        ],
        ruAd: [
          'a[href*="//febrare.ru/"]',
          'a[href*="//utimg.ru/"]',
          'a[href*="://chikidiki.ru"]',
          "#pgeldiz",
          ".yandex-rtb-block",
        ],
        thaiAds: [
          "a[href*=macau-uta-popup]",
          "#ads-google-middle_rectangle-group",
          ".ads300s",
          ".bumq",
          ".img-kosana",
        ],
        webAnnoyancesUltralist: [
          "#mod-social-share-2",
          "#social-tools",
          ".ctpl-fullbanner",
          ".zergnet-recommend",
          ".yt.btn-link.btn-md.btn",
        ],
      };
    function Jk(t) {
      return (
        (Jk =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Jk(t)
      );
    }
    function Xk(t, e) {
      var n =
        ("undefined" != typeof Symbol && t[Symbol.iterator]) || t["@@iterator"];
      if (!n) {
        if (
          Array.isArray(t) ||
          (n = $k(t)) ||
          (e && t && "number" == typeof t.length)
        ) {
          n && (t = n);
          var r = 0,
            o = function () {};
          return {
            s: o,
            n: function () {
              return r >= t.length ? { done: !0 } : { done: !1, value: t[r++] };
            },
            e: function (t) {
              throw t;
            },
            f: o,
          };
        }
        throw new TypeError(
          "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
        );
      }
      var i,
        a = !0,
        u = !1;
      return {
        s: function () {
          n = n.call(t);
        },
        n: function () {
          var t = n.next();
          return (a = t.done), t;
        },
        e: function (t) {
          (u = !0), (i = t);
        },
        f: function () {
          try {
            a || null == n.return || n.return();
          } finally {
            if (u) throw i;
          }
        },
      };
    }
    function Yk(t, e) {
      return (
        (function (t) {
          if (Array.isArray(t)) return t;
        })(t) ||
        (function (t, e) {
          var n =
            null == t
              ? null
              : ("undefined" != typeof Symbol && t[Symbol.iterator]) ||
                t["@@iterator"];
          if (null != n) {
            var r,
              o,
              i,
              a,
              u = [],
              s = !0,
              c = !1;
            try {
              if (((i = (n = n.call(t)).next), 0 === e)) {
                if (Object(n) !== n) return;
                s = !1;
              } else
                for (
                  ;
                  !(s = (r = i.call(n)).done) &&
                  (u.push(r.value), u.length !== e);
                  s = !0
                );
            } catch (t) {
              (c = !0), (o = t);
            } finally {
              try {
                if (
                  !s &&
                  null != n.return &&
                  ((a = n.return()), Object(a) !== a)
                )
                  return;
              } finally {
                if (c) throw o;
              }
            }
            return u;
          }
        })(t, e) ||
        $k(t, e) ||
        (function () {
          throw new TypeError(
            "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
          );
        })()
      );
    }
    function Zk(t) {
      return (
        (function (t) {
          if (Array.isArray(t)) return tT(t);
        })(t) ||
        (function (t) {
          if (
            ("undefined" != typeof Symbol && null != t[Symbol.iterator]) ||
            null != t["@@iterator"]
          )
            return Array.from(t);
        })(t) ||
        $k(t) ||
        (function () {
          throw new TypeError(
            "Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
          );
        })()
      );
    }
    function $k(t, e) {
      if (t) {
        if ("string" == typeof t) return tT(t, e);
        var n = {}.toString.call(t).slice(8, -1);
        return (
          "Object" === n && t.constructor && (n = t.constructor.name),
          "Map" === n || "Set" === n
            ? Array.from(t)
            : "Arguments" === n ||
              /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
            ? tT(t, e)
            : void 0
        );
      }
    }
    function tT(t, e) {
      (null == e || e > t.length) && (e = t.length);
      for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
      return r;
    }
    function eT() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          nT(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (nT((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), nT(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        nT(f, "constructor", c),
        nT(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        nT(c, o, "GeneratorFunction"),
        nT(f),
        nT(f, o, "Generator"),
        nT(f, r, function () {
          return this;
        }),
        nT(f, "toString", function () {
          return "[object Generator]";
        }),
        (eT = function () {
          return { w: i, m: p };
        })()
      );
    }
    function nT(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (nT = function (t, e, n, r) {
        function i(e, n) {
          nT(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        nT(t, e, n, r);
    }
    function rT(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function oT(t) {
      return function () {
        var e = this,
          n = arguments;
        return new Promise(function (r, o) {
          var i = t.apply(e, n);
          function a(t) {
            rT(i, r, o, a, u, "next", t);
          }
          function u(t) {
            rT(i, r, o, a, u, "throw", t);
          }
          a(void 0);
        });
      };
    }
    function iT(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, aT(r.key), r);
      }
    }
    function aT(t) {
      var e = (function (t, e) {
        if ("object" != Jk(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Jk(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Jk(e) ? e : e + "";
    }
    function uT(t, e, n) {
      return (
        (e = cT(e)),
        (function (t, e) {
          if (e && ("object" == Jk(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          sT()
            ? Reflect.construct(e, n || [], cT(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function sT() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (sT = function () {
        return !!t;
      })();
    }
    function cT(t) {
      return (
        (cT = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        cT(t)
      );
    }
    function lT(t, e) {
      return (
        (lT = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        lT(t, e)
      );
    }
    var fT = {
        configKey: "isAdblockerListsFeature",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !0,
        shouldRun: !1,
        isFrameRelated: !1,
        runInUns: !1,
        runInSlave: !1,
        runInLean: !1,
        isRunning: !1,
        instance: null,
      },
      pT = (function (t) {
        function e(t) {
          var n,
            r =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : {};
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((n = uT(this, e))._dataQueue = t),
            (n.debug = r.debug || !1),
            n
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && lT(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && iT(t.prototype, e),
              n && iT(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value:
                  ((o = oT(
                    eT().m(function t() {
                      var e, n;
                      return eT().w(
                        function (t) {
                          for (;;)
                            switch ((t.p = t.n)) {
                              case 0:
                                return (
                                  _t.debug(
                                    "Starting ad blocker lists detection"
                                  ),
                                  (t.p = 1),
                                  (t.n = 2),
                                  this.detectActiveAdblockLists()
                                );
                              case 2:
                                (e = t.v), this._sendData([e]), (t.n = 4);
                                break;
                              case 3:
                                (t.p = 3),
                                  (n = t.v),
                                  _t.error(
                                    "Error detecting ad blocker lists:",
                                    n
                                  );
                              case 4:
                                return t.a(2);
                            }
                        },
                        t,
                        this,
                        [[1, 3]]
                      );
                    })
                  )),
                  function () {
                    return o.apply(this, arguments);
                  }),
              },
              { key: "stopFeature", value: function () {} },
              {
                key: "canRunDetection",
                value: function () {
                  return !0;
                },
              },
              {
                key: "_sendData",
                value: function (t) {
                  this._dataQueue.addToQueue(
                    "static_fields",
                    ["adblock_lists", t],
                    !1
                  );
                },
              },
              {
                key: "detectActiveAdblockLists",
                value:
                  ((r = oT(
                    eT().m(function t() {
                      var e, n, r, o, i, a, u, s, c, l, f, p, h, d, y;
                      return eT().w(
                        function (t) {
                          for (;;)
                            switch ((t.p = t.n)) {
                              case 0:
                                return (
                                  (t.p = 0),
                                  (n = (e = []).concat.apply(
                                    e,
                                    Zk(Object.values(qk))
                                  )),
                                  (t.n = 1),
                                  this.getBlockedSelectors(n)
                                );
                              case 1:
                                for (
                                  r = t.v,
                                    o = [],
                                    i = 0,
                                    a = Object.entries(qk);
                                  i < a.length;
                                  i++
                                ) {
                                  (u = Yk(a[i], 2)),
                                    (s = u[0]),
                                    (c = u[1]),
                                    (l = 0),
                                    (f = Xk(c));
                                  try {
                                    for (f.s(); !(p = f.n()).done; )
                                      (h = p.value),
                                        r.has(h)
                                          ? (l++,
                                            _t.trace(
                                              'Selector "'
                                                .concat(
                                                  h,
                                                  '" is blocked for filter "'
                                                )
                                                .concat(s, '".')
                                            ))
                                          : _t.trace(
                                              'Selector "'
                                                .concat(
                                                  h,
                                                  '" is not blocked for filter "'
                                                )
                                                .concat(s, '".')
                                            );
                                  } catch (t) {
                                    f.e(t);
                                  } finally {
                                    f.f();
                                  }
                                  l >= 2 &&
                                    (o.push(s),
                                    _t.trace(
                                      'Filter "'.concat(
                                        s,
                                        '" is considered active.'
                                      )
                                    ));
                                }
                                return (
                                  (d = o.sort()),
                                  _t.debug("Active ad blocker lists: " + d),
                                  t.a(2, d)
                                );
                              case 2:
                                return (
                                  (t.p = 2),
                                  (y = t.v),
                                  _t.error(
                                    "Error in detectActiveAdblockLists:",
                                    y
                                  ),
                                  t.a(2, [])
                                );
                            }
                        },
                        t,
                        this,
                        [[0, 2]]
                      );
                    })
                  )),
                  function () {
                    return r.apply(this, arguments);
                  }),
              },
              {
                key: "getBlockedSelectors",
                value:
                  ((n = oT(
                    eT().m(function t(e) {
                      var n, r, o, i, a, u, s, c, l, f, p;
                      return eT().w(
                        function (t) {
                          for (;;)
                            switch ((t.p = t.n)) {
                              case 0:
                                for (
                                  (n =
                                    document.createElement(
                                      "iframe"
                                    )).style.position = "absolute",
                                    n.style.width = "0",
                                    n.style.height = "0",
                                    n.style.opacity = "0",
                                    document.body.appendChild(n),
                                    t.p = 1,
                                    (r =
                                      n.contentDocument ||
                                      n.contentWindow.document).body ||
                                      ((o = r.createElement("body")),
                                      r.documentElement.appendChild(o)),
                                    i = r.createElement("div"),
                                    a = new Array(e.length),
                                    u = new Set(),
                                    s = 0;
                                  s < e.length;
                                  s++
                                )
                                  (c = this.selectorToElement(e[s], r)),
                                    (l = r.createElement("div")).appendChild(c),
                                    i.appendChild(l),
                                    (a[s] = c);
                                return (
                                  r.body.appendChild(i),
                                  (t.n = 2),
                                  new Promise(function (t) {
                                    return setTimeout(t, 200);
                                  })
                                );
                              case 2:
                                for (f = 0; f < e.length; f++)
                                  a[f].offsetParent || u.add(e[f]);
                                return t.a(2, u);
                              case 3:
                                return (
                                  (t.p = 3),
                                  (p = t.v),
                                  _t.error("Error in getBlockedSelectors:", p),
                                  t.a(2, new Set())
                                );
                              case 4:
                                return (
                                  (t.p = 4),
                                  n.parentNode && n.parentNode.removeChild(n),
                                  t.f(4)
                                );
                              case 5:
                                return t.a(2);
                            }
                        },
                        t,
                        this,
                        [[1, 3, 4, 5]]
                      );
                    })
                  )),
                  function (t) {
                    return n.apply(this, arguments);
                  }),
              },
              {
                key: "selectorToElement",
                value: function (t) {
                  var e =
                      arguments.length > 1 && void 0 !== arguments[1]
                        ? arguments[1]
                        : document,
                    n = Yk(this.parseSimpleCssSelector(t), 2),
                    r = n[0],
                    o = n[1],
                    i = e.createElement(r || "div");
                  for (var a in o)
                    o.hasOwnProperty(a) && i.setAttribute(a, o[a].join(" "));
                  return i;
                },
              },
              {
                key: "parseSimpleCssSelector",
                value: function (t) {
                  var e = /^\s*([a-z-]*)(.*)$/i.exec(t);
                  if (!e) {
                    var n = "Unexpected syntax '".concat(t, "'");
                    throw new Error(n);
                  }
                  for (
                    var r,
                      o = e[1] || void 0,
                      i = {},
                      a = /([.:#][\w-]+|\[.+?\])/gi,
                      u = function (t, e) {
                        i[t] || (i[t] = []), i[t].push(e);
                      };
                    null !== (r = a.exec(e[2]));

                  ) {
                    var s = r[0];
                    switch (s[0]) {
                      case ".":
                        u("class", s.slice(1));
                        break;
                      case "#":
                        u("id", s.slice(1));
                        break;
                      case "[":
                        var c =
                          /^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(
                            s
                          );
                        if (!c) throw new Error(errorMessage);
                        u(c[1], c[4] || c[5] || "");
                        break;
                      default:
                        throw new Error(errorMessage);
                    }
                  }
                  return [o, i];
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return fT;
                },
              },
            ]
          )
        );
        var n, r, o;
      })(uo);
    function hT(t, e) {
      var n = t[0] >>> 16,
        r = 65535 & t[0],
        o = t[1] >>> 16,
        i = 65535 & t[1],
        a = e[0] >>> 16,
        u = 65535 & e[0],
        s = e[1] >>> 16,
        c = 0,
        l = 0,
        f = 0,
        p = 0;
      (f += (p += i + (65535 & e[1])) >>> 16),
        (p &= 65535),
        (l += (f += o + s) >>> 16),
        (f &= 65535),
        (c += (l += r + u) >>> 16),
        (l &= 65535),
        (c += n + a),
        (c &= 65535),
        (t[0] = (c << 16) | l),
        (t[1] = (f << 16) | p);
    }
    function dT(t, e) {
      var n = t[0] >>> 16,
        r = 65535 & t[0],
        o = t[1] >>> 16,
        i = 65535 & t[1],
        a = e[0] >>> 16,
        u = 65535 & e[0],
        s = e[1] >>> 16,
        c = 65535 & e[1],
        l = 0,
        f = 0,
        p = 0,
        h = 0;
      (p += (h += i * c) >>> 16),
        (h &= 65535),
        (f += (p += o * c) >>> 16),
        (p &= 65535),
        (f += (p += i * s) >>> 16),
        (p &= 65535),
        (l += (f += r * c) >>> 16),
        (f &= 65535),
        (l += (f += o * s) >>> 16),
        (f &= 65535),
        (l += (f += i * u) >>> 16),
        (f &= 65535),
        (l += n * c + r * s + o * u + i * a),
        (l &= 65535),
        (t[0] = (l << 16) | f),
        (t[1] = (p << 16) | h);
    }
    function yT(t, e) {
      var n = t[0];
      32 === (e %= 64)
        ? ((t[0] = t[1]), (t[1] = n))
        : e < 32
        ? ((t[0] = (n << e) | (t[1] >>> (32 - e))),
          (t[1] = (t[1] << e) | (n >>> (32 - e))))
        : ((e -= 32),
          (t[0] = (t[1] << e) | (n >>> (32 - e))),
          (t[1] = (n << e) | (t[1] >>> (32 - e))));
    }
    function mT(t, e) {
      0 !== (e %= 64) &&
        (e < 32
          ? ((t[0] = t[1] >>> (32 - e)), (t[1] = t[1] << e))
          : ((t[0] = t[1] << (e - 32)), (t[1] = 0)));
    }
    function vT(t, e) {
      (t[0] ^= e[0]), (t[1] ^= e[1]);
    }
    var bT = [4283543511, 3981806797],
      gT = [3301882366, 444984403];
    function _T(t) {
      var e = [0, t[0] >>> 1];
      vT(t, e),
        dT(t, bT),
        (e[1] = t[0] >>> 1),
        vT(t, e),
        dT(t, gT),
        (e[1] = t[0] >>> 1),
        vT(t, e);
    }
    var wT = [2277735313, 289559509],
      ST = [1291169091, 658871167],
      ET = [0, 5],
      kT = [0, 1390208809],
      TT = [0, 944331445];
    function PT(t, e) {
      var n = (function (t) {
        for (var e = new Uint8Array(t.length), n = 0; n < t.length; n++) {
          var r = t.charCodeAt(n);
          if (r > 127) return new TextEncoder().encode(t);
          e[n] = r;
        }
        return e;
      })(t);
      e = e || 0;
      var r,
        o = [0, n.length],
        i = o[1] % 16,
        a = o[1] - i,
        u = [0, e],
        s = [0, e],
        c = [0, 0],
        l = [0, 0];
      for (r = 0; r < a; r += 16)
        (c[0] =
          n[r + 4] | (n[r + 5] << 8) | (n[r + 6] << 16) | (n[r + 7] << 24)),
          (c[1] = n[r] | (n[r + 1] << 8) | (n[r + 2] << 16) | (n[r + 3] << 24)),
          (l[0] =
            n[r + 12] |
            (n[r + 13] << 8) |
            (n[r + 14] << 16) |
            (n[r + 15] << 24)),
          (l[1] =
            n[r + 8] | (n[r + 9] << 8) | (n[r + 10] << 16) | (n[r + 11] << 24)),
          dT(c, wT),
          yT(c, 31),
          dT(c, ST),
          vT(u, c),
          yT(u, 27),
          hT(u, s),
          dT(u, ET),
          hT(u, kT),
          dT(l, ST),
          yT(l, 33),
          dT(l, wT),
          vT(s, l),
          yT(s, 31),
          hT(s, u),
          dT(s, ET),
          hT(s, TT);
      (c[0] = 0), (c[1] = 0), (l[0] = 0), (l[1] = 0);
      var f = [0, 0];
      switch (i) {
        case 15:
          (f[1] = n[r + 14]), mT(f, 48), vT(l, f);
        case 14:
          (f[1] = n[r + 13]), mT(f, 40), vT(l, f);
        case 13:
          (f[1] = n[r + 12]), mT(f, 32), vT(l, f);
        case 12:
          (f[1] = n[r + 11]), mT(f, 24), vT(l, f);
        case 11:
          (f[1] = n[r + 10]), mT(f, 16), vT(l, f);
        case 10:
          (f[1] = n[r + 9]), mT(f, 8), vT(l, f);
        case 9:
          (f[1] = n[r + 8]),
            vT(l, f),
            dT(l, ST),
            yT(l, 33),
            dT(l, wT),
            vT(s, l);
        case 8:
          (f[1] = n[r + 7]), mT(f, 56), vT(c, f);
        case 7:
          (f[1] = n[r + 6]), mT(f, 48), vT(c, f);
        case 6:
          (f[1] = n[r + 5]), mT(f, 40), vT(c, f);
        case 5:
          (f[1] = n[r + 4]), mT(f, 32), vT(c, f);
        case 4:
          (f[1] = n[r + 3]), mT(f, 24), vT(c, f);
        case 3:
          (f[1] = n[r + 2]), mT(f, 16), vT(c, f);
        case 2:
          (f[1] = n[r + 1]), mT(f, 8), vT(c, f);
        case 1:
          (f[1] = n[r]), vT(c, f), dT(c, wT), yT(c, 31), dT(c, ST), vT(u, c);
      }
      return (
        vT(u, o),
        vT(s, o),
        hT(u, s),
        hT(s, u),
        _T(u),
        _T(s),
        hT(u, s),
        hT(s, u),
        ("00000000" + (u[0] >>> 0).toString(16)).slice(-8) +
          ("00000000" + (u[1] >>> 0).toString(16)).slice(-8) +
          ("00000000" + (s[0] >>> 0).toString(16)).slice(-8) +
          ("00000000" + (s[1] >>> 0).toString(16)).slice(-8)
      );
    }
    function OT(t) {
      return (
        (OT =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        OT(t)
      );
    }
    function CT(t, e, n) {
      return (
        (e = MT(e)),
        (function (t, e) {
          if (e && ("object" == OT(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          jT()
            ? Reflect.construct(e, n || [], MT(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function jT() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (jT = function () {
        return !!t;
      })();
    }
    function MT(t) {
      return (
        (MT = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        MT(t)
      );
    }
    function RT(t, e) {
      return (
        (RT = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        RT(t, e)
      );
    }
    function BT() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          AT(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (AT((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), AT(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        AT(f, "constructor", c),
        AT(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        AT(c, o, "GeneratorFunction"),
        AT(f),
        AT(f, o, "Generator"),
        AT(f, r, function () {
          return this;
        }),
        AT(f, "toString", function () {
          return "[object Generator]";
        }),
        (BT = function () {
          return { w: i, m: p };
        })()
      );
    }
    function AT(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (AT = function (t, e, n, r) {
        function i(e, n) {
          AT(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        AT(t, e, n, r);
    }
    function xT(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function DT(t) {
      return function () {
        var e = this,
          n = arguments;
        return new Promise(function (r, o) {
          var i = t.apply(e, n);
          function a(t) {
            xT(i, r, o, a, u, "next", t);
          }
          function u(t) {
            xT(i, r, o, a, u, "throw", t);
          }
          a(void 0);
        });
      };
    }
    function LT(t, e) {
      if (!(t instanceof e))
        throw new TypeError("Cannot call a class as a function");
    }
    function NT(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, FT(r.key), r);
      }
    }
    function IT(t, e, n) {
      return (
        e && NT(t.prototype, e),
        n && NT(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
    }
    function FT(t) {
      var e = (function (t, e) {
        if ("object" != OT(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != OT(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == OT(e) ? e : e + "";
    }
    var UT = (function () {
        return IT(
          function t() {
            LT(this, t),
              (this.contextNames = [
                "webgl2",
                "experimental-webgl2",
                "webgl",
                "experimental-webgl",
                "moz-webgl",
                "webkit-3d",
                "webgl2-compute",
              ]),
              (this.data = {}),
              (this.availableContexts = []),
              (this._hashCache = { json: null, image: null }),
              (this._initialized = !1);
          },
          [
            {
              key: "start",
              value:
                ((n = DT(
                  BT().m(function t() {
                    var e;
                    return BT().w(
                      function (t) {
                        for (;;)
                          switch ((t.p = t.n)) {
                            case 0:
                              if (!this._initialized) {
                                t.n = 1;
                                break;
                              }
                              return t.a(2);
                            case 1:
                              return (
                                (t.p = 1), (t.n = 2), this._initializeContexts()
                              );
                            case 2:
                              this._computeHashes(),
                                (this._initialized = !0),
                                (t.n = 4);
                              break;
                            case 3:
                              throw (
                                ((t.p = 3),
                                (e = t.v),
                                _t.debug(
                                  "Error during WebGL fingerprinting:",
                                  e
                                ),
                                e)
                              );
                            case 4:
                              return t.a(2);
                          }
                      },
                      t,
                      this,
                      [[1, 3]]
                    );
                  })
                )),
                function () {
                  return n.apply(this, arguments);
                }),
            },
            {
              key: "_initializeContexts",
              value:
                ((e = DT(
                  BT().m(function t() {
                    var e,
                      n = this;
                    return BT().w(
                      function (t) {
                        for (;;)
                          switch (t.n) {
                            case 0:
                              return (
                                (e = this.contextNames.map(
                                  (function () {
                                    var t = DT(
                                      BT().m(function t(e) {
                                        var r, o;
                                        return BT().w(
                                          function (t) {
                                            for (;;)
                                              switch ((t.p = t.n)) {
                                                case 0:
                                                  return (
                                                    (t.p = 0),
                                                    (t.n = 1),
                                                    n.getContextData(e)
                                                  );
                                                case 1:
                                                  (r = t.v) &&
                                                    (n.availableContexts.push(
                                                      e
                                                    ),
                                                    (n.data[e] = r)),
                                                    (t.n = 3);
                                                  break;
                                                case 2:
                                                  (t.p = 2),
                                                    (o = t.v),
                                                    _t.debug(
                                                      "Error retrieving context data for ".concat(
                                                        e,
                                                        ":"
                                                      ),
                                                      o
                                                    );
                                                case 3:
                                                  return t.a(2);
                                              }
                                          },
                                          t,
                                          null,
                                          [[0, 2]]
                                        );
                                      })
                                    );
                                    return function (e) {
                                      return t.apply(this, arguments);
                                    };
                                  })()
                                )),
                                (t.n = 1),
                                Promise.all(e)
                              );
                            case 1:
                              _t.debug("WebGL fingerprint data:", this.data);
                            case 2:
                              return t.a(2);
                          }
                      },
                      t,
                      this
                    );
                  })
                )),
                function () {
                  return e.apply(this, arguments);
                }),
            },
            {
              key: "_computeHashes",
              value: function () {
                (this.jsonString = JSON.stringify(this.data)),
                  (this._hashCache.json = PT(this.jsonString)),
                  (this._hashCache.image =
                    this.availableContexts.length > 0
                      ? this.computeImageHash()
                      : null);
              },
            },
            {
              key: "jsonHash",
              get: function () {
                return this._hashCache.json;
              },
            },
            {
              key: "imageHash",
              get: function () {
                return this._hashCache.image;
              },
            },
            {
              key: "getContextData",
              value:
                ((t = DT(
                  BT().m(function t(e) {
                    var n = this;
                    return BT().w(function (t) {
                      for (;;)
                        if (0 === t.n)
                          return t.a(
                            2,
                            new Promise(function (t) {
                              try {
                                var r,
                                  o = document.createElement("canvas");
                                (o.width = 256),
                                  (o.height = 128),
                                  (o.style =
                                    null !== (r = o.style) && void 0 !== r
                                      ? r
                                      : {}),
                                  (o.style.backgroundColor = "#555"),
                                  (o.style.borderRadius = "4px");
                                var i = o.getContext(e);
                                if (!i) return void t(null);
                                var a = {},
                                  u = i.getContextAttributes();
                                u &&
                                  Object.keys(u).length > 0 &&
                                  (a.contextAttributes = u),
                                  (a.drawingBufferColorSpace =
                                    i.drawingBufferColorSpace),
                                  (a.unpackColorSpace = i.unpackColorSpace);
                                var s = i.getExtension(
                                  "WEBGL_debug_renderer_info"
                                );
                                s &&
                                  ((a.UNMASKED_RENDERER_WEBGL = i.getParameter(
                                    s.UNMASKED_RENDERER_WEBGL
                                  )),
                                  (a.UNMASKED_VENDOR_WEBGL = i.getParameter(
                                    s.UNMASKED_VENDOR_WEBGL
                                  ))),
                                  (a.VERTEX_SHADER_PRECISION =
                                    n.getShaderPrecision(i, i.VERTEX_SHADER)),
                                  (a.FRAGMENT_SHADER_PRECISION =
                                    n.getShaderPrecision(i, i.FRAGMENT_SHADER));
                                var c = i.getExtension("WEBGL_draw_buffers");
                                a.MAX_DRAW_BUFFERS_WEBGL = c
                                  ? i.getParameter(c.MAX_DRAW_BUFFERS_WEBGL)
                                  : null;
                                var l =
                                  i.getExtension(
                                    "EXT_texture_filter_anisotropic"
                                  ) ||
                                  i.getExtension(
                                    "WEBKIT_EXT_texture_filter_anisotropic"
                                  ) ||
                                  i.getExtension(
                                    "MOZ_EXT_texture_filter_anisotropic"
                                  );
                                (a.MAX_TEXTURE_MAX_ANISOTROPY_EXT = l
                                  ? i.getParameter(
                                      l.MAX_TEXTURE_MAX_ANISOTROPY_EXT
                                    )
                                  : null),
                                  (a.MAX_TEXTURE_IMAGE_UNITS = i.getParameter(
                                    i.MAX_TEXTURE_IMAGE_UNITS
                                  )),
                                  (a.MAX_VERTEX_TEXTURE_IMAGE_UNITS =
                                    i.getParameter(
                                      i.MAX_VERTEX_TEXTURE_IMAGE_UNITS
                                    )),
                                  (a.MAX_COMBINED_TEXTURE_IMAGE_UNITS =
                                    i.getParameter(
                                      i.MAX_COMBINED_TEXTURE_IMAGE_UNITS
                                    )),
                                  (a.ALIASED_LINE_WIDTH_RANGE = i.getParameter(
                                    i.ALIASED_LINE_WIDTH_RANGE
                                  )),
                                  (a.ALIASED_POINT_SIZE_RANGE = i.getParameter(
                                    i.ALIASED_POINT_SIZE_RANGE
                                  )),
                                  (a.SAMPLES = i.getParameter(i.SAMPLES)),
                                  (a.RENDERER = i.getParameter(i.RENDERER)),
                                  (a.VENDOR = i.getParameter(i.VENDOR)),
                                  (a.VERSION = i.getParameter(i.VERSION)),
                                  (a.SHADING_LANGUAGE_VERSION = i.getParameter(
                                    i.SHADING_LANGUAGE_VERSION
                                  )),
                                  (a.MAX_CUBE_MAP_TEXTURE_SIZE = i.getParameter(
                                    i.MAX_CUBE_MAP_TEXTURE_SIZE
                                  )),
                                  (a.MAX_TEXTURE_SIZE = i.getParameter(
                                    i.MAX_TEXTURE_SIZE
                                  )),
                                  (a.MAX_RENDERBUFFER_SIZE = i.getParameter(
                                    i.MAX_RENDERBUFFER_SIZE
                                  )),
                                  (a.DEPTH_BITS = i.getParameter(i.DEPTH_BITS)),
                                  (a.STENCIL_BITS = i.getParameter(
                                    i.STENCIL_BITS
                                  )),
                                  (a.MAX_VERTEX_ATTRIBS = i.getParameter(
                                    i.MAX_VERTEX_ATTRIBS
                                  )),
                                  (a.MAX_VIEWPORT_DIMS = i.getParameter(
                                    i.MAX_VIEWPORT_DIMS
                                  )),
                                  (a.MAX_FRAGMENT_UNIFORM_VECTORS =
                                    i.getParameter(
                                      i.MAX_FRAGMENT_UNIFORM_VECTORS
                                    )),
                                  (a.MAX_VERTEX_UNIFORM_VECTORS =
                                    i.getParameter(
                                      i.MAX_VERTEX_UNIFORM_VECTORS
                                    ));
                                var f = i.getSupportedExtensions();
                                (a.extensions = f ? f.sort() : []), t(a);
                              } catch (n) {
                                _t.debug(
                                  "Error in getContextData for ".concat(e, ":"),
                                  n
                                ),
                                  t(null);
                              }
                            })
                          );
                    }, t);
                  })
                )),
                function (e) {
                  return t.apply(this, arguments);
                }),
            },
            {
              key: "getShaderPrecision",
              value: function (t, e) {
                try {
                  var n = t.getShaderPrecisionFormat(e, t.HIGH_FLOAT),
                    r = t.getShaderPrecisionFormat(e, t.MEDIUM_FLOAT),
                    o = 0 !== n.precision ? n : r;
                  return {
                    rangeMin: o.rangeMin,
                    rangeMax: o.rangeMax,
                    precision: o.precision,
                  };
                } catch (t) {
                  return null;
                }
              },
            },
            {
              key: "computeImageHash",
              value: function () {
                if (0 === this.availableContexts.length) return null;
                var t = this.availableContexts[0],
                  e = document.createElement("canvas");
                (e.width = 512), (e.height = 256);
                var n = e.getContext(t);
                if (!n) return null;
                var r = {
                  program: null,
                  vertexShader: null,
                  fragmentShader: null,
                  buffer: null,
                };
                try {
                  n.viewport(0, 0, e.width, e.height);
                  var o = function (t, e) {
                      var r = n.createShader(t);
                      return (
                        n.shaderSource(r, e),
                        n.compileShader(r),
                        n.getShaderParameter(r, n.COMPILE_STATUS) ||
                          _t.debug(
                            (t === n.VERTEX_SHADER ? "Vertex" : "Fragment") +
                              " shader error:",
                            n.getShaderInfoLog(r)
                          ),
                        r
                      );
                    },
                    i = n.createProgram();
                  r.program = i;
                  var a = o(
                    n.VERTEX_SHADER,
                    "\n        attribute vec2 attrVertex;\n        attribute vec4 attrColor;\n        varying vec4 varyinColor;\n        uniform mat4 transform;\n        void main(){\n          varyinColor = attrColor;\n          gl_Position = transform * vec4(attrVertex, 0.0, 1.0);\n        }\n      "
                  );
                  r.vertexShader = a;
                  var u = o(
                    n.FRAGMENT_SHADER,
                    "\n        precision mediump float;\n        varying vec4 varyinColor;\n        void main(){\n          gl_FragColor = varyinColor;\n        }\n      "
                  );
                  (r.fragmentShader = u),
                    n.attachShader(i, a),
                    n.attachShader(i, u),
                    n.linkProgram(i),
                    n.getProgramParameter(i, n.LINK_STATUS) ||
                      _t.debug("Program link error:", n.getProgramInfoLog(i)),
                    n.useProgram(i);
                  var s = n.getAttribLocation(i, "attrVertex"),
                    c = n.getAttribLocation(i, "attrColor"),
                    l = n.getUniformLocation(i, "transform");
                  n.enableVertexAttribArray(s),
                    n.enableVertexAttribArray(c),
                    n.uniformMatrix4fv(
                      l,
                      !1,
                      new Float32Array([
                        1.5, 0, 0, 0, 0, 1.5, 0, 0, 0, 0, 1, 0, 0.5, 0, 0, 1,
                      ])
                    );
                  var f = [-0.25, 0],
                    p = 128,
                    h = [];
                  h.push(f[0], f[1], 1, 0.7, 0, 1);
                  for (var d = 0; d < p; d++) {
                    var y = ((45 + (d / p) * 270) / 360) * 2 * Math.PI,
                      m = ((45 + ((d + 1) / p) * 270) / 360) * 2 * Math.PI;
                    h.push(
                      f[0] + 0.5 * Math.cos(y),
                      f[1] + 0.5 * Math.sin(y),
                      2,
                      1 - d / p,
                      0,
                      1
                    ),
                      h.push(
                        f[0] + 0.5 * Math.cos(m),
                        f[1] + 0.5 * Math.sin(m),
                        1,
                        1 - (d + 1) / p,
                        0,
                        1
                      );
                  }
                  var v = [
                      0.2, 0.2, 0.8, 0.2, 0.2, 1, 0.8, 0.2, 0.2, 0.8, 0.8, 1,
                      0.2, 0.8, 0.5, 0.5, 0.2, 1, 0.8, 0.2, 0.2, 0.8, 0.8, 1,
                      0.8, 0.8, 0.8, 0.8, 0.8, 1, 0.2, 0.8, 0.5, 0.5, 0.2, 1,
                    ],
                    b = new Float32Array([].concat(h, v)),
                    g = n.createBuffer();
                  (r.buffer = g),
                    n.bindBuffer(n.ARRAY_BUFFER, g),
                    n.bufferData(n.ARRAY_BUFFER, b, n.STATIC_DRAW),
                    n.vertexAttribPointer(s, 2, n.FLOAT, !1, 24, 0),
                    n.vertexAttribPointer(c, 4, n.FLOAT, !1, 24, 8),
                    n.clearColor(0, 0, 0, 0),
                    n.clear(n.COLOR_BUFFER_BIT);
                  var _ = h.length / 6;
                  n.drawArrays(n.LINE_STRIP, 0, _);
                  var w = v.length / 6;
                  n.drawArrays(n.TRIANGLES, _, w);
                  var S = new Uint8Array(e.width * e.height * 4);
                  try {
                    n.readPixels(
                      0,
                      0,
                      e.width,
                      e.height,
                      n.RGBA,
                      n.UNSIGNED_BYTE,
                      S
                    );
                  } catch (t) {
                    return "gl.readPixels: " + t;
                  }
                  var E = (function (t) {
                    for (
                      var e = "",
                        n = new Uint8Array(t),
                        r = n.byteLength,
                        o = 0;
                      o < r;
                      o++
                    )
                      e += String.fromCharCode(n[o]);
                    return btoa(e);
                  })(S.buffer);
                  return PT(
                    E +
                      (n.getParameter(n.VENDOR) || "") +
                      (n.getParameter(n.RENDERER) || "") +
                      (n.getSupportedExtensions() || []).join(",")
                  );
                } catch (t) {
                  return _t.debug("Error computing WebGL image hash:", t), null;
                } finally {
                  this._cleanupWebGLResources(n, r);
                }
              },
            },
            {
              key: "_cleanupWebGLResources",
              value: function (t, e) {
                if (t)
                  try {
                    e.vertexShader && t.deleteShader(e.vertexShader),
                      e.fragmentShader && t.deleteShader(e.fragmentShader),
                      e.program && t.deleteProgram(e.program),
                      e.buffer && t.deleteBuffer(e.buffer);
                  } catch (t) {
                    _t.debug("Error cleaning up WebGL resources:", t);
                  }
              },
            },
          ]
        );
        var t, e, n;
      })(),
      WT = {
        configKey: "isWebglFeature",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !0,
        shouldRun: !1,
        isFrameRelated: !1,
        runInUns: !1,
        runInSlave: !0,
        runInLean: !1,
        isRunning: !1,
        instance: null,
      },
      GT = (function (t) {
        function e(t) {
          var n;
          return LT(this, e), ((n = CT(this, e))._dataQ = t), n;
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && RT(t, e);
          })(e, t),
          IT(
            e,
            [
              {
                key: "startFeature",
                value:
                  ((n = DT(
                    BT().m(function t() {
                      var e, n;
                      return BT().w(
                        function (t) {
                          for (;;)
                            switch ((t.p = t.n)) {
                              case 0:
                                return (
                                  (e = new UT()),
                                  (t.p = 1),
                                  (t.n = 2),
                                  e.start()
                                );
                              case 2:
                                _t.debug("WebGL JSON Hash:" + e.jsonHash),
                                  _t.debug("WebGL Image Hash:" + e.imageHash),
                                  this._dataQ.addToQueue(
                                    "static_fields",
                                    ["webgl", [e.jsonHash, e.imageHash]],
                                    !1
                                  ),
                                  (t.n = 4);
                                break;
                              case 3:
                                (t.p = 3),
                                  (n = t.v),
                                  _t.debug("Error in WebGL fingerprinting:", n);
                              case 4:
                                return t.a(2);
                            }
                        },
                        t,
                        this,
                        [[1, 3]]
                      );
                    })
                  )),
                  function () {
                    return n.apply(this, arguments);
                  }),
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return WT;
                },
              },
            ]
          )
        );
        var n;
      })(uo);
    function HT(t) {
      return (
        (HT =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        HT(t)
      );
    }
    function QT() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          zT(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (zT((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), zT(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        zT(f, "constructor", c),
        zT(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        zT(c, o, "GeneratorFunction"),
        zT(f),
        zT(f, o, "Generator"),
        zT(f, r, function () {
          return this;
        }),
        zT(f, "toString", function () {
          return "[object Generator]";
        }),
        (QT = function () {
          return { w: i, m: p };
        })()
      );
    }
    function zT(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (zT = function (t, e, n, r) {
        function i(e, n) {
          zT(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        zT(t, e, n, r);
    }
    function VT(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function KT(t) {
      return function () {
        var e = this,
          n = arguments;
        return new Promise(function (r, o) {
          var i = t.apply(e, n);
          function a(t) {
            VT(i, r, o, a, u, "next", t);
          }
          function u(t) {
            VT(i, r, o, a, u, "throw", t);
          }
          a(void 0);
        });
      };
    }
    function qT(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, JT(r.key), r);
      }
    }
    function JT(t) {
      var e = (function (t, e) {
        if ("object" != HT(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != HT(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == HT(e) ? e : e + "";
    }
    function XT(t, e, n) {
      return (
        (e = ZT(e)),
        (function (t, e) {
          if (e && ("object" == HT(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          YT()
            ? Reflect.construct(e, n || [], ZT(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function YT() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (YT = function () {
        return !!t;
      })();
    }
    function ZT(t) {
      return (
        (ZT = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        ZT(t)
      );
    }
    function $T(t, e) {
      return (
        ($T = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        $T(t, e)
      );
    }
    var tP = (function (t) {
        function e(t) {
          var n;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((n = XT(this, e))._dataQ = t),
            (n.peer = null),
            (n.timeoutId = null),
            n
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && $T(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && qT(t.prototype, e),
              n && qT(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value:
                  ((r = KT(
                    QT().m(function t() {
                      var e, n;
                      return QT().w(
                        function (t) {
                          for (;;)
                            switch ((t.p = t.n)) {
                              case 0:
                                return (
                                  _t.info("Starting WebRTCDataCollector"),
                                  (t.p = 1),
                                  (t.n = 2),
                                  this.gatherIceCandidates()
                                );
                              case 2:
                                (e = t.v), this.sendData(e), (t.n = 4);
                                break;
                              case 3:
                                (t.p = 3),
                                  (n = t.v),
                                  _t.error("WebRTCDataCollector failed:", n),
                                  this.sendData([]);
                              case 4:
                                return (t.p = 4), this.cleanup(), t.f(4);
                              case 5:
                                return t.a(2);
                            }
                        },
                        t,
                        this,
                        [[1, 3, 4, 5]]
                      );
                    })
                  )),
                  function () {
                    return r.apply(this, arguments);
                  }),
              },
              {
                key: "gatherIceCandidates",
                value:
                  ((n = KT(
                    QT().m(function t() {
                      var e = this;
                      return QT().w(function (t) {
                        for (;;)
                          if (0 === t.n)
                            return t.a(
                              2,
                              new Promise(function (t) {
                                var n = [],
                                  r = !1;
                                (e.peer = new RTCPeerConnection({
                                  iceServers: [
                                    {
                                      urls: "stun:stunserver.stunprotocol.org",
                                    },
                                    { urls: "stun:stun.l.google.com:19302" },
                                  ],
                                })),
                                  (e.peer.onicecandidate = function (e) {
                                    if (e.candidate) {
                                      var o = e.candidate;
                                      n.push({
                                        address: String(o.address),
                                        port: String(o.port),
                                        tcpType: String(o.tcpType),
                                        type: String(o.type),
                                        protocol: String(o.protocol),
                                        url: String(o.url),
                                        relatedAddress: String(
                                          o.relatedAddress
                                        ),
                                        relatedPort: String(o.relatedPort),
                                        candidate: String(o.candidate),
                                        sdpMid: String(o.sdpMid),
                                        sdpMLineIndex: String(o.sdpMLineIndex),
                                      }),
                                        _t.debug(
                                          "ICE candidate found: "
                                            .concat(o.type, " ")
                                            .concat(o.protocol, " ")
                                            .concat(o.address, ":")
                                            .concat(o.port)
                                        );
                                    } else
                                      _t.debug(
                                        "ICE candidate gathering complete - no more candidates"
                                      ),
                                        (r = !0),
                                        t(n);
                                  }),
                                  (e.peer.onicecandidateerror = function (t) {
                                    _t.warn(
                                      "ICE candidate error:",
                                      t.errorText,
                                      t.errorCode
                                    );
                                  }),
                                  (e.peer.onicegatheringstatechange =
                                    function () {
                                      var o, i;
                                      _t.debug(
                                        "ICE gathering state changed:",
                                        null === (o = e.peer) || void 0 === o
                                          ? void 0
                                          : o.iceGatheringState
                                      ),
                                        "complete" ===
                                          (null === (i = e.peer) || void 0 === i
                                            ? void 0
                                            : i.iceGatheringState) &&
                                          ((r = !0), t(n));
                                    }),
                                  (e.timeoutId = setTimeout(function () {
                                    r ||
                                      (_t.warn(
                                        "ICE candidate gathering timed out after 900ms"
                                      ),
                                      t(n));
                                  }, 900)),
                                  e.peer.createDataChannel("data"),
                                  e.peer
                                    .createOffer()
                                    .then(function (t) {
                                      return e.peer.setLocalDescription(t);
                                    })
                                    .catch(function (e) {
                                      _t.error("Error creating offer:", e),
                                        t(n);
                                    });
                              })
                            );
                      }, t);
                    })
                  )),
                  function () {
                    return n.apply(this, arguments);
                  }),
              },
              {
                key: "cleanup",
                value: function () {
                  if (
                    (this.timeoutId &&
                      (clearTimeout(this.timeoutId), (this.timeoutId = null)),
                    this.peer)
                  ) {
                    try {
                      this.peer.close(),
                        _t.debug("WebRTC peer connection closed");
                    } catch (t) {
                      _t.warn("Error closing peer connection:", t);
                    }
                    this.peer = null;
                  }
                },
              },
              {
                key: "sendData",
                value: function (t) {
                  _t.info("Sending ".concat(t.length, " ICE candidates")),
                    this._dataQ.addToQueue("static_fields", ["webrtc", t], !1);
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return {
                    configKey: "isWebRTCFeature",
                    isDefault: !1,
                    shouldRunPerContext: !1,
                    shouldRunPerSession: !0,
                    shouldRun: !1,
                    isFrameRelated: !1,
                    runInUns: !1,
                    runInSlave: !0,
                    runInLean: !1,
                    isRunning: !1,
                    instance: null,
                  };
                },
              },
            ]
          )
        );
        var n, r;
      })(uo),
      eP = tP;
    function nP(t) {
      return (
        (nP =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        nP(t)
      );
    }
    function rP(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, oP(r.key), r);
      }
    }
    function oP(t) {
      var e = (function (t, e) {
        if ("object" != nP(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != nP(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == nP(e) ? e : e + "";
    }
    function iP(t, e, n) {
      return (
        (e = uP(e)),
        (function (t, e) {
          if (e && ("object" == nP(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          aP()
            ? Reflect.construct(e, n || [], uP(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function aP() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (aP = function () {
        return !!t;
      })();
    }
    function uP(t) {
      return (
        (uP = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        uP(t)
      );
    }
    function sP(t, e) {
      return (
        (sP = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        sP(t, e)
      );
    }
    var cP = {
        configKey: "isSpeechVoicesFeature",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !0,
        shouldRun: !1,
        isFrameRelated: !1,
        runInUns: !1,
        runInSlave: !0,
        runInLean: !1,
        isRunning: !1,
        instance: null,
      },
      lP = (function (t) {
        function e(t) {
          var n;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((n = iP(this, e))._dataQ = t),
            n
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && sP(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && rP(t.prototype, e),
              n && rP(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value: function () {
                  speechSynthesis.addEventListener(
                    "voiceschanged",
                    this.processVoices.bind(this)
                  ),
                    speechSynthesis.pending || this.processVoices();
                },
              },
              {
                key: "processVoices",
                value: function () {
                  var t = speechSynthesis.getVoices().map(function (t) {
                    return {
                      def: t.default,
                      lang: t.lang,
                      localService: t.localService,
                      name: t.name,
                      voiceURI: t.voiceURI,
                    };
                  });
                  if (0 !== t.length) {
                    var e = PT(JSON.stringify(t));
                    _t.debug("SpeechVoices - Voice hash:" + e),
                      this._dataQ.addToQueue(
                        "static_fields",
                        ["speech_voices", e],
                        !1
                      );
                  }
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return cP;
                },
              },
            ]
          )
        );
      })(uo),
      fP = lP;
    function pP(t) {
      return (
        (pP =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        pP(t)
      );
    }
    function hP(t, e, n) {
      return (
        (e = yP(e)),
        (function (t, e) {
          if (e && ("object" == pP(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          dP()
            ? Reflect.construct(e, n || [], yP(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function dP() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (dP = function () {
        return !!t;
      })();
    }
    function yP(t) {
      return (
        (yP = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        yP(t)
      );
    }
    function mP(t, e) {
      return (
        (mP = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        mP(t, e)
      );
    }
    function vP() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          bP(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (bP((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), bP(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        bP(f, "constructor", c),
        bP(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        bP(c, o, "GeneratorFunction"),
        bP(f),
        bP(f, o, "Generator"),
        bP(f, r, function () {
          return this;
        }),
        bP(f, "toString", function () {
          return "[object Generator]";
        }),
        (vP = function () {
          return { w: i, m: p };
        })()
      );
    }
    function bP(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (bP = function (t, e, n, r) {
        function i(e, n) {
          bP(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        bP(t, e, n, r);
    }
    function gP(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function _P(t) {
      return function () {
        var e = this,
          n = arguments;
        return new Promise(function (r, o) {
          var i = t.apply(e, n);
          function a(t) {
            gP(i, r, o, a, u, "next", t);
          }
          function u(t) {
            gP(i, r, o, a, u, "throw", t);
          }
          a(void 0);
        });
      };
    }
    function wP(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, EP(r.key), r);
      }
    }
    function SP(t, e, n) {
      return (
        e && wP(t.prototype, e),
        n && wP(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
    }
    function EP(t) {
      var e = (function (t, e) {
        if ("object" != pP(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != pP(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == pP(e) ? e : e + "";
    }
    function kP(t, e) {
      if (!(t instanceof e))
        throw new TypeError("Cannot call a class as a function");
    }
    var TP = {
        configKey: "isBrowserExtensionsFeature",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !0,
        shouldRun: !1,
        isFrameRelated: !1,
        runInUns: !1,
        runInSlave: !1,
        runInLean: !1,
        isRunning: !1,
        instance: null,
      },
      PP = "ad_blocker",
      OP = "password_manager",
      CP = "crypto_wallet",
      jP = "developer_tool",
      MP = "grammar_writing",
      RP = "dark_mode",
      BP = "other",
      AP = SP(function t(e, n) {
        var r =
            arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : BP,
          o =
            arguments.length > 3 && void 0 !== arguments[3]
              ? arguments[3]
              : 0.8;
        kP(this, t),
          (this.name = e),
          (this.detection = n),
          (this.category = r),
          (this.reliability = o);
      }),
      xP = (function () {
        return SP(
          function t(e, n) {
            kP(this, t),
              (this._window = e),
              (this._document = n),
              (this.extensions = this._initializeExtensions()),
              (this._detectionCache = new Map());
          },
          [
            {
              key: "_initializeExtensions",
              value: function () {
                return [
                  new AP(
                    "Ad Blocker",
                    this._detectAdBlocker.bind(this),
                    PP,
                    0.9
                  ),
                  new AP("LastPass", this._detectLastPass.bind(this), OP, 0.85),
                  new AP(
                    "1Password",
                    this._detect1Password.bind(this),
                    OP,
                    0.85
                  ),
                  new AP("MetaMask", this._detectMetaMask.bind(this), CP, 0.95),
                  new AP(
                    "Coinbase Wallet",
                    this._detectCoinbaseWallet.bind(this),
                    CP,
                    0.95
                  ),
                  new AP(
                    "WalletConnect Wallet",
                    this._detectWalletConnect.bind(this),
                    CP,
                    0.95
                  ),
                  new AP(
                    "Trust Wallet",
                    this._detectTrustWallet.bind(this),
                    CP,
                    0.95
                  ),
                  new AP(
                    "Phantom Wallet",
                    this._detectPhantomWallet.bind(this),
                    CP,
                    0.95
                  ),
                  new AP(
                    "Binance Wallet",
                    this._detectBinanceWallet.bind(this),
                    CP,
                    0.95
                  ),
                  new AP(
                    "Brave Wallet",
                    this._detectBraveWallet.bind(this),
                    CP,
                    0.9
                  ),
                  new AP("Apple Pay", this._detectApplePay.bind(this), CP, 0.9),
                  new AP(
                    "Google Pay",
                    this._detectGooglePay.bind(this),
                    CP,
                    0.9
                  ),
                  new AP(
                    "React Developer Tools",
                    this._detectReactDevTools.bind(this),
                    jP,
                    0.95
                  ),
                  new AP(
                    "Vue.js DevTools",
                    this._detectVueDevTools.bind(this),
                    jP,
                    0.95
                  ),
                  new AP(
                    "Redux DevTools",
                    this._detectReduxDevTools.bind(this),
                    jP,
                    0.95
                  ),
                  new AP(
                    "Angular DevTools",
                    this._detectAngularDevTools.bind(this),
                    jP,
                    0.95
                  ),
                  new AP(
                    "Svelte DevTools",
                    this._detectSvelteDevTools.bind(this),
                    jP,
                    0.95
                  ),
                  new AP(
                    "Grammarly",
                    this._detectGrammarly.bind(this),
                    MP,
                    0.9
                  ),
                  new AP(
                    "Dark Reader",
                    this._detectDarkReader.bind(this),
                    RP,
                    0.85
                  ),
                  new AP(
                    "Super Dark Mode",
                    this._detectSuperDarkMode.bind(this),
                    RP,
                    0.85
                  ),
                  new AP(
                    "Adobe Acrobat",
                    this._detectAdobeAcrobat.bind(this),
                    BP,
                    0.8
                  ),
                ];
              },
            },
            {
              key: "detectExtension",
              value:
                ((E = _P(
                  vP().m(function t(e) {
                    var n, r;
                    return vP().w(
                      function (t) {
                        for (;;)
                          switch ((t.p = t.n)) {
                            case 0:
                              if (!this._detectionCache.has(e.name)) {
                                t.n = 1;
                                break;
                              }
                              return t.a(2, this._detectionCache.get(e.name));
                            case 1:
                              return (t.p = 1), (t.n = 2), e.detection();
                            case 2:
                              return (
                                (n = t.v),
                                this._detectionCache.set(e.name, n),
                                t.a(2, n)
                              );
                            case 3:
                              return (
                                (t.p = 3),
                                (r = t.v),
                                _t.debug(
                                  "Error detecting "
                                    .concat(e.name, ": ")
                                    .concat(r.message)
                                ),
                                t.a(2, !1)
                              );
                          }
                      },
                      t,
                      this,
                      [[1, 3]]
                    );
                  })
                )),
                function (t) {
                  return E.apply(this, arguments);
                }),
            },
            {
              key: "scan",
              value:
                ((S = _P(
                  vP().m(function t() {
                    var e,
                      n,
                      r = this;
                    return vP().w(
                      function (t) {
                        for (;;)
                          switch (t.n) {
                            case 0:
                              return (
                                (e = this.extensions.map(
                                  (function () {
                                    var t = _P(
                                      vP().m(function t(e) {
                                        var n, o;
                                        return vP().w(
                                          function (t) {
                                            for (;;)
                                              switch ((t.p = t.n)) {
                                                case 0:
                                                  return (
                                                    (t.p = 0),
                                                    (t.n = 1),
                                                    r.detectExtension(e)
                                                  );
                                                case 1:
                                                  return (
                                                    (n = t.v),
                                                    t.a(2, {
                                                      name: e.name,
                                                      detected: n,
                                                      category: e.category,
                                                      reliability:
                                                        e.reliability,
                                                    })
                                                  );
                                                case 2:
                                                  return (
                                                    (t.p = 2),
                                                    (o = t.v),
                                                    _t.debug(
                                                      "Failed to detect "
                                                        .concat(e.name, ": ")
                                                        .concat(o.message)
                                                    ),
                                                    t.a(2, {
                                                      name: e.name,
                                                      detected: !1,
                                                      category: e.category,
                                                      reliability:
                                                        e.reliability,
                                                    })
                                                  );
                                              }
                                          },
                                          t,
                                          null,
                                          [[0, 2]]
                                        );
                                      })
                                    );
                                    return function (e) {
                                      return t.apply(this, arguments);
                                    };
                                  })()
                                )),
                                (t.n = 1),
                                Promise.all(e)
                              );
                            case 1:
                              return (
                                (n = t.v),
                                t.a(
                                  2,
                                  n
                                    .filter(function (t) {
                                      return t.detected;
                                    })
                                    .sort(function (t, e) {
                                      return e.reliability - t.reliability;
                                    })
                                    .map(function (t) {
                                      return t.name;
                                    })
                                )
                              );
                          }
                      },
                      t,
                      this
                    );
                  })
                )),
                function () {
                  return S.apply(this, arguments);
                }),
            },
            {
              key: "_detectAdBlocker",
              value:
                ((w = _P(
                  vP().m(function t() {
                    var e, n, r, o;
                    return vP().w(
                      function (t) {
                        for (;;)
                          switch ((t.p = t.n)) {
                            case 0:
                              return (
                                (t.p = 0),
                                ((e =
                                  this._document.createElement(
                                    "div"
                                  )).className = "pub_300x250 ad_unit adsbox"),
                                (e.style.cssText =
                                  "height:50px;width:50px;position:absolute;left:-9999px;top:-9999px;z-index:-1;opacity:0;display:block;"),
                                this._document.body.appendChild(e),
                                (n = this._window.getComputedStyle(e)),
                                (r =
                                  "none" === n.display ||
                                  "hidden" === n.visibility ||
                                  0 === e.offsetHeight ||
                                  0 === e.offsetWidth),
                                this._document.body.removeChild(e),
                                t.a(2, r)
                              );
                            case 1:
                              return (
                                (t.p = 1),
                                (o = t.v),
                                _t.debug(
                                  "Ad blocker detection error: ".concat(
                                    o.message
                                  )
                                ),
                                t.a(2, !1)
                              );
                          }
                      },
                      t,
                      this,
                      [[0, 1]]
                    );
                  })
                )),
                function () {
                  return w.apply(this, arguments);
                }),
            },
            {
              key: "_detectLastPass",
              value:
                ((_ = _P(
                  vP().m(function t() {
                    return vP().w(
                      function (t) {
                        for (;;)
                          if (0 === t.n)
                            return t.a(
                              2,
                              this._document.querySelectorAll(
                                "[data-lastpass-icon-root]"
                              ).length > 0
                            );
                      },
                      t,
                      this
                    );
                  })
                )),
                function () {
                  return _.apply(this, arguments);
                }),
            },
            {
              key: "_detect1Password",
              value:
                ((g = _P(
                  vP().m(function t() {
                    var e;
                    return vP().w(
                      function (t) {
                        for (;;)
                          if (0 === t.n)
                            return t.a(
                              2,
                              (null ===
                                (e = JSON.stringify(
                                  this._window._sentryDebugIds
                                )) || void 0 === e
                                ? void 0
                                : e.includes(
                                    "aeblfdkhhhdcdjpifhhbdiojplfjncoa"
                                  )) ||
                                !!this._document.querySelector(
                                  ".onepassword-fill-button"
                                )
                            );
                      },
                      t,
                      this
                    );
                  })
                )),
                function () {
                  return g.apply(this, arguments);
                }),
            },
            {
              key: "_detectMetaMask",
              value:
                ((b = _P(
                  vP().m(function t() {
                    return vP().w(
                      function (t) {
                        for (;;)
                          if (0 === t.n)
                            return t.a(
                              2,
                              !!this._window.ethereum &&
                                this._window.ethereum.isMetaMask
                            );
                      },
                      t,
                      this
                    );
                  })
                )),
                function () {
                  return b.apply(this, arguments);
                }),
            },
            {
              key: "_detectCoinbaseWallet",
              value:
                ((v = _P(
                  vP().m(function t() {
                    return vP().w(
                      function (t) {
                        for (;;)
                          if (0 === t.n)
                            return t.a(
                              2,
                              !!this._window.ethereum &&
                                this._window.ethereum.isCoinbaseWallet
                            );
                      },
                      t,
                      this
                    );
                  })
                )),
                function () {
                  return v.apply(this, arguments);
                }),
            },
            {
              key: "_detectWalletConnect",
              value:
                ((m = _P(
                  vP().m(function t() {
                    return vP().w(
                      function (t) {
                        for (;;)
                          if (0 === t.n)
                            return t.a(
                              2,
                              !!this._window.ethereum &&
                                this._window.ethereum.isWalletConnect
                            );
                      },
                      t,
                      this
                    );
                  })
                )),
                function () {
                  return m.apply(this, arguments);
                }),
            },
            {
              key: "_detectTrustWallet",
              value:
                ((y = _P(
                  vP().m(function t() {
                    return vP().w(
                      function (t) {
                        for (;;)
                          if (0 === t.n)
                            return t.a(
                              2,
                              !!this._window.ethereum &&
                                this._window.ethereum.isTrust
                            );
                      },
                      t,
                      this
                    );
                  })
                )),
                function () {
                  return y.apply(this, arguments);
                }),
            },
            {
              key: "_detectPhantomWallet",
              value:
                ((d = _P(
                  vP().m(function t() {
                    return vP().w(
                      function (t) {
                        for (;;)
                          if (0 === t.n)
                            return t.a(
                              2,
                              !!this._window.solana &&
                                this._window.solana.isPhantom
                            );
                      },
                      t,
                      this
                    );
                  })
                )),
                function () {
                  return d.apply(this, arguments);
                }),
            },
            {
              key: "_detectBinanceWallet",
              value:
                ((h = _P(
                  vP().m(function t() {
                    return vP().w(
                      function (t) {
                        for (;;)
                          if (0 === t.n)
                            return t.a(
                              2,
                              !!this._window.BinanceChain &&
                                !0 === this._window.BinanceChain.isBinanceChain
                            );
                      },
                      t,
                      this
                    );
                  })
                )),
                function () {
                  return h.apply(this, arguments);
                }),
            },
            {
              key: "_detectBraveWallet",
              value:
                ((p = _P(
                  vP().m(function t() {
                    return vP().w(
                      function (t) {
                        for (;;)
                          if (0 === t.n)
                            return t.a(
                              2,
                              !(
                                !this._window.navigator.brave ||
                                !this._window.navigator.brave.isBrave
                              )
                            );
                      },
                      t,
                      this
                    );
                  })
                )),
                function () {
                  return p.apply(this, arguments);
                }),
            },
            {
              key: "_detectApplePay",
              value:
                ((f = _P(
                  vP().m(function t() {
                    var e;
                    return vP().w(
                      function (t) {
                        for (;;)
                          switch (t.n) {
                            case 0:
                              if (
                                !(e =
                                  !!this._window.ApplePaySession &&
                                  "function" ==
                                    typeof this._window.ApplePaySession
                                      .canMakePayments)
                              ) {
                                t.n = 2;
                                break;
                              }
                              return (
                                (t.n = 1),
                                this._window.ApplePaySession.canMakePayments()
                              );
                            case 1:
                              e = t.v;
                            case 2:
                              return t.a(2, e);
                          }
                      },
                      t,
                      this
                    );
                  })
                )),
                function () {
                  return f.apply(this, arguments);
                }),
            },
            {
              key: "_detectGooglePay",
              value:
                ((l = _P(
                  vP().m(function t() {
                    return vP().w(
                      function (t) {
                        for (;;)
                          if (0 === t.n)
                            return t.a(
                              2,
                              !!(
                                this._window.google &&
                                this._window.google.payments &&
                                this._window.google.payments.api
                              )
                            );
                      },
                      t,
                      this
                    );
                  })
                )),
                function () {
                  return l.apply(this, arguments);
                }),
            },
            {
              key: "_detectReactDevTools",
              value:
                ((c = _P(
                  vP().m(function t() {
                    return vP().w(
                      function (t) {
                        for (;;)
                          if (0 === t.n)
                            return t.a(
                              2,
                              !!this._window.__REACT_DEVTOOLS_GLOBAL_HOOK__
                            );
                      },
                      t,
                      this
                    );
                  })
                )),
                function () {
                  return c.apply(this, arguments);
                }),
            },
            {
              key: "_detectVueDevTools",
              value:
                ((s = _P(
                  vP().m(function t() {
                    return vP().w(
                      function (t) {
                        for (;;)
                          if (0 === t.n)
                            return t.a(
                              2,
                              !!this._window.__VUE_DEVTOOLS_GLOBAL_HOOK__
                            );
                      },
                      t,
                      this
                    );
                  })
                )),
                function () {
                  return s.apply(this, arguments);
                }),
            },
            {
              key: "_detectReduxDevTools",
              value:
                ((u = _P(
                  vP().m(function t() {
                    return vP().w(
                      function (t) {
                        for (;;)
                          if (0 === t.n)
                            return t.a(
                              2,
                              !!this._window.__REDUX_DEVTOOLS_EXTENSION__
                            );
                      },
                      t,
                      this
                    );
                  })
                )),
                function () {
                  return u.apply(this, arguments);
                }),
            },
            {
              key: "_detectAngularDevTools",
              value:
                ((a = _P(
                  vP().m(function t() {
                    return vP().w(
                      function (t) {
                        for (;;)
                          if (0 === t.n) return t.a(2, !!this._window.ng);
                      },
                      t,
                      this
                    );
                  })
                )),
                function () {
                  return a.apply(this, arguments);
                }),
            },
            {
              key: "_detectSvelteDevTools",
              value:
                ((i = _P(
                  vP().m(function t() {
                    return vP().w(
                      function (t) {
                        for (;;)
                          if (0 === t.n)
                            return t.a(
                              2,
                              !!this._window.__SVELTE_DEVTOOLS_GLOBAL_HOOK__
                            );
                      },
                      t,
                      this
                    );
                  })
                )),
                function () {
                  return i.apply(this, arguments);
                }),
            },
            {
              key: "_detectGrammarly",
              value:
                ((o = _P(
                  vP().m(function t() {
                    var e,
                      n = this;
                    return vP().w(function (t) {
                      for (;;)
                        if (0 === t.n)
                          return (
                            (e = [
                              "grammarly-extension",
                              "grammarly-desktop-integration",
                              "grammarly-mirror",
                              "grammarly-popups",
                              "grammarly-extension-vbars",
                              "grammarly-extension-vbar-cad",
                              "grammarly-extension-vbars-feedback-form",
                            ]),
                            t.a(
                              2,
                              e.some(function (t) {
                                return null !== n._document.querySelector(t);
                              })
                            )
                          );
                    }, t);
                  })
                )),
                function () {
                  return o.apply(this, arguments);
                }),
            },
            {
              key: "_detectDarkReader",
              value:
                ((r = _P(
                  vP().m(function t() {
                    return vP().w(
                      function (t) {
                        for (;;)
                          if (0 === t.n)
                            return t.a(2, this._detectDarkModeExtension(50));
                      },
                      t,
                      this
                    );
                  })
                )),
                function () {
                  return r.apply(this, arguments);
                }),
            },
            {
              key: "_detectSuperDarkMode",
              value:
                ((n = _P(
                  vP().m(function t() {
                    return vP().w(
                      function (t) {
                        for (;;)
                          if (0 === t.n)
                            return t.a(2, this._detectDarkModeExtension(5));
                      },
                      t,
                      this
                    );
                  })
                )),
                function () {
                  return n.apply(this, arguments);
                }),
            },
            {
              key: "_detectDarkModeExtension",
              value:
                ((e = _P(
                  vP().m(function t(e) {
                    var n, r, o, i, a;
                    return vP().w(
                      function (t) {
                        for (;;)
                          switch ((t.p = t.n)) {
                            case 0:
                              return (
                                (t.p = 0),
                                ((n =
                                  this._document.createElement(
                                    "div"
                                  )).style.cssText =
                                  "background-color:#ffffff;width:100px;height:100px;position:absolute;top:-9999px;left:-9999px;z-index:-1;visibility:hidden;opacity:0;"),
                                this._document.body.appendChild(n),
                                (t.n = 1),
                                new Promise(function (t) {
                                  return setTimeout(t, 500);
                                })
                              );
                            case 1:
                              return (
                                (r = this._window.getComputedStyle(n)),
                                (o = r.backgroundColor),
                                this._document.body.removeChild(n),
                                (i =
                                  "rgb(0, 0, 0)" === o ||
                                  (function () {
                                    var t = o.match(
                                      /^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/
                                    );
                                    return (
                                      !!t &&
                                      (parseInt(t[1], 10) +
                                        parseInt(t[2], 10) +
                                        parseInt(t[3], 10)) /
                                        3 <
                                        e
                                    );
                                  })()),
                                t.a(2, i)
                              );
                            case 2:
                              return (
                                (t.p = 2),
                                (a = t.v),
                                _t.debug(
                                  "Dark mode detection error: ".concat(
                                    a.message
                                  )
                                ),
                                t.a(2, !1)
                              );
                          }
                      },
                      t,
                      this,
                      [[0, 2]]
                    );
                  })
                )),
                function (t) {
                  return e.apply(this, arguments);
                }),
            },
            {
              key: "_detectAdobeAcrobat",
              value:
                ((t = _P(
                  vP().m(function t() {
                    var e;
                    return vP().w(
                      function (t) {
                        for (;;)
                          if (0 === t.n)
                            return t.a(
                              2,
                              "true" ===
                                (null === (e = this._window) ||
                                void 0 === e ||
                                null === (e = e.sessionStorage) ||
                                void 0 === e
                                  ? void 0
                                  : e.getItem("adobeCleanFontAdded"))
                            );
                      },
                      t,
                      this
                    );
                  })
                )),
                function () {
                  return t.apply(this, arguments);
                }),
            },
          ]
        );
        var t,
          e,
          n,
          r,
          o,
          i,
          a,
          u,
          s,
          c,
          l,
          f,
          p,
          h,
          d,
          y,
          m,
          v,
          b,
          g,
          _,
          w,
          S,
          E;
      })(),
      DP = (function (t) {
        function e(t, n, r, o) {
          var i,
            a =
              arguments.length > 4 && void 0 !== arguments[4]
                ? arguments[4]
                : null;
          return (
            kP(this, e),
            ((i = hP(this, e))._configurationRepository = t),
            (i._domUtils = r),
            (i._utils = n),
            (i._dataQueue = o),
            (i._regularExtensionsScanner = a || new xP(window, document)),
            i
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && mP(t, e);
          })(e, t),
          SP(
            e,
            [
              {
                key: "startFeature",
                value:
                  ((n = _P(
                    vP().m(function t() {
                      var e, n;
                      return vP().w(
                        function (t) {
                          for (;;)
                            switch ((t.p = t.n)) {
                              case 0:
                                return (
                                  (t.p = 0),
                                  (t.n = 1),
                                  this._regularExtensionsScanner.scan()
                                );
                              case 1:
                                (e = t.v).length > 0
                                  ? (_t.info(
                                      "Detected browser extensions: ".concat(
                                        e.join(", ")
                                      )
                                    ),
                                    this._sendData(e))
                                  : (_t.info("No browser extensions detected"),
                                    this._sendData([])),
                                  (t.n = 3);
                                break;
                              case 2:
                                (t.p = 2),
                                  (n = t.v),
                                  _t.error(
                                    "Failed to detect browser extensions: ".concat(
                                      n.message
                                    )
                                  ),
                                  this._sendData([]);
                              case 3:
                                return t.a(2);
                            }
                        },
                        t,
                        this,
                        [[0, 2]]
                      );
                    })
                  )),
                  function () {
                    return n.apply(this, arguments);
                  }),
              },
              {
                key: "_sendData",
                value: function (t) {
                  this._dataQueue.addToQueue(
                    "static_fields",
                    ["browser_extensions", ["v1", t]],
                    !1
                  );
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return TP;
                },
              },
            ]
          )
        );
        var n;
      })(uo);
    function LP(t) {
      return (
        (LP =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        LP(t)
      );
    }
    function NP() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          IP(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (IP((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), IP(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        IP(f, "constructor", c),
        IP(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        IP(c, o, "GeneratorFunction"),
        IP(f),
        IP(f, o, "Generator"),
        IP(f, r, function () {
          return this;
        }),
        IP(f, "toString", function () {
          return "[object Generator]";
        }),
        (NP = function () {
          return { w: i, m: p };
        })()
      );
    }
    function IP(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (IP = function (t, e, n, r) {
        function i(e, n) {
          IP(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        IP(t, e, n, r);
    }
    function FP(t, e) {
      return (
        (function (t) {
          if (Array.isArray(t)) return t;
        })(t) ||
        (function (t, e) {
          var n =
            null == t
              ? null
              : ("undefined" != typeof Symbol && t[Symbol.iterator]) ||
                t["@@iterator"];
          if (null != n) {
            var r,
              o,
              i,
              a,
              u = [],
              s = !0,
              c = !1;
            try {
              if (((i = (n = n.call(t)).next), 0 === e)) {
                if (Object(n) !== n) return;
                s = !1;
              } else
                for (
                  ;
                  !(s = (r = i.call(n)).done) &&
                  (u.push(r.value), u.length !== e);
                  s = !0
                );
            } catch (t) {
              (c = !0), (o = t);
            } finally {
              try {
                if (
                  !s &&
                  null != n.return &&
                  ((a = n.return()), Object(a) !== a)
                )
                  return;
              } finally {
                if (c) throw o;
              }
            }
            return u;
          }
        })(t, e) ||
        (function (t, e) {
          if (t) {
            if ("string" == typeof t) return UP(t, e);
            var n = {}.toString.call(t).slice(8, -1);
            return (
              "Object" === n && t.constructor && (n = t.constructor.name),
              "Map" === n || "Set" === n
                ? Array.from(t)
                : "Arguments" === n ||
                  /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                ? UP(t, e)
                : void 0
            );
          }
        })(t, e) ||
        (function () {
          throw new TypeError(
            "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
          );
        })()
      );
    }
    function UP(t, e) {
      (null == e || e > t.length) && (e = t.length);
      for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
      return r;
    }
    function WP(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function GP(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, HP(r.key), r);
      }
    }
    function HP(t) {
      var e = (function (t, e) {
        if ("object" != LP(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != LP(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == LP(e) ? e : e + "";
    }
    function QP(t, e, n) {
      return (
        (e = VP(e)),
        (function (t, e) {
          if (e && ("object" == LP(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          zP()
            ? Reflect.construct(e, n || [], VP(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function zP() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (zP = function () {
        return !!t;
      })();
    }
    function VP(t) {
      return (
        (VP = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        VP(t)
      );
    }
    function KP(t, e) {
      return (
        (KP = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        KP(t, e)
      );
    }
    var qP = (function (t) {
        function e(t) {
          var n;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((n = QP(this, e))._dataQ = t),
            (n.drmData = {}),
            n
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && KP(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && GP(t.prototype, e),
              n && GP(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "hashDRMData",
                value: function (t) {
                  return PT(JSON.stringify(t));
                },
              },
              {
                key: "startFeature",
                value:
                  ((n = NP().m(function t() {
                    var e, n, r, o, i, a, u, s, c;
                    return NP().w(
                      function (t) {
                        for (;;)
                          switch ((t.p = t.n)) {
                            case 0:
                              (e = {
                                widevine: "com.widevine.alpha",
                                playready: "com.microsoft.playready",
                                fairplay: "com.apple.fairplay",
                                clearkey: "org.w3.clearkey",
                              }),
                                (n = [
                                  {
                                    initDataTypes: ["cenc"],
                                    videoCapabilities: [
                                      {
                                        contentType:
                                          'video/mp4; codecs="avc1.42E01E"',
                                      },
                                      {
                                        contentType: 'video/webm; codecs="vp8"',
                                      },
                                    ],
                                    audioCapabilities: [
                                      {
                                        contentType:
                                          'audio/mp4; codecs="mp4a.40.2"',
                                      },
                                    ],
                                  },
                                ]),
                                (r = 0),
                                (o = Object.entries(e));
                            case 1:
                              if (!(r < o.length)) {
                                t.n = 6;
                                break;
                              }
                              return (
                                (i = FP(o[r], 2)),
                                (a = i[0]),
                                (u = i[1]),
                                (t.p = 2),
                                (t.n = 3),
                                navigator.requestMediaKeySystemAccess(u, n)
                              );
                            case 3:
                              (s = t.v),
                                (this.drmData[a] = {
                                  supported: !0,
                                  keySystem: u,
                                  sessionTypes:
                                    s.getConfiguration().sessionTypes,
                                  videoCapabilities:
                                    s.getConfiguration().videoCapabilities,
                                  audioCapabilities:
                                    s.getConfiguration().audioCapabilities,
                                }),
                                (t.n = 5);
                              break;
                            case 4:
                              (t.p = 4),
                                t.v,
                                (this.drmData[a] = { supported: !1 });
                            case 5:
                              r++, (t.n = 1);
                              break;
                            case 6:
                              (c = this.hashDRMData(this.drmData)),
                                this.sendData(this.drmData),
                                _t.debug("DRMDataCollector - DRM Data"),
                                _t.debug(this.drmData),
                                _t.debug(c);
                            case 7:
                              return t.a(2);
                          }
                      },
                      t,
                      this,
                      [[2, 4]]
                    );
                  })),
                  (r = function () {
                    var t = this,
                      e = arguments;
                    return new Promise(function (r, o) {
                      var i = n.apply(t, e);
                      function a(t) {
                        WP(i, r, o, a, u, "next", t);
                      }
                      function u(t) {
                        WP(i, r, o, a, u, "throw", t);
                      }
                      a(void 0);
                    });
                  }),
                  function () {
                    return r.apply(this, arguments);
                  }),
              },
              {
                key: "sendData",
                value: function (t) {
                  this._dataQ.addToQueue("static_fields", ["drm", t], !1);
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return {
                    configKey: "isDRMFeature",
                    isDefault: !1,
                    shouldRunPerContext: !1,
                    shouldRunPerSession: !0,
                    shouldRun: !1,
                    isFrameRelated: !1,
                    runInUns: !1,
                    runInSlave: !1,
                    runInLean: !1,
                    isRunning: !1,
                    instance: null,
                  };
                },
              },
            ]
          )
        );
        var n, r;
      })(uo),
      JP = qP;
    function XP(t) {
      return (
        (XP =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        XP(t)
      );
    }
    function YP(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, ZP(r.key), r);
      }
    }
    function ZP(t) {
      var e = (function (t, e) {
        if ("object" != XP(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != XP(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == XP(e) ? e : e + "";
    }
    function $P(t, e, n) {
      return (
        (e = eO(e)),
        (function (t, e) {
          if (e && ("object" == XP(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          tO()
            ? Reflect.construct(e, n || [], eO(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function tO() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (tO = function () {
        return !!t;
      })();
    }
    function eO(t) {
      return (
        (eO = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        eO(t)
      );
    }
    function nO(t, e) {
      return (
        (nO = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        nO(t, e)
      );
    }
    var rO = (function (t) {
      function e(t, n) {
        var r;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (r = $P(this, e)).validateParams(t, n),
          (r.usage = t),
          (r.quota = n),
          r
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && nO(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && YP(t.prototype, e),
            n && YP(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t, e) {
              ("number" == typeof t && "number" == typeof e) ||
                _t.warn(
                  "wrong type in StorageEstimate parameters. usage : {expected: number, received: "
                    .concat(XP(t), "}, quota : {expected: number, received: ")
                    .concat(XP(e), "}")
                );
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [this.getName(), [this.usage, this.quota]];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] &&
                Array.isArray(t[1]) &&
                2 === t[1].length) ||
                _t.warn("StorageEstimate - Contract verification failed");
            },
          },
          {
            key: "getName",
            value: function () {
              return "storage_estimate";
            },
          },
        ])
      );
    })(vm);
    function oO(t) {
      return (
        (oO =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        oO(t)
      );
    }
    function iO(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, aO(r.key), r);
      }
    }
    function aO(t) {
      var e = (function (t, e) {
        if ("object" != oO(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != oO(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == oO(e) ? e : e + "";
    }
    function uO(t, e, n) {
      return (
        (e = cO(e)),
        (function (t, e) {
          if (e && ("object" == oO(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          sO()
            ? Reflect.construct(e, n || [], cO(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function sO() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (sO = function () {
        return !!t;
      })();
    }
    function cO(t) {
      return (
        (cO = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        cO(t)
      );
    }
    function lO(t, e) {
      return (
        (lO = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        lO(t, e)
      );
    }
    var fO = (function (t) {
      function e(t) {
        var n;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (n = uO(this, e)).validateParams(t),
          (n.directoryName = t),
          n
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && lO(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && iO(t.prototype, e),
            n && iO(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t) {
              "string" == typeof t ||
                _t.warn(
                  "wrong type in StorageDirectory parameters. directoryName : {expected: string, received: ".concat(
                    oO(t),
                    "}"
                  )
                );
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [this.getName(), this.directoryName];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] && "string" == typeof t[1]) ||
                _t.warn("StorageDirectory - Contract verification failed");
            },
          },
          {
            key: "getName",
            value: function () {
              return "storage_directory";
            },
          },
        ])
      );
    })(vm);
    function pO(t) {
      return (
        (pO =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        pO(t)
      );
    }
    function hO() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          dO(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (dO((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), dO(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        dO(f, "constructor", c),
        dO(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        dO(c, o, "GeneratorFunction"),
        dO(f),
        dO(f, o, "Generator"),
        dO(f, r, function () {
          return this;
        }),
        dO(f, "toString", function () {
          return "[object Generator]";
        }),
        (hO = function () {
          return { w: i, m: p };
        })()
      );
    }
    function dO(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (dO = function (t, e, n, r) {
        function i(e, n) {
          dO(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        dO(t, e, n, r);
    }
    function yO(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function mO(t) {
      return function () {
        var e = this,
          n = arguments;
        return new Promise(function (r, o) {
          var i = t.apply(e, n);
          function a(t) {
            yO(i, r, o, a, u, "next", t);
          }
          function u(t) {
            yO(i, r, o, a, u, "throw", t);
          }
          a(void 0);
        });
      };
    }
    function vO(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, bO(r.key), r);
      }
    }
    function bO(t) {
      var e = (function (t, e) {
        if ("object" != pO(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != pO(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == pO(e) ? e : e + "";
    }
    function gO(t, e, n) {
      return (
        (e = wO(e)),
        (function (t, e) {
          if (e && ("object" == pO(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          _O()
            ? Reflect.construct(e, n || [], wO(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function _O() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (_O = function () {
        return !!t;
      })();
    }
    function wO(t) {
      return (
        (wO = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        wO(t)
      );
    }
    function SO(t, e) {
      return (
        (SO = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        SO(t, e)
      );
    }
    var EO = {
        configKey: "isStorageFeature",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !0,
        shouldRun: !1,
        isFrameRelated: !1,
        runInUns: !1,
        runInSlave: !0,
        runInLean: !0,
        isRunning: !1,
        instance: null,
      },
      kO = (function (t) {
        function e(t) {
          var n;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((n = gO(this, e))._dataQ = t),
            (n._storageManager = null),
            n
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && SO(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && vO(t.prototype, e),
              n && vO(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value:
                  ((a = mO(
                    hO().m(function t() {
                      var e;
                      return hO().w(
                        function (t) {
                          for (;;)
                            switch ((t.p = t.n)) {
                              case 0:
                                return (
                                  _t.info("Starting Storage Feature"),
                                  this._initializeStorageManager(),
                                  (t.p = 1),
                                  (t.n = 2),
                                  this._collectStorageEstimateInfo()
                                );
                              case 2:
                                return (
                                  (t.n = 3), this._collectStorageDirectoryInfo()
                                );
                              case 3:
                                t.n = 5;
                                break;
                              case 4:
                                (t.p = 4),
                                  (e = t.v),
                                  _t.error(
                                    "Error in Storage Feature: ".concat(
                                      e.message || e
                                    )
                                  );
                              case 5:
                                return t.a(2);
                            }
                        },
                        t,
                        this,
                        [[1, 4]]
                      );
                    })
                  )),
                  function () {
                    return a.apply(this, arguments);
                  }),
              },
              {
                key: "_initializeStorageManager",
                value: function () {
                  this._storageManager ||
                    (this._storageManager = this.getStorageManager());
                },
              },
              {
                key: "getStorageManager",
                value: function () {
                  return "undefined" != typeof navigator && navigator.storage
                    ? navigator.storage
                    : null;
                },
              },
              {
                key: "_collectStorageEstimateInfo",
                value:
                  ((i = mO(
                    hO().m(function t() {
                      var e, n, r, o;
                      return hO().w(
                        function (t) {
                          for (;;)
                            switch ((t.p = t.n)) {
                              case 0:
                                return (
                                  _t.info(
                                    "Collecting storage estimate properties"
                                  ),
                                  (t.p = 1),
                                  (t.n = 2),
                                  this._getStorageEstimateInfo()
                                );
                              case 2:
                                (e = t.v),
                                  this._isValidStorageEstimate(e)
                                    ? ((n = new rO(e.usage, e.quota)),
                                      (r = n.buildQueueMessage()),
                                      this._dataQ.addToQueue(
                                        "static_fields",
                                        r,
                                        !1
                                      ))
                                    : _t.warn(
                                        "Invalid storage estimate data received"
                                      ),
                                  (t.n = 4);
                                break;
                              case 3:
                                throw (
                                  ((t.p = 3),
                                  (o = t.v),
                                  _t.error(
                                    "Error collecting storage estimate information: ".concat(
                                      o.message || o
                                    )
                                  ),
                                  o)
                                );
                              case 4:
                                return t.a(2);
                            }
                        },
                        t,
                        this,
                        [[1, 3]]
                      );
                    })
                  )),
                  function () {
                    return i.apply(this, arguments);
                  }),
              },
              {
                key: "_isValidStorageEstimate",
                value: function (t) {
                  return (
                    t &&
                    "number" == typeof t.usage &&
                    "number" == typeof t.quota &&
                    t.usage >= 0 &&
                    t.quota >= 0
                  );
                },
              },
              {
                key: "_getStorageEstimateInfo",
                value:
                  ((o = mO(
                    hO().m(function t() {
                      var e, n;
                      return hO().w(
                        function (t) {
                          for (;;)
                            switch ((t.p = t.n)) {
                              case 0:
                                if (((t.p = 0), this._storageManager)) {
                                  t.n = 1;
                                  break;
                                }
                                throw (
                                  (_t.error(
                                    "StorageManager is not initialized or unavailable."
                                  ),
                                  new Error(
                                    "StorageManager is not initialized or unavailable."
                                  ))
                                );
                              case 1:
                                return (
                                  (t.n = 2), this._storageManager.estimate()
                                );
                              case 2:
                                return (
                                  (e = t.v),
                                  t.a(2, { quota: e.quota, usage: e.usage })
                                );
                              case 3:
                                throw (
                                  ((t.p = 3),
                                  (n = t.v),
                                  _t.error(
                                    "Failed to get storage estimate: ".concat(
                                      n.message || n
                                    )
                                  ),
                                  n)
                                );
                              case 4:
                                return t.a(2);
                            }
                        },
                        t,
                        this,
                        [[0, 3]]
                      );
                    })
                  )),
                  function () {
                    return o.apply(this, arguments);
                  }),
              },
              {
                key: "_collectStorageDirectoryInfo",
                value:
                  ((r = mO(
                    hO().m(function t() {
                      var e, n, r, o;
                      return hO().w(
                        function (t) {
                          for (;;)
                            switch ((t.p = t.n)) {
                              case 0:
                                return (
                                  _t.info(
                                    "Collecting storage directory properties"
                                  ),
                                  (t.p = 1),
                                  (t.n = 2),
                                  this._getStorageDirectoryInfo()
                                );
                              case 2:
                                (e = t.v),
                                  this._isValidDirectoryName(e)
                                    ? ((n = new fO(e)),
                                      (r = n.buildQueueMessage()),
                                      this._dataQ.addToQueue(
                                        "static_fields",
                                        r,
                                        !1
                                      ))
                                    : _t.warn(
                                        "Invalid storage directory data received"
                                      ),
                                  (t.n = 4);
                                break;
                              case 3:
                                throw (
                                  ((t.p = 3),
                                  (o = t.v),
                                  _t.error(
                                    "Error collecting storage directory information: ".concat(
                                      o.message || o
                                    )
                                  ),
                                  o)
                                );
                              case 4:
                                return t.a(2);
                            }
                        },
                        t,
                        this,
                        [[1, 3]]
                      );
                    })
                  )),
                  function () {
                    return r.apply(this, arguments);
                  }),
              },
              {
                key: "_isValidDirectoryName",
                value: function (t) {
                  return void 0 !== t && "string" == typeof t;
                },
              },
              {
                key: "_getStorageDirectoryInfo",
                value:
                  ((n = mO(
                    hO().m(function t() {
                      var e, n;
                      return hO().w(
                        function (t) {
                          for (;;)
                            switch ((t.p = t.n)) {
                              case 0:
                                if (((t.p = 0), this._storageManager)) {
                                  t.n = 1;
                                  break;
                                }
                                throw (
                                  (_t.error(
                                    "StorageManager is not initialized or unavailable."
                                  ),
                                  new Error(
                                    "StorageManager is not initialized or unavailable."
                                  ))
                                );
                              case 1:
                                return (
                                  (t.n = 2), this._storageManager.getDirectory()
                                );
                              case 2:
                                return (e = t.v), t.a(2, e.name);
                              case 3:
                                throw (
                                  ((t.p = 3),
                                  (n = t.v),
                                  _t.error(
                                    "Failed to get storage directory: ".concat(
                                      n.message || n
                                    )
                                  ),
                                  n)
                                );
                              case 4:
                                return t.a(2);
                            }
                        },
                        t,
                        this,
                        [[0, 3]]
                      );
                    })
                  )),
                  function () {
                    return n.apply(this, arguments);
                  }),
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return EO;
                },
              },
            ]
          )
        );
        var n, r, o, i, a;
      })(uo);
    function TO(t) {
      return (
        (TO =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        TO(t)
      );
    }
    function PO(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, OO(r.key), r);
      }
    }
    function OO(t) {
      var e = (function (t, e) {
        if ("object" != TO(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != TO(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == TO(e) ? e : e + "";
    }
    function CO(t, e, n) {
      return (
        (e = MO(e)),
        (function (t, e) {
          if (e && ("object" == TO(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          jO()
            ? Reflect.construct(e, n || [], MO(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function jO() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (jO = function () {
        return !!t;
      })();
    }
    function MO(t) {
      return (
        (MO = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        MO(t)
      );
    }
    function RO(t, e) {
      return (
        (RO = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        RO(t, e)
      );
    }
    var BO = (function (t) {
      function e(t) {
        var n;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (n = CO(this, e)).validateParams(t),
          (n.keyboardLayout = t),
          n
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && RO(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && PO(t.prototype, e),
            n && PO(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t) {
              "string" == typeof t ||
                _t.warn(
                  "wrong type in KeyboardLayout parameters. keyboardLayout : {expected: string, received: ".concat(
                    TO(t),
                    "}"
                  )
                );
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [this.getName(), this.keyboardLayout];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] && "string" == typeof t[1]) ||
                _t.warn("KeyboardLayout - Contract verification failed");
            },
          },
          {
            key: "getName",
            value: function () {
              return "keyboard_layout";
            },
          },
        ])
      );
    })(vm);
    function AO(t) {
      return (
        (AO =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        AO(t)
      );
    }
    function xO() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          DO(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (DO((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), DO(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        DO(f, "constructor", c),
        DO(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        DO(c, o, "GeneratorFunction"),
        DO(f),
        DO(f, o, "Generator"),
        DO(f, r, function () {
          return this;
        }),
        DO(f, "toString", function () {
          return "[object Generator]";
        }),
        (xO = function () {
          return { w: i, m: p };
        })()
      );
    }
    function DO(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (DO = function (t, e, n, r) {
        function i(e, n) {
          DO(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        DO(t, e, n, r);
    }
    function LO(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function NO(t) {
      return function () {
        var e = this,
          n = arguments;
        return new Promise(function (r, o) {
          var i = t.apply(e, n);
          function a(t) {
            LO(i, r, o, a, u, "next", t);
          }
          function u(t) {
            LO(i, r, o, a, u, "throw", t);
          }
          a(void 0);
        });
      };
    }
    function IO(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, FO(r.key), r);
      }
    }
    function FO(t) {
      var e = (function (t, e) {
        if ("object" != AO(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != AO(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == AO(e) ? e : e + "";
    }
    function UO(t, e, n) {
      return (
        (e = GO(e)),
        (function (t, e) {
          if (e && ("object" == AO(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          WO()
            ? Reflect.construct(e, n || [], GO(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function WO() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (WO = function () {
        return !!t;
      })();
    }
    function GO(t) {
      return (
        (GO = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        GO(t)
      );
    }
    function HO(t, e) {
      return (
        (HO = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        HO(t, e)
      );
    }
    var QO = {
        configKey: "isKeyboardLayoutFeature",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !0,
        shouldRun: !1,
        isFrameRelated: !1,
        runInUns: !1,
        runInSlave: !0,
        runInLean: !0,
        isRunning: !1,
        instance: null,
      },
      zO = (function (t) {
        function e(t) {
          var n;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((n = UO(this, e))._dataQ = t),
            n
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && HO(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && IO(t.prototype, e),
              n && IO(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value:
                  ((o = NO(
                    xO().m(function t() {
                      return xO().w(
                        function (t) {
                          for (;;)
                            switch (t.n) {
                              case 0:
                                return (
                                  _t.info("Starting Keyboard Layout Feature"),
                                  (t.n = 1),
                                  this._collectKeyboardLayoutInfo()
                                );
                              case 1:
                                return t.a(2);
                            }
                        },
                        t,
                        this
                      );
                    })
                  )),
                  function () {
                    return o.apply(this, arguments);
                  }),
              },
              {
                key: "getKeyboard",
                value: function () {
                  return "undefined" != typeof navigator && navigator.keyboard
                    ? navigator.keyboard
                    : null;
                },
              },
              {
                key: "_collectKeyboardLayoutInfo",
                value:
                  ((r = NO(
                    xO().m(function t() {
                      var e, n, r, o;
                      return xO().w(
                        function (t) {
                          for (;;)
                            switch ((t.p = t.n)) {
                              case 0:
                                return (
                                  _t.info(
                                    "Collecting keyboard layout properties"
                                  ),
                                  (t.p = 1),
                                  (t.n = 2),
                                  this._getKeyboardLayoutInfo()
                                );
                              case 2:
                                (e = t.v),
                                  (n = new BO(e)),
                                  (r = n.buildQueueMessage()),
                                  this._dataQ.addToQueue(
                                    "static_fields",
                                    r,
                                    !1
                                  ),
                                  (t.n = 4);
                                break;
                              case 3:
                                (t.p = 3),
                                  (o = t.v),
                                  _t.error(
                                    "Error collecting keyboard layout information: ".concat(
                                      o
                                    )
                                  );
                              case 4:
                                return t.a(2);
                            }
                        },
                        t,
                        this,
                        [[1, 3]]
                      );
                    })
                  )),
                  function () {
                    return r.apply(this, arguments);
                  }),
              },
              {
                key: "_getKeyboardLayoutInfo",
                value:
                  ((n = NO(
                    xO().m(function t() {
                      var e, n, r;
                      return xO().w(
                        function (t) {
                          for (;;)
                            switch (t.n) {
                              case 0:
                                if ((e = this.getKeyboard())) {
                                  t.n = 1;
                                  break;
                                }
                                throw Error("Could not find keyboard layout");
                              case 1:
                                return (t.n = 2), e.getLayoutMap();
                              case 2:
                                return (
                                  (n = t.v),
                                  (r = Array.from(n.values()).join("")),
                                  t.a(2, PT(r))
                                );
                            }
                        },
                        t,
                        this
                      );
                    })
                  )),
                  function () {
                    return n.apply(this, arguments);
                  }),
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return QO;
                },
              },
            ]
          )
        );
        var n, r, o;
      })(uo);
    function VO() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          KO(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (KO((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), KO(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        KO(f, "constructor", c),
        KO(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        KO(c, o, "GeneratorFunction"),
        KO(f),
        KO(f, o, "Generator"),
        KO(f, r, function () {
          return this;
        }),
        KO(f, "toString", function () {
          return "[object Generator]";
        }),
        (VO = function () {
          return { w: i, m: p };
        })()
      );
    }
    function KO(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (KO = function (t, e, n, r) {
        function i(e, n) {
          KO(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        KO(t, e, n, r);
    }
    function qO(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function JO(t) {
      return function () {
        var e = this,
          n = arguments;
        return new Promise(function (r, o) {
          var i = t.apply(e, n);
          function a(t) {
            qO(i, r, o, a, u, "next", t);
          }
          function u(t) {
            qO(i, r, o, a, u, "throw", t);
          }
          a(void 0);
        });
      };
    }
    function XO(t) {
      var e =
          arguments.length > 1 && void 0 !== arguments[1]
            ? arguments[1]
            : "cd__frame__tmp",
        n = t.createElement("iframe");
      (n.id = e),
        (n.style.position = "fixed"),
        (n.style.left = "0"),
        (n.style.top = "0"),
        (n.style.width = "0"),
        (n.style.height = "0"),
        (n.style.border = "0"),
        (n.style.opacity = "0"),
        (n.style.pointerEvents = "none"),
        n.setAttribute("aria-hidden", "true"),
        n.setAttribute("tabindex", "-1");
      try {
        n.setAttribute("inert", "");
      } catch (t) {
        _t.warn(
          "TypographyFrameUtils: failed to set inert attribute on iframe",
          t
        );
      }
      return (
        (n.srcdoc =
          '<!doctype html><meta charset="utf-8"><title>blank</title>'),
        n
      );
    }
    function YO(t) {
      return ZO.apply(this, arguments);
    }
    function ZO() {
      return (ZO = JO(
        VO().m(function t(e) {
          var n;
          return VO().w(
            function (t) {
              for (;;)
                switch ((t.p = t.n)) {
                  case 0:
                    if (
                      ((t.p = 0),
                      !e.fonts ||
                        !e.fonts.ready ||
                        "function" != typeof e.fonts.ready.then)
                    ) {
                      t.n = 1;
                      break;
                    }
                    return (t.n = 1), e.fonts.ready;
                  case 1:
                    t.n = 3;
                    break;
                  case 2:
                    (t.p = 2),
                      (n = t.v),
                      _t.warn(
                        "TypographyFrameUtils: waiting for document.fonts.ready failed",
                        n
                      );
                  case 3:
                    return t.a(2);
                }
            },
            t,
            null,
            [[0, 2]]
          );
        })
      )).apply(this, arguments);
    }
    function $O(t) {
      return new Promise(function (e) {
        return (t.requestAnimationFrame || t.setTimeout)(e, 16);
      });
    }
    function tC(t) {
      var e =
          arguments.length > 1 && void 0 !== arguments[1]
            ? arguments[1]
            : 0.125,
        n = Number.isFinite(e) && e > 0,
        r = function (t) {
          return "number" == typeof t && n ? Math.round(t / e) * e : t;
        };
      return {
        x: r(t.x),
        y: r(t.y),
        left: r(t.left),
        top: r(t.top),
        right: r(t.right),
        bottom: r(t.bottom),
        width: r(t.width),
        height: r(t.height),
        font: t.font || "",
      };
    }
    function eC(t) {
      return nC.apply(this, arguments);
    }
    function nC() {
      return (nC = JO(
        VO().m(function t(e) {
          var n, r;
          return VO().w(
            function (t) {
              for (;;)
                switch ((t.p = t.n)) {
                  case 0:
                    if (
                      ((t.p = 0),
                      null === (n = e.fonts) ||
                        void 0 === n ||
                        null === (n = n.ready) ||
                        void 0 === n ||
                        !n.then)
                    ) {
                      t.n = 1;
                      break;
                    }
                    return (t.n = 1), e.fonts.ready;
                  case 1:
                    t.n = 3;
                    break;
                  case 2:
                    (t.p = 2),
                      (r = t.v),
                      _t.warn(
                        "TypographyFrameUtils: waiting for hostDocument.fonts.ready failed",
                        r
                      );
                  case 3:
                    return t.a(2);
                }
            },
            t,
            null,
            [[0, 2]]
          );
        })
      )).apply(this, arguments);
    }
    function rC(t, e) {
      return oC.apply(this, arguments);
    }
    function oC() {
      return (
        (oC = JO(
          VO().m(function t(e, n) {
            var r;
            return VO().w(function (t) {
              for (;;)
                switch (t.n) {
                  case 0:
                    return (
                      (r = new Promise(function (t, e) {
                        var r = function () {
                          try {
                            (n.onload = null), (n.onerror = null);
                          } catch (t) {
                            _t.warn(
                              "TypographyFrameUtils: iframe cleanup failed",
                              t
                            );
                          }
                        };
                        (n.onload = function () {
                          r(), t();
                        }),
                          (n.onerror = function (t) {
                            r(), e(t);
                          });
                      })),
                      (e.body || e.documentElement).appendChild(n),
                      (t.n = 1),
                      r
                    );
                  case 1:
                    return t.a(2);
                }
            }, t);
          })
        )),
        oC.apply(this, arguments)
      );
    }
    function iC(t) {
      return { w: t.contentWindow, d: t.contentDocument };
    }
    function aC(t, e, n) {
      !(function (t) {
        if (!t.body) {
          var e = t.createElement("body");
          t.documentElement.appendChild(e);
        }
      })(t);
      var r = n({ doc: t, win: e });
      return t.body.appendChild(r), r;
    }
    function uC(t) {
      return (
        Number.isFinite(t.width) &&
        t.width > 0 &&
        Number.isFinite(t.height) &&
        t.height > 0
      );
    }
    function sC(t, e, n, r) {
      var o = Math.abs(t.width - e.width),
        i = Math.abs(t.height - e.height),
        a = Math.max(n, (t.width || 0) * r),
        u = Math.max(n, (t.height || 0) * r);
      return o <= a && i <= u;
    }
    function cC(t, e) {
      return (function (t) {
        var e =
            arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
          n = t.width || 0,
          r = t.height || 0,
          o = t.left || 0,
          i = t.top || 0,
          a = "right" in t ? t.right : o + n,
          u = "bottom" in t ? t.bottom : i + r;
        return {
          x: "x" in t ? t.x : o,
          y: "y" in t ? t.y : i,
          left: o,
          top: i,
          right: a,
          bottom: u,
          width: n,
          height: r,
          font: e || "",
        };
      })(
        t.getBoundingClientRect(),
        e.getComputedStyle(t, null).getPropertyValue("font-family") || ""
      );
    }
    function lC(t, e, n) {
      return fC.apply(this, arguments);
    }
    function fC() {
      return (fC = JO(
        VO().m(function t(e, n, r) {
          var o, i, a, u, s, c, l, f, p, h, d;
          return VO().w(function (t) {
            for (;;)
              switch (t.n) {
                case 0:
                  (o = r.maxFrames),
                    (i = r.minSamples),
                    (a = r.stableHitsTarget),
                    (u = r.absTolPx),
                    (s = r.relTol),
                    (c = 0),
                    (l = 0),
                    (f = null),
                    (p = null),
                    (h = 0);
                case 1:
                  if (!(h < o)) {
                    t.n = 5;
                    break;
                  }
                  return (t.n = 2), $O(n);
                case 2:
                  if (!uC((d = cC(e, n)))) {
                    t.n = 3;
                    break;
                  }
                  if (
                    (c++,
                    f && sC(d, f, u, s) ? l++ : (l = 0),
                    (f = d),
                    !(c >= i && l >= a))
                  ) {
                    t.n = 3;
                    break;
                  }
                  return t.a(2, d);
                case 3:
                  p = d;
                case 4:
                  h++, (t.n = 1);
                  break;
                case 5:
                  return t.a(2, f || p);
              }
          }, t);
        })
      )).apply(this, arguments);
    }
    function pC(t) {
      try {
        t && t.remove();
      } catch (t) {
        _t.warn("TypographyFrameUtils: element.remove() failed", t);
      }
    }
    function hC(t) {
      return dC.apply(this, arguments);
    }
    function dC() {
      return (dC = JO(
        VO().m(function t(e) {
          var n, r, o, i, a, u, s, c, l, f, p, h, d, y, m, v, b, g, _, w, S;
          return VO().w(
            function (t) {
              for (;;)
                switch ((t.p = t.n)) {
                  case 0:
                    return (
                      e.hostWindow,
                      (n = e.hostDocument),
                      (r = e.frameId),
                      (o = e.buildNode),
                      (i = e.maxFrames),
                      (a = void 0 === i ? 12 : i),
                      (u = e.minSamples),
                      (s = void 0 === u ? 3 : u),
                      (c = e.stableHitsTarget),
                      (l = void 0 === c ? 2 : c),
                      (f = e.absTolPx),
                      (p = void 0 === f ? 0.25 : f),
                      (h = e.relTol),
                      (d = void 0 === h ? 5e-4 : h),
                      (y = e.quantStep),
                      (m = void 0 === y ? 0.125 : y),
                      (t.n = 1),
                      eC(n)
                    );
                  case 1:
                    return (v = XO(n, r)), (t.p = 2), (t.n = 3), rC(n, v);
                  case 3:
                    return (
                      (_ = iC(v)),
                      (w = _.w),
                      (S = _.d),
                      (b = aC(S, w, o)),
                      (t.n = 4),
                      YO(S)
                    );
                  case 4:
                    return (
                      (t.n = 5),
                      lC(b, w, {
                        maxFrames: a,
                        minSamples: s,
                        stableHitsTarget: l,
                        absTolPx: p,
                        relTol: d,
                      })
                    );
                  case 5:
                    return (g = t.v), t.a(2, tC(g, m));
                  case 6:
                    return (t.p = 6), pC(b), pC(v), t.f(6);
                  case 7:
                    return t.a(2);
                }
            },
            t,
            null,
            [[2, , 6, 7]]
          );
        })
      )).apply(this, arguments);
    }
    function yC(t) {
      return (
        (yC =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        yC(t)
      );
    }
    function mC() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          vC(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (vC((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), vC(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        vC(f, "constructor", c),
        vC(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        vC(c, o, "GeneratorFunction"),
        vC(f),
        vC(f, o, "Generator"),
        vC(f, r, function () {
          return this;
        }),
        vC(f, "toString", function () {
          return "[object Generator]";
        }),
        (mC = function () {
          return { w: i, m: p };
        })()
      );
    }
    function vC(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (vC = function (t, e, n, r) {
        function i(e, n) {
          vC(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        vC(t, e, n, r);
    }
    function bC(t, e) {
      var n = Object.keys(t);
      if (Object.getOwnPropertySymbols) {
        var r = Object.getOwnPropertySymbols(t);
        e &&
          (r = r.filter(function (e) {
            return Object.getOwnPropertyDescriptor(t, e).enumerable;
          })),
          n.push.apply(n, r);
      }
      return n;
    }
    function gC(t) {
      for (var e = 1; e < arguments.length; e++) {
        var n = null != arguments[e] ? arguments[e] : {};
        e % 2
          ? bC(Object(n), !0).forEach(function (e) {
              _C(t, e, n[e]);
            })
          : Object.getOwnPropertyDescriptors
          ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n))
          : bC(Object(n)).forEach(function (e) {
              Object.defineProperty(
                t,
                e,
                Object.getOwnPropertyDescriptor(n, e)
              );
            });
      }
      return t;
    }
    function _C(t, e, n) {
      return (
        (e = EC(e)) in t
          ? Object.defineProperty(t, e, {
              value: n,
              enumerable: !0,
              configurable: !0,
              writable: !0,
            })
          : (t[e] = n),
        t
      );
    }
    function wC(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function SC(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, EC(r.key), r);
      }
    }
    function EC(t) {
      var e = (function (t, e) {
        if ("object" != yC(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != yC(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == yC(e) ? e : e + "";
    }
    function kC(t, e, n) {
      return (
        (e = PC(e)),
        (function (t, e) {
          if (e && ("object" == yC(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          TC()
            ? Reflect.construct(e, n || [], PC(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function TC() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (TC = function () {
        return !!t;
      })();
    }
    function PC(t) {
      return (
        (PC = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        PC(t)
      );
    }
    function OC(t, e) {
      return (
        (OC = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        OC(t, e)
      );
    }
    var CC = {
        configKey: "isFontEmojiFeature",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !0,
        shouldRun: !1,
        isFrameRelated: !1,
        runInUns: !1,
        runInSlave: !0,
        runInLean: !0,
        isRunning: !1,
        instance: null,
      },
      jC = Object.freeze({
        whiteSpace: "nowrap",
        letterSpacing: "normal",
        lineHeight: "normal",
        textTransform: "none",
        fontVariant: "normal",
        fontFeatureSettings: "normal",
        fontKerning: "auto",
        direction: "ltr",
        writingMode: "horizontal-tb",
        fontSize: "16px",
      }),
      MC = Object.freeze({
        maxFrames: 12,
        minSamples: 3,
        stableHitsTarget: 2,
        absTolPx: 0,
        relTol: 0,
        quantStep: 0,
      }),
      RC = (function (t) {
        function e(t) {
          var r,
            o =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : n.g.window,
            i =
              arguments.length > 2 && void 0 !== arguments[2]
                ? arguments[2]
                : n.g.document;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((r = kC(this, e))._dataQ = t),
            (r._window = o),
            (r._document = i),
            r
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && OC(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && SC(t.prototype, e),
              n && SC(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "_buildEmojiString",
                value: function () {
                  return Array.from({ length: 80 }, function (t, e) {
                    return String.fromCodePoint(128512 + e);
                  })
                    .join("")
                    .normalize("NFC");
                },
              },
              {
                key: "_buildSpan",
                value: function (t, e, n) {
                  var r = t.createElement("span");
                  try {
                    r.style.all = "initial";
                  } catch (t) {
                    _t.warn("applying span.style.all failed", t);
                  }
                  return Object.assign(r.style, n), (r.textContent = e), r;
                },
              },
              {
                key: "startFeature",
                value:
                  ((r = mC().m(function t() {
                    var e,
                      n,
                      r = this;
                    return mC().w(
                      function (t) {
                        for (;;)
                          switch ((t.p = t.n)) {
                            case 0:
                              return (
                                (t.p = 0),
                                (t.n = 1),
                                hC(
                                  gC(
                                    {
                                      hostWindow: this._window,
                                      hostDocument: this._document,
                                      frameId: "cd__frame__font_emoji",
                                      buildNode: function (t) {
                                        var e = t.doc;
                                        return r._buildSpan(
                                          e,
                                          r._buildEmojiString(),
                                          jC
                                        );
                                      },
                                    },
                                    MC
                                  )
                                )
                              );
                            case 1:
                              (e = t.v) &&
                                this._dataQ.addToQueue(
                                  "static_fields",
                                  ["font_emoji_info", e],
                                  !1
                                ),
                                (t.n = 3);
                              break;
                            case 2:
                              (t.p = 2),
                                (n = t.v),
                                _t.error(
                                  "Failed to collect emoji font information",
                                  n
                                );
                            case 3:
                              return t.a(2);
                          }
                      },
                      t,
                      this,
                      [[0, 2]]
                    );
                  })),
                  (o = function () {
                    var t = this,
                      e = arguments;
                    return new Promise(function (n, o) {
                      var i = r.apply(t, e);
                      function a(t) {
                        wC(i, n, o, a, u, "next", t);
                      }
                      function u(t) {
                        wC(i, n, o, a, u, "throw", t);
                      }
                      a(void 0);
                    });
                  }),
                  function () {
                    return o.apply(this, arguments);
                  }),
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return CC;
                },
              },
            ]
          )
        );
        var r, o;
      })(uo);
    function BC(t) {
      return (
        (BC =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        BC(t)
      );
    }
    function AC() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          xC(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (xC((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), xC(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        xC(f, "constructor", c),
        xC(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        xC(c, o, "GeneratorFunction"),
        xC(f),
        xC(f, o, "Generator"),
        xC(f, r, function () {
          return this;
        }),
        xC(f, "toString", function () {
          return "[object Generator]";
        }),
        (AC = function () {
          return { w: i, m: p };
        })()
      );
    }
    function xC(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (xC = function (t, e, n, r) {
        function i(e, n) {
          xC(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        xC(t, e, n, r);
    }
    function DC(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function LC(t, e) {
      return (
        (function (t) {
          if (Array.isArray(t)) return t;
        })(t) ||
        (function (t, e) {
          var n =
            null == t
              ? null
              : ("undefined" != typeof Symbol && t[Symbol.iterator]) ||
                t["@@iterator"];
          if (null != n) {
            var r,
              o,
              i,
              a,
              u = [],
              s = !0,
              c = !1;
            try {
              if (((i = (n = n.call(t)).next), 0 === e)) {
                if (Object(n) !== n) return;
                s = !1;
              } else
                for (
                  ;
                  !(s = (r = i.call(n)).done) &&
                  (u.push(r.value), u.length !== e);
                  s = !0
                );
            } catch (t) {
              (c = !0), (o = t);
            } finally {
              try {
                if (
                  !s &&
                  null != n.return &&
                  ((a = n.return()), Object(a) !== a)
                )
                  return;
              } finally {
                if (c) throw o;
              }
            }
            return u;
          }
        })(t, e) ||
        (function (t, e) {
          if (t) {
            if ("string" == typeof t) return NC(t, e);
            var n = {}.toString.call(t).slice(8, -1);
            return (
              "Object" === n && t.constructor && (n = t.constructor.name),
              "Map" === n || "Set" === n
                ? Array.from(t)
                : "Arguments" === n ||
                  /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                ? NC(t, e)
                : void 0
            );
          }
        })(t, e) ||
        (function () {
          throw new TypeError(
            "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
          );
        })()
      );
    }
    function NC(t, e) {
      (null == e || e > t.length) && (e = t.length);
      for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
      return r;
    }
    function IC(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, FC(r.key), r);
      }
    }
    function FC(t) {
      var e = (function (t, e) {
        if ("object" != BC(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != BC(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == BC(e) ? e : e + "";
    }
    function UC(t, e, n) {
      return (
        (e = GC(e)),
        (function (t, e) {
          if (e && ("object" == BC(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          WC()
            ? Reflect.construct(e, n || [], GC(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function WC() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (WC = function () {
        return !!t;
      })();
    }
    function GC(t) {
      return (
        (GC = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        GC(t)
      );
    }
    function HC(t, e) {
      return (
        (HC = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        HC(t, e)
      );
    }
    var QC = {
        configKey: "isFontMathFeature",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !0,
        shouldRun: !1,
        isFrameRelated: !1,
        runInUns: !1,
        runInSlave: !0,
        runInLean: !0,
        isRunning: !1,
        instance: null,
      },
      zC = (function (t) {
        function e(t) {
          var r,
            o =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : n.g.window,
            i =
              arguments.length > 2 && void 0 !== arguments[2]
                ? arguments[2]
                : n.g.document;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((r = UC(this, e))._dataQ = t),
            (r._window = o),
            (r._document = i),
            r
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && HC(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && IC(t.prototype, e),
              n && IC(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "_buildMathML",
                value: function (t) {
                  var e = "http://www.w3.org/1998/Math/MathML",
                    n = t.createElementNS(e, "math"),
                    r = t.createElementNS(e, "mrow"),
                    o = t.createElementNS(e, "munderover"),
                    i = t.createElementNS(e, "mmultiscripts"),
                    a = t.createElementNS(e, "mo");
                  (a.textContent = "∏"), i.appendChild(a), o.appendChild(i);
                  for (
                    var u = 0,
                      s = [
                        ["𝔈", "υ", "τ", "ρ", "σ"],
                        ["𝔇", "π", "ο", "ν", "ξ"],
                        ["𝔄", "δ", "γ", "α", "β"],
                        ["𝔅", "θ", "η", "ε", "ζ"],
                        ["𝔉", "ω", "ψ", "ϕ", "χ"],
                        ["ℭ", "μ", "λ", "ι", "κ"],
                      ];
                    u < s.length;
                    u++
                  ) {
                    var c = LC(s[u], 5),
                      l = c[0],
                      f = c[1],
                      p = c[2],
                      h = c[3],
                      d = c[4],
                      y = t.createElementNS(e, "mmultiscripts"),
                      m = t.createElementNS(e, "mi");
                    m.textContent = l;
                    var v = t.createElementNS(e, "mi");
                    v.textContent = f;
                    var b = t.createElementNS(e, "mi");
                    b.textContent = p;
                    var g = t.createElementNS(e, "mprescripts"),
                      _ = t.createElementNS(e, "mi");
                    _.textContent = h;
                    var w = t.createElementNS(e, "mi");
                    (w.textContent = d),
                      y.append(m, v, b, g, _, w),
                      o.appendChild(y);
                  }
                  r.appendChild(o), n.appendChild(r);
                  try {
                    n.style.all = "initial";
                  } catch (t) {
                    _t.warn(
                      "FontMathFeature: applying math.style.all failed",
                      t
                    );
                  }
                  return (
                    (n.style.whiteSpace = "nowrap"),
                    (n.style.display = "inline-block"),
                    (n.style.letterSpacing = "normal"),
                    (n.style.lineHeight = "normal"),
                    (n.style.textTransform = "none"),
                    (n.style.fontVariant = "normal"),
                    (n.style.fontFeatureSettings = "normal"),
                    (n.style.fontKerning = "auto"),
                    (n.style.direction = "ltr"),
                    (n.style.writingMode = "horizontal-tb"),
                    (n.style.fontSize = "16px"),
                    n
                  );
                },
              },
              {
                key: "startFeature",
                value:
                  ((r = AC().m(function t() {
                    var e,
                      n,
                      r = this;
                    return AC().w(
                      function (t) {
                        for (;;)
                          switch ((t.p = t.n)) {
                            case 0:
                              return (
                                (t.p = 0),
                                (t.n = 1),
                                hC({
                                  hostWindow: this._window,
                                  hostDocument: this._document,
                                  frameId: "cd__frame__font_math",
                                  buildNode: function (t) {
                                    var e = t.doc;
                                    return r._buildMathML(e);
                                  },
                                  maxFrames: 12,
                                  minSamples: 3,
                                  stableHitsTarget: 2,
                                  absTolPx: 0,
                                  relTol: 0,
                                  quantStep: 0,
                                })
                              );
                            case 1:
                              (e = t.v) &&
                                this._dataQ.addToQueue(
                                  "static_fields",
                                  ["font_math_info", e],
                                  !1
                                ),
                                (t.n = 3);
                              break;
                            case 2:
                              (t.p = 2),
                                (n = t.v),
                                _t.error(
                                  "Failed to collect math font information",
                                  n
                                );
                            case 3:
                              return t.a(2);
                          }
                      },
                      t,
                      this,
                      [[0, 2]]
                    );
                  })),
                  (o = function () {
                    var t = this,
                      e = arguments;
                    return new Promise(function (n, o) {
                      var i = r.apply(t, e);
                      function a(t) {
                        DC(i, n, o, a, u, "next", t);
                      }
                      function u(t) {
                        DC(i, n, o, a, u, "throw", t);
                      }
                      a(void 0);
                    });
                  }),
                  function () {
                    return o.apply(this, arguments);
                  }),
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return QC;
                },
              },
            ]
          )
        );
        var r, o;
      })(uo);
    function VC(t) {
      return (
        (VC =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        VC(t)
      );
    }
    function KC() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          qC(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (qC((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), qC(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        qC(f, "constructor", c),
        qC(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        qC(c, o, "GeneratorFunction"),
        qC(f),
        qC(f, o, "Generator"),
        qC(f, r, function () {
          return this;
        }),
        qC(f, "toString", function () {
          return "[object Generator]";
        }),
        (KC = function () {
          return { w: i, m: p };
        })()
      );
    }
    function qC(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (qC = function (t, e, n, r) {
        function i(e, n) {
          qC(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        qC(t, e, n, r);
    }
    function JC(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function XC(t, e) {
      return (
        (function (t) {
          if (Array.isArray(t)) return t;
        })(t) ||
        (function (t, e) {
          var n =
            null == t
              ? null
              : ("undefined" != typeof Symbol && t[Symbol.iterator]) ||
                t["@@iterator"];
          if (null != n) {
            var r,
              o,
              i,
              a,
              u = [],
              s = !0,
              c = !1;
            try {
              if (((i = (n = n.call(t)).next), 0 === e)) {
                if (Object(n) !== n) return;
                s = !1;
              } else
                for (
                  ;
                  !(s = (r = i.call(n)).done) &&
                  (u.push(r.value), u.length !== e);
                  s = !0
                );
            } catch (t) {
              (c = !0), (o = t);
            } finally {
              try {
                if (
                  !s &&
                  null != n.return &&
                  ((a = n.return()), Object(a) !== a)
                )
                  return;
              } finally {
                if (c) throw o;
              }
            }
            return u;
          }
        })(t, e) ||
        (function (t, e) {
          if (t) {
            if ("string" == typeof t) return YC(t, e);
            var n = {}.toString.call(t).slice(8, -1);
            return (
              "Object" === n && t.constructor && (n = t.constructor.name),
              "Map" === n || "Set" === n
                ? Array.from(t)
                : "Arguments" === n ||
                  /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                ? YC(t, e)
                : void 0
            );
          }
        })(t, e) ||
        (function () {
          throw new TypeError(
            "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
          );
        })()
      );
    }
    function YC(t, e) {
      (null == e || e > t.length) && (e = t.length);
      for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
      return r;
    }
    function ZC(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, $C(r.key), r);
      }
    }
    function $C(t) {
      var e = (function (t, e) {
        if ("object" != VC(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != VC(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == VC(e) ? e : e + "";
    }
    function tj(t, e, n) {
      return (
        (e = nj(e)),
        (function (t, e) {
          if (e && ("object" == VC(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          ej()
            ? Reflect.construct(e, n || [], nj(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function ej() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (ej = function () {
        return !!t;
      })();
    }
    function nj(t) {
      return (
        (nj = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        nj(t)
      );
    }
    function rj(t, e) {
      return (
        (rj = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        rj(t, e)
      );
    }
    var oj = {
        configKey: "isFontWidthFeature",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !0,
        shouldRun: !1,
        isFrameRelated: !1,
        runInUns: !1,
        runInSlave: !0,
        runInLean: !0,
        isRunning: !1,
        instance: null,
      },
      ij = (function (t) {
        function e(t) {
          var n,
            r =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : window.document,
            o =
              arguments.length > 2 && void 0 !== arguments[2]
                ? arguments[2]
                : window.devicePixelRatio;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((n = tj(this, e))._dataQ = t),
            (n._document = r),
            (n._devicePixelRatio = o),
            n
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && rj(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && ZC(t.prototype, e),
              n && ZC(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "_measureFontWidths",
                value: function () {
                  var t = this,
                    e = {
                      default: [],
                      apple: [{ font: "-apple-system-body" }],
                      serif: [{ fontFamily: "serif" }],
                      sans: [{ fontFamily: "sans-serif" }],
                      mono: [{ fontFamily: "monospace" }],
                      min: [{ fontSize: "1px" }],
                      system: [{ fontFamily: "system-ui" }],
                    };
                  function n(t, e, n) {
                    (e.style.width = "".concat(n, "px")),
                      (e.style.webkitTextSizeAdjust = e.style.textSizeAdjust =
                        "none"),
                      this._isZoomNeeded()
                        ? (e.style.zoom = "".concat(1 / this._devicePixelRatio))
                        : this._isZoomResetNeeded() && (e.style.zoom = "reset");
                    var r = t.createElement("div");
                    (r.textContent = Array.from(
                      { length: (n / 20) | 0 },
                      function () {
                        return "word";
                      }
                    ).join(" ")),
                      e.appendChild(r);
                  }
                  return function (t) {
                    var e =
                        arguments.length > 1 && void 0 !== arguments[1]
                          ? arguments[1]
                          : 4e3,
                      n = this._document.createElement("iframe");
                    this._document.body.appendChild(n);
                    var r = n.contentDocument;
                    r.open(),
                      r.write(
                        '<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1"></head><body></body></html>'
                      ),
                      r.close();
                    var o = t(r, r.body, e);
                    return this._document.body.removeChild(n), o;
                  }.call(this, function (r, o, i) {
                    return (
                      n.call(t, r, o, i),
                      (function (t, n) {
                        for (
                          var r = {},
                            o = {},
                            i = function () {
                              var e = XC(u[a], 2),
                                o = e[0],
                                i = e[1][0] || {},
                                s = t.createElement("span");
                              (s.textContent = "mmMwWLliI0fiflO&1"),
                                (s.style.whiteSpace = "nowrap"),
                                Object.entries(i).forEach(function (t) {
                                  var e = XC(t, 2),
                                    n = e[0],
                                    r = e[1];
                                  void 0 !== r && (s.style[n] = r);
                                }),
                                (r[o] = s),
                                n.append(t.createElement("br"), s);
                            },
                            a = 0,
                            u = Object.entries(e);
                          a < u.length;
                          a++
                        )
                          i();
                        return (
                          Object.keys(e).forEach(function (t) {
                            o[t] = r[t].getBoundingClientRect().width;
                          }),
                          o
                        );
                      })(r, o)
                    );
                  });
                },
              },
              {
                key: "_isZoomNeeded",
                value: function () {
                  return !0;
                },
              },
              {
                key: "_isZoomResetNeeded",
                value: function () {
                  return !1;
                },
              },
              {
                key: "startFeature",
                value:
                  ((n = KC().m(function t() {
                    var e;
                    return KC().w(
                      function (t) {
                        for (;;)
                          switch (t.n) {
                            case 0:
                              try {
                                (e = this._measureFontWidths()),
                                  this._dataQ.addToQueue(
                                    "static_fields",
                                    ["font_width_info", e],
                                    !1
                                  );
                              } catch (t) {
                                _t.error(
                                  "Failed to collect font width information",
                                  t
                                );
                              }
                            case 1:
                              return t.a(2);
                          }
                      },
                      t,
                      this
                    );
                  })),
                  (r = function () {
                    var t = this,
                      e = arguments;
                    return new Promise(function (r, o) {
                      var i = n.apply(t, e);
                      function a(t) {
                        JC(i, r, o, a, u, "next", t);
                      }
                      function u(t) {
                        JC(i, r, o, a, u, "throw", t);
                      }
                      a(void 0);
                    });
                  }),
                  function () {
                    return r.apply(this, arguments);
                  }),
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return oj;
                },
              },
            ]
          )
        );
        var n, r;
      })(uo);
    function aj(t) {
      return (
        (aj =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        aj(t)
      );
    }
    function uj(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, sj(r.key), r);
      }
    }
    function sj(t) {
      var e = (function (t, e) {
        if ("object" != aj(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != aj(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == aj(e) ? e : e + "";
    }
    function cj(t, e, n) {
      return (
        (e = fj(e)),
        (function (t, e) {
          if (e && ("object" == aj(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          lj()
            ? Reflect.construct(e, n || [], fj(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function lj() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (lj = function () {
        return !!t;
      })();
    }
    function fj(t) {
      return (
        (fj = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        fj(t)
      );
    }
    function pj(t, e) {
      return (
        (pj = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        pj(t, e)
      );
    }
    var hj = (function (t) {
      function e(t) {
        var n;
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          (n = cj(this, e)).validateParams(t),
          (n.isHighRes = t),
          n
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && pj(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && uj(t.prototype, e),
            n && uj(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "validateParams",
            value: function (t) {
              "boolean" == typeof t ||
                _t.warn(
                  "wrong type in ScreenHighRes parameters. isHighRes : {expected: boolean, received: ".concat(
                    aj(t),
                    "}"
                  )
                );
            },
          },
          {
            key: "buildQueueMessage",
            value: function () {
              var t = [this.getName(), this.isHighRes];
              return this.validateMessage(t), t;
            },
          },
          {
            key: "validateMessage",
            value: function (t) {
              ("string" == typeof t[0] && "boolean" == typeof t[1]) ||
                _t.warn("ScreenHighRes - Contract verification failed");
            },
          },
          {
            key: "getName",
            value: function () {
              return "screen_high_res";
            },
          },
        ])
      );
    })(vm);
    function dj(t) {
      return (
        (dj =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        dj(t)
      );
    }
    function yj(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, mj(r.key), r);
      }
    }
    function mj(t) {
      var e = (function (t, e) {
        if ("object" != dj(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != dj(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == dj(e) ? e : e + "";
    }
    function vj(t, e, n) {
      return (
        (e = gj(e)),
        (function (t, e) {
          if (e && ("object" == dj(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          bj()
            ? Reflect.construct(e, n || [], gj(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function bj() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (bj = function () {
        return !!t;
      })();
    }
    function gj(t) {
      return (
        (gj = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        gj(t)
      );
    }
    function _j(t, e) {
      return (
        (_j = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        _j(t, e)
      );
    }
    var wj = {
        configKey: "isScreenHighResFeature",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !0,
        shouldRun: !1,
        isFrameRelated: !1,
        runInUns: !1,
        runInSlave: !0,
        runInLean: !0,
        isRunning: !1,
        instance: null,
      },
      Sj = (function (t) {
        function e(t) {
          var n;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((n = vj(this, e))._dataQ = t),
            n
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && _j(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && yj(t.prototype, e),
              n && yj(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value: function () {
                  _t.info("Starting Screen High Resolution Feature");
                  var t = e.getScreenHighResInfo(),
                    n = new hj(t).buildQueueMessage();
                  this._dataQ.addToQueue("static_fields", n, !1);
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return wj;
                },
              },
              {
                key: "getScreenHighResInfo",
                value: function () {
                  var t = e.getMediaQueryList(
                    "(-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2), (min-resolution: 192dpi)"
                  );
                  return !!t && t.matches;
                },
              },
              {
                key: "getMediaQueryList",
                value: function (t) {
                  return "undefined" != typeof window &&
                    "function" == typeof window.matchMedia
                    ? window.matchMedia(t)
                    : null;
                },
              },
            ]
          )
        );
      })(uo);
    function Ej(t) {
      return (
        (Ej =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Ej(t)
      );
    }
    function kj() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          Tj(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (Tj((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), Tj(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        Tj(f, "constructor", c),
        Tj(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        Tj(c, o, "GeneratorFunction"),
        Tj(f),
        Tj(f, o, "Generator"),
        Tj(f, r, function () {
          return this;
        }),
        Tj(f, "toString", function () {
          return "[object Generator]";
        }),
        (kj = function () {
          return { w: i, m: p };
        })()
      );
    }
    function Tj(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (Tj = function (t, e, n, r) {
        function i(e, n) {
          Tj(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        Tj(t, e, n, r);
    }
    function Pj(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function Oj(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Cj(r.key), r);
      }
    }
    function Cj(t) {
      var e = (function (t, e) {
        if ("object" != Ej(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Ej(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Ej(e) ? e : e + "";
    }
    function jj(t, e, n) {
      return (
        (e = Rj(e)),
        (function (t, e) {
          if (e && ("object" == Ej(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          Mj()
            ? Reflect.construct(e, n || [], Rj(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function Mj() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (Mj = function () {
        return !!t;
      })();
    }
    function Rj(t) {
      return (
        (Rj = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        Rj(t)
      );
    }
    function Bj(t, e) {
      return (
        (Bj = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        Bj(t, e)
      );
    }
    var Aj = {
        configKey: "isHeapFeature",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !0,
        shouldRun: !1,
        isFrameRelated: !1,
        runInUns: !1,
        runInSlave: !1,
        runInLean: !1,
        isRunning: !1,
        instance: null,
      },
      xj = (function (t) {
        function e(t) {
          var n,
            r =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : window.performance,
            o =
              arguments.length > 2 && void 0 !== arguments[2]
                ? arguments[2]
                : null;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((n = jj(this, e))._dataQ = t),
            (n._performance = r),
            (n._logger = o),
            n
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && Bj(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && Oj(t.prototype, e),
              n && Oj(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "collectHeapData",
                value: function () {
                  var t = { timestamp: Date.now() };
                  try {
                    if (this._performance && this._performance.memory) {
                      var e = this._performance.memory,
                        n = e.usedJSHeapSize,
                        r = e.totalJSHeapSize,
                        o = e.jsHeapSizeLimit;
                      void 0 !== n && (t.usedJSHeapSize = n),
                        void 0 !== r && (t.totalJSHeapSize = r),
                        void 0 !== o && (t.jsHeapSizeLimit = o);
                    }
                  } catch (t) {
                    this._logger &&
                      this._logger.debug(
                        "HeapCollector - Error collecting heap data:",
                        t
                      );
                  }
                  return t;
                },
              },
              {
                key: "startFeature",
                value:
                  ((n = kj().m(function t() {
                    var e;
                    return kj().w(
                      function (t) {
                        for (;;)
                          switch (t.n) {
                            case 0:
                              this._logger &&
                                this._logger.info(
                                  "HeapCollector - Starting heap data collection"
                                );
                              try {
                                (e = this.collectHeapData()),
                                  this._logger &&
                                    this._logger.debug(
                                      "HeapCollector - Heap Data collected: " +
                                        JSON.stringify(e)
                                    ),
                                  this.sendData(e);
                              } catch (t) {
                                this._logger &&
                                  this._logger.error(
                                    "HeapCollector - Error during data collection:",
                                    t
                                  );
                              }
                            case 1:
                              return t.a(2);
                          }
                      },
                      t,
                      this
                    );
                  })),
                  (r = function () {
                    var t = this,
                      e = arguments;
                    return new Promise(function (r, o) {
                      var i = n.apply(t, e);
                      function a(t) {
                        Pj(i, r, o, a, u, "next", t);
                      }
                      function u(t) {
                        Pj(i, r, o, a, u, "throw", t);
                      }
                      a(void 0);
                    });
                  }),
                  function () {
                    return r.apply(this, arguments);
                  }),
              },
              {
                key: "sendData",
                value: function (t) {
                  this._dataQ.addToQueue("static_fields", ["heap", t], !1);
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return Aj;
                },
              },
            ]
          )
        );
        var n, r;
      })(uo),
      Dj = xj;
    function Lj(t) {
      return (
        (Lj =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Lj(t)
      );
    }
    function Nj() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          Ij(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (Ij((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), Ij(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        Ij(f, "constructor", c),
        Ij(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        Ij(c, o, "GeneratorFunction"),
        Ij(f),
        Ij(f, o, "Generator"),
        Ij(f, r, function () {
          return this;
        }),
        Ij(f, "toString", function () {
          return "[object Generator]";
        }),
        (Nj = function () {
          return { w: i, m: p };
        })()
      );
    }
    function Ij(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (Ij = function (t, e, n, r) {
        function i(e, n) {
          Ij(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        Ij(t, e, n, r);
    }
    function Fj(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function Uj(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Wj(r.key), r);
      }
    }
    function Wj(t) {
      var e = (function (t, e) {
        if ("object" != Lj(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Lj(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Lj(e) ? e : e + "";
    }
    var Gj = (function () {
        return (function (t, e, n) {
          return (
            e && Uj(t.prototype, e),
            n && Uj(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t() {
            var e =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : null,
              n =
                arguments.length > 1 && void 0 !== arguments[1]
                  ? arguments[1]
                  : null;
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (this._logger = e),
              (this._typedArrayFactory = n || {
                createFloat32Array: function (t) {
                  return new Float32Array(t);
                },
                createUint8Array: function (t) {
                  return new Uint8Array(t);
                },
                createUint32Array: function (t) {
                  return new Uint32Array(t);
                },
                createBigInt64Array: function (t) {
                  return new BigInt64Array(t);
                },
              });
          },
          [
            {
              key: "_getNaNSignByte",
              value: function () {
                try {
                  var t = this._typedArrayFactory.createFloat32Array(1),
                    e = this._typedArrayFactory.createUint8Array(t.buffer);
                  return (
                    (t[0] = 1 / 0),
                    (t[0] = t[0] - t[0]),
                    120 ===
                    this._typedArrayFactory.createUint8Array(
                      this._typedArrayFactory.createUint32Array([305419896])
                        .buffer
                    )[0]
                      ? e[3]
                      : e[0]
                  );
                } catch (t) {
                  return void (
                    this._logger &&
                    this._logger.debug(
                      "ArchitectureDetectorService - Error getting NaN sign byte:",
                      t
                    )
                  );
                }
              },
            },
            {
              key: "_getPointerSize",
              value: function () {
                try {
                  return this._typedArrayFactory.createBigInt64Array(1), 64;
                } catch (t) {
                  return 32;
                }
              },
            },
            {
              key: "_getEndianness",
              value: function () {
                try {
                  return (
                    120 ===
                    this._typedArrayFactory.createUint8Array(
                      this._typedArrayFactory.createUint32Array([305419896])
                        .buffer
                    )[0]
                  );
                } catch (t) {
                  return void (
                    this._logger &&
                    this._logger.debug(
                      "ArchitectureDetectorService - Error detecting endianness:",
                      t
                    )
                  );
                }
              },
            },
            {
              key: "detectArchitecture",
              value:
                ((t = Nj().m(function t() {
                  var e, n, r, o;
                  return Nj().w(
                    function (t) {
                      for (;;)
                        switch ((t.p = t.n)) {
                          case 0:
                            return (
                              (t.p = 0),
                              (e = this._getNaNSignByte()),
                              (n = this._getPointerSize()),
                              (r = this._getEndianness()),
                              t.a(2, {
                                signByte: e,
                                pointerSize: n,
                                isLittleEndian: r,
                              })
                            );
                          case 1:
                            return (
                              (t.p = 1),
                              (o = t.v),
                              this._logger &&
                                this._logger.debug(
                                  "ArchitectureDetectorService - Error detecting architecture:",
                                  o
                                ),
                              t.a(2, {
                                signByte: void 0,
                                pointerSize: void 0,
                                isLittleEndian: void 0,
                                error: o.message,
                              })
                            );
                        }
                    },
                    t,
                    this,
                    [[0, 1]]
                  );
                })),
                (e = function () {
                  var e = this,
                    n = arguments;
                  return new Promise(function (r, o) {
                    var i = t.apply(e, n);
                    function a(t) {
                      Fj(i, r, o, a, u, "next", t);
                    }
                    function u(t) {
                      Fj(i, r, o, a, u, "throw", t);
                    }
                    a(void 0);
                  });
                }),
                function () {
                  return e.apply(this, arguments);
                }),
            },
          ]
        );
        var t, e;
      })(),
      Hj = Gj;
    function Qj(t) {
      return (
        (Qj =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Qj(t)
      );
    }
    function zj(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Vj(r.key), r);
      }
    }
    function Vj(t) {
      var e = (function (t, e) {
        if ("object" != Qj(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Qj(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Qj(e) ? e : e + "";
    }
    var Kj = {
        1: 63.66,
        2: 9.925,
        3: 5.841,
        4: 4.604,
        5: 4.032,
        6: 3.707,
        7: 3.499,
        8: 3.355,
        9: 3.25,
        10: 3.169,
        11: 3.106,
        12: 3.055,
        13: 3.012,
        14: 2.977,
        15: 2.947,
        16: 2.921,
        17: 2.898,
        18: 2.878,
        19: 2.861,
        20: 2.845,
        21: 2.831,
        22: 2.819,
        23: 2.807,
        24: 2.797,
        25: 2.787,
        26: 2.779,
        27: 2.771,
        28: 2.763,
        29: 2.756,
        30: 2.75,
        32: 2.738,
        34: 2.728,
        36: 2.719,
        38: 2.712,
        40: 2.704,
        42: 2.698,
        44: 2.692,
        46: 2.687,
        48: 2.682,
        50: 2.678,
        55: 2.668,
        60: 2.66,
        65: 2.654,
        70: 2.648,
        80: 2.639,
        100: 2.626,
        150: 2.609,
        200: 2.601,
      },
      qj = (function () {
        return (function (t, e, n) {
          return (
            e && zj(t.prototype, e),
            n && zj(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t() {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (this.performance = window.performance || Date),
              this.performance.now ||
                (this.performance.now = this.performance.webkitNow
                  ? this.performance.webkitNow
                  : function () {
                      return +new Date();
                    });
            try {
              var e = new Blob(
                [
                  '"use strict";self.onmessage=function(e){for(var n=e.data;n;)n--;self.postMessage(null)};',
                ],
                { type: "application/javascript" }
              );
              this.workloadUrl = URL.createObjectURL(e);
            } catch (t) {
              _t.debug("CoreEstimatorService - Cannot create blob worker"),
                (this.workloadUrl = "");
            }
          },
          [
            {
              key: "getCoreCount",
              value: function () {
                var t = this;
                return new Promise(function (e) {
                  try {
                    if ("undefined" == typeof Worker || !t.workloadUrl)
                      return e(1);
                    var n,
                      r = [],
                      o = [];
                    t._iterate(
                      function (e, i) {
                        t._measure(r, e, 20, function (r) {
                          if (1 === e)
                            Array.prototype.push.apply(o, r),
                              (n = t._analyse(o)),
                              i(!0);
                          else {
                            var a = t._analyse(r),
                              u = a.uvariance / a.size,
                              s = n.uvariance / n.size,
                              c = (a.mean - n.mean) / Math.sqrt(u + s),
                              l =
                                Math.pow(u + s, 2) /
                                (Math.pow(a.uvariance, 2) /
                                  (Math.pow(a.size, 2) * (a.size - 1)) +
                                  Math.pow(n.uvariance, 2) /
                                    (Math.pow(n.size, 2) * (n.size - 1)));
                            i(t._accept(c, l));
                          }
                        });
                      },
                      function (n) {
                        r.forEach(function (t) {
                          return t.terminate();
                        }),
                          URL.revokeObjectURL(t.workloadUrl),
                          e(n);
                      }
                    );
                  } catch (t) {
                    _t.debug(
                      "CoreEstimatorService - Error in getCoreCount:",
                      t
                    ),
                      e(1);
                  }
                });
              },
            },
            {
              key: "_measure",
              value: function (t, e, n, r) {
                for (var o = this, i = [], a = t.length; a < e; a++)
                  t.push(new Worker(this.workloadUrl));
                this._loop(function (a) {
                  for (var u, s = e, c = 0; c < e; c++)
                    t[c].onmessage = function () {
                      --s ||
                        (n--, i.push(o.performance.now() - u), n ? a() : r(i));
                    };
                  for (var l = 0; l < e; l++) t[l].postMessage(4194304);
                  u = o.performance.now();
                });
              },
            },
            {
              key: "_loop",
              value: function (t) {
                !(function e() {
                  t(e);
                })();
              },
            },
            {
              key: "_iterate",
              value: function (t, e) {
                var n = 1,
                  r = 1 / 0,
                  o = function (a) {
                    t(1, function () {
                      t(a, function (t) {
                        if (t) (n = a), o(2 * a);
                        else {
                          if (((r = a), 1 === n)) return e(n);
                          i((3 * n) / 2, n / 4);
                        }
                      });
                    });
                  },
                  i = function (o, a) {
                    t(1, function () {
                      t(o, function (t) {
                        return (
                          t ? ((n = o), (o += a)) : ((r = o), (o -= a)),
                          r - n === 1 ? e(n) : a ? void i(o, a >> 1) : e(r - 1)
                        );
                      });
                    });
                  };
                o(2);
              },
            },
            {
              key: "_analyse",
              value: function (t) {
                var e = t.length;
                if (!e) return null;
                for (
                  var n = 1 / 0, r = -1 / 0, o = 0, i = 0, a = 0;
                  a < e;
                  a++
                ) {
                  var u = t[a];
                  u < n && (n = u),
                    u > r && (r = u),
                    (o += u),
                    (i += Math.pow(u, 2));
                }
                var s = o / e,
                  c = Math.pow(s, 2),
                  l = 0;
                return (
                  e > 1 && (l = (i - e * c) / (e - 1)),
                  { size: e, mean: s, uvariance: l }
                );
              },
            },
            {
              key: "_accept",
              value: function (t, e) {
                var n = Object.keys(Kj),
                  r = n.reduce(function (t, n) {
                    return e < n ? t : n;
                  }),
                  o = n.reduce(function (t, n) {
                    return e > n ? t : n;
                  }),
                  i = o - r;
                return t < this._linear(Kj[r], Kj[o], (e - r) / i);
              },
            },
            {
              key: "_linear",
              value: function (t, e, n) {
                return t + (e - t) * n;
              },
            },
          ]
        );
      })(),
      Jj = qj;
    function Xj(t) {
      return (
        (Xj =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Xj(t)
      );
    }
    function Yj(t, e) {
      return (
        (function (t) {
          if (Array.isArray(t)) return t;
        })(t) ||
        (function (t, e) {
          var n =
            null == t
              ? null
              : ("undefined" != typeof Symbol && t[Symbol.iterator]) ||
                t["@@iterator"];
          if (null != n) {
            var r,
              o,
              i,
              a,
              u = [],
              s = !0,
              c = !1;
            try {
              if (((i = (n = n.call(t)).next), 0 === e)) {
                if (Object(n) !== n) return;
                s = !1;
              } else
                for (
                  ;
                  !(s = (r = i.call(n)).done) &&
                  (u.push(r.value), u.length !== e);
                  s = !0
                );
            } catch (t) {
              (c = !0), (o = t);
            } finally {
              try {
                if (
                  !s &&
                  null != n.return &&
                  ((a = n.return()), Object(a) !== a)
                )
                  return;
              } finally {
                if (c) throw o;
              }
            }
            return u;
          }
        })(t, e) ||
        (function (t, e) {
          if (t) {
            if ("string" == typeof t) return Zj(t, e);
            var n = {}.toString.call(t).slice(8, -1);
            return (
              "Object" === n && t.constructor && (n = t.constructor.name),
              "Map" === n || "Set" === n
                ? Array.from(t)
                : "Arguments" === n ||
                  /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                ? Zj(t, e)
                : void 0
            );
          }
        })(t, e) ||
        (function () {
          throw new TypeError(
            "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
          );
        })()
      );
    }
    function Zj(t, e) {
      (null == e || e > t.length) && (e = t.length);
      for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
      return r;
    }
    function $j() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          tM(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (tM((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), tM(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        tM(f, "constructor", c),
        tM(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        tM(c, o, "GeneratorFunction"),
        tM(f),
        tM(f, o, "Generator"),
        tM(f, r, function () {
          return this;
        }),
        tM(f, "toString", function () {
          return "[object Generator]";
        }),
        ($j = function () {
          return { w: i, m: p };
        })()
      );
    }
    function tM(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (tM = function (t, e, n, r) {
        function i(e, n) {
          tM(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        tM(t, e, n, r);
    }
    function eM(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function nM(t) {
      return function () {
        var e = this,
          n = arguments;
        return new Promise(function (r, o) {
          var i = t.apply(e, n);
          function a(t) {
            eM(i, r, o, a, u, "next", t);
          }
          function u(t) {
            eM(i, r, o, a, u, "throw", t);
          }
          a(void 0);
        });
      };
    }
    function rM(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, oM(r.key), r);
      }
    }
    function oM(t) {
      var e = (function (t, e) {
        if ("object" != Xj(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Xj(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Xj(e) ? e : e + "";
    }
    function iM(t, e, n) {
      return (
        (e = uM(e)),
        (function (t, e) {
          if (e && ("object" == Xj(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          aM()
            ? Reflect.construct(e, n || [], uM(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function aM() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (aM = function () {
        return !!t;
      })();
    }
    function uM(t) {
      return (
        (uM = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        uM(t)
      );
    }
    function sM(t, e) {
      return (
        (sM = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        sM(t, e)
      );
    }
    var cM = {
        configKey: "isCPUFeature",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !0,
        shouldRun: !1,
        isFrameRelated: !1,
        runInUns: !1,
        runInSlave: !1,
        runInLean: !1,
        isRunning: !1,
        instance: null,
      },
      lM = (function (t) {
        function e(t) {
          var n;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((n = iM(this, e))._dataQ = t),
            n
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && sM(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && rM(t.prototype, e),
              n && rM(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "detectArchitecture",
                value:
                  ((o = nM(
                    $j().m(function t() {
                      var e, n;
                      return $j().w(
                        function (t) {
                          for (;;)
                            switch ((t.p = t.n)) {
                              case 0:
                                return (
                                  (t.p = 0),
                                  (e = new Hj()),
                                  (t.n = 1),
                                  e.detectArchitecture()
                                );
                              case 1:
                                return t.a(2, t.v);
                              case 2:
                                return (
                                  (t.p = 2),
                                  (n = t.v),
                                  _t.debug(
                                    "CPUDataCollector - Error detecting architecture:",
                                    n
                                  ),
                                  t.a(2, {
                                    signByte: void 0,
                                    pointerSize: void 0,
                                    isLittleEndian: void 0,
                                    error: n.message,
                                  })
                                );
                            }
                        },
                        t,
                        null,
                        [[0, 2]]
                      );
                    })
                  )),
                  function () {
                    return o.apply(this, arguments);
                  }),
              },
              {
                key: "detectAvailableCores",
                value:
                  ((r = nM(
                    $j().m(function t() {
                      var e, n;
                      return $j().w(
                        function (t) {
                          for (;;)
                            switch ((t.p = t.n)) {
                              case 0:
                                return (
                                  (t.p = 0),
                                  (e = new Jj()),
                                  (t.n = 1),
                                  e.getCoreCount()
                                );
                              case 1:
                                return t.a(2, t.v);
                              case 2:
                                return (
                                  (t.p = 2),
                                  (n = t.v),
                                  _t.debug(
                                    "CPUDataCollector - Error detecting available cores:",
                                    n
                                  ),
                                  t.a(2, 1)
                                );
                            }
                        },
                        t,
                        null,
                        [[0, 2]]
                      );
                    })
                  )),
                  function () {
                    return r.apply(this, arguments);
                  }),
              },
              {
                key: "startFeature",
                value:
                  ((n = nM(
                    $j().m(function t() {
                      var e, n, r, o, i, a;
                      return $j().w(
                        function (t) {
                          for (;;)
                            switch ((t.p = t.n)) {
                              case 0:
                                return (
                                  _t.info(
                                    "CPUDataCollector - Starting CPU data collection"
                                  ),
                                  (t.p = 1),
                                  (t.n = 2),
                                  Promise.all([
                                    this.detectArchitecture(),
                                    this.detectAvailableCores(),
                                  ])
                                );
                              case 2:
                                (e = t.v),
                                  (n = Yj(e, 2)),
                                  (r = n[0]),
                                  (o = n[1]),
                                  (i = { architecture: r, availableCores: o }),
                                  _t.debug(
                                    "CPUDataCollector - CPU Data collected: " +
                                      JSON.stringify(i)
                                  ),
                                  this.sendData(i),
                                  (t.n = 4);
                                break;
                              case 3:
                                (t.p = 3),
                                  (a = t.v),
                                  _t.error(
                                    "CPUDataCollector - Error during data collection:",
                                    a
                                  );
                              case 4:
                                return t.a(2);
                            }
                        },
                        t,
                        this,
                        [[1, 3]]
                      );
                    })
                  )),
                  function () {
                    return n.apply(this, arguments);
                  }),
              },
              {
                key: "sendData",
                value: function (t) {
                  this._dataQ.addToQueue("static_fields", ["cpu", t], !1);
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return cM;
                },
              },
            ]
          )
        );
        var n, r, o;
      })(uo),
      fM = lM;
    function pM(t) {
      return (
        (pM =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        pM(t)
      );
    }
    function hM() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          dM(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (dM((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), dM(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        dM(f, "constructor", c),
        dM(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        dM(c, o, "GeneratorFunction"),
        dM(f),
        dM(f, o, "Generator"),
        dM(f, r, function () {
          return this;
        }),
        dM(f, "toString", function () {
          return "[object Generator]";
        }),
        (hM = function () {
          return { w: i, m: p };
        })()
      );
    }
    function dM(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (dM = function (t, e, n, r) {
        function i(e, n) {
          dM(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        dM(t, e, n, r);
    }
    function yM(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function mM(t) {
      return function () {
        var e = this,
          n = arguments;
        return new Promise(function (r, o) {
          var i = t.apply(e, n);
          function a(t) {
            yM(i, r, o, a, u, "next", t);
          }
          function u(t) {
            yM(i, r, o, a, u, "throw", t);
          }
          a(void 0);
        });
      };
    }
    function vM(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, bM(r.key), r);
      }
    }
    function bM(t) {
      var e = (function (t, e) {
        if ("object" != pM(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != pM(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == pM(e) ? e : e + "";
    }
    var gM = (function () {
        return (function (t, e, n) {
          return (
            e && vM(t.prototype, e),
            n && vM(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t() {
            var e =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : {},
              n = e.log,
              r = e.document,
              o = e.performance,
              i = e.math;
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (this._log = n || _t),
              (this._document = r || window.document),
              (this._performance = o || window.performance),
              (this._math = i || Math),
              (this.contextTypes = ["webgl2"]);
          },
          [
            {
              key: "collectWebGLTiming",
              value:
                ((e = mM(
                  hM().m(function t() {
                    var e, n, r, o;
                    return hM().w(
                      function (t) {
                        for (;;)
                          switch ((t.p = t.n)) {
                            case 0:
                              if (
                                ((t.p = 0),
                                ((e =
                                  this._document.createElement(
                                    "canvas"
                                  )).width = 256),
                                (e.height = 128),
                                (n = e.getContext("webgl2")))
                              ) {
                                t.n = 1;
                                break;
                              }
                              return t.a(2, {});
                            case 1:
                              return (
                                (t.n = 2), this.runUniformMatrixBenchmark(n)
                              );
                            case 2:
                              return (r = t.v), t.a(2, r.results.totalTime);
                            case 3:
                              return (
                                (t.p = 3),
                                (o = t.v),
                                this._log.debug(
                                  "WebGLTimingService - Error collecting WebGL timing:",
                                  o
                                ),
                                t.a(2, {})
                              );
                          }
                      },
                      t,
                      this,
                      [[0, 3]]
                    );
                  })
                )),
                function () {
                  return e.apply(this, arguments);
                }),
            },
            {
              key: "runUniformMatrixBenchmark",
              value:
                ((t = mM(
                  hM().m(function t(e) {
                    var n, r, o, i, a, u, s, c, l, f, p, h, d, y;
                    return hM().w(
                      function (t) {
                        for (;;)
                          switch ((t.p = t.n)) {
                            case 0:
                              if (
                                ((n = {
                                  iterations: 1e3,
                                  matrixCount: 15,
                                  results: {},
                                }),
                                (t.p = 1),
                                (r = this.createTestMatrices(n.matrixCount)),
                                (o = this.createSimpleShaderProgram(e)))
                              ) {
                                t.n = 2;
                                break;
                              }
                              throw new Error(
                                "Failed to create shader program"
                              );
                            case 2:
                              for (
                                e.useProgram(o),
                                  i = e.getUniformLocation(o, "u_matrix"),
                                  a = 0;
                                a < 10;
                                a++
                              )
                                for (u = 0; u < r.length; u++)
                                  e.uniformMatrix4fv(i, !1, r[u]);
                              for (
                                s = this._performance.now(), c = 0;
                                c < n.iterations;
                                c++
                              )
                                for (l = 0; l < r.length; l++)
                                  e.uniformMatrix4fv(i, !1, r[l]);
                              (f = this._performance.now()),
                                (p = f - s),
                                (h = n.iterations * n.matrixCount),
                                (d = (h / p) * 1e3),
                                (n.results = {
                                  totalTime: p,
                                  operationsPerSecond: d,
                                }),
                                e.deleteProgram(o),
                                (t.n = 4);
                              break;
                            case 3:
                              (t.p = 3),
                                (y = t.v),
                                this._log.debug(
                                  "WebGLTimingService - Error running uniformMatrix benchmark:",
                                  y
                                ),
                                (n.results = {
                                  error: y.message,
                                  totalTime: 0,
                                  operationsPerSecond: 0,
                                });
                            case 4:
                              return t.a(2, n);
                          }
                      },
                      t,
                      this,
                      [[1, 3]]
                    );
                  })
                )),
                function (e) {
                  return t.apply(this, arguments);
                }),
            },
            {
              key: "createTestMatrices",
              value: function (t) {
                for (var e = [], n = 0; n < t; n++) {
                  var r = new Float32Array(16),
                    o = (n / t) * this._math.PI * 2,
                    i = this._math.cos(o),
                    a = this._math.sin(o);
                  (r[0] = i),
                    (r[1] = 0),
                    (r[2] = a),
                    (r[3] = 0),
                    (r[4] = 0),
                    (r[5] = 1),
                    (r[6] = 0),
                    (r[7] = 0),
                    (r[8] = -a),
                    (r[9] = 0),
                    (r[10] = i),
                    (r[11] = 0),
                    (r[12] = 0),
                    (r[13] = 0),
                    (r[14] = 0),
                    (r[15] = 1),
                    e.push(r);
                }
                return e;
              },
            },
            {
              key: "createSimpleShaderProgram",
              value: function (t) {
                try {
                  var e = t.createShader(t.VERTEX_SHADER);
                  if (
                    (t.shaderSource(
                      e,
                      "\n        attribute vec4 a_position;\n        uniform mat4 u_matrix;\n        void main() {\n          gl_Position = u_matrix * a_position;\n        }\n      "
                    ),
                    t.compileShader(e),
                    !t.getShaderParameter(e, t.COMPILE_STATUS))
                  )
                    return (
                      this._log.debug(
                        "WebGLTimingService - Vertex shader compilation failed:",
                        t.getShaderInfoLog(e)
                      ),
                      t.deleteShader(e),
                      null
                    );
                  var n = t.createShader(t.FRAGMENT_SHADER);
                  if (
                    (t.shaderSource(
                      n,
                      "\n        precision mediump float;\n        void main() {\n          gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);\n        }\n      "
                    ),
                    t.compileShader(n),
                    !t.getShaderParameter(n, t.COMPILE_STATUS))
                  )
                    return (
                      this._log.debug(
                        "WebGLTimingService - Fragment shader compilation failed:",
                        t.getShaderInfoLog(n)
                      ),
                      t.deleteShader(e),
                      t.deleteShader(n),
                      null
                    );
                  var r = t.createProgram();
                  return (
                    t.attachShader(r, e),
                    t.attachShader(r, n),
                    t.linkProgram(r),
                    t.getProgramParameter(r, t.LINK_STATUS)
                      ? (t.deleteShader(e), t.deleteShader(n), r)
                      : (this._log.debug(
                          "WebGLTimingService - Program linking failed:",
                          t.getProgramInfoLog(r)
                        ),
                        t.deleteShader(e),
                        t.deleteShader(n),
                        t.deleteProgram(r),
                        null)
                  );
                } catch (t) {
                  return (
                    this._log.debug(
                      "WebGLTimingService - Error creating shader program:",
                      t
                    ),
                    null
                  );
                }
              },
            },
          ]
        );
        var t, e;
      })(),
      _M = gM;
    function wM(t) {
      return (
        (wM =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        wM(t)
      );
    }
    function SM(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, EM(r.key), r);
      }
    }
    function EM(t) {
      var e = (function (t, e) {
        if ("object" != wM(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != wM(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == wM(e) ? e : e + "";
    }
    var kM = (function () {
        return (function (t, e, n) {
          return (
            e && SM(t.prototype, e),
            n && SM(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t(e, n) {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (this._performance = e || window.performance),
              (this._log = n || _t);
          },
          [
            {
              key: "collectBrowserTiming",
              value: function () {
                try {
                  var t = this.collectNavigationTiming(),
                    e = this.collectResourceTiming(),
                    n = this.collectPaintTiming(),
                    r = this.collectPerformanceTiming(),
                    o = this.collectBrowserCapabilities();
                  return {
                    domContentLoadedTime: t.domContentLoadedTime,
                    loadCompleteTime: t.loadCompleteTime,
                    firstPaintTime: n.firstPaintTime,
                    firstContentfulPaintTime: n.firstContentfulPaintTime,
                    averageResourceLoadTime: e.averageLoadTime,
                    resourceCount: e.count,
                    timeOrigin: r.timeOrigin,
                    performanceNow: r.now,
                    navigationStart: r.navigationStart,
                    browserProcessingTime: o.processingTime,
                    memoryUsage: o.memoryUsage,
                  };
                } catch (t) {
                  return (
                    this._log.debug(
                      "BrowserTimingService - Error collecting browser timing:",
                      t
                    ),
                    this.getFallbackResult()
                  );
                }
              },
            },
            {
              key: "collectNavigationTiming",
              value: function () {
                try {
                  var t = 0,
                    e = 0;
                  if (this._performance.getEntriesByType) {
                    var n = this._performance.getEntriesByType("navigation");
                    if (n.length > 0) {
                      var r = n[0];
                      (t = r.domContentLoadedEventEnd - r.startTime),
                        (e = r.loadEventEnd - r.startTime);
                    }
                  } else if (this._performance.timing) {
                    var o = this._performance.timing;
                    (t = o.domContentLoadedEventEnd - o.navigationStart),
                      (e = o.loadEventEnd - o.navigationStart);
                  }
                  return {
                    domContentLoadedTime: t || 0,
                    loadCompleteTime: e || 0,
                  };
                } catch (t) {
                  return (
                    this._log.debug(
                      "BrowserTimingService - Error collecting navigation timing:",
                      t
                    ),
                    { domContentLoadedTime: 0, loadCompleteTime: 0 }
                  );
                }
              },
            },
            {
              key: "collectResourceTiming",
              value: function () {
                try {
                  var t = 0,
                    e = 0;
                  if (this._performance.getEntriesByType) {
                    var n = this._performance.getEntriesByType("resource");
                    if (n.length > 0)
                      (t =
                        n.reduce(function (t, e) {
                          return t + e.duration;
                        }, 0) / n.length),
                        (e = n.length);
                  }
                  return { averageLoadTime: t || 0, count: e || 0 };
                } catch (t) {
                  return (
                    this._log.debug(
                      "BrowserTimingService - Error collecting resource timing:",
                      t
                    ),
                    { averageLoadTime: 0, count: 0 }
                  );
                }
              },
            },
            {
              key: "collectPaintTiming",
              value: function () {
                try {
                  var t = 0,
                    e = 0;
                  if (this._performance.getEntriesByType) {
                    var n = this._performance.getEntriesByType("paint");
                    if (n.length > 0) {
                      var r = n.find(function (t) {
                          return "first-paint" === t.name;
                        }),
                        o = n.find(function (t) {
                          return "first-contentful-paint" === t.name;
                        });
                      r && (t = r.startTime), o && (e = o.startTime);
                    }
                  }
                  return {
                    firstPaintTime: t || 0,
                    firstContentfulPaintTime: e || 0,
                  };
                } catch (t) {
                  return (
                    this._log.debug(
                      "BrowserTimingService - Error collecting paint timing:",
                      t
                    ),
                    { firstPaintTime: 0, firstContentfulPaintTime: 0 }
                  );
                }
              },
            },
            {
              key: "collectPerformanceTiming",
              value: function () {
                try {
                  return {
                    timeOrigin: this._performance.timeOrigin || 0,
                    now: this._performance.now(),
                    navigationStart: this._performance.timing
                      ? this._performance.timing.navigationStart
                      : 0,
                  };
                } catch (t) {
                  return (
                    this._log.debug(
                      "BrowserTimingService - Error collecting performance timing:",
                      t
                    ),
                    { timeOrigin: 0, now: 0, navigationStart: 0 }
                  );
                }
              },
            },
            {
              key: "collectBrowserCapabilities",
              value: function () {
                try {
                  for (var t = this._performance.now(), e = 0; e < 1e5; e++)
                    Math.sqrt(e);
                  var n = this._performance.now() - t,
                    r = 0;
                  return (
                    this._performance.memory &&
                      (r =
                        this._performance.memory.usedJSHeapSize / 1024 / 1024),
                    { processingTime: n, memoryUsage: r }
                  );
                } catch (t) {
                  return (
                    this._log.debug(
                      "BrowserTimingService - Error collecting browser capabilities:",
                      t
                    ),
                    { processingTime: 0, memoryUsage: 0 }
                  );
                }
              },
            },
            {
              key: "getFallbackResult",
              value: function () {
                return {
                  domContentLoadedTime: 0,
                  loadCompleteTime: 0,
                  firstPaintTime: 0,
                  firstContentfulPaintTime: 0,
                  averageResourceLoadTime: 0,
                  resourceCount: 0,
                  timeOrigin: 0,
                  performanceNow: 0,
                  navigationStart: 0,
                  browserProcessingTime: 0,
                  memoryUsage: 0,
                };
              },
            },
          ]
        );
      })(),
      TM = kM;
    function PM(t) {
      return (
        (PM =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        PM(t)
      );
    }
    function OM() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          CM(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (CM((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), CM(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        CM(f, "constructor", c),
        CM(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        CM(c, o, "GeneratorFunction"),
        CM(f),
        CM(f, o, "Generator"),
        CM(f, r, function () {
          return this;
        }),
        CM(f, "toString", function () {
          return "[object Generator]";
        }),
        (OM = function () {
          return { w: i, m: p };
        })()
      );
    }
    function CM(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (CM = function (t, e, n, r) {
        function i(e, n) {
          CM(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        CM(t, e, n, r);
    }
    function jM(t, e) {
      return (
        (function (t) {
          if (Array.isArray(t)) return t;
        })(t) ||
        (function (t, e) {
          var n =
            null == t
              ? null
              : ("undefined" != typeof Symbol && t[Symbol.iterator]) ||
                t["@@iterator"];
          if (null != n) {
            var r,
              o,
              i,
              a,
              u = [],
              s = !0,
              c = !1;
            try {
              if (((i = (n = n.call(t)).next), 0 === e)) {
                if (Object(n) !== n) return;
                s = !1;
              } else
                for (
                  ;
                  !(s = (r = i.call(n)).done) &&
                  (u.push(r.value), u.length !== e);
                  s = !0
                );
            } catch (t) {
              (c = !0), (o = t);
            } finally {
              try {
                if (
                  !s &&
                  null != n.return &&
                  ((a = n.return()), Object(a) !== a)
                )
                  return;
              } finally {
                if (c) throw o;
              }
            }
            return u;
          }
        })(t, e) ||
        (function (t, e) {
          if (t) {
            if ("string" == typeof t) return MM(t, e);
            var n = {}.toString.call(t).slice(8, -1);
            return (
              "Object" === n && t.constructor && (n = t.constructor.name),
              "Map" === n || "Set" === n
                ? Array.from(t)
                : "Arguments" === n ||
                  /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                ? MM(t, e)
                : void 0
            );
          }
        })(t, e) ||
        (function () {
          throw new TypeError(
            "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
          );
        })()
      );
    }
    function MM(t, e) {
      (null == e || e > t.length) && (e = t.length);
      for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
      return r;
    }
    function RM(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function BM(t) {
      return function () {
        var e = this,
          n = arguments;
        return new Promise(function (r, o) {
          var i = t.apply(e, n);
          function a(t) {
            RM(i, r, o, a, u, "next", t);
          }
          function u(t) {
            RM(i, r, o, a, u, "throw", t);
          }
          a(void 0);
        });
      };
    }
    function AM(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, xM(r.key), r);
      }
    }
    function xM(t) {
      var e = (function (t, e) {
        if ("object" != PM(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != PM(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == PM(e) ? e : e + "";
    }
    var DM = (function () {
        return (function (t, e, n) {
          return (
            e && AM(t.prototype, e),
            n && AM(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t() {
            var e =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : {},
              n = e.performance,
              r = e.log,
              o = e.worker,
              i = e.blob,
              a = e.url;
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (this._performance = n || window.performance || Date),
              this._performance.now ||
                (this._performance.now = this._performance.webkitNow
                  ? this._performance.webkitNow
                  : function () {
                      return +new Date();
                    }),
              (this._log = r || _t),
              (this._Worker = o || window.Worker),
              (this._Blob = i || window.Blob),
              (this._URL = a || window.URL);
          },
          [
            {
              key: "runBenchmarks",
              value:
                ((a = BM(
                  OM().m(function t() {
                    var e, n, r, o, i, a, u, s;
                    return OM().w(
                      function (t) {
                        for (;;)
                          switch ((t.p = t.n)) {
                            case 0:
                              return (
                                (t.p = 0),
                                (t.n = 1),
                                Promise.all([
                                  this.basicBenchmark(),
                                  this.integerBenchmark(),
                                  this.floatBenchmark(),
                                  this.memoryBenchmark(),
                                  this.cryptoBenchmark(),
                                ])
                              );
                            case 1:
                              return (
                                (e = t.v),
                                (n = jM(e, 5)),
                                (r = n[0]),
                                (o = n[1]),
                                (i = n[2]),
                                (a = n[3]),
                                (u = n[4]),
                                t.a(2, {
                                  basicOpsPerMs: r.opsPerMs,
                                  integerOpsPerMs: o.opsPerMs,
                                  floatOpsPerMs: i.opsPerMs,
                                  memoryOpsPerMs: a.opsPerMs,
                                  cryptoOpsPerMs: u.opsPerMs,
                                })
                              );
                            case 2:
                              return (
                                (t.p = 2),
                                (s = t.v),
                                this._log.debug(
                                  "CPUTimingService - Error running benchmarks:",
                                  s
                                ),
                                t.a(2, this.getFallbackResult())
                              );
                          }
                      },
                      t,
                      this,
                      [[0, 2]]
                    );
                  })
                )),
                function () {
                  return a.apply(this, arguments);
                }),
            },
            {
              key: "basicBenchmark",
              value:
                ((i = BM(
                  OM().m(function t() {
                    var e;
                    return OM().w(
                      function (t) {
                        for (;;)
                          switch ((t.p = t.n)) {
                            case 0:
                              return (
                                (t.p = 0),
                                (t.n = 1),
                                this.runWorkerBenchmark(
                                  "\n        self.onmessage = function(e) {\n          try {\n            const startTime = performance.now();\n            let result = 0;\n            for (let i = 0; i < 5000000; i++) {\n              result += Math.sqrt(i);\n            }\n            const executionTime = performance.now() - startTime;\n            \n            self.postMessage({ \n              success: true, \n              executionTime: executionTime,\n              operations: 5000000,\n              opsPerMs: Number((5000000 / executionTime).toPrecision(16))\n            });\n          } catch (error) {\n            self.postMessage({ success: false, error: error.message });\n          }\n        };\n      "
                                )
                              );
                            case 1:
                              return t.a(2, t.v);
                            case 2:
                              return (
                                (t.p = 2),
                                (e = t.v),
                                this._log.debug(
                                  "CPUTimingService - Error in basic benchmark:",
                                  e
                                ),
                                t.a(2, {
                                  executionTime: 0,
                                  operations: 0,
                                  opsPerMs: 0,
                                })
                              );
                          }
                      },
                      t,
                      this,
                      [[0, 2]]
                    );
                  })
                )),
                function () {
                  return i.apply(this, arguments);
                }),
            },
            {
              key: "integerBenchmark",
              value:
                ((o = BM(
                  OM().m(function t() {
                    var e;
                    return OM().w(
                      function (t) {
                        for (;;)
                          switch ((t.p = t.n)) {
                            case 0:
                              return (
                                (t.p = 0),
                                (t.n = 1),
                                this.runWorkerBenchmark(
                                  "\n        self.onmessage = function(e) {\n          try {\n            const startTime = performance.now();\n            let result = 0;\n            for (let i = 0; i < 10000000; i++) {\n              result = (result + i) * 31 | 0;\n            }\n            const executionTime = performance.now() - startTime;\n            \n            self.postMessage({ \n              success: true, \n              executionTime: executionTime,\n              operations: 10000000,\n              opsPerMs: Number((10000000 / executionTime).toPrecision(16))\n            });\n          } catch (error) {\n            self.postMessage({ success: false, error: error.message });\n          }\n        };\n      "
                                )
                              );
                            case 1:
                              return t.a(2, t.v);
                            case 2:
                              return (
                                (t.p = 2),
                                (e = t.v),
                                this._log.debug(
                                  "CPUTimingService - Error in integer benchmark:",
                                  e
                                ),
                                t.a(2, {
                                  executionTime: 0,
                                  operations: 0,
                                  opsPerMs: 0,
                                })
                              );
                          }
                      },
                      t,
                      this,
                      [[0, 2]]
                    );
                  })
                )),
                function () {
                  return o.apply(this, arguments);
                }),
            },
            {
              key: "floatBenchmark",
              value:
                ((r = BM(
                  OM().m(function t() {
                    var e;
                    return OM().w(
                      function (t) {
                        for (;;)
                          switch ((t.p = t.n)) {
                            case 0:
                              return (
                                (t.p = 0),
                                (t.n = 1),
                                this.runWorkerBenchmark(
                                  "\n        self.onmessage = function(e) {\n          try {\n            const startTime = performance.now();\n            let result = 0.1;\n            for (let i = 0; i < 5000000; i++) {\n              result += Math.sin(result) + Math.cos(i);\n            }\n            const executionTime = performance.now() - startTime;\n            \n            self.postMessage({ \n              success: true, \n              executionTime: executionTime,\n              operations: 5000000,\n              opsPerMs: Number((5000000 / executionTime).toPrecision(16))\n            });\n          } catch (error) {\n            self.postMessage({ success: false, error: error.message });\n          }\n        };\n      "
                                )
                              );
                            case 1:
                              return t.a(2, t.v);
                            case 2:
                              return (
                                (t.p = 2),
                                (e = t.v),
                                this._log.debug(
                                  "CPUTimingService - Error in float benchmark:",
                                  e
                                ),
                                t.a(2, {
                                  executionTime: 0,
                                  operations: 0,
                                  opsPerMs: 0,
                                })
                              );
                          }
                      },
                      t,
                      this,
                      [[0, 2]]
                    );
                  })
                )),
                function () {
                  return r.apply(this, arguments);
                }),
            },
            {
              key: "memoryBenchmark",
              value:
                ((n = BM(
                  OM().m(function t() {
                    var e;
                    return OM().w(
                      function (t) {
                        for (;;)
                          switch ((t.p = t.n)) {
                            case 0:
                              return (
                                (t.p = 0),
                                (t.n = 1),
                                this.runWorkerBenchmark(
                                  "\n        self.onmessage = function(e) {\n          try {\n            const startTime = performance.now();\n            const arr = new Uint32Array(1000000);\n            \n            // Sequential write\n            for (let i = 0; i < arr.length; i++) {\n              arr[i] = i;\n            }\n            \n            // Sequential read\n            let sum = 0;\n            for (let i = 0; i < arr.length; i++) {\n              sum += arr[i];\n            }\n            \n            const executionTime = performance.now() - startTime;\n            \n            self.postMessage({ \n              success: true, \n              executionTime: executionTime,\n              operations: arr.length * 2, // write + read\n              opsPerMs: Number(((arr.length * 2) / executionTime).toPrecision(16))\n            });\n          } catch (error) {\n            self.postMessage({ success: false, error: error.message });\n          }\n        };\n      "
                                )
                              );
                            case 1:
                              return t.a(2, t.v);
                            case 2:
                              return (
                                (t.p = 2),
                                (e = t.v),
                                this._log.debug(
                                  "CPUTimingService - Error in memory benchmark:",
                                  e
                                ),
                                t.a(2, {
                                  executionTime: 0,
                                  operations: 0,
                                  opsPerMs: 0,
                                })
                              );
                          }
                      },
                      t,
                      this,
                      [[0, 2]]
                    );
                  })
                )),
                function () {
                  return n.apply(this, arguments);
                }),
            },
            {
              key: "cryptoBenchmark",
              value:
                ((e = BM(
                  OM().m(function t() {
                    var e;
                    return OM().w(
                      function (t) {
                        for (;;)
                          switch ((t.p = t.n)) {
                            case 0:
                              return (
                                (t.p = 0),
                                (t.n = 1),
                                this.runWorkerBenchmark(
                                  "\n        self.onmessage = function(e) {\n          try {\n            const startTime = performance.now();\n            let result = 0;\n            \n            // Simple hash-like operations\n            for (let i = 0; i < 1000000; i++) {\n              let hash = i;\n              hash = ((hash << 5) - hash) + i;\n              hash = hash & hash; // Convert to 32-bit integer\n              result += hash;\n            }\n            \n            const executionTime = performance.now() - startTime;\n            \n            self.postMessage({ \n              success: true, \n              executionTime: executionTime,\n              operations: 1000000,\n              opsPerMs: Number((1000000 / executionTime).toPrecision(16))\n            });\n          } catch (error) {\n            self.postMessage({ success: false, error: error.message });\n          }\n        };\n      "
                                )
                              );
                            case 1:
                              return t.a(2, t.v);
                            case 2:
                              return (
                                (t.p = 2),
                                (e = t.v),
                                this._log.debug(
                                  "CPUTimingService - Error in crypto benchmark:",
                                  e
                                ),
                                t.a(2, {
                                  executionTime: 0,
                                  operations: 0,
                                  opsPerMs: 0,
                                })
                              );
                          }
                      },
                      t,
                      this,
                      [[0, 2]]
                    );
                  })
                )),
                function () {
                  return e.apply(this, arguments);
                }),
            },
            {
              key: "runWorkerBenchmark",
              value:
                ((t = BM(
                  OM().m(function t(e) {
                    var n = this;
                    return OM().w(function (t) {
                      for (;;)
                        if (0 === t.n)
                          return t.a(
                            2,
                            new Promise(function (t) {
                              try {
                                var r = new n._Blob([e], {
                                    type: "application/javascript",
                                  }),
                                  o = n._URL.createObjectURL(r),
                                  i = new n._Worker(o);
                                (i.onmessage = function (e) {
                                  i.terminate(),
                                    n._URL.revokeObjectURL(o),
                                    e.data.success
                                      ? t({
                                          executionTime: e.data.executionTime,
                                          opsPerMs: e.data.opsPerMs,
                                        })
                                      : (n._log.debug(
                                          "CPUTimingService - Worker benchmark failed:",
                                          e.data.error
                                        ),
                                        t({
                                          executionTime: 0,
                                          operations: 0,
                                          opsPerMs: 0,
                                        }));
                                }),
                                  (i.onerror = function (e) {
                                    i.terminate(),
                                      n._URL.revokeObjectURL(o),
                                      n._log.debug(
                                        "CPUTimingService - Worker error:",
                                        e
                                      ),
                                      t({
                                        executionTime: 0,
                                        operations: 0,
                                        opsPerMs: 0,
                                      });
                                  }),
                                  i.postMessage("start");
                              } catch (e) {
                                n._log.debug(
                                  "CPUTimingService - Error creating worker:",
                                  e
                                ),
                                  t({
                                    executionTime: 0,
                                    operations: 0,
                                    opsPerMs: 0,
                                  });
                              }
                            })
                          );
                    }, t);
                  })
                )),
                function (e) {
                  return t.apply(this, arguments);
                }),
            },
            {
              key: "getFallbackResult",
              value: function () {
                return {
                  basicOpsPerMs: 0,
                  integerOpsPerMs: 0,
                  floatOpsPerMs: 0,
                  memoryOpsPerMs: 0,
                  cryptoOpsPerMs: 0,
                };
              },
            },
          ]
        );
        var t, e, n, r, o, i, a;
      })(),
      LM = DM;
    function NM(t) {
      return (
        (NM =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        NM(t)
      );
    }
    function IM(t, e) {
      return (
        (function (t) {
          if (Array.isArray(t)) return t;
        })(t) ||
        (function (t, e) {
          var n =
            null == t
              ? null
              : ("undefined" != typeof Symbol && t[Symbol.iterator]) ||
                t["@@iterator"];
          if (null != n) {
            var r,
              o,
              i,
              a,
              u = [],
              s = !0,
              c = !1;
            try {
              if (((i = (n = n.call(t)).next), 0 === e)) {
                if (Object(n) !== n) return;
                s = !1;
              } else
                for (
                  ;
                  !(s = (r = i.call(n)).done) &&
                  (u.push(r.value), u.length !== e);
                  s = !0
                );
            } catch (t) {
              (c = !0), (o = t);
            } finally {
              try {
                if (
                  !s &&
                  null != n.return &&
                  ((a = n.return()), Object(a) !== a)
                )
                  return;
              } finally {
                if (c) throw o;
              }
            }
            return u;
          }
        })(t, e) ||
        FM(t, e) ||
        (function () {
          throw new TypeError(
            "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
          );
        })()
      );
    }
    function FM(t, e) {
      if (t) {
        if ("string" == typeof t) return UM(t, e);
        var n = {}.toString.call(t).slice(8, -1);
        return (
          "Object" === n && t.constructor && (n = t.constructor.name),
          "Map" === n || "Set" === n
            ? Array.from(t)
            : "Arguments" === n ||
              /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
            ? UM(t, e)
            : void 0
        );
      }
    }
    function UM(t, e) {
      (null == e || e > t.length) && (e = t.length);
      for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
      return r;
    }
    function WM(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, GM(r.key), r);
      }
    }
    function GM(t) {
      var e = (function (t, e) {
        if ("object" != NM(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != NM(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == NM(e) ? e : e + "";
    }
    var HM = (function () {
        return (function (t, e, n) {
          return (
            e && WM(t.prototype, e),
            n && WM(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t() {
            var e =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : {},
              n = e.log,
              r = e.date;
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (this._log = n || _t),
              (this._Date = r || Date),
              (this._fontScanTimes = new Map()),
              (this._onNewRecordAvailableCallback = null);
          },
          [
            {
              key: "setOnNewRecordAvailableCallback",
              value: function (t) {
                this._onNewRecordAvailableCallback = t;
              },
            },
            {
              key: "recordFontScan",
              value: function (t) {
                try {
                  var e = t.scanTime,
                    n = t.totalFontsScanned,
                    r = t.totalFontsFound,
                    o = t.fontVersion,
                    i = t.scannedAt;
                  this._fontScanTimes.set(o || "default", {
                    scanTime: e,
                    totalFontsScanned: n,
                    totalFontsFound: r,
                    scannedAt: i || this._Date.now(),
                  }),
                    this._log.debug(
                      "FontTimingService - Font scan recorded for "
                        .concat(o, ": ")
                        .concat(e, "ms, ")
                        .concat(r, "/")
                        .concat(n, " fonts found")
                    ),
                    this._onNewRecordAvailableCallback &&
                      this._onNewRecordAvailableCallback();
                } catch (t) {
                  this._log.error(
                    "FontTimingService - Error recording font scan:",
                    t
                  );
                }
              },
            },
            {
              key: "collectFontTiming",
              value: function () {
                var t,
                  e = {},
                  n = (function (t, e) {
                    var n =
                      ("undefined" != typeof Symbol && t[Symbol.iterator]) ||
                      t["@@iterator"];
                    if (!n) {
                      if (
                        Array.isArray(t) ||
                        (n = FM(t)) ||
                        (e && t && "number" == typeof t.length)
                      ) {
                        n && (t = n);
                        var r = 0,
                          o = function () {};
                        return {
                          s: o,
                          n: function () {
                            return r >= t.length
                              ? { done: !0 }
                              : { done: !1, value: t[r++] };
                          },
                          e: function (t) {
                            throw t;
                          },
                          f: o,
                        };
                      }
                      throw new TypeError(
                        "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
                      );
                    }
                    var i,
                      a = !0,
                      u = !1;
                    return {
                      s: function () {
                        n = n.call(t);
                      },
                      n: function () {
                        var t = n.next();
                        return (a = t.done), t;
                      },
                      e: function (t) {
                        (u = !0), (i = t);
                      },
                      f: function () {
                        try {
                          a || null == n.return || n.return();
                        } finally {
                          if (u) throw i;
                        }
                      },
                    };
                  })(this._fontScanTimes);
                try {
                  for (n.s(); !(t = n.n()).done; ) {
                    var r = IM(t.value, 2),
                      o = r[0],
                      i = r[1];
                    e[o] = i;
                  }
                } catch (t) {
                  n.e(t);
                } finally {
                  n.f();
                }
                return this._fontScanTimes.clear(), e;
              },
            },
            {
              key: "hasFontTimingData",
              value: function () {
                return this._fontScanTimes.size > 0;
              },
            },
          ]
        );
      })(),
      QM = HM;
    function zM(t) {
      return (
        (zM =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        zM(t)
      );
    }
    function VM() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          KM(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (KM((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), KM(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        KM(f, "constructor", c),
        KM(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        KM(c, o, "GeneratorFunction"),
        KM(f),
        KM(f, o, "Generator"),
        KM(f, r, function () {
          return this;
        }),
        KM(f, "toString", function () {
          return "[object Generator]";
        }),
        (VM = function () {
          return { w: i, m: p };
        })()
      );
    }
    function KM(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (KM = function (t, e, n, r) {
        function i(e, n) {
          KM(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        KM(t, e, n, r);
    }
    function qM(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function JM(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, XM(r.key), r);
      }
    }
    function XM(t) {
      var e = (function (t, e) {
        if ("object" != zM(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != zM(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == zM(e) ? e : e + "";
    }
    var YM = (function () {
        return (function (t, e, n) {
          return (
            e && JM(t.prototype, e),
            n && JM(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t() {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t);
          },
          [
            {
              key: "getFPS",
              value:
                ((t = VM().m(function t() {
                  var e, n, r, o;
                  return VM().w(
                    function (t) {
                      for (;;)
                        switch ((t.p = t.n)) {
                          case 0:
                            return (
                              (t.p = 0),
                              (e = performance.now()),
                              (n = 0),
                              (r = 0),
                              t.a(
                                2,
                                new Promise(function (t) {
                                  requestAnimationFrame(function o(i) {
                                    n++;
                                    var a = i - e;
                                    if (a >= 1e3)
                                      return (
                                        (r = (n / a) * 1e3),
                                        _t.debug(
                                          "AnimationTimingService - FPS calculated: ".concat(
                                            r.toFixed(4)
                                          )
                                        ),
                                        void t(Math.round(1e4 * r) / 1e4)
                                      );
                                    requestAnimationFrame(o);
                                  });
                                })
                              )
                            );
                          case 1:
                            return (
                              (t.p = 1),
                              (o = t.v),
                              _t.debug(
                                "AnimationTimingService - Error collecting FPS:",
                                o
                              ),
                              t.a(2, 0)
                            );
                        }
                    },
                    t,
                    null,
                    [[0, 1]]
                  );
                })),
                (e = function () {
                  var e = this,
                    n = arguments;
                  return new Promise(function (r, o) {
                    var i = t.apply(e, n);
                    function a(t) {
                      qM(i, r, o, a, u, "next", t);
                    }
                    function u(t) {
                      qM(i, r, o, a, u, "throw", t);
                    }
                    a(void 0);
                  });
                }),
                function () {
                  return e.apply(this, arguments);
                }),
            },
          ]
        );
        var t, e;
      })(),
      ZM = YM;
    function $M(t) {
      return (
        ($M =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        $M(t)
      );
    }
    function tR() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          eR(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (eR((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), eR(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        eR(f, "constructor", c),
        eR(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        eR(c, o, "GeneratorFunction"),
        eR(f),
        eR(f, o, "Generator"),
        eR(f, r, function () {
          return this;
        }),
        eR(f, "toString", function () {
          return "[object Generator]";
        }),
        (tR = function () {
          return { w: i, m: p };
        })()
      );
    }
    function eR(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (eR = function (t, e, n, r) {
        function i(e, n) {
          eR(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        eR(t, e, n, r);
    }
    function nR(t, e) {
      var n = Object.keys(t);
      if (Object.getOwnPropertySymbols) {
        var r = Object.getOwnPropertySymbols(t);
        e &&
          (r = r.filter(function (e) {
            return Object.getOwnPropertyDescriptor(t, e).enumerable;
          })),
          n.push.apply(n, r);
      }
      return n;
    }
    function rR(t) {
      for (var e = 1; e < arguments.length; e++) {
        var n = null != arguments[e] ? arguments[e] : {};
        e % 2
          ? nR(Object(n), !0).forEach(function (e) {
              oR(t, e, n[e]);
            })
          : Object.getOwnPropertyDescriptors
          ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n))
          : nR(Object(n)).forEach(function (e) {
              Object.defineProperty(
                t,
                e,
                Object.getOwnPropertyDescriptor(n, e)
              );
            });
      }
      return t;
    }
    function oR(t, e, n) {
      return (
        (e = uR(e)) in t
          ? Object.defineProperty(t, e, {
              value: n,
              enumerable: !0,
              configurable: !0,
              writable: !0,
            })
          : (t[e] = n),
        t
      );
    }
    function iR(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function aR(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, uR(r.key), r);
      }
    }
    function uR(t) {
      var e = (function (t, e) {
        if ("object" != $M(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != $M(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == $M(e) ? e : e + "";
    }
    var sR = (function () {
      return (function (t, e, n) {
        return (
          e && aR(t.prototype, e),
          n && aR(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._storageUtils = e),
            (this._cacheKey = "timingData"),
            (this._cacheExpiration = 6048e5);
        },
        [
          {
            key: "saveTimingData",
            value:
              ((t = tR().m(function t(e) {
                var n;
                return tR().w(
                  function (t) {
                    for (;;)
                      switch (t.n) {
                        case 0:
                          return (
                            (n = rR(rR({}, e), {}, { cachedAt: Date.now() })),
                            _t.debug(
                              "[TIMING-COLLECTOR] Saving timing data to localStorage under key: ".concat(
                                this._cacheKey
                              )
                            ),
                            (t.n = 1),
                            this._storageUtils.saveToLocalStorage(
                              this._cacheKey,
                              n
                            )
                          );
                        case 1:
                          return t.a(2);
                      }
                  },
                  t,
                  this
                );
              })),
              (e = function () {
                var e = this,
                  n = arguments;
                return new Promise(function (r, o) {
                  var i = t.apply(e, n);
                  function a(t) {
                    iR(i, r, o, a, u, "next", t);
                  }
                  function u(t) {
                    iR(i, r, o, a, u, "throw", t);
                  }
                  a(void 0);
                });
              }),
              function (t) {
                return e.apply(this, arguments);
              }),
          },
          {
            key: "getStoredTimingData",
            value: function () {
              var t = this._storageUtils.getFromLocalStorage(this._cacheKey);
              return t
                ? Date.now() - t.cachedAt > this._cacheExpiration
                  ? (_t.debug(
                      "[TIMING-COLLECTOR] Cached timing data is expired"
                    ),
                    null)
                  : t
                : (_t.debug("[TIMING-COLLECTOR] No cached timing data found"),
                  null);
            },
          },
          {
            key: "clearCache",
            value: function () {
              this._storageUtils.removeFromLocalStorage(this._cacheKey),
                _t.debug("[TIMING-COLLECTOR] Cleared timing data cache");
            },
          },
        ]
      );
      var t, e;
    })();
    function cR(t) {
      return (
        (cR =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        cR(t)
      );
    }
    function lR() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          fR(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (fR((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), fR(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        fR(f, "constructor", c),
        fR(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        fR(c, o, "GeneratorFunction"),
        fR(f),
        fR(f, o, "Generator"),
        fR(f, r, function () {
          return this;
        }),
        fR(f, "toString", function () {
          return "[object Generator]";
        }),
        (lR = function () {
          return { w: i, m: p };
        })()
      );
    }
    function fR(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (fR = function (t, e, n, r) {
        function i(e, n) {
          fR(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        fR(t, e, n, r);
    }
    function pR(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function hR(t) {
      return function () {
        var e = this,
          n = arguments;
        return new Promise(function (r, o) {
          var i = t.apply(e, n);
          function a(t) {
            pR(i, r, o, a, u, "next", t);
          }
          function u(t) {
            pR(i, r, o, a, u, "throw", t);
          }
          a(void 0);
        });
      };
    }
    function dR(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, yR(r.key), r);
      }
    }
    function yR(t) {
      var e = (function (t, e) {
        if ("object" != cR(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != cR(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == cR(e) ? e : e + "";
    }
    var mR = (function () {
        return (function (t, e, n) {
          return (
            e && dR(t.prototype, e),
            n && dR(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t() {
            var e =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : {},
              n = e.performance,
              r = e.log;
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (this._performance = n || window.performance),
              (this._log = r || _t);
          },
          [
            {
              key: "measureMemoryBandwidth",
              value:
                ((i = hR(
                  lR().m(function t() {
                    var e, n, r, o, i, a;
                    return lR().w(
                      function (t) {
                        for (;;)
                          switch ((t.p = t.n)) {
                            case 0:
                              return (
                                (t.p = 0),
                                (t.n = 1),
                                this.measureSequentialReadBandwidth()
                              );
                            case 1:
                              return (
                                (e = t.v),
                                (t.n = 2),
                                this.measureSequentialWriteBandwidth()
                              );
                            case 2:
                              return (
                                (n = t.v),
                                (t.n = 3),
                                this.measureRandomAccessRate()
                              );
                            case 3:
                              return (
                                (r = t.v),
                                (t.n = 4),
                                this.measureCacheThroughput()
                              );
                            case 4:
                              return (
                                (o = t.v),
                                (t.n = 5),
                                this.measureMemoryLatency()
                              );
                            case 5:
                              return (
                                (i = t.v),
                                t.a(2, {
                                  sequentialReadBandwidth: Number(
                                    e.toPrecision(16)
                                  ),
                                  sequentialWriteBandwidth: Number(
                                    n.toPrecision(16)
                                  ),
                                  randomAccessRate: Number(r.toPrecision(16)),
                                  cacheThroughput: Number(o.toPrecision(16)),
                                  memoryLatency: Number(
                                    (1e6 * i).toPrecision(16)
                                  ),
                                })
                              );
                            case 6:
                              return (
                                (t.p = 6),
                                (a = t.v),
                                this._log.debug(
                                  "MemoryTimingService - Error measuring memory bandwidth:",
                                  a
                                ),
                                t.a(2, this.getFallbackResult())
                              );
                          }
                      },
                      t,
                      this,
                      [[0, 6]]
                    );
                  })
                )),
                function () {
                  return i.apply(this, arguments);
                }),
            },
            {
              key: "measureSequentialReadBandwidth",
              value:
                ((o = hR(
                  lR().m(function t() {
                    var e, n, r, o, i, a, u, s;
                    return lR().w(
                      function (t) {
                        for (;;)
                          switch ((t.p = t.n)) {
                            case 0:
                              for (
                                t.p = 0,
                                  e = 16777216,
                                  n = new Uint8Array(e),
                                  r = 0;
                                r < n.length;
                                r++
                              )
                                n[r] = 255 & r;
                              for (
                                o = this._performance.now(), i = 0;
                                i < n.length;
                                i++
                              )
                                n[i];
                              return (
                                (a = this._performance.now()),
                                (u = a - o),
                                t.a(2, e / (u / 1e3) / 1048576)
                              );
                            case 1:
                              return (
                                (t.p = 1),
                                (s = t.v),
                                this._log.debug(
                                  "MemoryTimingService - Error in sequential read:",
                                  s
                                ),
                                t.a(2, 0)
                              );
                          }
                      },
                      t,
                      this,
                      [[0, 1]]
                    );
                  })
                )),
                function () {
                  return o.apply(this, arguments);
                }),
            },
            {
              key: "measureSequentialWriteBandwidth",
              value:
                ((r = hR(
                  lR().m(function t() {
                    var e, n, r, o, i, a, u;
                    return lR().w(
                      function (t) {
                        for (;;)
                          switch ((t.p = t.n)) {
                            case 0:
                              for (
                                t.p = 0,
                                  e = 16777216,
                                  n = new Uint8Array(e),
                                  r = this._performance.now(),
                                  o = 0;
                                o < n.length;
                                o++
                              )
                                n[o] = 255 & o;
                              return (
                                (i = this._performance.now()),
                                (a = i - r),
                                t.a(2, e / (a / 1e3) / 1048576)
                              );
                            case 1:
                              return (
                                (t.p = 1),
                                (u = t.v),
                                this._log.debug(
                                  "MemoryTimingService - Error in sequential write:",
                                  u
                                ),
                                t.a(2, 0)
                              );
                          }
                      },
                      t,
                      this,
                      [[0, 1]]
                    );
                  })
                )),
                function () {
                  return r.apply(this, arguments);
                }),
            },
            {
              key: "measureRandomAccessRate",
              value:
                ((n = hR(
                  lR().m(function t() {
                    var e, n, r, o, i, a, u, s, c, l;
                    return lR().w(
                      function (t) {
                        for (;;)
                          switch ((t.p = t.n)) {
                            case 0:
                              for (
                                t.p = 0,
                                  e = 1048576,
                                  n = new Uint8Array(e),
                                  r = new Uint32Array(1e5),
                                  o = 0;
                                o < n.length;
                                o++
                              )
                                n[o] = 255 & o;
                              for (i = 0; i < r.length; i++)
                                r[i] = Math.floor(Math.random() * e);
                              for (
                                a = this._performance.now(), u = 0;
                                u < r.length;
                                u++
                              )
                                n[r[u]];
                              return (
                                (s = this._performance.now()),
                                (c = s - a),
                                t.a(2, r.length / c)
                              );
                            case 1:
                              return (
                                (t.p = 1),
                                (l = t.v),
                                this._log.debug(
                                  "MemoryTimingService - Error in random access:",
                                  l
                                ),
                                t.a(2, 0)
                              );
                          }
                      },
                      t,
                      this,
                      [[0, 1]]
                    );
                  })
                )),
                function () {
                  return n.apply(this, arguments);
                }),
            },
            {
              key: "measureCacheThroughput",
              value:
                ((e = hR(
                  lR().m(function t() {
                    var e, n, r, o, i, a, u, s;
                    return lR().w(
                      function (t) {
                        for (;;)
                          switch ((t.p = t.n)) {
                            case 0:
                              for (
                                t.p = 0, e = new Uint8Array(65536), n = 0;
                                n < e.length;
                                n++
                              )
                                e[n] = 255 & n;
                              for (
                                r = this._performance.now(), o = 0;
                                o < 10;
                                o++
                              )
                                for (i = 0; i < e.length; i++) e[i];
                              return (
                                (a = this._performance.now()),
                                (u = a - r),
                                t.a(2, (10 * e.length) / u)
                              );
                            case 1:
                              return (
                                (t.p = 1),
                                (s = t.v),
                                this._log.debug(
                                  "MemoryTimingService - Error in cache performance:",
                                  s
                                ),
                                t.a(2, 0)
                              );
                          }
                      },
                      t,
                      this,
                      [[0, 1]]
                    );
                  })
                )),
                function () {
                  return e.apply(this, arguments);
                }),
            },
            {
              key: "measureMemoryLatency",
              value:
                ((t = hR(
                  lR().m(function t() {
                    var e, n, r, o, i, a, u, s, c;
                    return lR().w(
                      function (t) {
                        for (;;)
                          switch ((t.p = t.n)) {
                            case 0:
                              for (
                                t.p = 0, e = new Uint32Array(1048576), n = 0;
                                n < e.length - 1;
                                n++
                              )
                                e[n] = n + 1;
                              for (
                                e[e.length - 1] = 0,
                                  r = this._performance.now(),
                                  o = 0,
                                  i = 0,
                                  a = 0;
                                a < 1e5;
                                a++
                              )
                                (o = e[o]), i++;
                              return (
                                (u = this._performance.now()),
                                (s = u - r),
                                t.a(2, s / i)
                              );
                            case 1:
                              return (
                                (t.p = 1),
                                (c = t.v),
                                this._log.debug(
                                  "MemoryTimingService - Error in memory latency:",
                                  c
                                ),
                                t.a(2, 0)
                              );
                          }
                      },
                      t,
                      this,
                      [[0, 1]]
                    );
                  })
                )),
                function () {
                  return t.apply(this, arguments);
                }),
            },
            {
              key: "getFallbackResult",
              value: function () {
                return {
                  sequentialReadBandwidth: 0,
                  sequentialWriteBandwidth: 0,
                  randomAccessRate: 0,
                  cacheThroughput: 0,
                  memoryLatency: 0,
                };
              },
            },
          ]
        );
        var t, e, n, r, o, i;
      })(),
      vR = mR;
    function bR(t) {
      return (
        (bR =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        bR(t)
      );
    }
    function gR() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          _R(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (_R((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), _R(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        _R(f, "constructor", c),
        _R(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        _R(c, o, "GeneratorFunction"),
        _R(f),
        _R(f, o, "Generator"),
        _R(f, r, function () {
          return this;
        }),
        _R(f, "toString", function () {
          return "[object Generator]";
        }),
        (gR = function () {
          return { w: i, m: p };
        })()
      );
    }
    function _R(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (_R = function (t, e, n, r) {
        function i(e, n) {
          _R(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        _R(t, e, n, r);
    }
    function wR(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function SR(t) {
      return function () {
        var e = this,
          n = arguments;
        return new Promise(function (r, o) {
          var i = t.apply(e, n);
          function a(t) {
            wR(i, r, o, a, u, "next", t);
          }
          function u(t) {
            wR(i, r, o, a, u, "throw", t);
          }
          a(void 0);
        });
      };
    }
    function ER(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, kR(r.key), r);
      }
    }
    function kR(t) {
      var e = (function (t, e) {
        if ("object" != bR(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != bR(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == bR(e) ? e : e + "";
    }
    var TR = (function () {
        return (function (t, e, n) {
          return (
            e && ER(t.prototype, e),
            n && ER(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t() {
            var e =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : {},
              n = e.performance,
              r = e.log,
              o = e.localStorage,
              i = e.sessionStorage,
              a = e.indexedDB,
              u = e.math;
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (this._performance = n || window.performance),
              (this._log = r || _t),
              (this._localStorage = o || window.localStorage),
              (this._sessionStorage = i || window.sessionStorage),
              (this._indexedDB = a || window.indexedDB),
              (this._Math = u || Math);
          },
          [
            {
              key: "measureAll",
              value:
                ((i = SR(
                  gR().m(function t() {
                    var e, n, r, o, i, a;
                    return gR().w(
                      function (t) {
                        for (;;)
                          switch ((t.p = t.n)) {
                            case 0:
                              return (
                                (t.p = 0),
                                (t.n = 1),
                                this.measureLocalStorageTime()
                              );
                            case 1:
                              return (
                                (e = t.v),
                                (t.n = 2),
                                this.measureSessionStorageTime()
                              );
                            case 2:
                              return (
                                (n = t.v),
                                (t.n = 3),
                                this.measureIndexedDBTime()
                              );
                            case 3:
                              return (
                                (r = t.v),
                                (t.n = 4),
                                this.measureBulkLocalStorageTime()
                              );
                            case 4:
                              return (
                                (o = t.v),
                                (t.n = 5),
                                this.measureStorageStressTest()
                              );
                            case 5:
                              return (
                                (i = t.v),
                                t.a(2, {
                                  localStorageTime: Number(e.toPrecision(16)),
                                  sessionStorageTime: Number(n.toPrecision(16)),
                                  indexedDBTime: Number(r.toPrecision(16)),
                                  bulkLocalStorageTime: Number(
                                    o.toPrecision(16)
                                  ),
                                  storageStressTest: Number(i.toPrecision(16)),
                                })
                              );
                            case 6:
                              return (
                                (t.p = 6),
                                (a = t.v),
                                this._log.debug(
                                  "StorageTimingService - Error measuring storage:",
                                  a
                                ),
                                t.a(2, this.getFallbackResult())
                              );
                          }
                      },
                      t,
                      this,
                      [[0, 6]]
                    );
                  })
                )),
                function () {
                  return i.apply(this, arguments);
                }),
            },
            {
              key: "measureLocalStorageTime",
              value:
                ((o = SR(
                  gR().m(function t() {
                    var e, n, r, o, i, a;
                    return gR().w(
                      function (t) {
                        for (;;)
                          switch ((t.p = t.n)) {
                            case 0:
                              for (
                                t.p = 0,
                                  e = "storage_timing_test",
                                  n = this.generateTestData(1024),
                                  r = this._performance.now(),
                                  o = 0;
                                o < 100;
                                o++
                              )
                                this._localStorage.setItem(e + o, n),
                                  this._localStorage.getItem(e + o),
                                  this._localStorage.removeItem(e + o);
                              return (
                                (i = this._performance.now()), t.a(2, i - r)
                              );
                            case 1:
                              return (
                                (t.p = 1),
                                (a = t.v),
                                this._log.debug(
                                  "StorageTimingService - Error in localStorage:",
                                  a
                                ),
                                t.a(2, 0)
                              );
                          }
                      },
                      t,
                      this,
                      [[0, 1]]
                    );
                  })
                )),
                function () {
                  return o.apply(this, arguments);
                }),
            },
            {
              key: "measureSessionStorageTime",
              value:
                ((r = SR(
                  gR().m(function t() {
                    var e, n, r, o, i, a;
                    return gR().w(
                      function (t) {
                        for (;;)
                          switch ((t.p = t.n)) {
                            case 0:
                              for (
                                t.p = 0,
                                  e = "storage_timing_test",
                                  n = this.generateTestData(1024),
                                  r = this._performance.now(),
                                  o = 0;
                                o < 100;
                                o++
                              )
                                this._sessionStorage.setItem(e + o, n),
                                  this._sessionStorage.getItem(e + o),
                                  this._sessionStorage.removeItem(e + o);
                              return (
                                (i = this._performance.now()), t.a(2, i - r)
                              );
                            case 1:
                              return (
                                (t.p = 1),
                                (a = t.v),
                                this._log.debug(
                                  "StorageTimingService - Error in sessionStorage:",
                                  a
                                ),
                                t.a(2, 0)
                              );
                          }
                      },
                      t,
                      this,
                      [[0, 1]]
                    );
                  })
                )),
                function () {
                  return r.apply(this, arguments);
                }),
            },
            {
              key: "measureIndexedDBTime",
              value:
                ((n = SR(
                  gR().m(function t() {
                    var e,
                      n = this;
                    return gR().w(
                      function (t) {
                        for (;;)
                          switch ((t.p = t.n)) {
                            case 0:
                              return (
                                (t.p = 0),
                                t.a(
                                  2,
                                  new Promise(function (t) {
                                    var e = "storage_timing_test_db",
                                      r = "testStore",
                                      o = n._indexedDB.open(e, 1);
                                    (o.onupgradeneeded = function (t) {
                                      t.target.result.createObjectStore(r);
                                    }),
                                      (o.onsuccess = function (o) {
                                        for (
                                          var i = o.target.result,
                                            a = i
                                              .transaction(r, "readwrite")
                                              .objectStore(r),
                                            u = "x".repeat(1024),
                                            s = n._performance.now(),
                                            c = 0,
                                            l = function (r) {
                                              a.add(u, "key" + r).onsuccess =
                                                function () {
                                                  a.get("key" + r).onsuccess =
                                                    function () {
                                                      a.delete(
                                                        "key" + r
                                                      ).onsuccess =
                                                        function () {
                                                          if (50 === ++c) {
                                                            var r =
                                                              n._performance.now();
                                                            i.close(),
                                                              n._indexedDB.deleteDatabase(
                                                                e
                                                              ),
                                                              t(r - s);
                                                          }
                                                        };
                                                    };
                                                };
                                            },
                                            f = 0;
                                          f < 50;
                                          f++
                                        )
                                          l(f);
                                      }),
                                      (o.onerror = function () {
                                        t(0);
                                      });
                                  })
                                )
                              );
                            case 1:
                              return (
                                (t.p = 1),
                                (e = t.v),
                                this._log.debug(
                                  "StorageTimingService - Error in IndexedDB:",
                                  e
                                ),
                                t.a(2, 0)
                              );
                          }
                      },
                      t,
                      this,
                      [[0, 1]]
                    );
                  })
                )),
                function () {
                  return n.apply(this, arguments);
                }),
            },
            {
              key: "measureBulkLocalStorageTime",
              value:
                ((e = SR(
                  gR().m(function t() {
                    var e, n, r, o, i, a, u, s, c, l, f;
                    return gR().w(
                      function (t) {
                        for (;;)
                          switch ((t.p = t.n)) {
                            case 0:
                              for (
                                t.p = 0,
                                  e = "bulk_storage_timing_test_",
                                  n = this.generateTestData(2048),
                                  r = 200,
                                  o = this._performance.now(),
                                  i = 0;
                                i < r;
                                i++
                              )
                                this._localStorage.setItem(e + i, n);
                              for (a = 0; a < r; a++)
                                this._localStorage.getItem(e + a);
                              for (u = 0; u < r; u++)
                                this._localStorage.setItem(
                                  e + u,
                                  n + "_updated"
                                );
                              for (s = 0; s < r; s++)
                                this._localStorage.getItem(e + s);
                              for (c = 0; c < r; c++)
                                this._localStorage.removeItem(e + c);
                              return (
                                (l = this._performance.now()), t.a(2, l - o)
                              );
                            case 1:
                              return (
                                (t.p = 1),
                                (f = t.v),
                                this._log.debug(
                                  "StorageTimingService - Error in bulk localStorage:",
                                  f
                                ),
                                t.a(2, 0)
                              );
                          }
                      },
                      t,
                      this,
                      [[0, 1]]
                    );
                  })
                )),
                function () {
                  return e.apply(this, arguments);
                }),
            },
            {
              key: "measureStorageStressTest",
              value:
                ((t = SR(
                  gR().m(function t() {
                    var e, n, r, o, i, a, u, s, c, l, f, p, h, d;
                    return gR().w(
                      function (t) {
                        for (;;)
                          switch ((t.p = t.n)) {
                            case 0:
                              for (
                                t.p = 0,
                                  e = "stress_test_",
                                  n = this.generateTestData(64),
                                  r = this.generateTestData(1024),
                                  o = this.generateTestData(8192),
                                  i = this._performance.now(),
                                  a = 0;
                                a < 500;
                                a++
                              )
                                this._localStorage.setItem(e + "small_" + a, n);
                              for (u = 0; u < 100; u++)
                                this._localStorage.setItem(
                                  e + "medium_" + u,
                                  r
                                );
                              for (s = 0; s < 20; s++)
                                this._localStorage.setItem(e + "large_" + s, o);
                              for (c = 0; c < 200; c++)
                                this._localStorage.getItem(
                                  e + "small_" + (c % 500)
                                ),
                                  this._localStorage.getItem(
                                    e + "medium_" + (c % 100)
                                  ),
                                  this._localStorage.getItem(
                                    e + "large_" + (c % 20)
                                  );
                              for (l = 0; l < 500; l++)
                                this._localStorage.removeItem(e + "small_" + l);
                              for (f = 0; f < 100; f++)
                                this._localStorage.removeItem(
                                  e + "medium_" + f
                                );
                              for (p = 0; p < 20; p++)
                                this._localStorage.removeItem(e + "large_" + p);
                              return (
                                (h = this._performance.now()), t.a(2, h - i)
                              );
                            case 1:
                              return (
                                (t.p = 1),
                                (d = t.v),
                                this._log.debug(
                                  "StorageTimingService - Error in storage stress test:",
                                  d
                                ),
                                t.a(2, 0)
                              );
                          }
                      },
                      t,
                      this,
                      [[0, 1]]
                    );
                  })
                )),
                function () {
                  return t.apply(this, arguments);
                }),
            },
            {
              key: "generateTestData",
              value: function (t) {
                for (
                  var e =
                      "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",
                    n = "",
                    r = 0;
                  r < t;
                  r++
                )
                  n += e.charAt(Math.floor(62 * this._Math.random()));
                return n;
              },
            },
            {
              key: "getFallbackResult",
              value: function () {
                return {
                  localStorageTime: 0,
                  sessionStorageTime: 0,
                  indexedDBTime: 0,
                  bulkLocalStorageTime: 0,
                  storageStressTest: 0,
                };
              },
            },
          ]
        );
        var t, e, n, r, o, i;
      })(),
      PR = TR;
    function OR(t) {
      return (
        (OR =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        OR(t)
      );
    }
    function CR(t, e) {
      var n = Object.keys(t);
      if (Object.getOwnPropertySymbols) {
        var r = Object.getOwnPropertySymbols(t);
        e &&
          (r = r.filter(function (e) {
            return Object.getOwnPropertyDescriptor(t, e).enumerable;
          })),
          n.push.apply(n, r);
      }
      return n;
    }
    function jR(t) {
      for (var e = 1; e < arguments.length; e++) {
        var n = null != arguments[e] ? arguments[e] : {};
        e % 2
          ? CR(Object(n), !0).forEach(function (e) {
              MR(t, e, n[e]);
            })
          : Object.getOwnPropertyDescriptors
          ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n))
          : CR(Object(n)).forEach(function (e) {
              Object.defineProperty(
                t,
                e,
                Object.getOwnPropertyDescriptor(n, e)
              );
            });
      }
      return t;
    }
    function MR(t, e, n) {
      return (
        (e = LR(e)) in t
          ? Object.defineProperty(t, e, {
              value: n,
              enumerable: !0,
              configurable: !0,
              writable: !0,
            })
          : (t[e] = n),
        t
      );
    }
    function RR() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          BR(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (BR((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), BR(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        BR(f, "constructor", c),
        BR(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        BR(c, o, "GeneratorFunction"),
        BR(f),
        BR(f, o, "Generator"),
        BR(f, r, function () {
          return this;
        }),
        BR(f, "toString", function () {
          return "[object Generator]";
        }),
        (RR = function () {
          return { w: i, m: p };
        })()
      );
    }
    function BR(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (BR = function (t, e, n, r) {
        function i(e, n) {
          BR(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        BR(t, e, n, r);
    }
    function AR(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function xR(t) {
      return function () {
        var e = this,
          n = arguments;
        return new Promise(function (r, o) {
          var i = t.apply(e, n);
          function a(t) {
            AR(i, r, o, a, u, "next", t);
          }
          function u(t) {
            AR(i, r, o, a, u, "throw", t);
          }
          a(void 0);
        });
      };
    }
    function DR(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, LR(r.key), r);
      }
    }
    function LR(t) {
      var e = (function (t, e) {
        if ("object" != OR(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != OR(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == OR(e) ? e : e + "";
    }
    function NR(t, e, n) {
      return (
        (e = FR(e)),
        (function (t, e) {
          if (e && ("object" == OR(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          IR()
            ? Reflect.construct(e, n || [], FR(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function IR() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (IR = function () {
        return !!t;
      })();
    }
    function FR(t) {
      return (
        (FR = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        FR(t)
      );
    }
    function UR(t, e) {
      return (
        (UR = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        UR(t, e)
      );
    }
    var WR = {
        configKey: "isTimingFeature",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !1,
        shouldRun: !1,
        isFrameRelated: !1,
        runInUns: !1,
        runInSlave: !1,
        runInLean: !1,
        isRunning: !1,
        instance: null,
      },
      GR = (function (t) {
        function e(t, n) {
          var r,
            o =
              arguments.length > 2 && void 0 !== arguments[2]
                ? arguments[2]
                : {};
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
            ((r = NR(this, e))._dataQ = t),
            (r._fontTimingService = n),
            (r._webglService = o.webglService || new _M()),
            (r._browserService = o.browserService || new TM()),
            (r._CPUTimingService = o.cpuTimingService || new LM()),
            (r._animationTimingService = o.animationTimingService || new ZM()),
            (r._memoryBandwidthService = o.memoryTimingService || new vR()),
            (r._storageTimingService = o.storageTimingService || new PR());
          var i = o.storageUtils || se.StorageUtils;
          return (
            (r._timingCache = o.timingCache || new sR(i)),
            (r._logger = o.logger || _t),
            r
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && UR(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && DR(t.prototype, e),
              n && DR(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value:
                  ((l = xR(
                    RR().m(function t() {
                      var e,
                        n = this;
                      return RR().w(
                        function (t) {
                          for (;;)
                            switch (t.n) {
                              case 0:
                                if (
                                  (this._logger.info(
                                    "[TimingCollector] Starting timing data collection"
                                  ),
                                  !(e =
                                    this._timingCache.getStoredTimingData()))
                                ) {
                                  t.n = 1;
                                  break;
                                }
                                return (
                                  this._logger.info(
                                    "[TimingCollector] Using cached timing data"
                                  ),
                                  this.sendData(e),
                                  t.a(2)
                                );
                              case 1:
                                this._fontTimingService.setOnNewRecordAvailableCallback(
                                  function () {
                                    n.collectFontTiming();
                                  }
                                ),
                                  this.collectWebGLTiming(),
                                  this.collectBrowserTiming(),
                                  this.collectCPUBenchmark(),
                                  this.collectAnimationFrameTiming(),
                                  this.collectMemoryBandwidthTiming(),
                                  this.collectStorageTiming();
                              case 2:
                                return t.a(2);
                            }
                        },
                        t,
                        this
                      );
                    })
                  )),
                  function () {
                    return l.apply(this, arguments);
                  }),
              },
              {
                key: "collectWebGLTiming",
                value:
                  ((c = xR(
                    RR().m(function t() {
                      var e, n;
                      return RR().w(
                        function (t) {
                          for (;;)
                            switch ((t.p = t.n)) {
                              case 0:
                                return (
                                  (t.p = 0),
                                  (t.n = 1),
                                  this._webglService.collectWebGLTiming()
                                );
                              case 1:
                                (e = t.v),
                                  this._logger.debug(
                                    "[TimingCollector] WebGL Timing Data collected: " +
                                      JSON.stringify(e)
                                  ),
                                  this.sendData({ graphicTiming: e }),
                                  this._updateCache({ graphicTiming: e }),
                                  (t.n = 3);
                                break;
                              case 2:
                                (t.p = 2),
                                  (n = t.v),
                                  this._logger.error(
                                    "[TimingCollector] Error during WebGL timing collection:",
                                    n
                                  );
                              case 3:
                                return t.a(2);
                            }
                        },
                        t,
                        this,
                        [[0, 2]]
                      );
                    })
                  )),
                  function () {
                    return c.apply(this, arguments);
                  }),
              },
              {
                key: "collectBrowserTiming",
                value:
                  ((s = xR(
                    RR().m(function t() {
                      var e;
                      return RR().w(
                        function (t) {
                          for (;;)
                            switch (t.n) {
                              case 0:
                                try {
                                  (e =
                                    this._browserService.collectBrowserTiming()),
                                    this._logger.debug(
                                      "[TimingCollector] Browser Timing Data collected: " +
                                        JSON.stringify(e)
                                    ),
                                    this.sendData({ browserTiming: e }),
                                    this._updateCache({ browserTiming: e });
                                } catch (t) {
                                  this._logger.error(
                                    "[TimingCollector] Error during browser timing collection:",
                                    t
                                  );
                                }
                              case 1:
                                return t.a(2);
                            }
                        },
                        t,
                        this
                      );
                    })
                  )),
                  function () {
                    return s.apply(this, arguments);
                  }),
              },
              {
                key: "collectCPUBenchmark",
                value:
                  ((u = xR(
                    RR().m(function t() {
                      var e, n;
                      return RR().w(
                        function (t) {
                          for (;;)
                            switch ((t.p = t.n)) {
                              case 0:
                                return (
                                  (t.p = 0),
                                  (t.n = 1),
                                  this._CPUTimingService.runBenchmarks()
                                );
                              case 1:
                                (e = t.v),
                                  this._logger.debug(
                                    "[TimingCollector] CPU Benchmark Data collected: " +
                                      JSON.stringify(e)
                                  ),
                                  this.sendData({ cpuTiming: e }),
                                  this._updateCache({ cpuTiming: e }),
                                  (t.n = 3);
                                break;
                              case 2:
                                (t.p = 2),
                                  (n = t.v),
                                  this._logger.error(
                                    "[TimingCollector] Error during CPU benchmark collection:",
                                    n
                                  );
                              case 3:
                                return t.a(2);
                            }
                        },
                        t,
                        this,
                        [[0, 2]]
                      );
                    })
                  )),
                  function () {
                    return u.apply(this, arguments);
                  }),
              },
              {
                key: "collectAnimationFrameTiming",
                value:
                  ((a = xR(
                    RR().m(function t() {
                      var e, n, r;
                      return RR().w(
                        function (t) {
                          for (;;)
                            switch ((t.p = t.n)) {
                              case 0:
                                return (
                                  (t.p = 0),
                                  (t.n = 1),
                                  this._animationTimingService.getFPS()
                                );
                              case 1:
                                (e = t.v),
                                  (n = { fps: e }),
                                  this._logger.debug(
                                    "[TimingCollector] FPS Data collected: " +
                                      JSON.stringify(n)
                                  ),
                                  this.sendData({ animationFrameTiming: n }),
                                  this._updateCache({
                                    animationFrameTiming: n,
                                  }),
                                  (t.n = 3);
                                break;
                              case 2:
                                (t.p = 2),
                                  (r = t.v),
                                  this._logger.error(
                                    "[TimingCollector] Error during FPS collection:",
                                    r
                                  );
                              case 3:
                                return t.a(2);
                            }
                        },
                        t,
                        this,
                        [[0, 2]]
                      );
                    })
                  )),
                  function () {
                    return a.apply(this, arguments);
                  }),
              },
              {
                key: "collectMemoryBandwidthTiming",
                value:
                  ((i = xR(
                    RR().m(function t() {
                      var e, n;
                      return RR().w(
                        function (t) {
                          for (;;)
                            switch ((t.p = t.n)) {
                              case 0:
                                return (
                                  (t.p = 0),
                                  (t.n = 1),
                                  this._memoryBandwidthService.measureMemoryBandwidth()
                                );
                              case 1:
                                (e = t.v),
                                  this._logger.debug(
                                    "[TimingCollector] Memory Bandwidth Timing Data collected: " +
                                      JSON.stringify(e)
                                  ),
                                  this.sendData({ memoryBandwidthTiming: e }),
                                  this._updateCache({
                                    memoryBandwidthTiming: e,
                                  }),
                                  (t.n = 3);
                                break;
                              case 2:
                                (t.p = 2),
                                  (n = t.v),
                                  this._logger.error(
                                    "[TimingCollector] Error during memory bandwidth timing collection:",
                                    n
                                  );
                              case 3:
                                return t.a(2);
                            }
                        },
                        t,
                        this,
                        [[0, 2]]
                      );
                    })
                  )),
                  function () {
                    return i.apply(this, arguments);
                  }),
              },
              {
                key: "collectStorageTiming",
                value:
                  ((o = xR(
                    RR().m(function t() {
                      var e, n;
                      return RR().w(
                        function (t) {
                          for (;;)
                            switch ((t.p = t.n)) {
                              case 0:
                                return (
                                  (t.p = 0),
                                  (t.n = 1),
                                  this._storageTimingService.measureAll()
                                );
                              case 1:
                                (e = t.v),
                                  this._logger.debug(
                                    "[TimingCollector] Storage Timing Data collected: " +
                                      JSON.stringify(e)
                                  ),
                                  this.sendData({ storageTiming: e }),
                                  this._updateCache({ storageTiming: e }),
                                  (t.n = 3);
                                break;
                              case 2:
                                (t.p = 2),
                                  (n = t.v),
                                  this._logger.error(
                                    "[TimingCollector] Error during storage timing collection:",
                                    n
                                  );
                              case 3:
                                return t.a(2);
                            }
                        },
                        t,
                        this,
                        [[0, 2]]
                      );
                    })
                  )),
                  function () {
                    return o.apply(this, arguments);
                  }),
              },
              {
                key: "collectFontTiming",
                value:
                  ((r = xR(
                    RR().m(function t() {
                      var e;
                      return RR().w(
                        function (t) {
                          for (;;)
                            switch (t.n) {
                              case 0:
                                try {
                                  (e =
                                    this._fontTimingService.collectFontTiming()),
                                    this._logger.debug(
                                      "[TimingCollector] Font Timing Data collected: " +
                                        JSON.stringify(e)
                                    ),
                                    this.sendData({ fontTiming: e }),
                                    this._updateCache({ fontTiming: e });
                                } catch (t) {
                                  this._logger.error(
                                    "[TimingCollector] Error during font timing collection:",
                                    t
                                  );
                                }
                              case 1:
                                return t.a(2);
                            }
                        },
                        t,
                        this
                      );
                    })
                  )),
                  function () {
                    return r.apply(this, arguments);
                  }),
              },
              {
                key: "_updateCache",
                value:
                  ((n = xR(
                    RR().m(function t(e) {
                      var n, r, o;
                      return RR().w(
                        function (t) {
                          for (;;)
                            switch ((t.p = t.n)) {
                              case 0:
                                return (
                                  (t.p = 0),
                                  (n =
                                    this._timingCache.getStoredTimingData() ||
                                    {}),
                                  (r = jR(jR({}, n), e)),
                                  (t.n = 1),
                                  this._timingCache.saveTimingData(r)
                                );
                              case 1:
                                t.n = 3;
                                break;
                              case 2:
                                (t.p = 2),
                                  (o = t.v),
                                  this._logger.error(
                                    "[TimingCollector] Error updating cache:",
                                    o
                                  );
                              case 3:
                                return t.a(2);
                            }
                        },
                        t,
                        this,
                        [[0, 2]]
                      );
                    })
                  )),
                  function (t) {
                    return n.apply(this, arguments);
                  }),
              },
              {
                key: "stopFeature",
                value: function () {
                  this._logger.info(
                    "[TimingCollector] Stopped timing data collection"
                  );
                },
              },
              {
                key: "sendData",
                value: function (t) {
                  this._dataQ.addToQueue("static_fields", ["timing", t], !1);
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return WR;
                },
              },
            ]
          )
        );
        var n, r, o, i, a, u, s, c, l;
      })(uo),
      HR = GR;
    function QR(t) {
      return (
        (QR =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        QR(t)
      );
    }
    function zR(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, VR(r.key), r);
      }
    }
    function VR(t) {
      var e = (function (t, e) {
        if ("object" != QR(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != QR(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == QR(e) ? e : e + "";
    }
    function KR(t, e, n) {
      return (
        (e = JR(e)),
        (function (t, e) {
          if (e && ("object" == QR(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          qR()
            ? Reflect.construct(e, n || [], JR(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function qR() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (qR = function () {
        return !!t;
      })();
    }
    function JR(t) {
      return (
        (JR = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        JR(t)
      );
    }
    function XR(t, e) {
      return (
        (XR = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        XR(t, e)
      );
    }
    var YR = {
        configKey: "isContextPropsFeature",
        isDefault: !1,
        shouldRunPerContext: !0,
        shouldRunPerSession: !1,
        shouldRun: !0,
        isFrameRelated: !1,
        runInUns: !0,
        runInSlave: !1,
        runInLean: !1,
        isRunning: !1,
        instance: null,
      },
      ZR = (function (t) {
        function e(t, n, r, o) {
          var i;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((i = KR(this, e))._dataQ = t),
            (i._domUtils = n),
            (i._perfMonitor = r),
            (i._configurationRepository = o),
            (i._observerCallback = i._observerCallback.bind(i)),
            (i.calcTime = i.calcTime.bind(i)),
            (i._getEntriesByType = i._getEntriesByType.bind(i)),
            (i.callMethod = i._configurationRepository.get(
              w.useLegacyZeroTimeout
            )
              ? se.asyncCall
              : se.asyncTimeoutCall),
            i
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && XR(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && zR(t.prototype, e),
              n && zR(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value: function () {
                  if (self.screen) {
                    var t = window.devicePixelRatio
                        ? window.devicePixelRatio
                        : -1,
                      e = window.devicePixelRatio
                        ? window.devicePixelRatio
                        : -1;
                    this._shouldCollectStaticFields() &&
                      this._dataQ.addToQueue(
                        "static_fields",
                        [
                          "display",
                          [
                            screen.colorDepth,
                            screen.width,
                            screen.height,
                            screen.availHeight || -1,
                            screen.availWidth || -1,
                            t,
                            e,
                          ],
                        ],
                        !1
                      );
                  }
                  this.reportPageLoadTime();
                },
              },
              {
                key: "_shouldCollectStaticFields",
                value: function () {
                  var t;
                  return (
                    (null === (t = this._configurationRepository) ||
                    void 0 === t
                      ? void 0
                      : t.get(w.agentType)) !== ct.SECONDARY
                  );
                },
              },
              {
                key: "_observerCallback",
                value: function (t, e) {
                  var n = t.getEntries()[0];
                  n.duration &&
                    (this.calcTime(n), "disconnect" in e && e.disconnect());
                },
              },
              {
                key: "_isEntrySupportedByBrowser",
                value: function (t) {
                  return (
                    !("supportedEntryTypes" in window.PerformanceObserver) ||
                    PerformanceObserver.supportedEntryTypes.includes(t)
                  );
                },
              },
              {
                key: "_getEntriesByType",
                value: function () {
                  if (
                    window.performance.timing &&
                    window.performance.timing.loadEventEnd &&
                    window.performance.timing.navigationStart
                  ) {
                    var t = {
                      duration:
                        window.performance.timing.loadEventEnd -
                        window.performance.timing.navigationStart,
                    };
                    this.calcTime(t);
                  }
                },
              },
              {
                key: "calcTime",
                value: function (t) {
                  se.isUndefinedNull(t)
                    ? _t.warn(
                        "Context Props Feature: no entries of navigation timing were captured"
                      )
                    : se.isUndefinedNull(t) || !se.isUndefinedNull(t.duration)
                    ? this._perfMonitor.reportMonitor(
                        "t.timeTillPageLoad",
                        Math.round(t.duration)
                      )
                    : _t.warn(
                        "Context Props Feature: page duration loading was not calculated"
                      );
                },
              },
              {
                key: "reportPageLoadTime",
                value: function () {
                  if (
                    window.performance &&
                    "PerformanceNavigationTiming" in window
                  ) {
                    var t = "navigation";
                    if (
                      !("PerformanceObserver" in window) ||
                      !this._isEntrySupportedByBrowser(t)
                    )
                      return void this.reportPageLoadTimeFallback();
                    var e = new PerformanceObserver(this._observerCallback);
                    try {
                      e.observe({ type: t, buffered: !0 });
                    } catch (t) {
                      this.reportPageLoadTimeFallback();
                    }
                  } else this.reportPageLoadTimeFallback();
                },
              },
              {
                key: "reportPageLoadTimeFallback",
                value: function () {
                  var t = this;
                  Ai.isWindowDocumentReady(window)
                    ? this.callMethod.call(this._getEntriesByType)
                    : se.addEventListener(self, "load", function () {
                        t.callMethod.call(t._getEntriesByType);
                      });
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return YR;
                },
              },
            ]
          )
        );
      })(uo);
    function $R(t) {
      return (
        ($R =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        $R(t)
      );
    }
    function tB(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, eB(r.key), r);
      }
    }
    function eB(t) {
      var e = (function (t, e) {
        if ("object" != $R(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != $R(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == $R(e) ? e : e + "";
    }
    function nB(t, e, n) {
      return (
        (e = oB(e)),
        (function (t, e) {
          if (e && ("object" == $R(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          rB()
            ? Reflect.construct(e, n || [], oB(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function rB() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (rB = function () {
        return !!t;
      })();
    }
    function oB(t) {
      return (
        (oB = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        oB(t)
      );
    }
    function iB(t, e) {
      return (
        (iB = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        iB(t, e)
      );
    }
    var aB = {
        configKey: "isScriptsFeature",
        isDefault: !1,
        shouldRunPerContext: !0,
        shouldRunPerSession: !1,
        shouldRun: !0,
        isFrameRelated: !1,
        runInUns: !0,
        runInSlave: !1,
        runInLean: !1,
        isRunning: !1,
        instance: null,
      },
      uB = (function (t) {
        function e(t, n) {
          var r;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((r = nB(this, e))._dataQ = t),
            (r._timeoutValue = 1e3),
            (r._scriptsRepository = n),
            (r._runDetectionLoopBinded = r._runDetectionLoop.bind(r)),
            r
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && iB(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && tB(t.prototype, e),
              n && tB(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "_checkScriptsData",
                value: function () {
                  for (var t = document.scripts, e = 0; e < t.length; e++) {
                    var n = { src: t[e].src, text: t[e].text };
                    this._scriptsRepository.exists(n) ||
                      (this._scriptsRepository.add(n),
                      this._dataQ.addToQueue("scripts", [
                        null,
                        n.src,
                        n.textHash,
                      ]));
                  }
                },
              },
              {
                key: "_runDetectionLoop",
                value: function () {
                  this._checkScriptsData(),
                    (this._timer = setTimeout(
                      this._runDetectionLoopBinded,
                      this._timeoutValue
                    )),
                    this._timeoutValue < 536870911 && (this._timeoutValue *= 4);
                },
              },
              {
                key: "startFeature",
                value: function () {
                  this._runDetectionLoop();
                },
              },
              {
                key: "stopFeature",
                value: function () {
                  this._timer && clearTimeout(this._timer);
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return aB;
                },
              },
            ]
          )
        );
      })(uo);
    function sB(t) {
      return (
        (sB =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        sB(t)
      );
    }
    function cB(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, lB(r.key), r);
      }
    }
    function lB(t) {
      var e = (function (t, e) {
        if ("object" != sB(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != sB(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == sB(e) ? e : e + "";
    }
    function fB(t, e, n) {
      return (
        (e = hB(e)),
        (function (t, e) {
          if (e && ("object" == sB(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          pB()
            ? Reflect.construct(e, n || [], hB(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function pB() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (pB = function () {
        return !!t;
      })();
    }
    function hB(t) {
      return (
        (hB = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        hB(t)
      );
    }
    function dB(t, e) {
      return (
        (dB = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        dB(t, e)
      );
    }
    var yB = {
        configKey: "isFilesFeature",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !0,
        shouldRun: !0,
        isFrameRelated: !1,
        runInUns: !1,
        runInSlave: !1,
        runInLean: !1,
        isRunning: !1,
        instance: null,
      },
      mB = (function (t) {
        function e(t, n, r, o, i) {
          var a;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((a = fB(this, e))._utils = n),
            (a._configurationRepository = t),
            (a._sessionService = r),
            (a._muidService = o),
            (a._cidCache = i),
            a
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && dB(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && cB(t.prototype, e),
              n && cB(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "getFiles",
                value: function () {
                  if (
                    this._customerId &&
                    this._muid &&
                    this._sid &&
                    this._addrList &&
                    this._addrList.length > 0
                  )
                    for (var t, e = 0; e < this._addrList.length; e++)
                      (t =
                        this._addrList[e] +
                        "?cid=" +
                        this._customerId +
                        "&snum=" +
                        this._sid +
                        "&muid=" +
                        this._muid),
                        this._utils.getPostUrl(t, "GET", null, null, null),
                        (this._isSent = !0);
                },
              },
              {
                key: "startFeature",
                value: function () {
                  var t;
                  this._isSent = !1;
                  try {
                    this._addrList = JSON.parse(
                      this._configurationRepository.get("getAddrList")
                    );
                  } catch (t) {
                    this._addrList = "";
                  }
                  (this._customerId = this._cidCache.get() || ""),
                    (this._muid =
                      (null === (t = this._muidService) || void 0 === t
                        ? void 0
                        : t.muid) || ""),
                    (this._sid = this._sessionService.sessionId || ""),
                    this.getFiles();
                },
              },
              {
                key: "updateFeatureConfig",
                value: function () {
                  var t;
                  try {
                    this._addrList = JSON.parse(
                      this._configurationRepository.get("getAddrList")
                    );
                  } catch (t) {
                    this._addrList = "";
                  }
                  (this._customerId = this._cidCache.get() || ""),
                    (this._muid =
                      (null === (t = this._muidService) || void 0 === t
                        ? void 0
                        : t.muid) || ""),
                    (this._sid = this._sessionService.sessionId || ""),
                    this._isSent || this.getFiles();
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return yB;
                },
              },
            ]
          )
        );
      })(uo);
    function vB(t) {
      return (
        (vB =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        vB(t)
      );
    }
    function bB(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, gB(r.key), r);
      }
    }
    function gB(t) {
      var e = (function (t, e) {
        if ("object" != vB(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != vB(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == vB(e) ? e : e + "";
    }
    function _B(t, e, n) {
      return (
        (e = SB(e)),
        (function (t, e) {
          if (e && ("object" == vB(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          wB()
            ? Reflect.construct(e, n || [], SB(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function wB() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (wB = function () {
        return !!t;
      })();
    }
    function SB(t) {
      return (
        (SB = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        SB(t)
      );
    }
    function EB(t, e) {
      return (
        (EB = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        EB(t, e)
      );
    }
    var kB = {
        configKey: "isMetadataCollect",
        isDefault: !0,
        shouldRunPerContext: !1,
        shouldRunPerSession: !1,
        shouldRun: !0,
        isFrameRelated: !1,
        runInSlave: !0,
        runInLean: !0,
        runInUns: !1,
        isRunning: !1,
        instance: null,
      },
      TB = (function (t) {
        function e(t, n, r, o) {
          var i;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((i = _B(this, e))._configurationRepository = t),
            (i._dataQ = n),
            (i._metaDataSiteMapper = r),
            (i._utils = o),
            i._metaDataSiteMapper.updateObserver(i.onSiteMapperMatch.bind(i)),
            i
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && EB(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && bB(t.prototype, e),
              n && bB(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(
            e,
            [
              {
                key: "startFeature",
                value: function () {
                  this._metaDataSiteMapper.initTracking();
                },
              },
              {
                key: "stopFeature",
                value: function () {
                  this._metaDataSiteMapper.stopTracking();
                },
              },
              {
                key: "onSiteMapperMatch",
                value: function (t) {
                  _t.debug(
                    "Metadata Collector mapper match - ".concat(
                      JSON.stringify(t)
                    )
                  ),
                    t.metaVal &&
                      this._dataQ.addToQueue("metadata_map", [
                        null,
                        t.metaVal,
                        this._utils.dateNow(),
                      ]);
                },
              },
              {
                key: "updateFeatureConfig",
                value: function () {
                  this._metaDataSiteMapper.onConfigUpdate(
                    this._configurationRepository
                  );
                },
              },
            ],
            [
              {
                key: "getDefaultSettings",
                value: function () {
                  return kB;
                },
              },
            ]
          )
        );
      })(uo),
      PB = null,
      OB = null,
      CB = null,
      jB = null;
    function MB(t) {
      PB.removeElementEvents(t), PB.addElementEvents(t, !0);
    }
    function RB(t) {
      OB.removeElementEvents(t), OB.addElementEvents(t, !0);
    }
    function BB(t) {
      CB.removeElementEvents(t), CB.addElementEvents(t, !0);
    }
    function AB(t) {
      jB.removeElementEvents(t), jB.addElementEvents(t, !0);
    }
    function xB(t, e) {
      var n = Object.keys(t);
      if (Object.getOwnPropertySymbols) {
        var r = Object.getOwnPropertySymbols(t);
        e &&
          (r = r.filter(function (e) {
            return Object.getOwnPropertyDescriptor(t, e).enumerable;
          })),
          n.push.apply(n, r);
      }
      return n;
    }
    function DB(t) {
      for (var e = 1; e < arguments.length; e++) {
        var n = null != arguments[e] ? arguments[e] : {};
        e % 2
          ? xB(Object(n), !0).forEach(function (e) {
              QB(t, e, n[e]);
            })
          : Object.getOwnPropertyDescriptors
          ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n))
          : xB(Object(n)).forEach(function (e) {
              Object.defineProperty(
                t,
                e,
                Object.getOwnPropertyDescriptor(n, e)
              );
            });
      }
      return t;
    }
    function LB(t) {
      return (
        (LB =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        LB(t)
      );
    }
    function NB(t, e) {
      if (!(t instanceof e))
        throw new TypeError("Cannot call a class as a function");
    }
    function IB(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, zB(r.key), r);
      }
    }
    function FB(t, e, n) {
      return (
        e && IB(t.prototype, e),
        n && IB(t, n),
        Object.defineProperty(t, "prototype", { writable: !1 }),
        t
      );
    }
    function UB(t, e, n) {
      return (
        (e = GB(e)),
        (function (t, e) {
          if (e && ("object" == LB(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          WB()
            ? Reflect.construct(e, n || [], GB(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function WB() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (WB = function () {
        return !!t;
      })();
    }
    function GB(t) {
      return (
        (GB = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        GB(t)
      );
    }
    function HB(t, e) {
      return (
        (HB = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        HB(t, e)
      );
    }
    function QB(t, e, n) {
      return (
        (e = zB(e)) in t
          ? Object.defineProperty(t, e, {
              value: n,
              enumerable: !0,
              configurable: !0,
              writable: !0,
            })
          : (t[e] = n),
        t
      );
    }
    function zB(t) {
      var e = (function (t, e) {
        if ("object" != LB(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != LB(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == LB(e) ? e : e + "";
    }
    var VB = {
        configKey: "isCrossdomain",
        isDefault: !1,
        shouldRunPerContext: !1,
        shouldRunPerSession: !1,
        shouldRun: !0,
        isFrameRelated: !1,
        runInUns: !1,
        runInSlave: !1,
        runInLean: !1,
        isRunning: !1,
        instance: null,
      },
      KB = { found: 0, new: 1 },
      qB = /(?=(child\-src)|(frame\-src))([^;]+)/gi,
      JB = /http[s]?:\/\/([^\/]+)/gi,
      XB = {
        resource: null,
        iframeElement: !1,
        blockedByCSP: !1,
        iframeLoaded: !1,
        ACKMessageSent: !1,
        ACKMessageRecieved: !1,
        unavailable: !1,
      },
      YB = ["eventSequence", "timestamp", "eventType", "domainUrl", "muid"],
      ZB = (function (t) {
        function e(t) {
          var n;
          return (
            NB(this, e),
            QB((n = UB(this, e)), "startFeature", function (t) {
              (n._domainsResources = n._configurationRepository.get(
                w.crossDomainsList
              )),
                (n._crossDomainsTimeout = n._configurationRepository.get(
                  w.crossDomainsTimeout
                )),
                Array.isArray(n._domainsResources) &&
                  n._domainsResources.length > 0 &&
                  (n._windowMessageEmitter.startObserver(t),
                  n._domainsResources.forEach(function (t) {
                    var e = t.match(JB);
                    if (null !== e && "string" == typeof e[0]) {
                      var r = e[0];
                      if ("object" === LB(n._domainsStates[r])) return;
                      (n._domainsStates[r] = DB({}, XB)),
                        (n._domainsStates[r].resource = t),
                        n._domains.push(r);
                    }
                  }),
                  Array.isArray(n._domains) &&
                    n._domains.length > 0 &&
                    (n.isBlockedByCSP(t, n._domains),
                    n._domUtils.onDocumentBody(t.Context, function () {
                      n.connectDomains(t);
                    })));
            }),
            QB(n, "stopFeature", function (t) {
              n._clearFeaturesObjects(t);
            }),
            QB(n, "_clearFeaturesObjects", function (t) {
              n._windowMessageEmitter.stopObserver(t),
                Array.isArray(n._domains) &&
                  n._domains.length > 0 &&
                  (n._domains.forEach(function (e) {
                    n.clearDomElements(t, e);
                  }),
                  (n._domains = []),
                  (n._domainsStates = {}));
            }),
            QB(n, "connectDomains", function (t) {
              Array.isArray(n._domains) &&
                n._domains.length > 0 &&
                (n._domains.forEach(function (e) {
                  n._domainsStates[e].blockedByCSP ||
                    !1 !== n._domainsStates[e].iframeElement ||
                    n.createIframe(t, e);
                }),
                (n._domainsTimeoutFunc = setTimeout(function () {
                  n._domains.forEach(function (e) {
                    "object" === LB(n._domainsStates[e]) &&
                      !1 === n._domainsStates[e].ACKMessageRecieved &&
                      !1 === n._domainsStates[e].unavailable &&
                      (_t.warn(
                        "Cross Domain feature - domain ".concat(
                          e,
                          " is unavailable"
                        )
                      ),
                      (n._domainsStates[e].unavailable = !0),
                      n.clearDomElements(t, e));
                  });
                }, n._crossDomainsTimeout)));
            }),
            QB(n, "createIframe", function (t, r) {
              var o = t.getDocument().createElement("iframe");
              (o.onload = function () {
                n.postNextMessage(r);
              }),
                (o.id = bi + e.generateRandomID()),
                (o.src = n._domainsStates[r].resource),
                (o.style.display = "none"),
                (o.style.opacity = "0"),
                (o.style.width = "1px"),
                (o.style.height = "1px"),
                t.getDocument().body.appendChild(o),
                (n._domainsStates[r].iframeElement = o);
            }),
            QB(n, "clearDomElements", function (t, e) {
              var r = n._domainsStates[e].iframeElement;
              "object" === LB(r) &&
                null !==
                  t
                    .getDocument()
                    .getElementById(n._domainsStates[e].iframeElement.id) &&
                t.getDocument().body.removeChild(r);
            }),
            QB(n, "postNextMessage", function (t) {
              if (
                !n._domainsStates[t].ACKMessageRecieved &&
                n._domainsStates[t].iframeElement
              ) {
                var e = { muid: n._generatedMUID };
                n._domainsStates[t].iframeElement.contentWindow.postMessage(
                  JSON.stringify(e),
                  t
                ),
                  (n._domainsStates[t].ACKMessageSent = !0);
              }
            }),
            QB(n, "isBlockedByCSP", function (t, e) {
              if (!Array.isArray(e) || e.length < 1)
                throw new Error(
                  "Domains are expected for content security policy assertion"
                );
              var r = !1;
              [].slice
                .call(t.getDocument().getElementsByTagName("meta"))
                .forEach(function (t) {
                  if (
                    "Content-Security-Policy" === t.getAttribute("http-equiv")
                  ) {
                    r = !0;
                    var o = t.getAttribute("content").match(qB);
                    e.forEach(function (t) {
                      o &&
                        -1 === o[0].indexOf(t) &&
                        "object" === LB(n._domainsStates[t]) &&
                        (n._domainsStates[t].blockedByCSP ||
                          _t.warn(
                            "Cross Domain feature - domain ".concat(
                              t,
                              " is blocked by CSP"
                            )
                          ),
                        (n._domainsStates[t].blockedByCSP = !0));
                    });
                  }
                  if (r) return !1;
                });
            }),
            QB(n, "windowMessageHandler", function (t) {
              var e = t.message.origin;
              if (n._domainsStates.hasOwnProperty(e)) {
                if (!0 === n._domainsStates[e].ACKMessageRecieved) return;
                (n._domainsStates[e].ACKMessageRecieved = !0),
                  n.clearDomElements(
                    new Hi(t.message.currentTarget, n._domUtils),
                    e
                  );
                var r = t.message.data;
                n.sendToQueue(e, r);
              }
            }),
            QB(n, "sendToQueue", function (t, e) {
              var r = t.replace(/http[s]?:\/\//i, "");
              "object" === LB(e.found) &&
                Object.keys(e.found).forEach(function (t) {
                  var o =
                      n._utils.StorageUtils.getAndUpdateEventSequenceNumber(),
                    i = r,
                    a = e.found[t].split("__"),
                    u = {
                      eventType: n._eventType.found,
                      eventSequence: o,
                      domainUrl: i,
                      muid: a[0],
                      timestamp: a[1],
                    };
                  n._dataQ.addToQueue(
                    "crossmuid_event",
                    n._utils.convertToArrayByMap(YB, u),
                    !0
                  );
                }),
                "object" === LB(e.new) &&
                  Object.keys(e.new).forEach(function (t) {
                    var o =
                        n._utils.StorageUtils.getAndUpdateEventSequenceNumber(),
                      i = r,
                      a = e.new[t].split("__"),
                      u = {
                        eventType: n._eventType.new,
                        eventSequence: o,
                        domainUrl: i,
                        muid: a[0],
                        timestamp: a[1],
                      };
                    n._dataQ.addToQueue(
                      "crossmuid_event",
                      n._utils.convertToArrayByMap(YB, u)
                    );
                  }),
                "object" === LB(e.error_message) &&
                  _t.warn(
                    "Cross Domain feature - domain "
                      .concat(r, " error. Error Message: \n                ")
                      .concat(e.error_message, " Code: ")
                      .concat(e.error_code)
                  );
            }),
            QB(n, "updateFeatureConfig", function (t) {
              (n._domainsResources = n._configurationRepository.get(
                w.crossDomainsList
              )),
                (n._crossDomainsTimeout = n._configurationRepository.get(
                  w.crossDomainsTimeout
                )),
                clearTimeout(n._domainsTimeoutFunc),
                (n._domainsTimeoutFunc = null),
                n.updateDomainStates(t);
            }),
            QB(n, "updateDomainStates", function (t) {
              Array.isArray(n._domainsResources) &&
                n._domainsResources.length > 0 &&
                ((n._domains = []),
                n._domainsResources.forEach(function (t) {
                  var e = t.match(JB);
                  if (null !== e && "string" == typeof e[0]) {
                    var r = e[0];
                    "object" !== LB(n._domainsStates[r]) &&
                      ((n._domainsStates[r] = DB({}, XB)),
                      (n._domainsStates[r].resource = t)),
                      n._domains.push(r);
                  }
                }),
                Array.isArray(n._domains) &&
                  n._domains.length > 0 &&
                  (n.isBlockedByCSP(t, n._domains),
                  n._domUtils.onDocumentBody(t.Context, function () {
                    n.connectDomains(t);
                  })));
            }),
            (n._configurationRepository = t.configurationRepository),
            (n._dataQ = t.dataQ),
            (n._utils = t.utils),
            (n._domUtils = t.domUtils),
            (n._eventType = t.eventType),
            (n._messageBus = t.messageBus),
            (n._windowMessageEmitter = t.windowMessageEventEmitter),
            n._messageBus.subscribe(qr, n.windowMessageHandler),
            (n._generatedMUID =
              n._utils.dateNow() + "-" + n._utils.generateUUID().toUpperCase()),
            (n._domainsStates = {}),
            (n._domainsResources = []),
            (n._domains = []),
            (n._domainsTimeoutFunc = null),
            n
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && HB(t, e);
          })(e, t),
          FB(e, null, [
            {
              key: "getDefaultSettings",
              value: function () {
                return VB;
              },
            },
            {
              key: "Builder",
              get: function () {
                return (function () {
                  return FB(
                    function t(e, n, r, o, i) {
                      NB(this, t),
                        (this.configurationRepository = e),
                        (this.dataQ = n),
                        (this.utils = r),
                        (this.domUtils = o),
                        (this.eventType = i);
                    },
                    [
                      {
                        key: "withMessageBus",
                        value: function (t) {
                          return (this.messageBus = t), this;
                        },
                      },
                      {
                        key: "withWindowMessageEventEmitter",
                        value: function (t) {
                          return (this.windowMessageEventEmitter = t), this;
                        },
                      },
                      {
                        key: "build",
                        value: function () {
                          return new e(this);
                        },
                      },
                    ]
                  );
                })();
              },
            },
            {
              key: "generateRandomID",
              value: function () {
                for (
                  var t = "abcdefghijklmnopqrstuvwxyz0123456789", e = "", n = 0;
                  n < 16;
                  n++
                )
                  e += t.charAt(Math.floor(36 * Math.random()));
                return e;
              },
            },
          ])
        );
      })(uo),
      $B = ZB;
    function tA(t) {
      return (
        (tA =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        tA(t)
      );
    }
    function eA(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, nA(r.key), r);
      }
    }
    function nA(t) {
      var e = (function (t, e) {
        if ("object" != tA(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != tA(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == tA(e) ? e : e + "";
    }
    var rA = (function () {
      return (function (t, e, n) {
        return (
          e && eA(t.prototype, e),
          n && eA(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t() {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t);
        },
        [
          {
            key: "getEventTimestamp",
            value: function () {
              return se.dateNow();
            },
          },
          {
            key: "getTimestampFromEvent",
            value: function (t) {
              return t.timeStamp ? se.cutDecimalPointDigits(t.timeStamp, 3) : 0;
            },
          },
          { key: "updateFeatureConfig", value: function () {} },
          {
            key: "processElements",
            value: function (t, e, n, r, o) {
              t.forEach(function (t) {
                var i = n.isListed(t);
                i && !e ? r.call(n, t) : i || o.call(n, t, !1);
              });
            },
          },
        ]
      );
    })();
    function oA(t) {
      return (
        (oA =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        oA(t)
      );
    }
    function iA(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, fA(r.key), r);
      }
    }
    function aA(t, e, n) {
      return (
        (e = sA(e)),
        (function (t, e) {
          if (e && ("object" == oA(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          uA()
            ? Reflect.construct(e, n || [], sA(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function uA() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (uA = function () {
        return !!t;
      })();
    }
    function sA(t) {
      return (
        (sA = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        sA(t)
      );
    }
    function cA(t, e) {
      return (
        (cA = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        cA(t, e)
      );
    }
    function lA(t, e, n) {
      return (
        (e = fA(e)) in t
          ? Object.defineProperty(t, e, {
              value: n,
              enumerable: !0,
              configurable: !0,
              writable: !0,
            })
          : (t[e] = n),
        t
      );
    }
    function fA(t) {
      var e = (function (t, e) {
        if ("object" != oA(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != oA(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == oA(e) ? e : e + "";
    }
    var pA =
        "input:not([type='color']):not([type='hidden']):not([type='file']):not([type='image']):not([type='button']):not([type='radio']):not([type='checkbox']), textarea",
      hA = function (t, e, n) {
        return {
          applyAction: function (r, o, i) {
            if (!["start", "stop"].includes(o)) return !1;
            r.collectAllElementsBySelectorAsync(pA, e, n).then(function (e) {
              e.length > 0 && t[o](e, r.Context, i);
            });
          },
        };
      },
      dA = (function (t) {
        function e(t, n, r, o, i, a, u, s, c, l, f) {
          var p;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            lA((p = aA(this, e)), "handleInputEvents", function (t) {
              "InputEvent" === t.constructor.name &&
                p._inputEventsPerElement.set(t.target, {});
              var e = t.target.value || "";
              "" !== e && (e = p._maskingService.maskText(e, t.target.id)),
                p._sendToQueue(t, {
                  length: e ? e.length : 0,
                  elementValues: e,
                  selected: -1,
                });
            }),
            lA(p, "handleFocusBlurEvents", function (t) {
              p._sendToQueue(t, { length: 0, selected: -1, elementValues: "" });
            }),
            lA(p, "handleSyntheticInputEvents", function (t) {
              if (
                !p._inputEventsPerElement.has(t.target) ||
                (void 0 !== t.jQueryMask &&
                  ("autotab" === t.jQueryMask ||
                    "prasleyValidator" === t.jQueryMask))
              ) {
                var e = t.target.value || "";
                "" !== e && (e = p._maskingService.maskText(e, t.target.id)),
                  p._sendToQueue(t, {
                    length: e ? e.length : 0,
                    elementValues: e,
                    selected: -1,
                  });
              }
            }),
            (p._elements = t),
            (p._sendToQueue = n),
            (p._messageBus = o),
            (p._CDUtils = r),
            (p._StandardInputEventsEmitter = i),
            (p._SyntheticMaskInputEventsHandler = a),
            (p._SyntheticAutotabInputEventsHandler = u),
            (p._maskingService = s),
            (p._categoryService = c),
            (p._inputEventsPerElement = new WeakMap()),
            (p._maxShadowDepth = l),
            (p._iframeLoadingTimeout = f),
            p
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && cA(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && iA(t.prototype, e),
              n && iA(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(e, [
            {
              key: "bind",
              value: function (t) {
                this._messageBus.subscribe(Cr, this.handleInputEvents),
                  this._messageBus.subscribe(jr, this.handleFocusBlurEvents),
                  this._messageBus.subscribe(Mr, this.handleFocusBlurEvents),
                  this._messageBus.subscribe(
                    Lr,
                    this.handleSyntheticInputEvents
                  ),
                  hA(
                    this._StandardInputEventsEmitter,
                    this._maxShadowDepth,
                    this._iframeLoadingTimeout
                  ).applyAction(t, "start"),
                  hA(
                    this._SyntheticMaskInputEventsHandler,
                    this._maxShadowDepth,
                    this._iframeLoadingTimeout
                  ).applyAction(t, "start"),
                  hA(
                    this._SyntheticAutotabInputEventsHandler,
                    this._maxShadowDepth,
                    this._iframeLoadingTimeout
                  ).applyAction(t, "start");
              },
            },
            {
              key: "unbind",
              value: function (t) {
                hA(
                  this._StandardInputEventsEmitter,
                  this._maxShadowDepth,
                  this._iframeLoadingTimeout
                ).applyAction(t, "stop"),
                  hA(
                    this._SyntheticMaskInputEventsHandler,
                    this._maxShadowDepth,
                    this._iframeLoadingTimeout
                  ).applyAction(t, "stop"),
                  hA(
                    this._SyntheticAutotabInputEventsHandler,
                    this._maxShadowDepth,
                    this._iframeLoadingTimeout
                  ).applyAction(t, "stop"),
                  this._messageBus.unsubscribe(Cr, this.handleInputEvents),
                  this._messageBus.unsubscribe(jr, this.handleFocusBlurEvents),
                  this._messageBus.unsubscribe(Mr, this.handleFocusBlurEvents),
                  this._messageBus.unsubscribe(
                    Lr,
                    this.handleSyntheticInputEvents
                  );
              },
            },
            {
              key: "addOnLoadInputData",
              value: function (t, e) {
                var n = this;
                t.collectAllElementsBySelectorAsync(
                  pA,
                  this._maxShadowDepth,
                  this._iframeLoadingTimeout
                ).then(function (t) {
                  n.processElements(
                    t,
                    e,
                    n._elements,
                    n._elements.resendElementPerContext,
                    n._elements.getElement
                  );
                });
              },
            },
          ])
        );
      })(rA),
      yA = dA;
    function mA(t) {
      return (
        (mA =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        mA(t)
      );
    }
    function vA(t) {
      return (
        (function (t) {
          if (Array.isArray(t)) return bA(t);
        })(t) ||
        (function (t) {
          if (
            ("undefined" != typeof Symbol && null != t[Symbol.iterator]) ||
            null != t["@@iterator"]
          )
            return Array.from(t);
        })(t) ||
        (function (t, e) {
          if (t) {
            if ("string" == typeof t) return bA(t, e);
            var n = {}.toString.call(t).slice(8, -1);
            return (
              "Object" === n && t.constructor && (n = t.constructor.name),
              "Map" === n || "Set" === n
                ? Array.from(t)
                : "Arguments" === n ||
                  /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                ? bA(t, e)
                : void 0
            );
          }
        })(t) ||
        (function () {
          throw new TypeError(
            "Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
          );
        })()
      );
    }
    function bA(t, e) {
      (null == e || e > t.length) && (e = t.length);
      for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
      return r;
    }
    function gA(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, kA(r.key), r);
      }
    }
    function _A(t, e, n) {
      return (
        (e = SA(e)),
        (function (t, e) {
          if (e && ("object" == mA(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          wA()
            ? Reflect.construct(e, n || [], SA(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function wA() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (wA = function () {
        return !!t;
      })();
    }
    function SA(t) {
      return (
        (SA = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        SA(t)
      );
    }
    function EA(t, e) {
      return (
        (EA = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        EA(t, e)
      );
    }
    function kA(t) {
      var e = (function (t, e) {
        if ("object" != mA(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != mA(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == mA(e) ? e : e + "";
    }
    var TA = (function (t) {
        function e(t, n, r, o, i, a, u, s) {
          var c;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            (function (t, e, n) {
              (e = kA(e)) in t
                ? Object.defineProperty(t, e, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (t[e] = n);
            })((c = _A(this, e)), "handleInputEvents", function (t) {
              var e,
                n,
                r,
                o,
                i,
                a,
                u = "",
                s =
                  null == t || null === (e = t.getAttribute) || void 0 === e
                    ? void 0
                    : e.call(
                        t,
                        null === (n = c._inputElementSettings) || void 0 === n
                          ? void 0
                          : n.elementDataAttribute
                      );
              if (s) u = s;
              else if (
                null != t &&
                null !== (r = t.target) &&
                void 0 !== r &&
                r.ariaValueNow
              )
                u = t.target.ariaValueNow;
              else if (
                null != t &&
                null !== (o = t.target) &&
                void 0 !== o &&
                o.value
              ) {
                var l;
                u = null === (l = t.target) || void 0 === l ? void 0 : l.value;
              } else if (
                null != t &&
                t[
                  null === (i = c._inputElementSettings) || void 0 === i
                    ? void 0
                    : i.elementDataAttribute
                ]
              ) {
                var f;
                u =
                  t[
                    null === (f = c._inputElementSettings) || void 0 === f
                      ? void 0
                      : f.elementDataAttribute
                  ];
              }
              "" !== u && (u = c._maskingService.maskText(u, t.id)),
                "" !== u &&
                  c._sendToQueue(t, {
                    length:
                      (null === (a = u) || void 0 === a ? void 0 : a.length) ||
                      0,
                    elementValues: u,
                    selected: -1,
                  });
            }),
            (c._elements = t),
            (c._sendToQueue = n),
            (c._CDUtils = r),
            (c._messageBus = o),
            (c._StandardCustomInputEmitter = i),
            (c._maskingService = a),
            (c._inputElementSettings = u),
            (c._elementsFromDoc = { mainElement: "", customButtons: [] }),
            (c._categoryService = s),
            c
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && EA(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && gA(t.prototype, e),
              n && gA(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(e, [
            {
              key: "bind",
              value: function (t) {
                var e, n, r, o;
                if (
                  (null !== (e = this._inputElementSettings) &&
                    void 0 !== e &&
                    e.parentElementSelector) ||
                  (null !== (n = this._inputElementSettings) &&
                    void 0 !== n &&
                    n.childElementWithCustomAttribute)
                ) {
                  var i = t.getDocument();
                  this._messageBus.subscribe(Zr, this.handleInputEvents);
                  var a = [
                    null === (r = this._elementsFromDoc) || void 0 === r
                      ? void 0
                      : r.mainElement,
                  ].concat(vA(this._elementsFromDoc.customButtons));
                  "" ===
                    (null === (o = this._elementsFromDoc) || void 0 === o
                      ? void 0
                      : o.mainElement) && this.getSelectElementsFromDoc(i),
                    this.addListenersBySelector(a);
                }
              },
            },
            {
              key: "unbind",
              value: function (t) {
                var e, n, r, o;
                if (
                  (null !== (e = this._inputElementSettings) &&
                    void 0 !== e &&
                    e.parentElementSelector) ||
                  (null !== (n = this._inputElementSettings) &&
                    void 0 !== n &&
                    n.childElementWithCustomAttribute)
                ) {
                  var i = t.getDocument();
                  this._messageBus.subscribe(Zr, this.handleInputEvents);
                  var a = [
                    null === (r = this._elementsFromDoc) || void 0 === r
                      ? void 0
                      : r.mainElement,
                  ].concat(vA(this._elementsFromDoc.customButtons));
                  "" ===
                    (null === (o = this._elementsFromDoc) || void 0 === o
                      ? void 0
                      : o.mainElement) && this.getSelectElementsFromDoc(i),
                    this.removeListenersBySelector(a);
                }
              },
            },
            {
              key: "getSelectElementsFromDoc",
              value: function (t) {
                var e,
                  n,
                  r,
                  o = this,
                  i = t.querySelector("body"),
                  a = t.querySelector(
                    null === (e = this._inputElementSettings) || void 0 === e
                      ? void 0
                      : e.childElementWithCustomAttribute
                  );
                i &&
                  (a && (this._elementsFromDoc.mainElement = a),
                  null !== (n = this._inputElementSettings) &&
                    void 0 !== n &&
                    n.customButtons &&
                    (null === (r = this._inputElementSettings) ||
                      void 0 === r ||
                      r.customButtons.forEach(function (e) {
                        var n = t.querySelector(e);
                        n && o._elementsFromDoc.customButtons.push(n);
                      })));
                return this._elementsFromDoc;
              },
            },
            {
              key: "addListenersBySelector",
              value: function (t) {
                var e;
                null !== (e = this._elementsFromDoc) &&
                  void 0 !== e &&
                  e.mainElement &&
                  t.length >= 1 &&
                  this._StandardCustomInputEmitter.start(t);
              },
            },
            {
              key: "removeListenersBySelector",
              value: function (t) {
                var e;
                null !== (e = this._elementsFromDoc) &&
                  void 0 !== e &&
                  e.mainElement &&
                  t.length >= 1 &&
                  this._StandardCustomInputEmitter.stop(t),
                  (this._elementsFromDoc = {
                    mainElement: "",
                    customButtons: [],
                  });
              },
            },
            {
              key: "addOnLoadInputData",
              value: function (t, e) {
                var n,
                  r,
                  o,
                  i,
                  a,
                  u = this;
                if (
                  (null !== (n = this._inputElementSettings) &&
                    void 0 !== n &&
                    n.parentElementSelector) ||
                  (null !== (r = this._inputElementSettings) &&
                    void 0 !== r &&
                    r.childElementWithCustomAttribute)
                ) {
                  var s = t.getDocument(),
                    c = [
                      null === (o = this._elementsFromDoc) || void 0 === o
                        ? void 0
                        : o.mainElement,
                    ].concat(vA(this._elementsFromDoc.customButtons));
                  "" ===
                    (null === (i = this._elementsFromDoc) || void 0 === i
                      ? void 0
                      : i.mainElement) && this.getSelectElementsFromDoc(s),
                    null !== (a = this._elementsFromDoc) &&
                      void 0 !== a &&
                      a.mainElement &&
                      c.length >= 1 &&
                      c.forEach(function (t) {
                        u._elements.isListed(t)
                          ? e || u._elements.resendElementPerContext(t)
                          : u._elements.getElement(t, !1);
                      });
                }
              },
            },
          ])
        );
      })(rA),
      PA = TA;
    function OA(t) {
      return (
        (OA =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        OA(t)
      );
    }
    function CA(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, AA(r.key), r);
      }
    }
    function jA(t, e, n) {
      return (
        (e = RA(e)),
        (function (t, e) {
          if (e && ("object" == OA(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          MA()
            ? Reflect.construct(e, n || [], RA(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function MA() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (MA = function () {
        return !!t;
      })();
    }
    function RA(t) {
      return (
        (RA = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        RA(t)
      );
    }
    function BA(t, e) {
      return (
        (BA = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        BA(t, e)
      );
    }
    function AA(t) {
      var e = (function (t, e) {
        if ("object" != OA(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != OA(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == OA(e) ? e : e + "";
    }
    var xA =
        "input[type='button'], input[type='radio'], input[type='checkbox'], button",
      DA = (function (t) {
        function e(t, n, r, o, i, a, u, s, c) {
          var l;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            (function (t, e, n) {
              (e = AA(e)) in t
                ? Object.defineProperty(t, e, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (t[e] = n);
            })((l = jA(this, e)), "handleOnClickEvents", function (t) {
              var e = t.target,
                n = e.value || e.innerHTML || "";
              (n = l._maskingService.maskText(n, t.target.id)),
                l._sendToQueue(t, {
                  length: n.length,
                  elementValues: n,
                  selected: void 0 === e.checked ? -1 : e.checked ? 1 : 0,
                });
            }),
            (l._elements = u),
            (l._sendToQueue = t),
            (l._CDUtils = n),
            (l._messageBus = r),
            (l._StandardOnClickEventsEmitter = i),
            (l._configurationRepository = o),
            (l._enableElementHierarchy = o.get(w.enableElementHierarchy)),
            (l._enableElementCategory = o.get(w.enableElementCategory)),
            (l._maskingService = a),
            (l._maxShadowDepth = s),
            (l._iframeLoadingTimeout = c),
            l
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && BA(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && CA(t.prototype, e),
              n && CA(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(e, [
            {
              key: "bind",
              value: function (t) {
                var e = this;
                this._messageBus.subscribe(Rr, this.handleOnClickEvents),
                  t
                    .collectAllElementsBySelectorAsync(
                      xA,
                      this._maxShadowDepth,
                      this._iframeLoadingTimeout
                    )
                    .then(function (t) {
                      e._StandardOnClickEventsEmitter.start(t);
                    });
              },
            },
            {
              key: "unbind",
              value: function (t) {
                var e = this;
                this._messageBus.unsubscribe(Rr, this.handleOnClickEvents),
                  t
                    .collectAllElementsBySelectorAsync(
                      xA,
                      this._maxShadowDepth,
                      this._iframeLoadingTimeout
                    )
                    .then(function (t) {
                      e._StandardOnClickEventsEmitter.stop(t);
                    });
              },
            },
            {
              key: "addOnLoadInputData",
              value: function (t, e) {
                var n = this;
                (this._enableElementHierarchy || this._enableElementCategory) &&
                  t
                    .collectAllElementsBySelectorAsync(
                      xA,
                      this._maxShadowDepth,
                      this._iframeLoadingTimeout
                    )
                    .then(function (t) {
                      n.processElements(
                        t,
                        e,
                        n._elements,
                        n._elements.resendElementPerContext,
                        n._elements.getElement
                      );
                    });
              },
            },
          ])
        );
      })(rA),
      LA = DA;
    function NA(t) {
      return (
        (NA =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        NA(t)
      );
    }
    function IA(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, QA(r.key), r);
      }
    }
    function FA(t, e, n) {
      return (
        (e = WA(e)),
        (function (t, e) {
          if (e && ("object" == NA(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          UA()
            ? Reflect.construct(e, n || [], WA(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function UA() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (UA = function () {
        return !!t;
      })();
    }
    function WA(t) {
      return (
        (WA = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        WA(t)
      );
    }
    function GA(t, e) {
      return (
        (GA = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        GA(t, e)
      );
    }
    function HA(t, e, n) {
      return (
        (e = QA(e)) in t
          ? Object.defineProperty(t, e, {
              value: n,
              enumerable: !0,
              configurable: !0,
              writable: !0,
            })
          : (t[e] = n),
        t
      );
    }
    function QA(t) {
      var e = (function (t, e) {
        if ("object" != NA(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != NA(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == NA(e) ? e : e + "";
    }
    var zA = "select",
      VA = (function (t) {
        function e(t, n, r, o, i, a, u, s, c, l) {
          var f;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            HA((f = FA(this, e)), "handleOnChangeEvents", function (t) {
              var e = f._CDUtils
                .getDropDownListValues(t.target, f._maskingService)
                .join(";");
              e = f._CDUtils.clearTextFromNumbers(e);
              var n = t.target.selectedIndex,
                r = t.target.value.length;
              f._sendToQueue(t, { length: r, selected: n, elementValues: e });
            }),
            HA(f, "handleBlurEvent", function (t) {
              f._sendToQueue(t, { length: 0, selected: -1, elementValues: "" });
            }),
            HA(f, "handleFocusEvent", function (t) {
              f._sendToQueue(t, { length: 0, selected: -1, elementValues: "" });
            }),
            (f._sendToQueue = t),
            (f._CDUtils = n),
            (f._messageBus = r),
            (f._StandardOnChangeEventsEmitter = o),
            (f._elementFocusEventEmitter = i),
            (f._elementBlurEventEmitter = a),
            (f._configurationRepository = u),
            (f._collectSelectElementBlurAndFocusEvents =
              f._configurationRepository.get(
                w.collectSelectElementBlurAndFocusEvents
              )),
            (f._maskingService = s),
            (f._maxShadowDepth = c),
            (f._iframeLoadingTimeout = l),
            f
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && GA(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && IA(t.prototype, e),
              n && IA(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(e, [
            {
              key: "bind",
              value: function (t) {
                var e = this;
                this._messageBus.subscribe(Br, this.handleOnChangeEvents),
                  this._messageBus.subscribe(Ar, this.handleFocusEvent),
                  this._messageBus.subscribe(xr, this.handleBlurEvent),
                  t
                    .collectAllElementsBySelectorAsync(
                      zA,
                      this._maxShadowDepth,
                      this._iframeLoadingTimeout
                    )
                    .then(function (t) {
                      e._StandardOnChangeEventsEmitter.start(t),
                        e._collectSelectElementBlurAndFocusEvents &&
                          (e._elementFocusEventEmitter.start(t),
                          e._elementBlurEventEmitter.start(t));
                    });
              },
            },
            {
              key: "unbind",
              value: function (t) {
                var e = this;
                t
                  .collectAllElementsBySelectorAsync(
                    zA,
                    this._maxShadowDepth,
                    this._iframeLoadingTimeout
                  )
                  .then(function (t) {
                    e._StandardOnChangeEventsEmitter.stop(t),
                      e._elementFocusEventEmitter.stop(t),
                      e._elementBlurEventEmitter.stop(t);
                  }),
                  this._messageBus.unsubscribe(Br, this.handleOnChangeEvents),
                  this._messageBus.unsubscribe(Ar, this.handleFocusEvent),
                  this._messageBus.unsubscribe(xr, this.handleBlurEvent);
              },
            },
            {
              key: "updateSettings",
              value: function (t) {
                var e = this;
                (this._collectSelectElementBlurAndFocusEvents =
                  this._configurationRepository.get(
                    w.collectSelectElementBlurAndFocusEvents
                  )),
                  this._collectSelectElementBlurAndFocusEvents ||
                    t
                      .collectAllElementsBySelectorAsync(
                        zA,
                        this._maxShadowDepth,
                        this._iframeLoadingTimeout
                      )
                      .then(function (t) {
                        e._elementFocusEventEmitter.stop(t),
                          e._elementBlurEventEmitter.stop(t);
                      });
              },
            },
          ])
        );
      })(rA),
      KA = VA;
    function qA(t) {
      return (
        (qA =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        qA(t)
      );
    }
    function JA(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, tx(r.key), r);
      }
    }
    function XA(t, e, n) {
      return (
        (e = ZA(e)),
        (function (t, e) {
          if (e && ("object" == qA(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          YA()
            ? Reflect.construct(e, n || [], ZA(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function YA() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (YA = function () {
        return !!t;
      })();
    }
    function ZA(t) {
      return (
        (ZA = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        ZA(t)
      );
    }
    function $A(t, e) {
      return (
        ($A = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        $A(t, e)
      );
    }
    function tx(t) {
      var e = (function (t, e) {
        if ("object" != qA(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != qA(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == qA(e) ? e : e + "";
    }
    var ex = "form",
      nx = (function (t) {
        function e(t, n, r, o, i) {
          var a;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            (function (t, e, n) {
              (e = tx(e)) in t
                ? Object.defineProperty(t, e, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (t[e] = n);
            })((a = XA(this, e)), "handleOnFormEvents", function (t) {
              _t.trace("ElementEvents:_onFormSubmitEvent"),
                a._sendToQueue(t, {
                  length: 0,
                  selected: -1,
                  elementValues: "",
                });
            }),
            (a._sendToQueue = t),
            (a._messageBus = n),
            (a._StandardOnFormEventsEmitter = r),
            (a._maxShadowDepth = o),
            (a._iframeLoadingTimeout = i),
            a
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && $A(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && JA(t.prototype, e),
              n && JA(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(e, [
            {
              key: "bind",
              value: function (t) {
                var e = this;
                t.getDocument();
                t
                  .collectAllElementsBySelectorAsync(
                    ex,
                    this._maxShadowDepth,
                    this._iframeLoadingTimeout
                  )
                  .then(function (t) {
                    e._StandardOnFormEventsEmitter.start(t);
                  }),
                  this._messageBus.subscribe(Dr, this.handleOnFormEvents);
              },
            },
            {
              key: "unbind",
              value: function (t) {
                var e = this;
                t
                  .collectAllElementsBySelectorAsync(
                    ex,
                    this._maxShadowDepth,
                    this._iframeLoadingTimeout
                  )
                  .then(function (t) {
                    e._StandardOnFormEventsEmitter.stop(t);
                  }),
                  this._messageBus.unsubscribe(Dr, this.handleOnFormEvents);
              },
            },
          ])
        );
      })(rA),
      rx = nx;
    function ox(t) {
      return (
        (ox =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        ox(t)
      );
    }
    function ix(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, ax(r.key), r);
      }
    }
    function ax(t) {
      var e = (function (t, e) {
        if ("object" != ox(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != ox(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == ox(e) ? e : e + "";
    }
    var ux = (function () {
      return (function (t, e, n) {
        return (
          e && ix(t.prototype, e),
          n && ix(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t() {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t);
        },
        [
          {
            key: "detectPrivateMode",
            value: function (t) {
              this._isWebkitBrowser()
                ? this._detectPrivateBrowsingOnWebkit(t)
                : this._isMozillaBrowser()
                ? this._detectPrivateBrowsingOnMozilla(t)
                : this._isIE10OrLater(window.navigator.userAgent)
                ? this._detectPrivateBrowsingOnIESinceVersion10(t)
                : window.localStorage &&
                  /Safari/.test(window.navigator.userAgent)
                ? this._detectPrivateBrowsingOnSafari(t)
                : t(null);
            },
          },
          {
            key: "_isWebkitBrowser",
            value: function () {
              return !!window.webkitRequestFileSystem;
            },
          },
          {
            key: "_isMozillaBrowser",
            value: function () {
              return "MozAppearance" in document.documentElement.style;
            },
          },
          {
            key: "_isIE10OrLater",
            value: function (t) {
              var e = t.toLowerCase();
              if (0 === e.indexOf("msie") && 0 === e.indexOf("trident"))
                return !1;
              var n = /(?:msie|rv:)\s?([\d\.]+)/.exec(e);
              if (n && parseInt(n[1], 10) >= 10) return !0;
              if (
                (n =
                  "documentElement" in document &&
                  ("filters" in document.documentElement ||
                    "documentMode" in document)) &&
                document.documentMode &&
                parseFloat((e.match(/.+(?:ie|rv)[\/: ]([\d.]+)/) || [])[1]) >=
                  10
              )
                return !0;
              n = /edge/.test(e);
              var r = !!e.match(/trident\/7\./);
              if (
                (n || r) &&
                parseFloat((e.match(/.+(?:edge|rv)[\/: ]([\d.]+)/) || [])[1]) >=
                  10
              )
                return !0;
              return !1;
            },
          },
          {
            key: "_detectPrivateBrowsingOnWebkit",
            value: function (t) {
              void 0 !== navigator.storage &&
              "function" == typeof navigator.storage.estimate
                ? this._storageEstimateDetectionOnWebkit(t)
                : this._fileSystemDetectionOnWebkit(t);
            },
          },
          {
            key: "_fileSystemDetectionOnWebkit",
            value: function (t) {
              window.webkitRequestFileSystem(
                window.TEMPORARY,
                1,
                function () {
                  t(!1);
                },
                function () {
                  t(!0);
                }
              );
            },
          },
          {
            key: "_storageEstimateDetectionOnWebkit",
            value: function (t) {
              navigator.storage
                .estimate()
                .then(function (e) {
                  var n = e.quota;
                  t(n < 12e7);
                })
                .catch(function (t) {
                  _t.error("failed to detect private browsing", t);
                });
            },
          },
          {
            key: "_detectPrivateBrowsingOnMozilla",
            value: function (t) {
              try {
                var e = (indexedDB || window.indexedDB).open("test");
                (e.onerror = function () {
                  t(!0);
                }),
                  (e.onsuccess = function () {
                    t(!1);
                  });
              } catch (e) {
                t(!0);
              }
            },
          },
          {
            key: "_detectPrivateBrowsingOnIESinceVersion10",
            value: function (t) {
              var e = !1;
              try {
                window.indexedDB || (e = !0);
              } catch (t) {
                e = !0;
              }
              t(e);
            },
          },
          {
            key: "_detectPrivateBrowsingOnSafari",
            value: function (t) {
              var e;
              try {
                window.openDatabase(null, null, null, null);
              } catch (t) {
                e = !0;
              }
              try {
                window.localStorage.setItem("test", 1);
              } catch (t) {
                e = !0;
              }
              e || ((e = !1), window.localStorage.removeItem("test")), t(e);
            },
          },
        ]
      );
    })();
    function sx(t) {
      return (
        (sx =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        sx(t)
      );
    }
    function cx(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, lx(r.key), r);
      }
    }
    function lx(t) {
      var e = (function (t, e) {
        if ("object" != sx(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != sx(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == sx(e) ? e : e + "";
    }
    var fx = 1,
      px = 2,
      hx = 3,
      dx = 4,
      yx = 5,
      mx = 1,
      vx = 2,
      bx = 3,
      gx = 4,
      _x = (function () {
        return (function (t, e, n) {
          return (
            e && cx(t.prototype, e),
            n && cx(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t() {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t);
          },
          null,
          [
            {
              key: "getPointerHover",
              value: function () {
                var t = { pointer: yx, hover: yx };
                if (window.matchMedia) {
                  var e = window.matchMedia;
                  e("( any-pointer: fine )").matches
                    ? (t.pointer = fx)
                    : e("( any-pointer: coarse )").matches
                    ? (t.pointer = px)
                    : e("( any-pointer: none )").matches
                    ? (t.pointer = hx)
                    : e("( any-pointer )").matches && (t.pointer = dx),
                    e("( any-hover: hover )").matches
                      ? (t.hover = mx)
                      : e("( any-hover: on-demand )").matches
                      ? (t.hover = vx)
                      : e("( any-hove: none )").matches
                      ? (t.hover = bx)
                      : window.matchMedia("( any-hover )").matches &&
                        (t.hover = gx);
                }
                return t;
              },
            },
          ]
        );
      })();
    function wx(t) {
      return (
        (wx =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        wx(t)
      );
    }
    function Sx(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Ex(r.key), r);
      }
    }
    function Ex(t) {
      var e = (function (t, e) {
        if ("object" != wx(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != wx(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == wx(e) ? e : e + "";
    }
    var kx = (function () {
      return (function (t, e, n) {
        return (
          e && Sx(t.prototype, e),
          n && Sx(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._utils = e),
            (this._scriptList = []);
        },
        [
          {
            key: "count",
            value: function () {
              return this._scriptList.length;
            },
          },
          {
            key: "exists",
            value: function (t) {
              /\d\d\d/.test(t.src) &&
                (t.src = this._utils.clearTextFromNumbers(t.src));
              for (
                var e = this._utils.getHash(t.text), n = 0;
                n < this._scriptList.length;
                n++
              )
                if (
                  (t.src && t.src === this._scriptList[n].src) ||
                  (e && e === this._scriptList[n].textHash)
                )
                  return !0;
              return !1;
            },
          },
          {
            key: "add",
            value: function (t) {
              (t.textHash = this._utils.getHash(t.text)),
                /\d\d\d/.test(t.src) &&
                  (t.src = this._utils.clearTextFromNumbers(t.src)),
                this._scriptList.push({ src: t.src, textHash: t.textHash });
            },
          },
        ]
      );
    })();
    function Tx(t) {
      return (
        (Tx =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Tx(t)
      );
    }
    function Px(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Ox(r.key), r);
      }
    }
    function Ox(t) {
      var e = (function (t, e) {
        if ("object" != Tx(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Tx(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Tx(e) ? e : e + "";
    }
    var Cx = (function () {
      return (function (t, e, n) {
        return (
          e && Px(t.prototype, e),
          n && Px(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e) {
          var n = this;
          if (
            ((function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
            (function (t, e, n) {
              (e = Ox(e)) in t
                ? Object.defineProperty(t, e, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (t[e] = n);
            })(this, "handleMutationEvent", function (t, e) {
              t &&
                e &&
                n._messageBus.publish(Tr, { mutation: t, browserContext: e });
            }),
            (this._messageBus = e),
            "object" !== Tx(this._messageBus))
          )
            throw new Error(
              "Bootstrap aborted! MessageBus missing for MutationEmitter"
            );
          this._documentObservers = new WeakMap();
        },
        [
          {
            key: "startObserver",
            value: function (t) {
              var e = this,
                n = t.getDocument();
              if (!this._documentObservers.has(n)) {
                var r = new window.MutationObserver(function (n) {
                  try {
                    for (var r = 0; r < n.length; r++) {
                      var o = n[r];
                      if (o.addedNodes.length > 0) {
                        e.handleMutationEvent(o, t);
                        break;
                      }
                    }
                  } catch (t) {
                    _t.error("An error has occurred: ".concat(t.message));
                  }
                });
                r.observe(n, { childList: !0, subtree: !0 }),
                  this._documentObservers.set(n, { instance: r });
              }
            },
          },
          {
            key: "stopObserver",
            value: function (t) {
              var e,
                n = t.getDocument();
              this._documentObservers.has(n) &&
                (e = this._documentObservers.get(n)) &&
                (e.instance && e.instance.disconnect(),
                this._documentObservers.delete(n));
            },
          },
        ]
      );
    })();
    function jx(t) {
      return (
        (jx =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        jx(t)
      );
    }
    function Mx(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Bx(r.key), r);
      }
    }
    function Rx(t, e, n) {
      return (
        (e = Bx(e)) in t
          ? Object.defineProperty(t, e, {
              value: n,
              enumerable: !0,
              configurable: !0,
              writable: !0,
            })
          : (t[e] = n),
        t
      );
    }
    function Bx(t) {
      var e = (function (t, e) {
        if ("object" != jx(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != jx(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == jx(e) ? e : e + "";
    }
    var Ax = (function () {
      return (function (t, e, n) {
        return (
          e && Mx(t.prototype, e),
          n && Mx(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n, r) {
          var o = this;
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            Rx(this, "handleInputEvents", function (t) {
              o._messageBus.publish(Cr, t);
            }),
            Rx(this, "handleFocusEvents", function (t) {
              o._messageBus.publish(jr, t);
            }),
            Rx(this, "handleBlurEvents", function (t) {
              o._messageBus.publish(Mr, t);
            }),
            (this._messageBus = e),
            (this._eventAggregator = n),
            (this._elementBindingWMap = new WeakMap()),
            (this._utils = r),
            (this.defaultInputEventListener = [
              { event: "input", handler: this.handleInputEvents },
              { event: "focus", handler: this.handleFocusEvents },
              { event: "blur", handler: this.handleBlurEvents },
            ]);
        },
        [
          {
            key: "start",
            value: function (t, e, n) {
              var r = this;
              t.forEach(function (t) {
                if (!r._elementBindingWMap.has(t)) {
                  var o = [];
                  void 0 !== n
                    ? "function" == typeof n.func &&
                      Array.isArray(n.allowedEvents) &&
                      n.allowedEvents.length > 0 &&
                      (n.func(e, t)
                        ? r.defaultInputEventListener.forEach(function (t) {
                            n.allowedEvents.includes(t.event) && o.push(t);
                          })
                        : (o = Array.from(r.defaultInputEventListener)))
                    : (o = Array.from(r.defaultInputEventListener)),
                    o.forEach(function (e) {
                      r._eventAggregator.addEventListener(
                        t,
                        e.event,
                        e.handler
                      );
                    }),
                    r._elementBindingWMap.set(t, {
                      isBinded: !0,
                      listeners: [
                        r.handleInputEvents,
                        r.handleFocusEvents,
                        r.handleBlurEvents,
                      ],
                      isUsingJQuery: !1,
                    });
                }
              });
            },
          },
          {
            key: "stop",
            value: function (t) {
              var e = this;
              t.forEach(function (t) {
                var n = e._elementBindingWMap.get(t);
                n &&
                  n.isBinded &&
                  (e.defaultInputEventListener.forEach(function (n) {
                    e._eventAggregator.removeEventListener(
                      t,
                      n.event,
                      n.handler
                    );
                  }),
                  e._elementBindingWMap.delete(t));
              });
            },
          },
          {
            key: "addElementEvents",
            value: function (t) {
              var e = this,
                n =
                  arguments.length > 1 &&
                  void 0 !== arguments[1] &&
                  arguments[1];
              if (!this._elementBindingWMap.has(t)) {
                if (n) {
                  if (!this._utils.JQueryUtils.isJQueryAvailable())
                    return void _t.error(
                      "Unable to add event listeners for element using jQuery because jQuery is not available"
                    );
                  this.defaultInputEventListener.forEach(function (n) {
                    e._utils.JQueryUtils.addEventListener(
                      t,
                      n.event,
                      n.handler
                    );
                  });
                } else
                  this.defaultInputEventListener.forEach(function (n) {
                    e._eventAggregator.addEventListener(t, n.event, n.handler);
                  });
                this._elementBindingWMap.set(t, {
                  isBinded: !0,
                  listeners: [
                    this.handleInputEvents,
                    this.handleFocusEvents,
                    this.handleBlurEvents,
                  ],
                  isUsingJQuery: n,
                });
              }
            },
          },
          {
            key: "removeElementEvents",
            value: function (t) {
              var e = this,
                n = this._elementBindingWMap.get(t);
              if (n && n.isBinded) {
                if (n.isUsingJQuery) {
                  if (!this._utils.JQueryUtils.isJQueryAvailable())
                    return void _t.error(
                      "Unable to remove event listeners for element using jQuery because jQuery is not available"
                    );
                  this.defaultInputEventListener.forEach(function (n) {
                    e._utils.JQueryUtils.removeEventListener(
                      t,
                      n.event,
                      n.handler
                    );
                  });
                } else
                  this.defaultInputEventListener.forEach(function (t) {
                    e._eventAggregator.removeEventListener(
                      elements,
                      t.event,
                      t.handler
                    );
                  });
                this._elementBindingWMap.delete(t);
              }
            },
          },
        ]
      );
    })();
    function xx(t) {
      return (
        (xx =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        xx(t)
      );
    }
    function Dx(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Lx(r.key), r);
      }
    }
    function Lx(t) {
      var e = (function (t, e) {
        if ("object" != xx(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != xx(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == xx(e) ? e : e + "";
    }
    var Nx = !1;
    !(function () {
      try {
        var t = Object.defineProperty({}, "passive", {
          get: function () {
            Nx = !0;
          },
        });
        window.addEventListener("test", null, t);
      } catch (t) {}
    })();
    var Ix = (function () {
      return (function (t, e, n) {
        return (
          e && Dx(t.prototype, e),
          n && Dx(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t() {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t);
        },
        null,
        [
          {
            key: "addEventListener",
            value: function (t, e, n) {
              var r =
                  arguments.length > 3 &&
                  void 0 !== arguments[3] &&
                  arguments[3],
                o =
                  !(arguments.length > 4 && void 0 !== arguments[4]) ||
                  arguments[4],
                i =
                  arguments.length > 5 &&
                  void 0 !== arguments[5] &&
                  arguments[5];
              Nx
                ? t.addEventListener(e, n, { capture: r, passive: o, once: i })
                : t.addEventListener
                ? t.addEventListener(e, n, r)
                : t.attachEvent("on" + e, n);
            },
          },
          {
            key: "removeEventListener",
            value: function (t, e, n) {
              var r =
                arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
              t.removeEventListener
                ? t.removeEventListener(e, n, r)
                : t.detachEvent("on" + e, n);
            },
          },
        ]
      );
    })();
    function Fx(t) {
      return (
        (Fx =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Fx(t)
      );
    }
    function Ux(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Wx(r.key), r);
      }
    }
    function Wx(t) {
      var e = (function (t, e) {
        if ("object" != Fx(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Fx(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Fx(e) ? e : e + "";
    }
    var Gx = (function () {
        return (function (t, e, n) {
          return (
            e && Ux(t.prototype, e),
            n && Ux(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t(e, n, r) {
            var o = this;
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (function (t, e, n) {
                (e = Wx(e)) in t
                  ? Object.defineProperty(t, e, {
                      value: n,
                      enumerable: !0,
                      configurable: !0,
                      writable: !0,
                    })
                  : (t[e] = n);
              })(this, "handleOnClickEvents", function (t) {
                o._messageBus.publish(Rr, t);
              }),
              (this._messageBus = e),
              (this._eventAggregator = n),
              (this._elementBindingWMap = new WeakMap()),
              (this._utils = r),
              (this.defaultOnClickEventListener = [
                { event: "click", handler: this.handleOnClickEvents },
              ]);
          },
          [
            {
              key: "start",
              value: function (t) {
                var e = this;
                t.forEach(function (t) {
                  e._elementBindingWMap.has(t) ||
                    (e.defaultOnClickEventListener.forEach(function (n) {
                      e._eventAggregator.addEventListener(
                        t,
                        n.event,
                        n.handler
                      );
                    }),
                    e._elementBindingWMap.set(t, {
                      isBinded: !0,
                      listeners: [e.handleOnClickEvents],
                      isUsingJQuery: !1,
                    }));
                });
              },
            },
            {
              key: "stop",
              value: function (t) {
                var e = this;
                t.forEach(function (t) {
                  var n = e._elementBindingWMap.get(t);
                  n &&
                    n.isBinded &&
                    (e.defaultOnClickEventListener.forEach(function (n) {
                      e._eventAggregator.removeEventListener(
                        t,
                        n.event,
                        n.handler
                      );
                    }),
                    e._elementBindingWMap.delete(t));
                });
              },
            },
            {
              key: "addElementEvents",
              value: function (t) {
                var e = this,
                  n =
                    arguments.length > 1 &&
                    void 0 !== arguments[1] &&
                    arguments[1];
                if (!this._elementBindingWMap.has(t)) {
                  if (n) {
                    if (!this._utils.JQueryUtils.isJQueryAvailable())
                      return void _t.error(
                        "Unable to add event listeners for element using jQuery because jQuery is not available"
                      );
                    this.defaultOnClickEventListener.forEach(function (n) {
                      e._utils.JQueryUtils.addEventListener(
                        t,
                        n.event,
                        n.handler
                      );
                    });
                  } else
                    this.defaultOnClickEventListener.forEach(function (n) {
                      e._eventAggregator.addEventListener(
                        t,
                        n.event,
                        n.handler
                      );
                    });
                  this._elementBindingWMap.set(t, {
                    isBinded: !0,
                    listeners: [this.handleOnClickEvents],
                    isUsingJQuery: n,
                  });
                }
              },
            },
            {
              key: "removeElementEvents",
              value: function (t) {
                var e = this,
                  n = this._elementBindingWMap.get(t);
                if (n && n.isBinded) {
                  if (n.isUsingJQuery) {
                    if (!this._utils.JQueryUtils.isJQueryAvailable())
                      return void _t.error(
                        "Unable to remove event listeners for element using jQuery because jQuery is not available"
                      );
                    this.defaultOnClickEventListener.forEach(function (n) {
                      e._utils.JQueryUtils.removeEventListener(
                        t,
                        n.event,
                        n.handler
                      );
                    });
                  } else
                    this.defaultOnClickEventListener.forEach(function (t) {
                      e._eventAggregator.removeEventListener(
                        elements,
                        t.event,
                        t.handler
                      );
                    });
                  this._elementBindingWMap.delete(t);
                }
              },
            },
          ]
        );
      })(),
      Hx = Gx;
    function Qx(t) {
      return (
        (Qx =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Qx(t)
      );
    }
    function zx(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Vx(r.key), r);
      }
    }
    function Vx(t) {
      var e = (function (t, e) {
        if ("object" != Qx(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Qx(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Qx(e) ? e : e + "";
    }
    var Kx = (function () {
        return (function (t, e, n) {
          return (
            e && zx(t.prototype, e),
            n && zx(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t(e, n, r) {
            var o = this;
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (function (t, e, n) {
                (e = Vx(e)) in t
                  ? Object.defineProperty(t, e, {
                      value: n,
                      enumerable: !0,
                      configurable: !0,
                      writable: !0,
                    })
                  : (t[e] = n);
              })(this, "handleOnChangeEvents", function (t) {
                o._messageBus.publish(Br, t);
              }),
              (this._messageBus = e),
              (this._eventAggregator = n),
              (this._elementBindingWMap = new WeakMap()),
              (this._utils = r),
              (this.defaultOnChangeEventListener = [
                { event: "change", handler: this.handleOnChangeEvents },
              ]);
          },
          [
            {
              key: "start",
              value: function (t) {
                var e = this;
                t.forEach(function (t) {
                  e._elementBindingWMap.has(t) ||
                    (e.defaultOnChangeEventListener.forEach(function (n) {
                      e._eventAggregator.addEventListener(
                        t,
                        n.event,
                        n.handler
                      );
                    }),
                    e._elementBindingWMap.set(t, {
                      isBinded: !0,
                      listeners: [e.handleOnChangeEvents],
                      isUsingJQuery: !1,
                    }));
                });
              },
            },
            {
              key: "stop",
              value: function (t) {
                var e = this;
                t.forEach(function (t) {
                  var n = e._elementBindingWMap.get(t);
                  n &&
                    n.isBinded &&
                    (e.defaultOnChangeEventListener.forEach(function (n) {
                      e._eventAggregator.removeEventListener(
                        t,
                        n.event,
                        n.handler
                      );
                    }),
                    e._elementBindingWMap.delete(t));
                });
              },
            },
            {
              key: "addElementEvents",
              value: function (t) {
                var e = this,
                  n =
                    arguments.length > 1 &&
                    void 0 !== arguments[1] &&
                    arguments[1];
                if (!this._elementBindingWMap.has(t)) {
                  if (n) {
                    if (!this._utils.JQueryUtils.isJQueryAvailable())
                      return void _t.error(
                        "Unable to add event listeners for element using jQuery because jQuery is not available"
                      );
                    this.defaultOnChangeEventListener.forEach(function (n) {
                      e._utils.JQueryUtils.addEventListener(
                        t,
                        n.event,
                        n.handler
                      );
                    });
                  } else
                    this.defaultOnChangeEventListener.forEach(function (n) {
                      e._eventAggregator.addEventListener(
                        t,
                        n.event,
                        n.handler
                      );
                    });
                  this._elementBindingWMap.set(t, {
                    isBinded: !0,
                    listeners: [this.handleOnChangeEvents],
                    isUsingJQuery: n,
                  });
                }
              },
            },
            {
              key: "removeElementEvents",
              value: function (t) {
                var e = this,
                  n = this._elementBindingWMap.get(t);
                if (n && n.isBinded) {
                  if (n.isUsingJQuery) {
                    if (!this._utils.JQueryUtils.isJQueryAvailable())
                      return void _t.error(
                        "Unable to remove event listeners for element using jQuery because jQuery is not available"
                      );
                    this.defaultOnChangeEventListener.forEach(function (n) {
                      e._utils.JQueryUtils.removeEventListener(
                        t,
                        n.event,
                        n.handler
                      );
                    });
                  } else
                    this.defaultOnChangeEventListener.forEach(function (t) {
                      e._eventAggregator.removeEventListener(
                        elements,
                        t.event,
                        t.handler
                      );
                    });
                  this._elementBindingWMap.delete(t);
                }
              },
            },
          ]
        );
      })(),
      qx = Kx;
    function Jx(t) {
      return (
        (Jx =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        Jx(t)
      );
    }
    function Xx(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, Yx(r.key), r);
      }
    }
    function Yx(t) {
      var e = (function (t, e) {
        if ("object" != Jx(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != Jx(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == Jx(e) ? e : e + "";
    }
    var Zx = (function () {
        return (function (t, e, n) {
          return (
            e && Xx(t.prototype, e),
            n && Xx(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t(e, n, r) {
            var o = this;
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (function (t, e, n) {
                (e = Yx(e)) in t
                  ? Object.defineProperty(t, e, {
                      value: n,
                      enumerable: !0,
                      configurable: !0,
                      writable: !0,
                    })
                  : (t[e] = n);
              })(this, "handleOnFormSubmitEvents", function (t) {
                o._messageBus.publish(Dr, t);
              }),
              (this._messageBus = e),
              (this._eventAggregator = n),
              (this._elementBindingWMap = new WeakMap()),
              (this._utils = r),
              (this.defaultOnFormEventListener = [
                { event: "submit", handler: this.handleOnFormSubmitEvents },
              ]);
          },
          [
            {
              key: "start",
              value: function (t) {
                var e = this;
                t.forEach(function (t) {
                  e._elementBindingWMap.has(t) ||
                    (e.defaultOnFormEventListener.forEach(function (n) {
                      e._eventAggregator.addEventListener(
                        t,
                        n.event,
                        n.handler
                      );
                    }),
                    e._elementBindingWMap.set(t, {
                      isBinded: !0,
                      listeners: [e.handleOnFormSubmitEvents],
                      isUsingJQuery: !1,
                    }));
                });
              },
            },
            {
              key: "stop",
              value: function (t) {
                var e = this;
                t.forEach(function (t) {
                  var n = e._elementBindingWMap.get(t);
                  n &&
                    n.isBinded &&
                    (e.defaultOnFormEventListener.forEach(function (n) {
                      e._eventAggregator.removeEventListener(
                        t,
                        n.event,
                        n.handler
                      );
                    }),
                    e._elementBindingWMap.delete(t));
                });
              },
            },
            {
              key: "addElementEvents",
              value: function (t) {
                var e = this,
                  n =
                    arguments.length > 1 &&
                    void 0 !== arguments[1] &&
                    arguments[1];
                if (!this._elementBindingWMap.has(t)) {
                  if (n) {
                    if (!this._utils.JQueryUtils.isJQueryAvailable())
                      return void _t.error(
                        "Unable to add event listeners for element using jQuery because jQuery is not available"
                      );
                    this.defaultOnFormEventListener.forEach(function (n) {
                      e._utils.JQueryUtils.addEventListener(
                        t,
                        n.event,
                        n.handler
                      );
                    });
                  } else
                    this.defaultOnFormEventListener.forEach(function (n) {
                      e._eventAggregator.addEventListener(
                        t,
                        n.event,
                        n.handler
                      );
                    });
                  this._elementBindingWMap.set(t, {
                    isBinded: !0,
                    listeners: [this.handleOnFormSubmitEvents],
                    isUsingJQuery: n,
                  });
                }
              },
            },
            {
              key: "removeElementEvents",
              value: function (t) {
                var e = this,
                  n = this._elementBindingWMap.get(t);
                if (n && n.isBinded) {
                  if (n.isUsingJQuery) {
                    if (!this._utils.JQueryUtils.isJQueryAvailable())
                      return void _t.error(
                        "Unable to remove event listeners for element using jQuery because jQuery is not available"
                      );
                    this.defaultOnFormEventListener.forEach(function (n) {
                      e._utils.JQueryUtils.removeEventListener(
                        t,
                        n.event,
                        n.handler
                      );
                    });
                  } else
                    this.defaultOnFormEventListener.forEach(function (t) {
                      e._eventAggregator.removeEventListener(
                        elements,
                        t.event,
                        t.handler
                      );
                    });
                  this._elementBindingWMap.delete(t);
                }
              },
            },
          ]
        );
      })(),
      $x = Zx;
    function tD(t) {
      return (
        (tD =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        tD(t)
      );
    }
    function eD(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, nD(r.key), r);
      }
    }
    function nD(t) {
      var e = (function (t, e) {
        if ("object" != tD(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != tD(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == tD(e) ? e : e + "";
    }
    var rD = (function () {
      return (function (t, e, n) {
        return (
          e && eD(t.prototype, e),
          n && eD(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n, r) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (function (t, e, n) {
              (e = nD(e)) in t
                ? Object.defineProperty(t, e, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (t[e] = n);
            })(this, "isJQueryDataSupported", function (t) {
              return !(!t.jQuery || !t.jQuery._data);
            }),
            (this._messageBus = e),
            (this._eventAggregator = n),
            (this._elementBindingWMap = new WeakMap()),
            (this._utils = r),
            (this.defaultEventListener = [
              {
                event: "keypress",
                handler: this.handleKeypressEvents.bind(this),
              },
            ]);
        },
        [
          { key: "handleKeypressEvents", value: function (t, e) {} },
          {
            key: "registerElement",
            value: function (t, e) {
              var n = this;
              if (!this._elementBindingWMap.has(t)) {
                var r = {};
                this.defaultEventListener.forEach(function (o) {
                  var i = function (t) {
                    o.handler(t, e);
                  };
                  (r[o.event] = i),
                    n._eventAggregator.addEventListener(t, o.event, i);
                }),
                  this._elementBindingWMap.set(t, {
                    isBinded: !0,
                    listeners: r,
                  });
              }
            },
          },
          {
            key: "unregisterElements",
            value: function (t) {
              var e = this;
              t.forEach(function (t) {
                var n = e._elementBindingWMap.get(t);
                n &&
                  n.isBinded &&
                  (e.defaultEventListener.forEach(function (r) {
                    e._eventAggregator.removeEventListener(
                      t,
                      r.event,
                      n.listeners[r.event]
                    );
                  }),
                  e._elementBindingWMap.delete(t));
              });
            },
          },
          {
            key: "publishEvent",
            value: function (t, e, n, r) {
              var o = {
                bubbles: !0,
                cancelBubble: !1,
                cancelable: !1,
                composed: !0,
                currentTarget: null,
                data: r,
                dataTransfer: null,
                defaultPrevented: !1,
                detail: 0,
                eventPhase: 0,
                inputType: n,
                isComposing: !1,
                isTrusted: !0,
                jqueryMask: e,
                returnValue: !0,
                sourceCapabilities: null,
                srcElement: Object.assign(t.target || t.srcElement, {}),
                target: Object.assign(t.target, {}),
                timeStamp: t.timeStamp,
                type: "input",
                view: null,
                which: 0,
              };
              this._messageBus.publish(Lr, o);
            },
          },
        ]
      );
    })();
    function oD(t) {
      return (
        (oD =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        oD(t)
      );
    }
    function iD(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, aD(r.key), r);
      }
    }
    function aD(t) {
      var e = (function (t, e) {
        if ("object" != oD(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != oD(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == oD(e) ? e : e + "";
    }
    function uD(t, e, n) {
      return (
        (e = cD(e)),
        (function (t, e) {
          if (e && ("object" == oD(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          sD()
            ? Reflect.construct(e, n || [], cD(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function sD() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (sD = function () {
        return !!t;
      })();
    }
    function cD(t) {
      return (
        (cD = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        cD(t)
      );
    }
    function lD(t, e) {
      return (
        (lD = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        lD(t, e)
      );
    }
    var fD = (function (t) {
      function e() {
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          uD(this, e, arguments)
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && lD(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && iD(t.prototype, e),
            n && iD(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "start",
            value: function (t, e) {
              var n = this;
              (e = e || window.self),
                t.forEach(function (t) {
                  n.isJQueryDataSupported(e) &&
                    n.hasMaskEventSupported(t, e) &&
                    n.registerElement(t, e);
                });
            },
          },
          {
            key: "stop",
            value: function (t) {
              this.unregisterElements(t);
            },
          },
          {
            key: "hasMaskEventSupported",
            value: function (t, e) {
              var n = e.jQuery._data(t, "events");
              if (void 0 === n) return !1;
              for (var r = Object.keys(n), o = 0; o < r.length; o++)
                if ("unmask" === r[o]) return !0;
              return !1;
            },
          },
          {
            key: "handleKeypressEvents",
            value: function (t, e) {
              if (
                this.isJQueryDataSupported(e) &&
                this.hasMaskEventSupported(t.target, e)
              ) {
                var n = t.key;
                this.publishEvent(t, "maskedInput", "insertText", n);
              }
            },
          },
        ])
      );
    })(rD);
    function pD(t) {
      return (
        (pD =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        pD(t)
      );
    }
    function hD(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, dD(r.key), r);
      }
    }
    function dD(t) {
      var e = (function (t, e) {
        if ("object" != pD(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != pD(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == pD(e) ? e : e + "";
    }
    function yD(t, e, n) {
      return (
        (e = vD(e)),
        (function (t, e) {
          if (e && ("object" == pD(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          mD()
            ? Reflect.construct(e, n || [], vD(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function mD() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (mD = function () {
        return !!t;
      })();
    }
    function vD(t) {
      return (
        (vD = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        vD(t)
      );
    }
    function bD(t, e) {
      return (
        (bD = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        bD(t, e)
      );
    }
    var gD = (function (t) {
      function e() {
        return (
          (function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
          yD(this, e, arguments)
        );
      }
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            e && bD(t, e);
        })(e, t),
        (function (t, e, n) {
          return (
            e && hD(t.prototype, e),
            n && hD(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(e, [
          {
            key: "start",
            value: function (t, e) {
              var n = this;
              t.forEach(function (t) {
                n.isJQueryDataSupported(e) &&
                  n.hasjQueryAutoTab(t, e) &&
                  n.registerElement(t, e);
              });
            },
          },
          {
            key: "stop",
            value: function (t) {
              this.unregisterElements(t);
            },
          },
          {
            key: "hasjQueryAutoTab",
            value: function (t, e) {
              if (void 0 === e.jQuery._data(t, "events")) return !1;
              for (
                var n = Object.keys(e.jQuery._data(t, "events")), r = 0;
                r < n.length;
                r++
              )
                if (-1 !== n[r].indexOf("autotab")) return !0;
              return !1;
            },
          },
          {
            key: "handleKeypressEvents",
            value: function (t, e) {
              if (
                this.isJQueryDataSupported(e) &&
                this.hasjQueryAutoTab(t.target, e)
              ) {
                var n = t.key;
                8 !== t.keyCode &&
                  this.publishEvent(t, "autotab", "insertText", n);
              }
            },
          },
        ])
      );
    })(rD);
    function _D(t) {
      return (
        (_D =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        _D(t)
      );
    }
    function wD(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, SD(r.key), r);
      }
    }
    function SD(t) {
      var e = (function (t, e) {
        if ("object" != _D(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != _D(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == _D(e) ? e : e + "";
    }
    var ED = (function () {
        return (function (t, e, n) {
          return (
            e && wD(t.prototype, e),
            n && wD(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t(e, n) {
            var r = this;
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (function (t, e, n) {
                (e = SD(e)) in t
                  ? Object.defineProperty(t, e, {
                      value: n,
                      enumerable: !0,
                      configurable: !0,
                      writable: !0,
                    })
                  : (t[e] = n);
              })(this, "handleFocusEvent", function (t) {
                r._messageBus.publish(Gr, t);
              }),
              (this._messageBus = e),
              (this._eventAggregator = n);
          },
          [
            {
              key: "start",
              value: function (t) {
                if (!t) throw new Error("invalid window parameter");
                this._eventAggregator.addEventListener(
                  t,
                  "focus",
                  this.handleFocusEvent,
                  !1,
                  !0
                );
              },
            },
            {
              key: "stop",
              value: function (t) {
                if (!t) throw new Error("invalid window parameter");
                this._eventAggregator.removeEventListener(
                  t,
                  "focus",
                  this.handleFocusEvent
                );
              },
            },
          ]
        );
      })(),
      kD = ED;
    function TD(t) {
      return (
        (TD =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        TD(t)
      );
    }
    function PD(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, OD(r.key), r);
      }
    }
    function OD(t) {
      var e = (function (t, e) {
        if ("object" != TD(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != TD(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == TD(e) ? e : e + "";
    }
    var CD = (function () {
        return (function (t, e, n) {
          return (
            e && PD(t.prototype, e),
            n && PD(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t(e, n) {
            var r = this;
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (function (t, e, n) {
                (e = OD(e)) in t
                  ? Object.defineProperty(t, e, {
                      value: n,
                      enumerable: !0,
                      configurable: !0,
                      writable: !0,
                    })
                  : (t[e] = n);
              })(this, "handleBlurEvent", function (t) {
                r._messageBus.publish(Hr, t);
              }),
              (this._messageBus = e),
              (this._eventAggregator = n);
          },
          [
            {
              key: "start",
              value: function (t) {
                if (!t) throw new Error("invalid window parameter");
                this._eventAggregator.addEventListener(
                  t,
                  "blur",
                  this.handleBlurEvent,
                  !1,
                  !0
                );
              },
            },
            {
              key: "stop",
              value: function (t) {
                if (!t) throw new Error("invalid window parameter");
                this._eventAggregator.removeEventListener(
                  t,
                  "blur",
                  this.handleBlurEvent
                );
              },
            },
          ]
        );
      })(),
      jD = CD;
    function MD(t) {
      return (
        (MD =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        MD(t)
      );
    }
    function RD(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, BD(r.key), r);
      }
    }
    function BD(t) {
      var e = (function (t, e) {
        if ("object" != MD(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != MD(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == MD(e) ? e : e + "";
    }
    var AD = (function () {
        return (function (t, e, n) {
          return (
            e && RD(t.prototype, e),
            n && RD(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t(e, n) {
            var r = this;
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (function (t, e, n) {
                (e = BD(e)) in t
                  ? Object.defineProperty(t, e, {
                      value: n,
                      enumerable: !0,
                      configurable: !0,
                      writable: !0,
                    })
                  : (t[e] = n);
              })(this, "handleResizeEvent", function (t) {
                r._messageBus.publish(Qr, t);
              }),
              (this._messageBus = e),
              (this._eventAggregator = n);
          },
          [
            {
              key: "start",
              value: function (t) {
                if (!t) throw new Error("invalid window parameter");
                this._eventAggregator.addEventListener(
                  t,
                  "resize",
                  this.handleResizeEvent,
                  !1,
                  !0
                );
              },
            },
            {
              key: "stop",
              value: function (t) {
                if (!t) throw new Error("invalid window parameter");
                this._eventAggregator.removeEventListener(
                  t,
                  "resize",
                  this.handleResizeEvent
                );
              },
            },
          ]
        );
      })(),
      xD = AD;
    function DD(t) {
      return (
        (DD =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        DD(t)
      );
    }
    function LD(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, ND(r.key), r);
      }
    }
    function ND(t) {
      var e = (function (t, e) {
        if ("object" != DD(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != DD(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == DD(e) ? e : e + "";
    }
    var ID = (function () {
        return (function (t, e, n) {
          return (
            e && LD(t.prototype, e),
            n && LD(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t(e, n) {
            var r = this;
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (function (t, e, n) {
                (e = ND(e)) in t
                  ? Object.defineProperty(t, e, {
                      value: n,
                      enumerable: !0,
                      configurable: !0,
                      writable: !0,
                    })
                  : (t[e] = n);
              })(this, "handleDOMContentLoadedEvent", function (t) {
                r._messageBus.publish(zr, t);
              }),
              (this._messageBus = e),
              (this._eventAggregator = n);
          },
          [
            {
              key: "start",
              value: function (t) {
                if (!t) throw new Error("invalid document parameter");
                this._eventAggregator.addEventListener(
                  t,
                  "DOMContentLoaded",
                  this.handleDOMContentLoadedEvent
                );
              },
            },
            {
              key: "stop",
              value: function (t) {
                if (!t) throw new Error("invalid document parameter");
                this._eventAggregator.removeEventListener(
                  t,
                  "DOMContentLoaded",
                  this.handleDOMContentLoadedEvent
                );
              },
            },
          ]
        );
      })(),
      FD = ID;
    function UD(t) {
      return (
        (UD =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        UD(t)
      );
    }
    function WD(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, GD(r.key), r);
      }
    }
    function GD(t) {
      var e = (function (t, e) {
        if ("object" != UD(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != UD(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == UD(e) ? e : e + "";
    }
    var HD = (function () {
        return (function (t, e, n) {
          return (
            e && WD(t.prototype, e),
            n && WD(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t(e, n) {
            var r = this;
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (function (t, e, n) {
                (e = GD(e)) in t
                  ? Object.defineProperty(t, e, {
                      value: n,
                      enumerable: !0,
                      configurable: !0,
                      writable: !0,
                    })
                  : (t[e] = n);
              })(this, "handleVisibilityChangeEvent", function (t) {
                r._messageBus.publish(Vr, t);
              }),
              (this._messageBus = e),
              (this._eventAggregator = n);
          },
          [
            {
              key: "start",
              value: function (t) {
                if (!t) throw new Error("invalid document parameter");
                this._eventAggregator.addEventListener(
                  t,
                  "visibilitychange",
                  this.handleVisibilityChangeEvent,
                  !1,
                  !0
                );
              },
            },
            {
              key: "stop",
              value: function (t) {
                if (!t) throw new Error("invalid document parameter");
                this._eventAggregator.removeEventListener(
                  t,
                  "visibilitychange",
                  this.handleVisibilityChangeEvent
                );
              },
            },
          ]
        );
      })(),
      QD = HD;
    function zD(t) {
      return (
        (zD =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        zD(t)
      );
    }
    function VD(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, KD(r.key), r);
      }
    }
    function KD(t) {
      var e = (function (t, e) {
        if ("object" != zD(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != zD(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == zD(e) ? e : e + "";
    }
    var qD = (function () {
        return (function (t, e, n) {
          return (
            e && VD(t.prototype, e),
            n && VD(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t(e, n) {
            var r = this;
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (function (t, e, n) {
                (e = KD(e)) in t
                  ? Object.defineProperty(t, e, {
                      value: n,
                      enumerable: !0,
                      configurable: !0,
                      writable: !0,
                    })
                  : (t[e] = n);
              })(this, "handleScrollEvent", function (t) {
                r._messageBus.publish(Kr, t);
              }),
              (this._messageBus = e),
              (this._eventAggregator = n);
          },
          [
            {
              key: "start",
              value: function (t) {
                if (!t) throw new Error("invalid window parameter");
                this._eventAggregator.addEventListener(
                  t,
                  "scroll",
                  this.handleScrollEvent,
                  !1,
                  !0
                );
              },
            },
            {
              key: "stop",
              value: function (t) {
                if (!t) throw new Error("invalid window parameter");
                this._eventAggregator.removeEventListener(
                  t,
                  "scroll",
                  this.handleScrollEvent
                );
              },
            },
          ]
        );
      })(),
      JD = qD;
    function XD(t) {
      return (
        (XD =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        XD(t)
      );
    }
    function YD(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, ZD(r.key), r);
      }
    }
    function ZD(t) {
      var e = (function (t, e) {
        if ("object" != XD(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != XD(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == XD(e) ? e : e + "";
    }
    var $D = (function () {
      return (function (t, e, n) {
        return (
          e && YD(t.prototype, e),
          n && YD(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n) {
          var r = this;
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (function (t, e, n) {
              (e = ZD(e)) in t
                ? Object.defineProperty(t, e, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (t[e] = n);
            })(this, "handleWindowMessage", function (t) {
              t && r._messageBus.publish(qr, { message: t });
            }),
            (this._messageBus = e),
            (this._EventAggregator = n),
            (this._windowListeners = new WeakMap()),
            (this.defaultPostMessageEventListener = [
              { event: "message", handler: this.handleWindowMessage },
            ]);
        },
        [
          {
            key: "startObserver",
            value: function (t) {
              var e = this;
              this._windowListeners.has(t.Context) ||
                (this.defaultPostMessageEventListener.forEach(function (n) {
                  e._EventAggregator.addEventListener(
                    t.Context,
                    n.event,
                    n.handler
                  );
                }),
                this._windowListeners.set(t.Context, {
                  isBinded: !0,
                  listeners: [this.handleWindowMessage],
                }));
            },
          },
          {
            key: "stopObserver",
            value: function (t) {
              var e = this,
                n = this._windowListeners.get(t.Context);
              n &&
                n.isBinded &&
                (this.defaultPostMessageEventListener.forEach(function (n) {
                  e._EventAggregator.removeEventListener(
                    t.Context,
                    n.event,
                    n.handler
                  );
                }),
                this._windowListeners.delete(t.Context));
            },
          },
        ]
      );
    })();
    function tL(t) {
      return (
        (tL =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        tL(t)
      );
    }
    function eL(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, nL(r.key), r);
      }
    }
    function nL(t) {
      var e = (function (t, e) {
        if ("object" != tL(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != tL(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == tL(e) ? e : e + "";
    }
    var rL = (function () {
        return (function (t, e, n) {
          return (
            e && eL(t.prototype, e),
            n && eL(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t(e, n) {
            var r = this;
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (function (t, e, n) {
                (e = nL(e)) in t
                  ? Object.defineProperty(t, e, {
                      value: n,
                      enumerable: !0,
                      configurable: !0,
                      writable: !0,
                    })
                  : (t[e] = n);
              })(this, "handleDeviceOrientationEvent", function (t) {
                r._messageBus.publish(Ur, t);
              }),
              (this._messageBus = e),
              (this._eventAggregator = n);
          },
          [
            {
              key: "start",
              value: function () {
                this._eventAggregator.addEventListener(
                  window,
                  "deviceorientation",
                  this.handleDeviceOrientationEvent
                );
              },
            },
            {
              key: "stop",
              value: function () {
                this._eventAggregator.removeEventListener(
                  window,
                  "deviceorientation",
                  this.handleDeviceOrientationEvent
                );
              },
            },
          ]
        );
      })(),
      oL = rL;
    function iL(t) {
      return (
        (iL =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        iL(t)
      );
    }
    function aL(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, uL(r.key), r);
      }
    }
    function uL(t) {
      var e = (function (t, e) {
        if ("object" != iL(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != iL(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == iL(e) ? e : e + "";
    }
    var sL = (function () {
        return (function (t, e, n) {
          return (
            e && aL(t.prototype, e),
            n && aL(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t(e, n) {
            var r = this;
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (function (t, e, n) {
                (e = uL(e)) in t
                  ? Object.defineProperty(t, e, {
                      value: n,
                      enumerable: !0,
                      configurable: !0,
                      writable: !0,
                    })
                  : (t[e] = n);
              })(this, "handleBeforeInstallPrompt", function (t) {
                r._messageBus.publish(Wr, t);
              }),
              (this._messageBus = e),
              (this._eventAggregator = n);
          },
          [
            {
              key: "start",
              value: function (t) {
                if (!t) throw new Error("invalid window parameter");
                this._eventAggregator.addEventListener(
                  t,
                  "beforeinstallprompt",
                  this.handleBeforeInstallPrompt
                );
              },
            },
            {
              key: "stop",
              value: function (t) {
                if (!t) throw new Error("invalid window parameter");
                this._eventAggregator.removeEventListener(
                  t,
                  "beforeinstallprompt",
                  this.handleBeforeInstallPrompt
                );
              },
            },
          ]
        );
      })(),
      cL = sL;
    function lL(t) {
      return (
        (lL =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        lL(t)
      );
    }
    function fL(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, pL(r.key), r);
      }
    }
    function pL(t) {
      var e = (function (t, e) {
        if ("object" != lL(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != lL(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == lL(e) ? e : e + "";
    }
    var hL = (function () {
        return (function (t, e, n) {
          return (
            e && fL(t.prototype, e),
            n && fL(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t(e, n) {
            var r = this;
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (function (t, e, n) {
                (e = pL(e)) in t
                  ? Object.defineProperty(t, e, {
                      value: n,
                      enumerable: !0,
                      configurable: !0,
                      writable: !0,
                    })
                  : (t[e] = n);
              })(this, "handleCutEvent", function (t) {
                r._messageBus.publish(Nr, t);
              }),
              (this._messageBus = e),
              (this._eventAggregator = n);
          },
          [
            {
              key: "start",
              value: function (t) {
                if (!t) throw new Error("invalid document parameter");
                this._eventAggregator.addEventListener(
                  t,
                  "cut",
                  this.handleCutEvent
                );
              },
            },
            {
              key: "stop",
              value: function (t) {
                if (!t) throw new Error("invalid document parameter");
                this._eventAggregator.removeEventListener(
                  t,
                  "cut",
                  this.handleCutEvent
                );
              },
            },
          ]
        );
      })(),
      dL = hL;
    function yL(t) {
      return (
        (yL =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        yL(t)
      );
    }
    function mL(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, vL(r.key), r);
      }
    }
    function vL(t) {
      var e = (function (t, e) {
        if ("object" != yL(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != yL(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == yL(e) ? e : e + "";
    }
    var bL = (function () {
        return (function (t, e, n) {
          return (
            e && mL(t.prototype, e),
            n && mL(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t(e, n) {
            var r = this;
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (function (t, e, n) {
                (e = vL(e)) in t
                  ? Object.defineProperty(t, e, {
                      value: n,
                      enumerable: !0,
                      configurable: !0,
                      writable: !0,
                    })
                  : (t[e] = n);
              })(this, "handleCopyEvent", function (t) {
                r._messageBus.publish(Ir, t);
              }),
              (this._messageBus = e),
              (this._eventAggregator = n);
          },
          [
            {
              key: "start",
              value: function (t) {
                if (!t) throw new Error("invalid document parameter");
                this._eventAggregator.addEventListener(
                  t,
                  "copy",
                  this.handleCopyEvent
                );
              },
            },
            {
              key: "stop",
              value: function (t) {
                if (!t) throw new Error("invalid document parameter");
                this._eventAggregator.removeEventListener(
                  t,
                  "copy",
                  this.handleCopyEvent
                );
              },
            },
          ]
        );
      })(),
      gL = bL;
    function _L(t) {
      return (
        (_L =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        _L(t)
      );
    }
    function wL(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, SL(r.key), r);
      }
    }
    function SL(t) {
      var e = (function (t, e) {
        if ("object" != _L(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != _L(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == _L(e) ? e : e + "";
    }
    var EL = (function () {
        return (function (t, e, n) {
          return (
            e && wL(t.prototype, e),
            n && wL(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t(e, n) {
            var r = this;
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (function (t, e, n) {
                (e = SL(e)) in t
                  ? Object.defineProperty(t, e, {
                      value: n,
                      enumerable: !0,
                      configurable: !0,
                      writable: !0,
                    })
                  : (t[e] = n);
              })(this, "handlePasteEvent", function (t) {
                r._messageBus.publish(Fr, t);
              }),
              (this._messageBus = e),
              (this._eventAggregator = n);
          },
          [
            {
              key: "start",
              value: function (t) {
                if (!t) throw new Error("invalid document parameter");
                this._eventAggregator.addEventListener(
                  t,
                  "paste",
                  this.handlePasteEvent
                );
              },
            },
            {
              key: "stop",
              value: function (t) {
                if (!t) throw new Error("invalid document parameter");
                this._eventAggregator.removeEventListener(
                  t,
                  "paste",
                  this.handlePasteEvent
                );
              },
            },
          ]
        );
      })(),
      kL = EL;
    function TL(t) {
      return (
        (TL =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        TL(t)
      );
    }
    function PL(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, OL(r.key), r);
      }
    }
    function OL(t) {
      var e = (function (t, e) {
        if ("object" != TL(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != TL(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == TL(e) ? e : e + "";
    }
    var CL = (function () {
        return (function (t, e, n) {
          return (
            e && PL(t.prototype, e),
            n && PL(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t(e, n) {
            var r = this;
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (function (t, e, n) {
                (e = OL(e)) in t
                  ? Object.defineProperty(t, e, {
                      value: n,
                      enumerable: !0,
                      configurable: !0,
                      writable: !0,
                    })
                  : (t[e] = n);
              })(this, "handleElementFocusEvents", function (t) {
                r._messageBus.publish(Ar, t);
              }),
              (this._messageBus = e),
              (this._eventAggregator = n);
          },
          [
            {
              key: "start",
              value: function (t) {
                var e = this;
                t.forEach(function (t) {
                  e._eventAggregator.addEventListener(
                    t,
                    "focus",
                    e.handleElementFocusEvents
                  );
                });
              },
            },
            {
              key: "stop",
              value: function (t) {
                var e = this;
                t.forEach(function (t) {
                  e._eventAggregator.removeEventListener(
                    t,
                    "focus",
                    e.handleElementFocusEvents
                  );
                });
              },
            },
          ]
        );
      })(),
      jL = CL;
    function ML(t) {
      return (
        (ML =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        ML(t)
      );
    }
    function RL(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, BL(r.key), r);
      }
    }
    function BL(t) {
      var e = (function (t, e) {
        if ("object" != ML(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != ML(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == ML(e) ? e : e + "";
    }
    var AL = (function () {
        return (function (t, e, n) {
          return (
            e && RL(t.prototype, e),
            n && RL(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t(e, n) {
            var r = this;
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (function (t, e, n) {
                (e = BL(e)) in t
                  ? Object.defineProperty(t, e, {
                      value: n,
                      enumerable: !0,
                      configurable: !0,
                      writable: !0,
                    })
                  : (t[e] = n);
              })(this, "handleElementBlurEvents", function (t) {
                r._messageBus.publish(xr, t);
              }),
              (this._messageBus = e),
              (this._eventAggregator = n);
          },
          [
            {
              key: "start",
              value: function (t) {
                var e = this;
                t.forEach(function (t) {
                  e._eventAggregator.addEventListener(
                    t,
                    "blur",
                    e.handleElementBlurEvents
                  );
                });
              },
            },
            {
              key: "stop",
              value: function (t) {
                var e = this;
                t.forEach(function (t) {
                  e._eventAggregator.removeEventListener(
                    t,
                    "blur",
                    e.handleElementBlurEvents
                  );
                });
              },
            },
          ]
        );
      })(),
      xL = AL;
    function DL(t) {
      return (
        (DL =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        DL(t)
      );
    }
    function LL(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, IL(r.key), r);
      }
    }
    function NL(t, e, n) {
      return (
        (e = IL(e)) in t
          ? Object.defineProperty(t, e, {
              value: n,
              enumerable: !0,
              configurable: !0,
              writable: !0,
            })
          : (t[e] = n),
        t
      );
    }
    function IL(t) {
      var e = (function (t, e) {
        if ("object" != DL(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != DL(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == DL(e) ? e : e + "";
    }
    var FL = (function () {
        return (function (t, e, n) {
          return (
            e && LL(t.prototype, e),
            n && LL(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t(e, n, r) {
            var o = this;
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              NL(this, "mousemove", function (t) {
                o._messageBus.publish(Zr, t);
              }),
              NL(this, "keydown", function (t) {
                o._messageBus.publish(Zr, t);
              }),
              NL(this, "mouseleave", function (t) {
                o._eventAggregator.removeEventListener(
                  t.target,
                  "mousemove",
                  o.mousemove
                ),
                  o._messageBus.publish(Zr, t);
              }),
              NL(this, "mouseup", function (t) {
                o._eventAggregator.removeEventListener(
                  t.target,
                  "mousemove",
                  o.mousemove
                ),
                  o._eventAggregator.removeEventListener(
                    t.target,
                    "mouseleave",
                    o.mouseleave
                  );
              }),
              NL(this, "mousedown", function (t) {
                o._eventAggregator.addEventListener(
                  t.target,
                  "mousemove",
                  o.mousemove
                ),
                  o._eventAggregator.addEventListener(
                    t.target,
                    "mouseleave",
                    o.mouseleave
                  ),
                  o._eventAggregator.addEventListener(
                    t.target,
                    "mouseup",
                    o.mouseup
                  ),
                  o._eventAggregator.addEventListener(
                    t.target,
                    "keydown",
                    o.keydown
                  );
              }),
              NL(this, "handleFocus", function (t) {
                o._messageBus.publish(Zr, t);
              }),
              NL(this, "handleMouseEnter", function (t) {
                o._eventAggregator.addEventListener(
                  t.target,
                  "mousedown",
                  o.mousedown
                );
              }),
              NL(this, "handleOnClickEvents", function () {
                o._messageBus.publish(Zr, o._mainElm);
              }),
              (this._messageBus = e),
              (this._eventAggregator = n),
              (this._utils = r),
              (this._elementsBindingWMap = new WeakMap()),
              (this.customInputEventListener = [
                { event: "mouseenter", handler: this.handleMouseEnter },
                { event: "focus", handler: this.handleFocus },
              ]),
              (this.defaultOnClickEventListener = [
                { event: "click", handler: this.handleOnClickEvents },
              ]),
              (this._mainElm = ""),
              (this._mainTagName = ["SPAN", "DIV"]),
              (this._btnTagName = "BUTTON"),
              (this._btnInnerText = ["+", "-"]);
          },
          [
            {
              key: "start",
              value: function (t) {
                var e = this;
                t &&
                  t.forEach(function (t) {
                    e._elementsBindingWMap.has(t) ||
                      (null != t &&
                        t.tagName &&
                        e._mainTagName.includes(t.tagName) &&
                        ((e._mainElm = t),
                        e.customInputEventListener.forEach(function (n) {
                          e._eventAggregator.addEventListener(
                            t,
                            n.event,
                            n.handler
                          );
                        }),
                        e._elementsBindingWMap.set(t, {
                          isBinded: !0,
                          listeners: [e.handleMouseEnter, e.handleFocus],
                          isUsingJQuery: !1,
                        })),
                      ((null != t &&
                        t.tagName &&
                        t.tagName === e._btnTagName) ||
                        (null != t &&
                          t.innerText &&
                          e._btnInnerText.includes(t.innerText))) &&
                        (e.defaultOnClickEventListener.forEach(function (n) {
                          e._eventAggregator.addEventListener(
                            t,
                            n.event,
                            n.handler
                          );
                        }),
                        e._elementsBindingWMap.set(t, {
                          isBinded: !0,
                          listeners: [e.handleOnClickEvents],
                          isUsingJQuery: !1,
                        })));
                  });
              },
            },
            {
              key: "stop",
              value: function (t) {
                var e = this;
                t.forEach(function (t) {
                  var n = e._elementsBindingWMap.get(t);
                  null != n &&
                    n.isBinded &&
                    (null != t &&
                      t.tagName &&
                      e._mainTagName.includes(t.tagName) &&
                      e.customInputEventListener.forEach(function (n) {
                        e._eventAggregator.removeEventListener(
                          t,
                          n.event,
                          n.handler
                        );
                      }),
                    ((null != t && t.tagName && t.tagName === e._btnTagName) ||
                      (null != t &&
                        t.innerText &&
                        e._btnInnerText.includes(t.innerText))) &&
                      e.defaultOnClickEventListener.forEach(function (n) {
                        e._eventAggregator.removeEventListener(
                          t,
                          n.event,
                          n.handler
                        );
                      }),
                    e._elementsBindingWMap.delete(t));
                });
              },
            },
          ]
        );
      })(),
      UL = FL;
    function WL(t) {
      return (
        (WL =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        WL(t)
      );
    }
    function GL(t, e) {
      var n = Object.keys(t);
      if (Object.getOwnPropertySymbols) {
        var r = Object.getOwnPropertySymbols(t);
        e &&
          (r = r.filter(function (e) {
            return Object.getOwnPropertyDescriptor(t, e).enumerable;
          })),
          n.push.apply(n, r);
      }
      return n;
    }
    function HL(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, zL(r.key), r);
      }
    }
    function QL(t, e, n) {
      return (
        (e = zL(e)) in t
          ? Object.defineProperty(t, e, {
              value: n,
              enumerable: !0,
              configurable: !0,
              writable: !0,
            })
          : (t[e] = n),
        t
      );
    }
    function zL(t) {
      var e = (function (t, e) {
        if ("object" != WL(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != WL(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == WL(e) ? e : e + "";
    }
    var VL = [
        {
          name: "MouseEvents",
          className: yd,
          init: function () {
            return function () {
              this._configurations.isFlutterApp()
                ? (this._features.list.MouseEvents.instance = new Gy(
                    this._msgBus,
                    this._dataQ,
                    this._utils,
                    this._maskingService,
                    Ai,
                    this._configurations
                  ))
                : (this._features.list.MouseEvents.instance = new yd(
                    this._utils,
                    Ai,
                    this._elements,
                    this._dataQ,
                    this._maskingService,
                    this._configurations
                  ));
            };
          },
        },
        {
          name: "KeyEvents",
          className: Vo,
          init: function () {
            return function () {
              this._configurations.isFlutterApp()
                ? (this._features.list.KeyEvents.instance = new _y(
                    this._msgBus,
                    this._dataQ,
                    this._utils,
                    this._maskingService
                  ))
                : (this._features.list.KeyEvents.instance = new Vo(
                    this._configurationRepository,
                    this._utils,
                    this._elements,
                    this._dataQ,
                    this._msgBus,
                    this._sameCharService,
                    this._maskingService,
                    this._configurations
                  ));
            };
          },
        },
        {
          name: "TouchEvents",
          className: jo,
          init: function () {
            return function () {
              this._configurations.isFlutterApp()
                ? (this._features.list.TouchEvents.instance = new Ry(
                    this._msgBus,
                    this._dataQ,
                    this._utils,
                    this._maskingService
                  ))
                : (this._features.list.TouchEvents.instance = new jo(
                    this._utils,
                    this._elements,
                    this._dataQ,
                    this._msgBus,
                    this._maskingService,
                    this._configurations
                  ));
            };
          },
        },
        {
          name: "ClipboardEvents",
          className: kf,
          init: function () {
            return function () {
              var t = new kf.Builder(
                  this._utils,
                  this._elements,
                  this._dataQ,
                  this._configurations
                ),
                e = new dL(this._msgBus, Ix),
                n = new gL(this._msgBus, Ix),
                r = new kL(this._msgBus, Ix);
              t
                .withMessageBus(this._msgBus)
                .withCutEventEmitter(e)
                .withCopyEventEmitter(n)
                .withPasteEventEmitter(r),
                (this._features.list.ClipboardEvents.instance = t.build());
            };
          },
        },
        {
          name: "ElementEvents",
          className: cf,
          init: function () {
            return function () {
              if (this._configurations.isFlutterApp())
                this._features.list.ElementEvents.instance = new ly(
                  this._msgBus,
                  this._dataQ,
                  this._utils,
                  this._contextMgr,
                  this._maskingService
                );
              else {
                var t = new Ax(this._msgBus, Ix, this._utils),
                  e = new Hx(this._msgBus, Ix, this._utils),
                  n = new qx(this._msgBus, Ix, this._utils),
                  r = new jL(this._msgBus, Ix, this._utils),
                  o = new xL(this._msgBus, Ix, this._utils),
                  i = new $x(this._msgBus, Ix, this._utils),
                  a = new UL(this._msgBus, Ix, this._utils),
                  u = new pn(
                    MutationObserver,
                    this._utils,
                    Ai,
                    "jQueryElementListenerConfig",
                    null,
                    !1
                  ),
                  s =
                    ((PB = t),
                    (OB = e),
                    (CB = n),
                    (jB = i),
                    {
                      bindInputEvents: MB,
                      bindOnClickEvents: RB,
                      bindOnChangeEvents: BB,
                      bindOnFormsEvents: AB,
                    }),
                  c = new cf.Builder(
                    this._configurationRepository,
                    this._utils,
                    Ai,
                    this._elements,
                    this._dataQ,
                    this._configurations
                  ),
                  l = new Cx(this._msgBus),
                  f = new fD(this._msgBus, Ix, this._utils),
                  p = new gD(this._msgBus, Ix, this._utils);
                c.withjQueryElementListenerSiteMapper(u),
                  c.withMessageBus(this._msgBus),
                  c.withMutationEmitter(l),
                  c.withjQueryElementsHandler(s),
                  c.withInputEvents(
                    yA,
                    pA,
                    this._maskingService,
                    this._categoryService
                  ),
                  c.withStandardInputEventsEmitter(t),
                  c.withSyntheticMaskInputEventsHandler(f),
                  c.withSyntheticAutotabInputEventsHandler(p),
                  c.withClickEvents(LA, xA),
                  c.withStandardOnClickEventsEmitter(e),
                  c.withSelectElementEvents(KA, zA),
                  c.withElementFocusEventsEmitter(r),
                  c.withElementBlurEventsEmitter(o),
                  c.withStandardOnChangeEventsEmitter(n),
                  c.withFormEvents(rx, ex),
                  c.withStandardOnFormEventsEmitter(i),
                  c.withCustomInputEventEmitter(PA, a),
                  (this._features.list.ElementEvents.instance = c.build());
              }
            };
          },
        },
        {
          name: "WindowEvents",
          className: ip,
          init: function () {
            return function () {
              var t = new ip.Builder(
                  this._configurationRepository,
                  se,
                  this._dataQ
                ),
                e = new kD(this._msgBus, Ix),
                n = new jD(this._msgBus, Ix),
                r = new xD(this._msgBus, Ix),
                o = new FD(this._msgBus, Ix),
                i = new QD(this._msgBus, Ix),
                a = new JD(this._msgBus, Ix);
              t.withMessageBus(this._msgBus),
                t.withFocusEventEmitter(e),
                t.withBlurEventEmitter(n),
                t.withResizeEventEmitter(r),
                t.withDOMContentLoadedEventEmitter(o),
                t.withVisibilityChangeEventEmitter(i),
                t.withScrollEventEmitter(a),
                (this._features.list.WindowEvents.instance = t.build());
            };
          },
        },
        {
          name: "MetadataCollector",
          className: TB,
          init: function () {
            return function () {
              var t = new pn(
                MutationObserver,
                this._utils,
                Ai,
                "metadataConfig",
                null,
                !1
              );
              this._features.list.MetadataCollector.instance = new TB(
                this._configurationRepository,
                this._dataQ,
                t,
                this._utils
              );
            };
          },
        },
        {
          name: "TabsEvents",
          className: Cd,
          init: function () {
            return function () {
              this._features.list.TabsEvents.instance = new Cd(
                this._utils,
                this._dataQ
              );
            };
          },
        },
        {
          name: "DoNotTrack",
          className: Vg,
          init: function () {
            return function () {
              this._features.list.DoNotTrack.instance = new Vg(this._dataQ);
            };
          },
        },
        {
          name: "BrowserProps",
          className: jg,
          init: function () {
            return function () {
              this._features.list.BrowserProps.instance = new jg(
                this._dataQ,
                _x,
                this._utils,
                this._configurationRepository,
                this._configurations
              );
            };
          },
        },
        {
          name: "IsPrivateBrowsing",
          className: kw,
          init: function () {
            return function () {
              var t = new ux();
              this._features.list.IsPrivateBrowsing.instance = new kw(
                this._dataQ,
                t
              );
            };
          },
        },
        {
          name: "FontsDetectionFeature",
          className: nE,
          init: function () {
            return function () {
              var t = new ir(this._configurationRepository);
              this._features.list.FontsDetectionFeature.instance = new nE({
                utils: this._utils,
                domUtils: Ai,
                dataQueue: this._dataQ,
                fontConfig: t,
                v1Collector: null,
                v2Collector: null,
                fontTimingService: this._fontTimingService,
              });
            };
          },
        },
        {
          name: "GraphicDetectFeature",
          className: c_,
          init: function () {
            return function () {
              this._features.list.GraphicDetectFeature.instance = new c_(
                this._dataQ,
                this._configurations
              );
            };
          },
        },
        {
          name: "BrowserDetect",
          className: xm,
          init: function () {
            return function () {
              this._features.list.BrowserDetect.instance = new xm(this._dataQ);
            };
          },
        },
        {
          name: "FilesFeature",
          className: mB,
          init: function () {
            return function () {
              this._features.list.FilesFeature.instance = new mB(
                this._configurationRepository,
                this._utils,
                this._sessionService,
                this._muidService,
                this._cidCache
              );
            };
          },
        },
        {
          name: "UserPermissions",
          className: uw,
          init: function () {
            return function () {
              this._features.list.UserPermissions.instance = new uw(
                this._dataQ
              );
            };
          },
        },
        {
          name: "MediaDevicesFeature",
          className: C_,
          init: function () {
            return function () {
              this._features.list.MediaDevicesFeature.instance = new C_(
                this._dataQ
              );
            };
          },
        },
        {
          name: "ContextPropsFeature",
          className: ZR,
          init: function () {
            return function () {
              this._features.list.ContextPropsFeature.instance = new ZR(
                this._dataQ,
                Ai,
                this._perfMonitor,
                this._configurationRepository
              );
            };
          },
        },
        {
          name: "GfxRenderingFeature",
          className: OE,
          init: function () {
            return function () {
              this._features.list.GfxRenderingFeature.instance = new OE(
                this._dataQ,
                se
              );
            };
          },
        },
        {
          name: "AudioDetectFeature",
          className: nk,
          init: function () {
            return function () {
              this._features.list.AudioDetectFeature.instance = new nk(
                this._dataQ,
                se
              );
            };
          },
        },
        {
          name: "AudioDetectFeature2",
          className: Ek,
          init: function () {
            return function () {
              this._features.list.AudioDetectFeature2.instance = new Ek(
                this._devDebugDataQueue,
                se
              );
            };
          },
        },
        {
          name: "EncryptedMuidFeature",
          className: Dk,
          init: function () {
            return function () {
              this._features.list.EncryptedMuidFeature.instance = new Dk(
                this._devDebugDataQueue,
                this._muidEncryptedService
              );
            };
          },
        },
        {
          name: "ScriptsFeature",
          className: uB,
          init: function () {
            return function () {
              var t = new kx(this._utils);
              this._features.list.ScriptsFeature.instance = new uB(
                this._dataQ,
                t
              );
            };
          },
        },
        {
          name: "AccelerometerEvents",
          className: wp,
          init: function () {
            return function () {
              this._features.list.AccelerometerEvents.instance = new wp(
                this._configurationRepository,
                this._utils,
                this._sensorDataQ
              );
            };
          },
        },
        {
          name: "PinchZoomEvents",
          className: Dp,
          init: function () {
            return function () {
              this._features.list.PinchZoomEvents.instance = new Dp(
                this._utils,
                this._elements,
                this._dataQ,
                this._msgBus,
                this._configurations
              );
            };
          },
        },
        {
          name: "ScriptEvents",
          className: Vp,
          init: function () {
            return function () {
              this._features.list.ScriptEvents.instance = new Vp(
                this._utils,
                this._dataQ
              );
            };
          },
        },
        {
          name: "NetInfoEvents",
          className: nh,
          init: function () {
            return function () {
              this._features.list.NetInfoEvents.instance = new nh(
                this._utils,
                this._dataQ
              );
            };
          },
        },
        {
          name: "MainThreadBlockingEvents",
          className: hm,
          init: function () {
            return function () {
              this._features.list.MainThreadBlockingEvents.instance = new hm(
                this._configurationRepository,
                this._utils,
                this._dataQ
              );
            };
          },
        },
        {
          name: "DeviceOrientationCollector",
          className: hh,
          init: function () {
            return function () {
              this._features.list.DeviceOrientationCollector.instance = new hh(
                this._utils,
                this._dataQ
              );
            };
          },
        },
        {
          name: "TapEvents",
          className: kh,
          init: function () {
            return function () {
              this._features.list.TapEvents.instance = new kh(
                this._configurationRepository,
                this._utils,
                this._elements,
                this._dataQ,
                this._maskingService,
                this._configurations
              );
            };
          },
        },
        {
          name: "LocationEvents",
          className: Fd,
          init: function () {
            return function () {
              this._features.list.LocationEvents.instance = new Fd(
                this._dataQ,
                this._utils,
                this._configurationRepository
              );
            };
          },
        },
        {
          name: "StorageEvents",
          className: Dh,
          init: function () {
            return function () {
              this._features.list.StorageEvents.instance = new Dh(
                this._utils,
                this._elements,
                this._dataQ,
                this._msgBus
              );
            };
          },
        },
        {
          name: "PrintEvents",
          className: Kh,
          init: function () {
            return function () {
              this._features.list.PrintEvents.instance = new Kh(
                this._utils,
                this._dataQ
              );
            };
          },
        },
        {
          name: "LightSensorEvents",
          className: rd,
          init: function () {
            return function () {
              this._features.list.LightSensorEvents.instance = new rd(
                this._dataQ,
                this._utils,
                this._configurationRepository
              );
            };
          },
        },
        {
          name: "CrossDomain",
          className: $B,
          init: function () {
            return function () {
              var t = new $B.Builder(
                  this._configurationRepository,
                  this._dataQ,
                  this._utils,
                  Ai,
                  KB
                ),
                e = new $D(this._msgBus, Ix);
              t.withMessageBus(this._msgBus),
                t.withWindowMessageEventEmitter(e),
                (this._features.list.CrossDomain.instance = t.build());
            };
          },
        },
        {
          name: "OrientationEvents",
          className: xf,
          init: function () {
            return function () {
              var t = new oL(this._msgBus, Ix);
              this._features.list.OrientationEvents.instance = new xf(
                this._configurationRepository,
                this._utils,
                this._sensorDataQ,
                this._msgBus,
                t
              );
            };
          },
        },
        {
          name: "BeforeInstallPromptEvents",
          className: zf,
          init: function () {
            return function () {
              var t = new cL(this._msgBus, Ix);
              this._features.list.BeforeInstallPromptEvents.instance = new zf(
                this._dataQ,
                this._utils,
                this._msgBus,
                t
              );
            };
          },
        },
        {
          name: "LevenshteinDistanceEvents",
          className: $d,
          init: function () {
            return function () {
              this._features.list.LevenshteinDistanceEvents.instance = new $d(
                this._utils,
                this._configurationRepository,
                this._dataQ,
                this._msgBus,
                this._wasmModuleLoader,
                this._categoryService
              );
            };
          },
        },
        {
          name: "Navigator",
          className: Kk,
          init: function () {
            return function () {
              this._features.list.Navigator.instance = new Kk(
                this._devDebugDataQueue
              );
            };
          },
        },
        {
          name: "KeyboardLayoutFeature",
          className: zO,
          init: function () {
            return function () {
              this._features.list.KeyboardLayoutFeature.instance = new zO(
                this._dataQ
              );
            };
          },
        },
        {
          name: "StorageFeature",
          className: kO,
          init: function () {
            return function () {
              this._features.list.StorageFeature.instance = new kO(this._dataQ);
            };
          },
        },
        {
          name: "BatteryStatusCollector",
          className: nm,
          init: function () {
            return function () {
              this._features.list.BatteryStatusCollector.instance = new nm(
                this._dataQ,
                this._utils
              );
            };
          },
        },
        {
          name: "FontEmojiFeature",
          className: RC,
          init: function () {
            return function () {
              this._features.list.FontEmojiFeature.instance = new RC(
                this._devDebugDataQueue
              );
            };
          },
        },
        {
          name: "FontMathFeature",
          className: zC,
          init: function () {
            return function () {
              this._features.list.FontMathFeature.instance = new zC(
                this._devDebugDataQueue
              );
            };
          },
        },
        {
          name: "FontWidthFeature",
          className: ij,
          init: function () {
            return function () {
              this._features.list.FontWidthFeature.instance = new ij(
                this._devDebugDataQueue
              );
            };
          },
        },
        {
          name: "ScreenHighResFeature",
          className: Sj,
          init: function () {
            return function () {
              this._features.list.ScreenHighResFeature.instance = new Sj(
                this._dataQ
              );
            };
          },
        },
        {
          name: "BrowserExtensionEvents",
          className: DP,
          init: function () {
            return function () {
              this._features.list.BrowserExtensionEvents.instance = new DP(
                this._configurationRepository,
                this._utils,
                Ai,
                this._dataQ
              );
            };
          },
        },
        {
          name: "AdblockerListsCollector",
          className: pT,
          init: function () {
            return function () {
              this._features.list.AdblockerListsCollector.instance = new pT(
                this._dataQ
              );
            };
          },
        },
        {
          name: "WebglCollector",
          className: GT,
          init: function () {
            return function () {
              this._features.list.WebglCollector.instance = new GT(this._dataQ);
            };
          },
        },
        {
          name: "DRMDataCollector",
          className: JP,
          init: function () {
            return function () {
              this._features.list.DRMDataCollector.instance = new JP(
                this._devDebugDataQueue
              );
            };
          },
        },
        {
          name: "WebRTCDataCollector",
          className: eP,
          init: function () {
            return function () {
              this._features.list.WebRTCDataCollector.instance = new eP(
                this._dataQ
              );
            };
          },
        },
        {
          name: "SpeechVoiceCollector",
          className: fP,
          init: function () {
            return function () {
              this._features.list.SpeechVoiceCollector.instance = new fP(
                this._dataQ
              );
            };
          },
        },
        {
          name: "CPUDataCollector",
          className: fM,
          init: function () {
            return function () {
              this._features.list.CPUDataCollector.instance = new fM(
                this._devDebugDataQueue
              );
            };
          },
        },
        {
          name: "HeapCollector",
          className: Dj,
          init: function () {
            return function () {
              this._features.list.HeapCollector.instance = new Dj(
                this._devDebugDataQueue
              );
            };
          },
        },
        {
          name: "TimingCollector",
          className: HR,
          init: function () {
            return function () {
              this._features.list.TimingCollector.instance = new HR(
                this._devDebugDataQueue,
                this._fontTimingService
              );
            };
          },
        },
      ],
      KL = (function () {
        function t() {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t);
        }
        return (function (t, e, n) {
          return (
            e && HL(t.prototype, e),
            n && HL(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(t, null, [
          {
            key: "register",
            value: function () {
              var e = this;
              (t.list = {}),
                VL.forEach(function (t) {
                  e._addFeature(t);
                });
            },
          },
          {
            key: "registerLeanFeatures",
            value: function () {
              var e = this;
              (t.list = {}),
                VL.forEach(function (t) {
                  t.className.getDefaultSettings().runInLean &&
                    e._addFeature(t);
                });
            },
          },
          {
            key: "getDefaultFeatures",
            value: function () {
              return this.getFeaturesByCondition(function (t) {
                return t.isDefault;
              });
            },
          },
          {
            key: "getPerContextFeatures",
            value: function () {
              return this.getFeaturesByCondition(function (t) {
                return t.shouldRunPerContext;
              });
            },
          },
          {
            key: "getPerSessionFeatures",
            value: function () {
              return this.getFeaturesByCondition(function (t) {
                return t.shouldRunPerSession;
              });
            },
          },
          {
            key: "getNonDefaultFeatures",
            value: function () {
              return this.getFeaturesByCondition(function (t) {
                return (
                  !t.isDefault &&
                  !t.shouldRunPerContext &&
                  !t.shouldRunPerSession
                );
              });
            },
          },
          {
            key: "getFeaturesByCondition",
            value: function (e) {
              var n = {};
              return (
                Object.keys(t.list).forEach(function (r) {
                  var o = t.list[r];
                  e(o) && (n[r] = o);
                }),
                n
              );
            },
          },
          {
            key: "_addFeature",
            value: function (e) {
              var n = (function (t) {
                  for (var e = 1; e < arguments.length; e++) {
                    var n = null != arguments[e] ? arguments[e] : {};
                    e % 2
                      ? GL(Object(n), !0).forEach(function (e) {
                          QL(t, e, n[e]);
                        })
                      : Object.getOwnPropertyDescriptors
                      ? Object.defineProperties(
                          t,
                          Object.getOwnPropertyDescriptors(n)
                        )
                      : GL(Object(n)).forEach(function (e) {
                          Object.defineProperty(
                            t,
                            e,
                            Object.getOwnPropertyDescriptor(n, e)
                          );
                        });
                  }
                  return t;
                })({}, e.className.getDefaultSettings()),
                r = e.name;
              (n.init = e.init()), (t.list[r] = n);
            },
          },
        ]);
      })();
    function qL(t) {
      return (
        (qL =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        qL(t)
      );
    }
    function JL(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, XL(r.key), r);
      }
    }
    function XL(t) {
      var e = (function (t, e) {
        if ("object" != qL(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != qL(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == qL(e) ? e : e + "";
    }
    QL(KL, "list", void 0);
    var YL = (function () {
      return (function (t, e, n) {
        return (
          e && JL(t.prototype, e),
          n && JL(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this.messageBus = e);
        },
        [
          {
            key: "collectElement",
            value: function (t, e, n, r, o, i, a, u, s) {
              this.messageBus.publish($r.ElementsEvent, {
                hashCode: t,
                elementId: e,
                widthElement: n,
                heightElement: r,
                dxPosition: o,
                dyPosition: i,
                widgetType: a,
                timeStamp: s,
              });
            },
          },
          {
            key: "collectElementEvent",
            value: function (t, e, n, r, o) {
              this.messageBus.publish($r.ElementEventsEvent, {
                hashCode: t,
                elementId: e,
                eventType: n,
                elementValue: r,
                timeStamp: o,
              });
            },
          },
          {
            key: "collectTouchEvent",
            value: function (t, e, n, r, o, i, a, u, s, c, l, f) {
              this.messageBus.publish($r.TouchEvent, {
                hashCode: t,
                touchState: e,
                x: n,
                y: r,
                pointer: o,
                radiusMajor: u,
                radiusMinor: s,
                pressure: c,
                timeStamp: f,
              });
            },
          },
          {
            key: "collectKeyEvent",
            value: function (t, e, n, r) {
              this.messageBus.publish($r.KeyEvent, {
                hashCode: t,
                elementId: e,
                char: n,
                timeStamp: r,
              });
            },
          },
          {
            key: "collectOnMouseEvent",
            value: function (t, e, n, r, o, i, a, u, s, c, l, f) {
              this.messageBus.publish($r.MouseEvent, {
                hashCode: t,
                type: e,
                screenX: n,
                screenY: r,
                pointer: o,
                radiusMajor: u,
                radiusMinor: s,
                pressure: c,
                timeStamp: f,
              });
            },
          },
        ]
      );
    })();
    function ZL(t) {
      return (
        (ZL =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        ZL(t)
      );
    }
    function $L(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, tN(r.key), r);
      }
    }
    function tN(t) {
      var e = (function (t, e) {
        if ("object" != ZL(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != ZL(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == ZL(e) ? e : e + "";
    }
    var eN = (function () {
      return (function (t, e, n) {
        return (
          e && $L(t.prototype, e),
          n && $L(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._protocolType = e.includes(xt) ? 4 : 3);
        },
        [
          {
            key: "get",
            value: function () {
              return this._protocolType;
            },
          },
        ]
      );
    })();
    function nN(t) {
      return (
        (nN =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        nN(t)
      );
    }
    function rN(t, e) {
      var n =
        ("undefined" != typeof Symbol && t[Symbol.iterator]) || t["@@iterator"];
      if (!n) {
        if (
          Array.isArray(t) ||
          (n = (function (t, e) {
            if (t) {
              if ("string" == typeof t) return oN(t, e);
              var n = {}.toString.call(t).slice(8, -1);
              return (
                "Object" === n && t.constructor && (n = t.constructor.name),
                "Map" === n || "Set" === n
                  ? Array.from(t)
                  : "Arguments" === n ||
                    /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                  ? oN(t, e)
                  : void 0
              );
            }
          })(t)) ||
          (e && t && "number" == typeof t.length)
        ) {
          n && (t = n);
          var r = 0,
            o = function () {};
          return {
            s: o,
            n: function () {
              return r >= t.length ? { done: !0 } : { done: !1, value: t[r++] };
            },
            e: function (t) {
              throw t;
            },
            f: o,
          };
        }
        throw new TypeError(
          "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
        );
      }
      var i,
        a = !0,
        u = !1;
      return {
        s: function () {
          n = n.call(t);
        },
        n: function () {
          var t = n.next();
          return (a = t.done), t;
        },
        e: function (t) {
          (u = !0), (i = t);
        },
        f: function () {
          try {
            a || null == n.return || n.return();
          } finally {
            if (u) throw i;
          }
        },
      };
    }
    function oN(t, e) {
      (null == e || e > t.length) && (e = t.length);
      for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
      return r;
    }
    function iN(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, aN(r.key), r);
      }
    }
    function aN(t) {
      var e = (function (t, e) {
        if ("object" != nN(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != nN(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == nN(e) ? e : e + "";
    }
    var uN = (function () {
      return (function (t, e, n) {
        return (
          e && iN(t.prototype, e),
          n && iN(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t);
          var n,
            r = new URL(e),
            o = r.pathname,
            i = o,
            a = rN(Lt);
          try {
            for (a.s(); !(n = a.n()).done; ) {
              var u = n.value,
                s = o.indexOf("/" + u);
              if (-1 !== s) {
                i = o.substring(0, s);
                break;
              }
            }
          } catch (t) {
            a.e(t);
          } finally {
            a.f();
          }
          (i = i.replace(/\/+$/, "")), (this._baseServerAddress = r.origin + i);
        },
        [
          {
            key: "get",
            value: function () {
              return this._baseServerAddress;
            },
          },
        ]
      );
    })();
    function sN(t) {
      return (
        (sN =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        sN(t)
      );
    }
    function cN(t, e) {
      return (
        (function (t) {
          if (Array.isArray(t)) return t;
        })(t) ||
        (function (t, e) {
          var n =
            null == t
              ? null
              : ("undefined" != typeof Symbol && t[Symbol.iterator]) ||
                t["@@iterator"];
          if (null != n) {
            var r,
              o,
              i,
              a,
              u = [],
              s = !0,
              c = !1;
            try {
              if (((i = (n = n.call(t)).next), 0 === e)) {
                if (Object(n) !== n) return;
                s = !1;
              } else
                for (
                  ;
                  !(s = (r = i.call(n)).done) &&
                  (u.push(r.value), u.length !== e);
                  s = !0
                );
            } catch (t) {
              (c = !0), (o = t);
            } finally {
              try {
                if (
                  !s &&
                  null != n.return &&
                  ((a = n.return()), Object(a) !== a)
                )
                  return;
              } finally {
                if (c) throw o;
              }
            }
            return u;
          }
        })(t, e) ||
        (function (t, e) {
          if (t) {
            if ("string" == typeof t) return lN(t, e);
            var n = {}.toString.call(t).slice(8, -1);
            return (
              "Object" === n && t.constructor && (n = t.constructor.name),
              "Map" === n || "Set" === n
                ? Array.from(t)
                : "Arguments" === n ||
                  /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                ? lN(t, e)
                : void 0
            );
          }
        })(t, e) ||
        (function () {
          throw new TypeError(
            "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
          );
        })()
      );
    }
    function lN(t, e) {
      (null == e || e > t.length) && (e = t.length);
      for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
      return r;
    }
    function fN() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          pN(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (pN((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), pN(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        pN(f, "constructor", c),
        pN(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        pN(c, o, "GeneratorFunction"),
        pN(f),
        pN(f, o, "Generator"),
        pN(f, r, function () {
          return this;
        }),
        pN(f, "toString", function () {
          return "[object Generator]";
        }),
        (fN = function () {
          return { w: i, m: p };
        })()
      );
    }
    function pN(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (pN = function (t, e, n, r) {
        function i(e, n) {
          pN(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        pN(t, e, n, r);
    }
    function hN(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function dN(t) {
      return function () {
        var e = this,
          n = arguments;
        return new Promise(function (r, o) {
          var i = t.apply(e, n);
          function a(t) {
            hN(i, r, o, a, u, "next", t);
          }
          function u(t) {
            hN(i, r, o, a, u, "throw", t);
          }
          a(void 0);
        });
      };
    }
    function yN(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, vN(r.key), r);
      }
    }
    function mN(t, e, n) {
      return (
        (e = vN(e)) in t
          ? Object.defineProperty(t, e, {
              value: n,
              enumerable: !0,
              configurable: !0,
              writable: !0,
            })
          : (t[e] = n),
        t
      );
    }
    function vN(t) {
      var e = (function (t, e) {
        if ("object" != sN(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != sN(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == sN(e) ? e : e + "";
    }
    var bN = (function () {
      function t(e) {
        var n = e.storeName;
        if (
          ((function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
          !n)
        )
          throw new Error("Store name must be provided.");
        if (t.instances.has(n)) return t.instances.get(n);
        if (!t.DB_CONFIG.STORE_SCHEMAS[n])
          throw new Error(
            'Store "'.concat(n, '" is not defined in the schema.')
          );
        (this.storeName = n),
          (this.db = null),
          (this.initialized = !1),
          t.instances.set(n, this);
      }
      return (function (t, e, n) {
        return (
          e && yN(t.prototype, e),
          n && yN(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(t, [
        {
          key: "init",
          value:
            ((u = dN(
              fN().m(function t() {
                return fN().w(
                  function (t) {
                    for (;;)
                      switch (t.n) {
                        case 0:
                          if (!this.initialized) {
                            t.n = 1;
                            break;
                          }
                          return t.a(2);
                        case 1:
                          return (t.n = 2), this._openDB();
                        case 2:
                          (this.db = t.v), (this.initialized = !0);
                        case 3:
                          return t.a(2);
                      }
                  },
                  t,
                  this
                );
              })
            )),
            function () {
              return u.apply(this, arguments);
            }),
        },
        {
          key: "_openDB",
          value: function () {
            return new Promise(function (e, n) {
              var r = indexedDB.open(t.DB_CONFIG.NAME, t.DB_CONFIG.VERSION);
              (r.onupgradeneeded = function (e) {
                var n = e.target.result;
                _t.debug(
                  "Database upgrade: Version "
                    .concat(e.oldVersion, " -> ")
                    .concat(e.newVersion)
                );
                for (
                  var r = 0, o = Object.entries(t.DB_CONFIG.STORE_SCHEMAS);
                  r < o.length;
                  r++
                ) {
                  var i = cN(o[r], 1)[0];
                  n.objectStoreNames.contains(i)
                    ? _t.debug("Object store exists: ".concat(i))
                    : (_t.debug("Creating object store: ".concat(i)),
                      n.createObjectStore(i));
                }
              }),
                (r.onsuccess = function (n) {
                  _t.debug(
                    'Database "'.concat(
                      t.DB_CONFIG.NAME,
                      '" opened successfully.'
                    )
                  ),
                    e(n.target.result);
                }),
                (r.onerror = function (e) {
                  _t.error(
                    'Error opening database "'.concat(t.DB_CONFIG.NAME, '":'),
                    e.target.error
                  ),
                    n(e.target.error);
                });
            });
          },
        },
        {
          key: "_openObjectStore",
          value: function (t) {
            if (!this.db)
              throw new Error(
                "Database is not initialized. Call init() first."
              );
            return this.db
              .transaction([this.storeName], t)
              .objectStore(this.storeName);
          },
        },
        {
          key: "addRecord",
          value:
            ((a = dN(
              fN().m(function t(e, n) {
                var r = this;
                return fN().w(
                  function (t) {
                    for (;;)
                      switch (t.n) {
                        case 0:
                          return (t.n = 1), this.init();
                        case 1:
                          return t.a(
                            2,
                            new Promise(function (t, o) {
                              var i = r._openObjectStore("readwrite").put(n, e);
                              (i.onsuccess = function () {
                                return t("Record added successfully.");
                              }),
                                (i.onerror = function (t) {
                                  return o(
                                    "Add record error: ".concat(t.target.error)
                                  );
                                });
                            })
                          );
                      }
                  },
                  t,
                  this
                );
              })
            )),
            function (t, e) {
              return a.apply(this, arguments);
            }),
        },
        {
          key: "getRecord",
          value:
            ((i = dN(
              fN().m(function t(e) {
                var n = this;
                return fN().w(
                  function (t) {
                    for (;;)
                      switch (t.n) {
                        case 0:
                          return (t.n = 1), this.init();
                        case 1:
                          return t.a(
                            2,
                            new Promise(function (t, r) {
                              var o = n._openObjectStore("readonly").get(e);
                              (o.onsuccess = function (e) {
                                return t(e.target.result || null);
                              }),
                                (o.onerror = function (t) {
                                  return r(
                                    "Get record error: ".concat(t.target.error)
                                  );
                                });
                            })
                          );
                      }
                  },
                  t,
                  this
                );
              })
            )),
            function (t) {
              return i.apply(this, arguments);
            }),
        },
        {
          key: "updateRecord",
          value:
            ((o = dN(
              fN().m(function t(e, n) {
                var r = this;
                return fN().w(
                  function (t) {
                    for (;;)
                      switch (t.n) {
                        case 0:
                          return (t.n = 1), this.init();
                        case 1:
                          return t.a(
                            2,
                            new Promise(function (t, o) {
                              var i = r._openObjectStore("readwrite").put(n, e);
                              (i.onsuccess = function () {
                                return t("Record updated successfully.");
                              }),
                                (i.onerror = function (t) {
                                  return o(
                                    "Update record error: ".concat(
                                      t.target.error
                                    )
                                  );
                                });
                            })
                          );
                      }
                  },
                  t,
                  this
                );
              })
            )),
            function (t, e) {
              return o.apply(this, arguments);
            }),
        },
        {
          key: "deleteRecord",
          value:
            ((r = dN(
              fN().m(function t(e) {
                var n = this;
                return fN().w(
                  function (t) {
                    for (;;)
                      switch (t.n) {
                        case 0:
                          return (t.n = 1), this.init();
                        case 1:
                          return t.a(
                            2,
                            new Promise(function (t, r) {
                              var o = n._openObjectStore("readwrite").delete(e);
                              (o.onsuccess = function () {
                                return t("Record deleted successfully.");
                              }),
                                (o.onerror = function (t) {
                                  return r(
                                    "Delete record error: ".concat(
                                      t.target.error
                                    )
                                  );
                                });
                            })
                          );
                      }
                  },
                  t,
                  this
                );
              })
            )),
            function (t) {
              return r.apply(this, arguments);
            }),
        },
        {
          key: "getAllRecords",
          value:
            ((n = dN(
              fN().m(function t() {
                var e = this;
                return fN().w(
                  function (t) {
                    for (;;)
                      switch (t.n) {
                        case 0:
                          return (t.n = 1), this.init();
                        case 1:
                          return t.a(
                            2,
                            new Promise(function (t, n) {
                              var r = e._openObjectStore("readonly").getAll();
                              (r.onsuccess = function (e) {
                                return t(e.target.result);
                              }),
                                (r.onerror = function (t) {
                                  return n(
                                    "Get all records error: ".concat(
                                      t.target.error
                                    )
                                  );
                                });
                            })
                          );
                      }
                  },
                  t,
                  this
                );
              })
            )),
            function () {
              return n.apply(this, arguments);
            }),
        },
        {
          key: "clearStore",
          value:
            ((e = dN(
              fN().m(function t() {
                var e = this;
                return fN().w(
                  function (t) {
                    for (;;)
                      switch (t.n) {
                        case 0:
                          return (t.n = 1), this.init();
                        case 1:
                          return t.a(
                            2,
                            new Promise(function (t, n) {
                              var r = e._openObjectStore("readwrite").clear();
                              (r.onsuccess = function () {
                                return t("All records cleared successfully.");
                              }),
                                (r.onerror = function (t) {
                                  return n(
                                    "Clear store error: ".concat(t.target.error)
                                  );
                                });
                            })
                          );
                      }
                  },
                  t,
                  this
                );
              })
            )),
            function () {
              return e.apply(this, arguments);
            }),
        },
        {
          key: "release",
          value: function () {
            this.db &&
              (this.db.close(),
              (this.db = null),
              (this.initialized = !1),
              t.instances.delete(this.storeName),
              _t.debug(
                'Database "'
                  .concat(t.DB_CONFIG.NAME, '" connection for store "')
                  .concat(this.storeName, '" closed.')
              ));
          },
        },
      ]);
      var e, n, r, o, i, a, u;
    })();
    function gN(t) {
      return (
        (gN =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        gN(t)
      );
    }
    function _N() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          wN(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (wN((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), wN(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        wN(f, "constructor", c),
        wN(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        wN(c, o, "GeneratorFunction"),
        wN(f),
        wN(f, o, "Generator"),
        wN(f, r, function () {
          return this;
        }),
        wN(f, "toString", function () {
          return "[object Generator]";
        }),
        (_N = function () {
          return { w: i, m: p };
        })()
      );
    }
    function wN(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (wN = function (t, e, n, r) {
        function i(e, n) {
          wN(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        wN(t, e, n, r);
    }
    function SN(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function EN(t) {
      return function () {
        var e = this,
          n = arguments;
        return new Promise(function (r, o) {
          var i = t.apply(e, n);
          function a(t) {
            SN(i, r, o, a, u, "next", t);
          }
          function u(t) {
            SN(i, r, o, a, u, "throw", t);
          }
          a(void 0);
        });
      };
    }
    function kN(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, TN(r.key), r);
      }
    }
    function TN(t) {
      var e = (function (t, e) {
        if ("object" != gN(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != gN(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == gN(e) ? e : e + "";
    }
    mN(bN, "instances", new Map()),
      mN(bN, "DB_CONFIG", {
        NAME: "bio",
        VERSION: 1,
        STORE_SCHEMAS: { emuid: {}, keystore: {} },
      });
    var PN = (function () {
      return (function (t, e, n) {
        return (
          e && kN(t.prototype, e),
          n && kN(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this.storage = null != e ? e : new bN({ storeName: "keystore" }));
        },
        [
          {
            key: "init",
            value:
              ((i = EN(
                _N().m(function t() {
                  return _N().w(
                    function (t) {
                      for (;;)
                        switch (t.n) {
                          case 0:
                            return (t.n = 1), this.storage.init();
                          case 1:
                            return t.a(2);
                        }
                    },
                    t,
                    this
                  );
                })
              )),
              function () {
                return i.apply(this, arguments);
              }),
          },
          {
            key: "getKey",
            value:
              ((o = EN(
                _N().m(function t(e) {
                  var n, r, o;
                  return _N().w(
                    function (t) {
                      for (;;)
                        switch ((t.p = t.n)) {
                          case 0:
                            return (
                              (t.p = 0), (t.n = 1), this.storage.getRecord(e)
                            );
                          case 1:
                            if ((n = t.v)) {
                              t.n = 4;
                              break;
                            }
                            return (t.n = 2), this._generateKey();
                          case 2:
                            return (r = t.v), (t.n = 3), this._saveKey(e, r);
                          case 3:
                            return t.a(2, r);
                          case 4:
                            return t.a(2, n);
                          case 5:
                            throw (
                              ((t.p = 5),
                              (o = t.v),
                              _t.error("Failed to import key:", o),
                              new Error("Key retrieval failed."))
                            );
                          case 6:
                            return t.a(2);
                        }
                    },
                    t,
                    this,
                    [[0, 5]]
                  );
                })
              )),
              function (t) {
                return o.apply(this, arguments);
              }),
          },
          {
            key: "deleteKey",
            value:
              ((r = EN(
                _N().m(function t(e) {
                  return _N().w(
                    function (t) {
                      for (;;)
                        switch (t.n) {
                          case 0:
                            return (t.n = 1), this.storage.deleteRecord(e);
                          case 1:
                            return t.a(2);
                        }
                    },
                    t,
                    this
                  );
                })
              )),
              function (t) {
                return r.apply(this, arguments);
              }),
          },
          {
            key: "_generateKey",
            value:
              ((n = EN(
                _N().m(function t() {
                  var e;
                  return _N().w(
                    function (t) {
                      for (;;)
                        switch ((t.p = t.n)) {
                          case 0:
                            return (
                              (t.p = 0),
                              (t.n = 1),
                              window.crypto.subtle.generateKey(
                                { name: "AES-GCM", length: 256 },
                                !1,
                                ["encrypt", "decrypt"]
                              )
                            );
                          case 1:
                            return t.a(2, t.v);
                          case 2:
                            throw (
                              ((t.p = 2),
                              (e = t.v),
                              _t.error("Failed to generate key:", e),
                              new Error("Key generation failed."))
                            );
                          case 3:
                            return t.a(2);
                        }
                    },
                    t,
                    null,
                    [[0, 2]]
                  );
                })
              )),
              function () {
                return n.apply(this, arguments);
              }),
          },
          {
            key: "_saveKey",
            value:
              ((e = EN(
                _N().m(function t(e, n) {
                  var r;
                  return _N().w(
                    function (t) {
                      for (;;)
                        switch ((t.p = t.n)) {
                          case 0:
                            return (
                              (t.p = 0), (t.n = 1), this.storage.addRecord(e, n)
                            );
                          case 1:
                            t.n = 3;
                            break;
                          case 2:
                            throw (
                              ((t.p = 2),
                              (r = t.v),
                              _t.error("Failed to save key:", r),
                              new Error("Key saving failed."))
                            );
                          case 3:
                            return t.a(2);
                        }
                    },
                    t,
                    this,
                    [[0, 2]]
                  );
                })
              )),
              function (t, n) {
                return e.apply(this, arguments);
              }),
          },
          {
            key: "_clearKeys",
            value:
              ((t = EN(
                _N().m(function t() {
                  return _N().w(
                    function (t) {
                      for (;;)
                        switch (t.n) {
                          case 0:
                            return (t.n = 1), this.storage.clearStore();
                          case 1:
                            return t.a(2);
                        }
                    },
                    t,
                    this
                  );
                })
              )),
              function () {
                return t.apply(this, arguments);
              }),
          },
          {
            key: "release",
            value: function () {
              this.storage.release();
            },
          },
        ]
      );
      var t, e, n, r, o, i;
    })();
    function ON(t) {
      return (
        (ON =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        ON(t)
      );
    }
    function CN() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          jN(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (jN((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), jN(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        jN(f, "constructor", c),
        jN(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        jN(c, o, "GeneratorFunction"),
        jN(f),
        jN(f, o, "Generator"),
        jN(f, r, function () {
          return this;
        }),
        jN(f, "toString", function () {
          return "[object Generator]";
        }),
        (CN = function () {
          return { w: i, m: p };
        })()
      );
    }
    function jN(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (jN = function (t, e, n, r) {
        function i(e, n) {
          jN(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        jN(t, e, n, r);
    }
    function MN(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function RN(t) {
      return function () {
        var e = this,
          n = arguments;
        return new Promise(function (r, o) {
          var i = t.apply(e, n);
          function a(t) {
            MN(i, r, o, a, u, "next", t);
          }
          function u(t) {
            MN(i, r, o, a, u, "throw", t);
          }
          a(void 0);
        });
      };
    }
    function BN(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, AN(r.key), r);
      }
    }
    function AN(t) {
      var e = (function (t, e) {
        if ("object" != ON(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != ON(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == ON(e) ? e : e + "";
    }
    var xN = (function () {
      return (function (t, e, n) {
        return (
          e && BN(t.prototype, e),
          n && BN(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e) {
          var n =
            arguments.length > 1 && void 0 !== arguments[1]
              ? arguments[1]
              : null;
          if (
            ((function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
            !e)
          )
            throw new Error("encryptionKeyName is required.");
          (this.encryptionKeyName = e),
            (this.keyStore = null != n ? n : new PN()),
            (this.isInitialized = !1);
        },
        [
          {
            key: "init",
            value:
              ((n = RN(
                CN().m(function t() {
                  return CN().w(
                    function (t) {
                      for (;;)
                        switch (t.n) {
                          case 0:
                            if (this.isInitialized) {
                              t.n = 2;
                              break;
                            }
                            return (t.n = 1), this.keyStore.init();
                          case 1:
                            this.isInitialized = !0;
                          case 2:
                            return t.a(2);
                        }
                    },
                    t,
                    this
                  );
                })
              )),
              function () {
                return n.apply(this, arguments);
              }),
          },
          {
            key: "encrypt",
            value:
              ((e = RN(
                CN().m(function t(e) {
                  var n, r, o, i, a, u;
                  return CN().w(
                    function (t) {
                      for (;;)
                        switch ((t.p = t.n)) {
                          case 0:
                            return (t.n = 1), this.init();
                          case 1:
                            return (
                              (t.p = 1),
                              (t.n = 2),
                              this.keyStore.getKey(this.encryptionKeyName)
                            );
                          case 2:
                            return (
                              (n = t.v),
                              (r = window.crypto.getRandomValues(
                                new Uint8Array(12)
                              )),
                              (o = new TextEncoder().encode(e)),
                              (t.n = 3),
                              window.crypto.subtle.encrypt(
                                { name: "AES-GCM", iv: r },
                                n,
                                o
                              )
                            );
                          case 3:
                            return (
                              (i = t.v),
                              (a = new Uint8Array(i)),
                              t.a(2, {
                                encryptedData: Array.from(a),
                                iv: Array.from(r),
                              })
                            );
                          case 4:
                            throw (
                              ((t.p = 4),
                              (u = t.v),
                              _t.error("Encryption failed:", u),
                              new Error("Encryption error occurred."))
                            );
                          case 5:
                            return t.a(2);
                        }
                    },
                    t,
                    this,
                    [[1, 4]]
                  );
                })
              )),
              function (t) {
                return e.apply(this, arguments);
              }),
          },
          {
            key: "decrypt",
            value:
              ((t = RN(
                CN().m(function t(e, n) {
                  var r, o, i, a, u, s;
                  return CN().w(
                    function (t) {
                      for (;;)
                        switch ((t.p = t.n)) {
                          case 0:
                            return (t.n = 1), this.init();
                          case 1:
                            return (
                              (t.p = 1),
                              (t.n = 2),
                              this.keyStore.getKey(this.encryptionKeyName)
                            );
                          case 2:
                            return (
                              (r = t.v),
                              (o = new Uint8Array(e).buffer),
                              (i = new Uint8Array(n)),
                              (t.n = 3),
                              window.crypto.subtle.decrypt(
                                { name: "AES-GCM", iv: i },
                                r,
                                o
                              )
                            );
                          case 3:
                            return (
                              (a = t.v),
                              (u = new TextDecoder().decode(a)),
                              t.a(2, u)
                            );
                          case 4:
                            throw (
                              ((t.p = 4),
                              (s = t.v),
                              _t.error("Decryption failed:", s),
                              new Error("Decryption error occurred."))
                            );
                          case 5:
                            return t.a(2);
                        }
                    },
                    t,
                    this,
                    [[1, 4]]
                  );
                })
              )),
              function (e, n) {
                return t.apply(this, arguments);
              }),
          },
        ]
      );
      var t, e, n;
    })();
    function DN(t) {
      return (
        (DN =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        DN(t)
      );
    }
    function LN() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          NN(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (NN((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), NN(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        NN(f, "constructor", c),
        NN(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        NN(c, o, "GeneratorFunction"),
        NN(f),
        NN(f, o, "Generator"),
        NN(f, r, function () {
          return this;
        }),
        NN(f, "toString", function () {
          return "[object Generator]";
        }),
        (LN = function () {
          return { w: i, m: p };
        })()
      );
    }
    function NN(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (NN = function (t, e, n, r) {
        function i(e, n) {
          NN(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        NN(t, e, n, r);
    }
    function IN(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function FN(t) {
      return function () {
        var e = this,
          n = arguments;
        return new Promise(function (r, o) {
          var i = t.apply(e, n);
          function a(t) {
            IN(i, r, o, a, u, "next", t);
          }
          function u(t) {
            IN(i, r, o, a, u, "throw", t);
          }
          a(void 0);
        });
      };
    }
    function UN(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, WN(r.key), r);
      }
    }
    function WN(t) {
      var e = (function (t, e) {
        if ("object" != DN(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != DN(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == DN(e) ? e : e + "";
    }
    var GN = (function () {
      return (function (t, e, n) {
        return (
          e && UN(t.prototype, e),
          n && UN(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e) {
          var n = e.storeName,
            r =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : null;
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this.indexedDBStorage = new bN({ storeName: n })),
            (this.cryptoService = null != r ? r : new xN(n)),
            (this.initialized = !1);
        },
        [
          {
            key: "init",
            value:
              ((s = FN(
                LN().m(function t() {
                  return LN().w(
                    function (t) {
                      for (;;)
                        switch (t.n) {
                          case 0:
                            if (!this.initialized) {
                              t.n = 1;
                              break;
                            }
                            return t.a(2);
                          case 1:
                            return (t.n = 2), this.indexedDBStorage.init();
                          case 2:
                            return (t.n = 3), this.cryptoService.init();
                          case 3:
                            this.initialized = !0;
                          case 4:
                            return t.a(2);
                        }
                    },
                    t,
                    this
                  );
                })
              )),
              function () {
                return s.apply(this, arguments);
              }),
          },
          {
            key: "release",
            value: function () {
              this.indexedDBStorage.release(),
                this.encryptionKeyStorage.release(),
                (this.initialized = !1);
            },
          },
          {
            key: "addRecord",
            value:
              ((u = FN(
                LN().m(function t(e, n) {
                  var r;
                  return LN().w(
                    function (t) {
                      for (;;)
                        switch (t.n) {
                          case 0:
                            return (t.n = 1), this.init();
                          case 1:
                            return (t.n = 2), this._encryptRecord(n);
                          case 2:
                            return (
                              (r = t.v),
                              t.a(2, this.indexedDBStorage.addRecord(e, r))
                            );
                        }
                    },
                    t,
                    this
                  );
                })
              )),
              function (t, e) {
                return u.apply(this, arguments);
              }),
          },
          {
            key: "getRecord",
            value:
              ((a = FN(
                LN().m(function t(e) {
                  var n;
                  return LN().w(
                    function (t) {
                      for (;;)
                        switch (t.n) {
                          case 0:
                            return (t.n = 1), this.init();
                          case 1:
                            return (
                              (t.n = 2), this.indexedDBStorage.getRecord(e)
                            );
                          case 2:
                            if ((n = t.v)) {
                              t.n = 3;
                              break;
                            }
                            return t.a(2, null);
                          case 3:
                            return t.a(2, this._decryptRecord(n));
                        }
                    },
                    t,
                    this
                  );
                })
              )),
              function (t) {
                return a.apply(this, arguments);
              }),
          },
          {
            key: "updateRecord",
            value:
              ((i = FN(
                LN().m(function t(e, n) {
                  var r;
                  return LN().w(
                    function (t) {
                      for (;;)
                        switch (t.n) {
                          case 0:
                            return (t.n = 1), this.init();
                          case 1:
                            return (t.n = 2), this._encryptRecord(n);
                          case 2:
                            return (
                              (r = t.v),
                              t.a(2, this.indexedDBStorage.updateRecord(e, r))
                            );
                        }
                    },
                    t,
                    this
                  );
                })
              )),
              function (t, e) {
                return i.apply(this, arguments);
              }),
          },
          {
            key: "deleteRecord",
            value:
              ((o = FN(
                LN().m(function t(e) {
                  return LN().w(
                    function (t) {
                      for (;;)
                        switch (t.n) {
                          case 0:
                            return (t.n = 1), this.init();
                          case 1:
                            return t.a(
                              2,
                              this.indexedDBStorage.deleteRecord(e)
                            );
                        }
                    },
                    t,
                    this
                  );
                })
              )),
              function (t) {
                return o.apply(this, arguments);
              }),
          },
          {
            key: "getAllRecords",
            value:
              ((r = FN(
                LN().m(function t() {
                  var e,
                    n = this;
                  return LN().w(
                    function (t) {
                      for (;;)
                        switch (t.n) {
                          case 0:
                            return (t.n = 1), this.init();
                          case 1:
                            return (
                              (t.n = 2), this.indexedDBStorage.getAllRecords()
                            );
                          case 2:
                            return (
                              (e = t.v),
                              t.a(
                                2,
                                Promise.all(
                                  e.map(function (t) {
                                    return n._decryptRecord(t);
                                  })
                                )
                              )
                            );
                        }
                    },
                    t,
                    this
                  );
                })
              )),
              function () {
                return r.apply(this, arguments);
              }),
          },
          {
            key: "clearStore",
            value:
              ((n = FN(
                LN().m(function t() {
                  return LN().w(
                    function (t) {
                      for (;;)
                        switch (t.n) {
                          case 0:
                            return (t.n = 1), this.init();
                          case 1:
                            return t.a(2, this.indexedDBStorage.clearStore());
                        }
                    },
                    t,
                    this
                  );
                })
              )),
              function () {
                return n.apply(this, arguments);
              }),
          },
          {
            key: "_encryptRecord",
            value:
              ((e = FN(
                LN().m(function t(e) {
                  var n, r, o;
                  return LN().w(
                    function (t) {
                      for (;;)
                        switch (t.n) {
                          case 0:
                            return (
                              (t.n = 1),
                              this.cryptoService.encrypt(JSON.stringify(e))
                            );
                          case 1:
                            return (
                              (n = t.v),
                              (r = n.encryptedData),
                              (o = n.iv),
                              t.a(2, { encryptedData: r, iv: o })
                            );
                        }
                    },
                    t,
                    this
                  );
                })
              )),
              function (t) {
                return e.apply(this, arguments);
              }),
          },
          {
            key: "_decryptRecord",
            value:
              ((t = FN(
                LN().m(function t(e) {
                  var n, r, o;
                  return LN().w(
                    function (t) {
                      for (;;)
                        switch (t.n) {
                          case 0:
                            return (
                              (n = e.encryptedData),
                              (r = e.iv),
                              (t.n = 1),
                              this.cryptoService.decrypt(n, r)
                            );
                          case 1:
                            return (o = t.v), t.a(2, JSON.parse(o));
                        }
                    },
                    t,
                    this
                  );
                })
              )),
              function (e) {
                return t.apply(this, arguments);
              }),
          },
        ]
      );
      var t, e, n, r, o, i, a, u, s;
    })();
    function HN(t) {
      return (
        (HN =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        HN(t)
      );
    }
    function QN() {
      var t,
        e,
        n = "function" == typeof Symbol ? Symbol : {},
        r = n.iterator || "@@iterator",
        o = n.toStringTag || "@@toStringTag";
      function i(n, r, o, i) {
        var s = r && r.prototype instanceof u ? r : u,
          c = Object.create(s.prototype);
        return (
          zN(
            c,
            "_invoke",
            (function (n, r, o) {
              var i,
                u,
                s,
                c = 0,
                l = o || [],
                f = !1,
                p = {
                  p: 0,
                  n: 0,
                  v: t,
                  a: h,
                  f: h.bind(t, 4),
                  d: function (e, n) {
                    return (i = e), (u = 0), (s = t), (p.n = n), a;
                  },
                };
              function h(n, r) {
                for (u = n, s = r, e = 0; !f && c && !o && e < l.length; e++) {
                  var o,
                    i = l[e],
                    h = p.p,
                    d = i[2];
                  n > 3
                    ? (o = d === r) &&
                      ((s = i[(u = i[4]) ? 5 : ((u = 3), 3)]),
                      (i[4] = i[5] = t))
                    : i[0] <= h &&
                      ((o = n < 2 && h < i[1])
                        ? ((u = 0), (p.v = r), (p.n = i[1]))
                        : h < d &&
                          (o = n < 3 || i[0] > r || r > d) &&
                          ((i[4] = n), (i[5] = r), (p.n = d), (u = 0)));
                }
                if (o || n > 1) return a;
                throw ((f = !0), r);
              }
              return function (o, l, d) {
                if (c > 1) throw TypeError("Generator is already running");
                for (
                  f && 1 === l && h(l, d), u = l, s = d;
                  (e = u < 2 ? t : s) || !f;

                ) {
                  i ||
                    (u
                      ? u < 3
                        ? (u > 1 && (p.n = -1), h(u, s))
                        : (p.n = s)
                      : (p.v = s));
                  try {
                    if (((c = 2), i)) {
                      if ((u || (o = "next"), (e = i[o]))) {
                        if (!(e = e.call(i, s)))
                          throw TypeError("iterator result is not an object");
                        if (!e.done) return e;
                        (s = e.value), u < 2 && (u = 0);
                      } else
                        1 === u && (e = i.return) && e.call(i),
                          u < 2 &&
                            ((s = TypeError(
                              "The iterator does not provide a '" +
                                o +
                                "' method"
                            )),
                            (u = 1));
                      i = t;
                    } else if ((e = (f = p.n < 0) ? s : n.call(r, p)) !== a)
                      break;
                  } catch (e) {
                    (i = t), (u = 1), (s = e);
                  } finally {
                    c = 1;
                  }
                }
                return { value: e, done: f };
              };
            })(n, o, i),
            !0
          ),
          c
        );
      }
      var a = {};
      function u() {}
      function s() {}
      function c() {}
      e = Object.getPrototypeOf;
      var l = [][r]
          ? e(e([][r]()))
          : (zN((e = {}), r, function () {
              return this;
            }),
            e),
        f = (c.prototype = u.prototype = Object.create(l));
      function p(t) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(t, c)
            : ((t.__proto__ = c), zN(t, o, "GeneratorFunction")),
          (t.prototype = Object.create(f)),
          t
        );
      }
      return (
        (s.prototype = c),
        zN(f, "constructor", c),
        zN(c, "constructor", s),
        (s.displayName = "GeneratorFunction"),
        zN(c, o, "GeneratorFunction"),
        zN(f),
        zN(f, o, "Generator"),
        zN(f, r, function () {
          return this;
        }),
        zN(f, "toString", function () {
          return "[object Generator]";
        }),
        (QN = function () {
          return { w: i, m: p };
        })()
      );
    }
    function zN(t, e, n, r) {
      var o = Object.defineProperty;
      try {
        o({}, "", {});
      } catch (t) {
        o = 0;
      }
      (zN = function (t, e, n, r) {
        function i(e, n) {
          zN(t, e, function (t) {
            return this._invoke(e, n, t);
          });
        }
        e
          ? o
            ? o(t, e, {
                value: n,
                enumerable: !r,
                configurable: !r,
                writable: !r,
              })
            : (t[e] = n)
          : (i("next", 0), i("throw", 1), i("return", 2));
      }),
        zN(t, e, n, r);
    }
    function VN(t, e, n, r, o, i, a) {
      try {
        var u = t[i](a),
          s = u.value;
      } catch (t) {
        return void n(t);
      }
      u.done ? e(s) : Promise.resolve(s).then(r, o);
    }
    function KN(t) {
      return function () {
        var e = this,
          n = arguments;
        return new Promise(function (r, o) {
          var i = t.apply(e, n);
          function a(t) {
            VN(i, r, o, a, u, "next", t);
          }
          function u(t) {
            VN(i, r, o, a, u, "throw", t);
          }
          a(void 0);
        });
      };
    }
    function qN(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, JN(r.key), r);
      }
    }
    function JN(t) {
      var e = (function (t, e) {
        if ("object" != HN(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != HN(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == HN(e) ? e : e + "";
    }
    var XN = (function () {
      return (function (t, e, n) {
        return (
          e && qN(t.prototype, e),
          n && qN(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e) {
          var n = e.domUtils,
            r = e.utils,
            o = e.configurationRepository,
            i = e.keys,
            a = void 0 === i ? { indexedDBKey: "emuid" } : i,
            u = e.encryptedIndexedDB,
            s = void 0 === u ? new GN({ storeName: "emuid" }) : u;
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._domUtils = n),
            (this._utils = r),
            (this._configurationRepository = o),
            (this._encryptedStorage = s),
            (this._keys = a);
        },
        [
          {
            key: "getEncryptedMuid",
            value:
              ((n = KN(
                QN().m(function t() {
                  var e, n;
                  return QN().w(
                    function (t) {
                      for (;;)
                        switch ((t.p = t.n)) {
                          case 0:
                            return (
                              (t.p = 0),
                              _t.debug(
                                "Fetching existing Encrypted MUID from storage..."
                              ),
                              (t.n = 1),
                              this._fetchMuidFromStorage()
                            );
                          case 1:
                            if (((e = t.v), this._isValidMuid(e))) {
                              t.n = 3;
                              break;
                            }
                            return (
                              _t.warn(
                                "No valid Encrypted MUID found. Generating a new one..."
                              ),
                              (t.n = 2),
                              this._generateNewMuid()
                            );
                          case 2:
                            return (
                              (e = t.v), (t.n = 3), this._saveMuidToStorage(e)
                            );
                          case 3:
                            return t.a(2, e);
                          case 4:
                            return (
                              (t.p = 4),
                              (n = t.v),
                              _t.error("Failed to initialize MUID:", n),
                              t.a(2, null)
                            );
                        }
                    },
                    t,
                    this,
                    [[0, 4]]
                  );
                })
              )),
              function () {
                return n.apply(this, arguments);
              }),
          },
          {
            key: "_fetchMuidFromStorage",
            value:
              ((e = KN(
                QN().m(function t() {
                  var e, n;
                  return QN().w(
                    function (t) {
                      for (;;)
                        switch ((t.p = t.n)) {
                          case 0:
                            return (
                              (t.p = 0),
                              (t.n = 1),
                              this._encryptedStorage.getRecord(
                                this._keys.indexedDBKey
                              )
                            );
                          case 1:
                            return (
                              (e = t.v),
                              _t.debug("Fetched Encrypted MUID from storage."),
                              t.a(2, (null == e ? void 0 : e.emuid) || null)
                            );
                          case 2:
                            return (
                              (t.p = 2),
                              (n = t.v),
                              _t.error(
                                "Error retrieving Encrypted MUID from storage:",
                                n
                              ),
                              t.a(2, null)
                            );
                        }
                    },
                    t,
                    this,
                    [[0, 2]]
                  );
                })
              )),
              function () {
                return e.apply(this, arguments);
              }),
          },
          {
            key: "_saveMuidToStorage",
            value:
              ((t = KN(
                QN().m(function t(e) {
                  var n;
                  return QN().w(
                    function (t) {
                      for (;;)
                        switch ((t.p = t.n)) {
                          case 0:
                            return (
                              (t.p = 0),
                              (t.n = 1),
                              this._encryptedStorage.updateRecord(
                                this._keys.indexedDBKey,
                                { emuid: e }
                              )
                            );
                          case 1:
                            _t.debug("Encrypted MUID saved to storage."),
                              (t.n = 3);
                            break;
                          case 2:
                            (t.p = 2),
                              (n = t.v),
                              _t.error(
                                "Error saving Encrypted MUID to storage:",
                                n
                              );
                          case 3:
                            return t.a(2);
                        }
                    },
                    t,
                    this,
                    [[0, 2]]
                  );
                })
              )),
              function (e) {
                return t.apply(this, arguments);
              }),
          },
          {
            key: "_generateNewMuid",
            value: function () {
              return (
                this._utils.dateNow() +
                "-" +
                this._utils.generateUUID().toUpperCase()
              );
            },
          },
          {
            key: "_isValidMuid",
            value: function (t) {
              return (
                !!t &&
                /^([0-9]{13,}-)?[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(
                  t
                )
              );
            },
          },
        ]
      );
      var t, e, n;
    })();
    n(4060);
    function YN(t, e) {
      var n =
        ("undefined" != typeof Symbol && t[Symbol.iterator]) || t["@@iterator"];
      if (!n) {
        if (
          Array.isArray(t) ||
          (n = (function (t, e) {
            if (t) {
              if ("string" == typeof t) return ZN(t, e);
              var n = {}.toString.call(t).slice(8, -1);
              return (
                "Object" === n && t.constructor && (n = t.constructor.name),
                "Map" === n || "Set" === n
                  ? Array.from(t)
                  : "Arguments" === n ||
                    /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                  ? ZN(t, e)
                  : void 0
              );
            }
          })(t)) ||
          (e && t && "number" == typeof t.length)
        ) {
          n && (t = n);
          var r = 0,
            o = function () {};
          return {
            s: o,
            n: function () {
              return r >= t.length ? { done: !0 } : { done: !1, value: t[r++] };
            },
            e: function (t) {
              throw t;
            },
            f: o,
          };
        }
        throw new TypeError(
          "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
        );
      }
      var i,
        a = !0,
        u = !1;
      return {
        s: function () {
          n = n.call(t);
        },
        n: function () {
          var t = n.next();
          return (a = t.done), t;
        },
        e: function (t) {
          (u = !0), (i = t);
        },
        f: function () {
          try {
            a || null == n.return || n.return();
          } finally {
            if (u) throw i;
          }
        },
      };
    }
    function ZN(t, e) {
      (null == e || e > t.length) && (e = t.length);
      for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
      return r;
    }
    function $N(t) {
      return (
        ($N =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        $N(t)
      );
    }
    function tI(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, eI(r.key), r);
      }
    }
    function eI(t) {
      var e = (function (t, e) {
        if ("object" != $N(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != $N(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == $N(e) ? e : e + "";
    }
    var nI = (function () {
      return (function (t, e, n) {
        return (
          e && tI(t.prototype, e),
          n && tI(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t() {
          var e,
            r,
            o =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : null,
            i =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : null,
            a =
              arguments.length > 2 && void 0 !== arguments[2]
                ? arguments[2]
                : null;
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t);
          var u = n(6542),
            s = n(5727),
            c = n(4060),
            l = o && Object.keys(o).length ? o : u;
          this.CATEGORY_RULES = new Map(Object.entries(l));
          var f =
            null != i && null !== (e = i.attributes) && void 0 !== e && e.length
              ? i
              : s;
          this.ATTRIBUTE_NAMES = f.attributes;
          var p =
            null != a && null !== (r = a.selectors) && void 0 !== r && r.length
              ? a
              : c;
          (this.ELEMENT_SELECTORS = p.selectors.join(",")),
            (this._cache = new WeakMap());
        },
        [
          {
            key: "onConfigUpdate",
            value: function (t) {
              var e,
                n,
                r = function (t) {
                  if (!t) return null;
                  if ("string" == typeof t)
                    try {
                      return JSON.parse(t);
                    } catch (t) {
                      return null;
                    }
                  return "object" === $N(t) ? t : null;
                },
                o = r(t.get(w.elementCategories));
              o &&
                Object.keys(o).length &&
                (this.CATEGORY_RULES = new Map(Object.entries(o)));
              var i = r(t.get(w.elementAttributes));
              null != i &&
                null !== (e = i.attributes) &&
                void 0 !== e &&
                e.length &&
                (this.ATTRIBUTE_NAMES = i.attributes);
              var a = r(t.get(w.elementSelectors));
              null != a &&
                null !== (n = a.selectors) &&
                void 0 !== n &&
                n.length &&
                (this.ELEMENT_SELECTORS = a.selectors.join(","));
            },
          },
          {
            key: "categoryField",
            value: function (t) {
              if (!(t && t instanceof HTMLElement)) return "0";
              var e = this._cache.get(t);
              if (void 0 !== e) return e;
              if ("hidden" === t.type) return this._cache.set(t, "0"), "0";
              var n = this._resolveControlNode(t);
              if (!n) return this._cache.set(t, "0"), "0";
              var r = this._collectStrings(n);
              if (!r.length) return this._cache.set(t, "0"), "0";
              var o,
                i = new Map(),
                a = "0",
                u = 0,
                s = YN(r);
              try {
                t: for (s.s(); !(o = s.n()).done; ) {
                  var c,
                    l = o.value,
                    f = YN(this._splitWords(l));
                  try {
                    for (f.s(); !(c = f.n()).done; ) {
                      var p = c.value,
                        h = this.CATEGORY_RULES.get(p);
                      if (void 0 !== h) {
                        var d = (i.get(h) || 0) + 1;
                        if (
                          (i.set(h, d),
                          d > u && ((a = h.toString()), (u = d) >= 3))
                        )
                          break t;
                      }
                    }
                  } catch (t) {
                    f.e(t);
                  } finally {
                    f.f();
                  }
                }
              } catch (t) {
                s.e(t);
              } finally {
                s.f();
              }
              return this._cache.set(t, a), a;
            },
          },
          {
            key: "_resolveControlNode",
            value: function (t) {
              if (t.matches(this.ELEMENT_SELECTORS)) return t;
              if (t.shadowRoot) {
                var e = t.shadowRoot.querySelector(this.ELEMENT_SELECTORS);
                if (e) return e;
              }
              return null;
            },
          },
          {
            key: "_collectStrings",
            value: function (t) {
              var e = this,
                n = [],
                r = function (t) {
                  var r,
                    o = YN(e.ATTRIBUTE_NAMES);
                  try {
                    for (o.s(); !(r = o.n()).done; ) {
                      var i,
                        a = r.value,
                        u =
                          null === (i = t.getAttribute) || void 0 === i
                            ? void 0
                            : i.call(t, a);
                      u && n.push(u.toLowerCase());
                    }
                  } catch (t) {
                    o.e(t);
                  } finally {
                    o.f();
                  }
                };
              r(t),
                t.shadowRoot && t.shadowRoot.querySelectorAll("*").forEach(r);
              var o = t.getRootNode();
              if (t.id) {
                var i,
                  a = o.querySelector('label[for="'.concat(t.id, '"]'));
                if (
                  (a ||
                    o === document ||
                    (a = document.querySelector(
                      'label[for="'.concat(t.id, '"]')
                    )),
                  null !== (i = a) && void 0 !== i && i.textContent)
                ) {
                  var u = a.textContent.toLowerCase().replace(/ /g, "");
                  n.push(u);
                }
              }
              return n;
            },
          },
          {
            key: "_splitWords",
            value: function (t) {
              return t
                .replace(/([a-z])([A-Z])/g, "$1 $2")
                .split(/[^a-z0-9]+/i)
                .filter(Boolean)
                .map(function (t) {
                  return t.toLowerCase();
                });
            },
          },
        ]
      );
    })();
    function rI(t) {
      return (
        (rI =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        rI(t)
      );
    }
    function oI(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, iI(r.key), r);
      }
    }
    function iI(t) {
      var e = (function (t, e) {
        if ("object" != rI(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != rI(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == rI(e) ? e : e + "";
    }
    var aI = (function () {
      return (function (t, e, n) {
        return (
          e && oI(t.prototype, e),
          n && oI(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._configurationRepository = e),
            (this._dataQ = n),
            (this._aggregatedDebugInfoData = {}),
            (this._changeId = -1),
            (this._flushId = -1),
            this._dataQ.registerOnPreSendToWorker(
              this._onPreSendToWorker.bind(this)
            ),
            (this.defaultCollectionLevels = {
              emuid: "debug",
              drm: "debug",
              cpu: "debug",
              font_emoji_info: "debug",
              font_math_info: "debug",
              font_width_info: "debug",
              navigator_pdfViewerEnabled: "debug",
              navigator_webdriver: "debug",
              navigator_userAgentData: "debug",
              navigator_appVersion: "debug",
              navigator_platform: "debug",
              navigator_vendor: "debug",
              navigator_productSub: "debug",
              navigator_vendorSub: "debug",
              navigator_onLine: "debug",
              navigator_prototype: "debug",
              heap: "debug",
              audio_detect_feature2: "debug",
              cpuTiming: "debug",
              graphicTiming: "debug",
              browserTiming: "debug",
              fontTiming: "debug",
            }),
            (this._fixedDebugFeatures = ["emuid"]);
        },
        [
          {
            key: "addToQueue",
            value: function (t, e, n, r) {
              var o = this._resolveDebugInfoCollectionLevels(),
                i = e[0],
                a = this._fixedDebugFeatures.includes(i) ? "debug" : o[i];
              "debug" === a
                ? ((this._aggregatedDebugInfoData[i] = e[1]), this._changeId++)
                : "prod" === a
                ? this._dataQ.addToQueue(t, e, n, r)
                : _t.warn(
                    "Received collectionLevel = ".concat(a, " for ").concat(i)
                  );
            },
          },
          {
            key: "_onPreSendToWorker",
            value: function () {
              this._changeId !== this._flushId &&
                0 !== Object.keys(this._aggregatedDebugInfoData).length &&
                (this._appendAggregatedDebugInfoDataToQueue(),
                (this._flushId = this._changeId));
            },
          },
          {
            key: "_appendAggregatedDebugInfoDataToQueue",
            value: function () {
              var t = JSON.parse(JSON.stringify(this._aggregatedDebugInfoData));
              this._dataQ.appendData("static_fields", ["client_debug_info", t]);
            },
          },
          {
            key: "_resolveDebugInfoCollectionLevels",
            value: function () {
              var t = this._configurationRepository.get(
                "debugInfoCollectionLevels"
              );
              if (!t) return this.defaultCollectionLevels;
              try {
                return JSON.parse(t);
              } catch (t) {
                return (
                  _t.error(
                    "Invalid debugInfoCollectionLevels config, falling back to defaults",
                    t
                  ),
                  this.defaultCollectionLevels
                );
              }
            },
          },
        ]
      );
    })();
    function uI(t, e) {
      return (
        (function (t) {
          if (Array.isArray(t)) return t;
        })(t) ||
        (function (t, e) {
          var n =
            null == t
              ? null
              : ("undefined" != typeof Symbol && t[Symbol.iterator]) ||
                t["@@iterator"];
          if (null != n) {
            var r,
              o,
              i,
              a,
              u = [],
              s = !0,
              c = !1;
            try {
              if (((i = (n = n.call(t)).next), 0 === e)) {
                if (Object(n) !== n) return;
                s = !1;
              } else
                for (
                  ;
                  !(s = (r = i.call(n)).done) &&
                  (u.push(r.value), u.length !== e);
                  s = !0
                );
            } catch (t) {
              (c = !0), (o = t);
            } finally {
              try {
                if (
                  !s &&
                  null != n.return &&
                  ((a = n.return()), Object(a) !== a)
                )
                  return;
              } finally {
                if (c) throw o;
              }
            }
            return u;
          }
        })(t, e) ||
        (function (t, e) {
          if (t) {
            if ("string" == typeof t) return sI(t, e);
            var n = {}.toString.call(t).slice(8, -1);
            return (
              "Object" === n && t.constructor && (n = t.constructor.name),
              "Map" === n || "Set" === n
                ? Array.from(t)
                : "Arguments" === n ||
                  /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                ? sI(t, e)
                : void 0
            );
          }
        })(t, e) ||
        (function () {
          throw new TypeError(
            "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
          );
        })()
      );
    }
    function sI(t, e) {
      (null == e || e > t.length) && (e = t.length);
      for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
      return r;
    }
    function cI(t) {
      return (
        (cI =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        cI(t)
      );
    }
    function lI(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, fI(r.key), r);
      }
    }
    function fI(t) {
      var e = (function (t, e) {
        if ("object" != cI(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != cI(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == cI(e) ? e : e + "";
    }
    var pI = (function () {
      return (function (t, e, n) {
        return (
          e && lI(t.prototype, e),
          n && lI(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            this.onConfigUpdate(e);
        },
        [
          {
            key: "onConfigUpdate",
            value: function (t) {
              this.enableAutoContextCategory = t.get(
                w.enableAutoContextCategory
              );
              var e,
                n = t.get(w.contextCategories);
              try {
                e = "string" == typeof n ? JSON.parse(n) : n;
              } catch (t) {
                return (
                  _t.error("Failed to parse contextCategories JSON:", t),
                  void (this.NORMALIZED_KEYWORDS = {})
                );
              }
              if ("object" !== cI(e) || null === e || Array.isArray(e))
                return (
                  _t.error("contextCategories must be an object:", e),
                  void (this.NORMALIZED_KEYWORDS = {})
                );
              this.NORMALIZED_KEYWORDS = {};
              for (var r = 0, o = Object.entries(e); r < o.length; r++) {
                var i = uI(o[r], 2),
                  a = i[0],
                  u = i[1];
                if ("string" == typeof u) {
                  var s = a.toLowerCase().trim();
                  this.NORMALIZED_KEYWORDS[s] = u;
                } else
                  _t.warn(
                    'Expected string for category of "'.concat(a, '", got'),
                    u
                  );
              }
            },
          },
          {
            key: "isVisible",
            value: function (t) {
              if (!t || t.nodeType !== Node.ELEMENT_NODE) return !0;
              if (null === t.offsetParent && "BODY" !== t.tagName) return !1;
              var e = window.getComputedStyle(t);
              return (
                "none" !== e.display &&
                "hidden" !== e.visibility &&
                "true" !== t.getAttribute("aria-hidden")
              );
            },
          },
          {
            key: "extractVisibleText",
            value: function () {
              var t =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : document.body,
                e =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : 5e3,
                n =
                  arguments.length > 2 && void 0 !== arguments[2]
                    ? arguments[2]
                    : 10,
                r = "",
                o = 0,
                i = this;
              return (
                (function (t) {
                  for (
                    var a = [{ node: t, depth: 0 }],
                      u = function () {
                        var t = a.pop(),
                          u = t.node,
                          s = t.depth;
                        if (o >= e || s > n) return 0;
                        if (u.nodeType === Node.TEXT_NODE) {
                          var c = u.textContent.trim();
                          c.length > 2 && (r += c + " ");
                        }
                        if (u.nodeType === Node.ELEMENT_NODE && !i.isVisible(u))
                          return 0;
                        o++,
                          u.childNodes.forEach(function (t) {
                            return a.push({ node: t, depth: s + 1 });
                          }),
                          u.shadowRoot &&
                            a.push({ node: u.shadowRoot, depth: s + 1 });
                      };
                    a.length > 0;

                  )
                    u();
                })(t),
                r.toLowerCase()
              );
            },
          },
          {
            key: "getMetaText",
            value: function () {
              var t,
                e,
                n = document.title || "",
                r =
                  (null ===
                    (t = document.querySelector('meta[name="description"]')) ||
                  void 0 === t
                    ? void 0
                    : t.content) || "",
                o =
                  (null ===
                    (e = document.querySelector('meta[property="og:title"]')) ||
                  void 0 === e
                    ? void 0
                    : e.content) || "";
              return "".concat(n, " ").concat(r, " ").concat(o).toLowerCase();
            },
          },
          {
            key: "matchCategory",
            value: function (t) {
              for (
                var e = t.toLowerCase(),
                  n = {},
                  r = {},
                  o = 0,
                  i = Object.entries(this.NORMALIZED_KEYWORDS);
                o < i.length;
                o++
              ) {
                var a = uI(i[o], 2),
                  u = a[0],
                  s = a[1];
                if (
                  e.includes(u) &&
                  ((n[s] = (n[s] || 0) + 1),
                  (r[s] || (r[s] = [])).push(u),
                  n[s] >= 3)
                )
                  break;
              }
              var c = Object.entries(n).sort(function (t, e) {
                return e[1] - t[1];
              });
              return c.length > 0 ? c[0][0] : "0";
            },
          },
          {
            key: "_getLocation",
            value: function () {
              return window.location;
            },
          },
          {
            key: "getCategory",
            value: function () {
              if (!this.enableAutoContextCategory) return "0";
              var t = this._getLocation().href.toLowerCase(),
                e = this.matchCategory(t);
              if ("0" === e) {
                var n = this.getMetaText();
                e = this.matchCategory(n);
              }
              if ("0" === e) {
                var r = this.extractVisibleText();
                r.length >= 20 && (e = this.matchCategory(r));
              }
              return e;
            },
          },
        ]
      );
    })();
    function hI(t) {
      return (
        (hI =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        hI(t)
      );
    }
    function dI(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, yI(r.key), r);
      }
    }
    function yI(t) {
      var e = (function (t, e) {
        if ("object" != hI(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != hI(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == hI(e) ? e : e + "";
    }
    var mI = (function () {
        return (function (t, e, n) {
          return (
            e && dI(t.prototype, e),
            n && dI(t, n),
            Object.defineProperty(t, "prototype", { writable: !1 }),
            t
          );
        })(
          function t() {
            !(function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, t),
              (this._serverWorker = null),
              (this._serverWorkerCommunicator = null),
              (this._configurationService = null),
              (this._featureBuilder = null),
              (this._featureService = null),
              (this._dataQ = null),
              (this._frameHandler = null),
              (this._eventHandlers = []),
              (this._contextMgr = null),
              (this._runWorker = function (t) {
                return new Fe(t.getUseUrlWorker(), t.getWorkerUrl()).create();
              });
          },
          [
            {
              key: "start",
              value: function (t, e) {
                var n =
                  arguments.length > 2 && void 0 !== arguments[2]
                    ? arguments[2]
                    : null;
                this._loadSystem(t, e, n);
              },
            },
            {
              key: "stop",
              value: function () {
                this._serverWorker && this._serverWorker.close(),
                  this.heartBeatService && this.heartBeatService.stop();
              },
            },
            {
              key: "registerPostLoadEvents",
              value: function () {
                this._slaveListener.onResetSessionTrigger.subscribe(
                  this._sessionService.resetSession.bind(this._sessionService)
                );
              },
            },
            {
              key: "flushAllMessages",
              value: function () {
                this._dataQ.flushAllMessages();
              },
            },
            {
              key: "handleCoordinatesMaskingConfigurationUpdate",
              value: function (t) {
                this._coordinatesMaskingConfigurationUpdater.updateConfig(t);
              },
            },
            {
              key: "getServerWorkerCommunicator",
              value: function () {
                return this._serverWorkerCommunicator;
              },
            },
            {
              key: "getFeatureBuilder",
              value: function () {
                return this._featureBuilder;
              },
            },
            {
              key: "getFeatureService",
              value: function () {
                return this._featureService;
              },
            },
            {
              key: "getConfigurationService",
              value: function () {
                return this._configurationService;
              },
            },
            {
              key: "getConfigurationRepository",
              value: function () {
                return this._configurationRepository;
              },
            },
            {
              key: "getSessionService",
              value: function () {
                return this._sessionService;
              },
            },
            {
              key: "getContextMgr",
              value: function () {
                return this._contextMgr;
              },
            },
            {
              key: "getMuidService",
              value: function () {
                return this._muidService;
              },
            },
            {
              key: "getEncryptedMuidService",
              value: function () {
                return this._muidEncryptedService;
              },
            },
            {
              key: "getApiBridge",
              value: function () {
                return this._customerApiBridge;
              },
            },
            {
              key: "getPerfMonitor",
              value: function () {
                return this._perfMonitor;
              },
            },
            {
              key: "getServerStateMgr",
              value: function () {
                return this._serverStateMgr;
              },
            },
            {
              key: "getMessageBus",
              value: function () {
                return this._msgBus;
              },
            },
            {
              key: "getAgentIdService",
              value: function () {
                return this._agentIdService;
              },
            },
            {
              key: "getExternalWasmModuleLoader",
              value: function () {
                return this._wasmModuleLoader;
              },
            },
            {
              key: "_loadSystem",
              value: function (t, e, n) {
                var r, o, i;
                this._runServerWorker(e),
                  (this._serverWorkerCommunicator = new $e()),
                  this._serverWorkerCommunicator.setMessagingPort(
                    this._serverWorker.port
                  );
                var a = new ml(
                  Ai,
                  this._serverWorkerCommunicator,
                  null,
                  "logPerfQPassWorkerInterval",
                  me
                );
                (this._perfMonitor = new sn(a)),
                  (this._configurationRepository = new fr()),
                  new Yc(
                    this._configurationRepository,
                    e
                  ).loadStartUpConfigurations();
                var u =
                  null === (r = this._configurationRepository) || void 0 === r
                    ? void 0
                    : r.get(w.enableWupMessagesHashing);
                this._shouldEnableWorkerWupMessagesHashing(
                  u,
                  this._serverWorkerCommunicator
                );
                var s = new _l(se, this._configurationRepository, e),
                  c = new pn(
                    self.MutationObserver,
                    se,
                    Ai,
                    "contextConfiguration",
                    null,
                    !0,
                    400
                  );
                (this._contextCategoryService = new pI(
                  this._configurationRepository
                )),
                  (this._contextMgr = new kn(
                    se,
                    c,
                    this._serverWorkerCommunicator,
                    s,
                    this._contextCategoryService
                  ));
                var l = new sl(a, this._contextMgr.url),
                  f = new wt(l);
                _t.setLogger(f);
                var p =
                  null === (o = this._configurationRepository) || void 0 === o
                    ? void 0
                    : o.get(w.externalWASMModules);
                this._wasmModuleLoader = new mn(p);
                var h =
                  null === (i = this._configurationRepository) || void 0 === i
                    ? void 0
                    : i.get(w.collectionMode);
                this._registerFeatures(h),
                  (this._currScriptName = document.currentScript
                    ? document.currentScript.src
                    : ""),
                  (this._globalexceptionHandler = new Cn(
                    se,
                    this._currScriptName
                  )),
                  (this._msgBus = new An()),
                  (this._dataQ = new rn(
                    Ai,
                    this._serverWorkerCommunicator,
                    this._contextMgr,
                    "dataQPassWorkerInterval",
                    ye
                  )),
                  (this._devDebugDataQueue = new aI(
                    this._configurationRepository,
                    this._dataQ
                  )),
                  (this._agentIdCache = new Wl(s)),
                  (this._agentIdService = new zl(
                    this._agentIdCache,
                    this._serverWorkerCommunicator
                  )),
                  (this._cidCache = new Nn(e.getWupServerURL())),
                  (this._serverStateMgr = new Kn(
                    this._serverWorkerCommunicator,
                    se,
                    this._agentIdService
                  )),
                  (this._sessionInfoService = new dc()),
                  (this._sensorGateKeeper = new bc(
                    this._sessionInfoService,
                    this._configurationRepository
                  )),
                  (this._configurationService = new ro(
                    se,
                    this._configurationRepository,
                    this._msgBus,
                    this._cidCache,
                    this._serverWorkerCommunicator
                  )),
                  (this._sensorDataQ = new Xo(
                    this._configurationRepository,
                    this._dataQ,
                    this._msgBus,
                    se,
                    this._sensorGateKeeper
                  )),
                  (this._maskingService = new vo(
                    this._configurationRepository
                  ));
                var d = e.getElementCategories(),
                  y = e.getElementAttributes(),
                  m = e.getElementSelectors();
                (this._categoryService = new nI(d, y, m)),
                  (this._elementsUtils = new yi(
                    this._configurationRepository,
                    se,
                    this._dataQ,
                    this._contextMgr,
                    this._maskingService,
                    this._categoryService
                  ));
                var v = new va(),
                  b = new Wa(this._configurationRepository, Ai, se);
                (this._frameHandler = b.create()),
                  (this._featureService = new za(
                    KL,
                    this._frameHandler,
                    this._configurationRepository,
                    Ai,
                    se,
                    v
                  ));
                var g = new Kc(se, this._msgBus, this._configurationRepository);
                (this._stateService = new as(this._msgBus)),
                  (this._pauseResumeMgr = new Ya(
                    this._featureService,
                    this._configurationRepository,
                    this._dataQ,
                    this._stateService,
                    this._serverWorkerCommunicator
                  )),
                  (this._customerApiBridge = new su(
                    this._pauseResumeMgr,
                    this._msgBus,
                    t,
                    se
                  )),
                  this._configurationRepository.get(w.agentType) !==
                    ct.SECONDARY &&
                    ((this._muidService = new pu(
                      se,
                      this._dataQ,
                      s,
                      this._configurationRepository
                    )),
                    (this._muidEncryptedService = new XN({
                      domUtils: Ai,
                      utils: se,
                      storage: s,
                      configurationRepository: this._configurationRepository,
                    }))),
                  (this._psidCache = new mu());
                var _ = new _u(this._psidCache, this._serverWorkerCommunicator),
                  S = new pn(
                    self.MutationObserver,
                    se,
                    Ai,
                    "resetSessionConfig"
                  ),
                  E = new ku(se, s, this._configurationRepository);
                (this._csidCache = new Cu()), n && this._csidCache.set(n);
                var k = new Bu(
                    this._customerApiBridge,
                    this._csidCache,
                    this._serverWorkerCommunicator
                  ),
                  T = new Cl(se, s);
                (this._brandService = new kl(
                  this._serverWorkerCommunicator,
                  T
                )),
                  (this._coordinatesMaskingConfigurationUpdater = new Ll(
                    this._configurationRepository
                  ));
                var P = new uN(e.getWupServerURL()),
                  O = new eN(e.getWupServerURL()),
                  C = e.isMinifiedWupUriEnabled();
                (this._sessionService = new Nu(
                  this._msgBus,
                  this._configurationService,
                  this._configurationRepository,
                  se,
                  Ai,
                  this._serverWorkerCommunicator,
                  this._contextMgr,
                  this._muidService,
                  this._serverStateMgr,
                  S,
                  E,
                  P,
                  this._cidCache,
                  O,
                  C,
                  k,
                  this._csidCache,
                  this._psidCache,
                  this._brandService,
                  this._agentIdService,
                  e.getRecoveryServerURL()
                )),
                  (this._metadataService = new Wu(
                    this._configurationRepository,
                    this._dataQ
                  )),
                  (this._slaveListener = new qu(
                    this._dataQ,
                    this._configurationRepository,
                    se,
                    a,
                    this._contextMgr
                  )),
                  this._slaveListener.listen(),
                  (this._sameChar = new xo()),
                  (this._fontTimingService = new QM()),
                  (this._featureBuilder = new Zu(
                    KL,
                    this._configurationRepository,
                    se,
                    this._elementsUtils,
                    self.MutationObserver,
                    this._dataQ,
                    this._devDebugDataQueue,
                    e,
                    this._sessionService,
                    this._muidService,
                    this._muidEncryptedService,
                    this._perfMonitor,
                    this._sensorDataQ,
                    this._msgBus,
                    this._cidCache,
                    this._sameChar,
                    this._maskingService,
                    this._categoryService,
                    this._wasmModuleLoader,
                    this._contextMgr,
                    this._fontTimingService
                  )),
                  (this._contextApiHandler = new ns(
                    this._contextMgr,
                    this._dataQ
                  )),
                  this._contextMgr.onContextChange.subscribe(
                    this._featureService.runPerContextFeatures.bind(
                      this._featureService
                    )
                  );
                var j = new ds();
                (this.heartBeatService = new oc(
                  this._serverWorkerCommunicator,
                  new lc(),
                  this._configurationRepository.get(w.heartBeatMessageInterval)
                )),
                  this.heartBeatService.start(),
                  this._eventHandlers.push(
                    new Bl(
                      this._msgBus,
                      this._muidService,
                      j,
                      this._serverWorkerCommunicator
                    )
                  ),
                  this._eventHandlers.push(
                    new bs(this._msgBus, this._contextMgr)
                  ),
                  this._eventHandlers.push(
                    new Ss(this._msgBus, this._sessionService)
                  ),
                  this._eventHandlers.push(
                    new Ps(this._msgBus, this._metadataService)
                  ),
                  this._eventHandlers.push(
                    new Ms(
                      this._msgBus,
                      this._pauseResumeMgr,
                      this._slaveListener
                    )
                  ),
                  this._eventHandlers.push(new xs(this._msgBus, k)),
                  this._eventHandlers.push(new Is(this._msgBus, _)),
                  this._eventHandlers.push(
                    new tc(this._msgBus, this._brandService)
                  ),
                  this._eventHandlers.push(new Xs(this._msgBus, j)),
                  this._eventHandlers.push(
                    new Vs(
                      this._msgBus,
                      this._featureService,
                      this._dataQ,
                      this._pauseResumeMgr,
                      this._metadataService,
                      f,
                      this._contextMgr,
                      this._sessionService,
                      this._sensorDataQ,
                      this._slaveListener,
                      this._stateService,
                      this._perfMonitor,
                      this.heartBeatService,
                      this._sensorGateKeeper,
                      E,
                      this._coordinatesMaskingConfigurationUpdater
                    )
                  ),
                  this._eventHandlers.push(
                    new Gs(
                      this._msgBus,
                      this._featureService,
                      this._customerApiBridge,
                      this._contextMgr,
                      j,
                      this._sessionInfoService
                    )
                  ),
                  this._configurationRepository.get(
                    w.enableCustomElementsProcessing
                  ) && g.start(new Hi(window.self, Ai)),
                  e.getLogServerURL() &&
                    this._configurationService.updateLogUrlToWorker(
                      this._sessionService.sessionId,
                      this._csidCache.get(),
                      this._serverWorkerCommunicator
                    ),
                  e.isFlutterApp() &&
                    (window.bcClient
                      ? (window.bcClient.flutterBridge = new YL(this._msgBus))
                      : _t.error(
                          "Cannot initiate FlutterSdkBridge: bcClient object not found."
                        )),
                  this._stateService.updateState(ke.starting);
              },
            },
            {
              key: "_runServerWorker",
              value: function (t) {
                this._serverWorker = this._runWorker(t);
              },
            },
            {
              key: "_registerFeatures",
              value: function (t) {
                if (t !== lt.LEAN)
                  return (
                    _t.info("Build features per collection mode: FULL"),
                    void KL.register()
                  );
                _t.info("Build features per collection mode: LEAN"),
                  KL.registerLeanFeatures();
              },
            },
            {
              key: "_shouldEnableWorkerWupMessagesHashing",
              value: function (t, e) {
                t && e.sendAsync(we, { enableWupMessagesHashing: t });
              },
            },
          ]
        );
      })(),
      vI = "getConfigurations",
      bI = "client";
    function gI(t) {
      return (
        (gI =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        gI(t)
      );
    }
    function _I(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, wI(r.key), r);
      }
    }
    function wI(t) {
      var e = (function (t, e) {
        if ("object" != gI(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != gI(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == gI(e) ? e : e + "";
    }
    var SI = (function () {
      function t() {
        !(function (t, e) {
          if (!(t instanceof e))
            throw new TypeError("Cannot call a class as a function");
        })(this, t);
      }
      return (function (t, e, n) {
        return (
          e && _I(t.prototype, e),
          n && _I(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(t, null, [
        {
          key: "extract",
          value: function (t) {
            if (!t) throw new Error("Invalid wupServerURL. Parameter is empty");
            var e = {};
            if (
              ((e.cid = this.getCID(t)),
              (e.serverURL = this.getServerURL(t)),
              !e.serverURL)
            )
              throw new Error(
                "Invalid field. Failed extracting the address parameter: ".concat(
                  t
                )
              );
            if (!e.cid)
              throw new Error(
                "Invalid field. Failed extracting the cid parameter: ".concat(t)
              );
            return e;
          },
        },
        {
          key: "getCID",
          value: function (e) {
            var n = t.extractCid(e);
            return n || null;
          },
        },
        {
          key: "extractCid",
          value: function (t) {
            var e = t.indexOf("cid=");
            if (-1 === e) return null;
            e += 4;
            var n = t.indexOf("&", e);
            return (n = -1 === n ? void 0 : n), t.substring(e, n);
          },
        },
        {
          key: "getServerURL",
          value: function (t) {
            var e = t.indexOf("/client/v", t);
            return (e = -1 === e ? null : e) ? t.substring(0, e) : null;
          },
        },
      ]);
    })();
    function EI(t) {
      return (
        (EI =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        EI(t)
      );
    }
    function kI(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, TI(r.key), r);
      }
    }
    function TI(t) {
      var e = (function (t, e) {
        if ("object" != EI(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != EI(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == EI(e) ? e : e + "";
    }
    var PI = (function () {
      return (function (t, e, n) {
        return (
          e && kI(t.prototype, e),
          n && kI(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t() {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t);
        },
        null,
        [
          {
            key: "build",
            value: function (t, e) {
              var n = "/client/v3.1/web/wup";
              if (!t) throw new Error("Invalid server URL. Parameter is empty");
              return se.hasProtocol(t)
                ? t.toString().concat(n, "?cid=", e)
                : "https".concat("://", t, n, "?cid=", e);
            },
          },
          {
            key: "buildCustomServerUrl",
            value: function (t) {
              if (!t) throw new Error("Invalid server URL. Parameter is empty");
              return se.hasProtocol(t) ? t : "https".concat("://", t);
            },
          },
        ]
      );
    })();
    function OI(t) {
      return (
        (OI =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        OI(t)
      );
    }
    function CI(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, jI(r.key), r);
      }
    }
    function jI(t) {
      var e = (function (t, e) {
        if ("object" != OI(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != OI(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == OI(e) ? e : e + "";
    }
    function MI(t, e, n) {
      return (
        (e = xI(e)),
        (function (t, e) {
          if (e && ("object" == OI(e) || "function" == typeof e)) return e;
          if (void 0 !== e)
            throw new TypeError(
              "Derived constructors may only return object or undefined"
            );
          return (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t);
        })(
          t,
          BI()
            ? Reflect.construct(e, n || [], xI(t).constructor)
            : e.apply(t, n)
        )
      );
    }
    function RI(t) {
      var e = "function" == typeof Map ? new Map() : void 0;
      return (
        (RI = function (t) {
          if (
            null === t ||
            !(function (t) {
              try {
                return (
                  -1 !== Function.toString.call(t).indexOf("[native code]")
                );
              } catch (e) {
                return "function" == typeof t;
              }
            })(t)
          )
            return t;
          if ("function" != typeof t)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          if (void 0 !== e) {
            if (e.has(t)) return e.get(t);
            e.set(t, n);
          }
          function n() {
            return (function (t, e, n) {
              if (BI()) return Reflect.construct.apply(null, arguments);
              var r = [null];
              r.push.apply(r, e);
              var o = new (t.bind.apply(t, r))();
              return n && AI(o, n.prototype), o;
            })(t, arguments, xI(this).constructor);
          }
          return (
            (n.prototype = Object.create(t.prototype, {
              constructor: {
                value: n,
                enumerable: !1,
                writable: !0,
                configurable: !0,
              },
            })),
            AI(n, t)
          );
        }),
        RI(t)
      );
    }
    function BI() {
      try {
        var t = !Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        );
      } catch (t) {}
      return (BI = function () {
        return !!t;
      })();
    }
    function AI(t, e) {
      return (
        (AI = Object.setPrototypeOf
          ? Object.setPrototypeOf.bind()
          : function (t, e) {
              return (t.__proto__ = e), t;
            }),
        AI(t, e)
      );
    }
    function xI(t) {
      return (
        (xI = Object.setPrototypeOf
          ? Object.getPrototypeOf.bind()
          : function (t) {
              return t.__proto__ || Object.getPrototypeOf(t);
            }),
        xI(t)
      );
    }
    var DI = (function (t) {
        function e() {
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            MI(this, e, arguments)
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              e && AI(t, e);
          })(e, t),
          (function (t, e, n) {
            return (
              e && CI(t.prototype, e),
              n && CI(t, n),
              Object.defineProperty(t, "prototype", { writable: !1 }),
              t
            );
          })(e)
        );
      })(RI(Error)),
      LI = "enableRestart",
      NI = "enableFlush",
      II = "enableCustomElements";
    function FI(t) {
      return (
        (FI =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        FI(t)
      );
    }
    function UI(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, WI(r.key), r);
      }
    }
    function WI(t) {
      var e = (function (t, e) {
        if ("object" != FI(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != FI(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == FI(e) ? e : e + "";
    }
    var GI = (function () {
      return (function (t, e, n) {
        return (
          e && UI(t.prototype, e),
          n && UI(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t(e, n) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (this._cdApi = n),
            (this._utils = e);
        },
        [
          {
            key: "cdApi",
            value: function () {
              return this._cdApi || window.cdApi;
            },
          },
          {
            key: "getCustomerSessionID",
            value: function (t) {
              this._getFromApiOrEmpty("getCustomerSessionID", function (e) {
                t(e);
              });
            },
          },
          {
            key: "getLogServerAddress",
            value: function (t) {
              this._getFromApiOrEmpty("getLogServerAddress", function (e) {
                t(e);
              });
            },
          },
          {
            key: "getServerAddress",
            value: function (t) {
              this._getFromApiOrEmpty(
                "getCustomerConfigLocation",
                function (e) {
                  t(e);
                }
              );
            },
          },
          {
            key: "getConfigurations",
            value: function (t) {
              var e = this,
                n = null;
              this.isApiAvailable(vI)
                ? this._getFromApiOrEmpty(vI, function (e) {
                    var r = null;
                    if (e) {
                      if (e.isWupServerURLProxy) n = e.wupServerURL;
                      else if (e[M]) n = PI.buildCustomServerUrl(e[M]);
                      else {
                        if (!e[I] || !e[N])
                          throw new Error(
                            "Invalid serverURL or cid. Parameter is empty"
                          );
                        n = PI.build(e[N], e[I]);
                      }
                      r = new At().mapStartupConfigurations(n, e);
                    }
                    t(r);
                  })
                : this.getLogServerAddress(function (r) {
                    e.getServerAddress(function (e) {
                      var o = SI.extract(e);
                      (n = PI.build(o.serverURL, o.cid)),
                        t(new jt(n, r, null, !1, "", null));
                    });
                  });
            },
          },
          {
            key: "createClientInterface",
            value: function (t, e) {
              if (!this.isCDAPIAvailable())
                throw (
                  (_t.error(
                    "Failed setting client facade. cdApi is unavailable."
                  ),
                  new DI("Failed setting client facade. cdApi is unavailable."))
                );
              var n = {
                setCoordinatesMasking: function (e) {
                  t.setCoordinatesMasking(e);
                },
              };
              e &&
                e[LI] &&
                (n.restart = function () {
                  t.restart();
                }),
                e &&
                  e[NI] &&
                  (n.flush = function () {
                    t.flush();
                  }),
                e &&
                  e[II] &&
                  (n.submitCustomElement = function (e) {
                    t.submitCustomElement(e);
                  }),
                (this.cdApi()[bI] = n);
            },
          },
          {
            key: "isCDAPIAvailable",
            value: function () {
              return !!this.cdApi();
            },
          },
          {
            key: "isApiAvailable",
            value: function (t) {
              return !!this.cdApi() && !!this.cdApi()[t];
            },
          },
          {
            key: "_getFromApiOrEmpty",
            value: function (t, e) {
              var n =
                arguments.length > 2 && void 0 !== arguments[2]
                  ? arguments[2]
                  : 0;
              if (!this.cdApi())
                return n >= 20
                  ? void _t.error("Failed getting cdApi after all retries.")
                  : (0 === n && _t.warn("cdApi not found in retry ".concat(n)),
                    n++,
                    void setTimeout(
                      this._getFromApiOrEmpty.bind(this, t, e, n),
                      100
                    ));
              if (!this.cdApi()[t])
                return (
                  _t.warn("User did not implement cdApi method: ".concat(t)),
                  void e("")
                );
              try {
                this.cdApi()[t](e);
              } catch (e) {
                throw (
                  (_t.error(
                    "An error has occurred while calling cdApi ".concat(
                      t,
                      " function. Exception was thrown from client implementation."
                    ),
                    e
                  ),
                  e)
                );
              }
            },
          },
        ]
      );
    })();
    function HI(t) {
      return (
        (HI =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              }),
        HI(t)
      );
    }
    function QI(t, e) {
      for (var n = 0; n < e.length; n++) {
        var r = e[n];
        (r.enumerable = r.enumerable || !1),
          (r.configurable = !0),
          "value" in r && (r.writable = !0),
          Object.defineProperty(t, zI(r.key), r);
      }
    }
    function zI(t) {
      var e = (function (t, e) {
        if ("object" != HI(t) || !t) return t;
        var n = t[Symbol.toPrimitive];
        if (void 0 !== n) {
          var r = n.call(t, e || "default");
          if ("object" != HI(r)) return r;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === e ? String : Number)(t);
      })(t, "string");
      return "symbol" == HI(e) ? e : e + "";
    }
    var VI = (function () {
      return (function (t, e, n) {
        return (
          e && QI(t.prototype, e),
          n && QI(t, n),
          Object.defineProperty(t, "prototype", { writable: !1 }),
          t
        );
      })(
        function t() {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t);
        },
        [
          {
            key: "autoStart",
            value: function (t) {
              var e = this,
                n = new GI();
              n.getConfigurations(function (r) {
                r
                  ? r.getWupServerURL()
                    ? r.getUseUrlWorker() && "" === r.getWorkerUrl()
                      ? _t.error(
                          "Failed starting the JS SDK. Received invalid WorkerUrl configuration"
                        )
                      : e.start(n, r, t)
                    : _t.error(
                        "Missing server URL. Unable to start the library."
                      )
                  : _t.error(
                      "Failed starting the JS SDK. Received invalid start configurations"
                    );
              });
            },
          },
          {
            key: "manualStart",
            value: function (t, e, n, r, o) {
              var i = new GI(void 0, r);
              this.start(i, t, n, o);
            },
          },
          {
            key: "start",
            value: function (t, e, n, r) {
              var o;
              (this._cdApiFacade = t),
                (this._startupConfigurations = e),
                (this._configurationLoadedCallback = n),
                (this.systemBootstrapper = new mI()),
                t.createClientInterface(this, e.getClientSettings()),
                this.systemBootstrapper.start(t, e, r),
                _t.info("Got server address: ".concat(e.getWupServerURL()));
              var i = this.systemBootstrapper.getPerfMonitor();
              i.startMonitor("t.timeTillServerConfig"),
                i.startMonitor("t.timeTillDataCollect"),
                (this.configurationService =
                  this.systemBootstrapper.getConfigurationService()),
                (this.sessionService =
                  this.systemBootstrapper.getSessionService()),
                this.configurationService.setConfigurationLoadedCallback(n),
                this.systemBootstrapper
                  .getFeatureService()
                  .buildFrameRelatedLists(),
                this.systemBootstrapper.getFeatureBuilder().buildFeatures(),
                _t.info("Started default features collection"),
                this.systemBootstrapper.getFeatureService().runDefault(),
                this.systemBootstrapper.getApiBridge().enableApi(),
                this.systemBootstrapper.getContextMgr().initContextHandling(),
                this.systemBootstrapper.registerPostLoadEvents(),
                null === (o = this.systemBootstrapper.getMuidService()) ||
                  void 0 === o ||
                  o.initMuid(),
                this.systemBootstrapper
                  .getConfigurationRepository()
                  .get(w.enableStartupCustomerSessionId)
                  ? this.sessionService.startNewSession(r)
                  : this.sessionService.resumeOrStartSession(r);
            },
          },
          {
            key: "stop",
            value: function () {
              this.systemBootstrapper.stop();
            },
          },
          {
            key: "pause",
            value: function () {
              window.postMessage(
                { type: "cdChangeState", toState: "pause" },
                window.location.href
              );
            },
          },
          {
            key: "resume",
            value: function () {
              window.postMessage(
                { type: "cdChangeState", toState: "run" },
                window.location.href
              );
            },
          },
          {
            key: "updateCustomerSessionID",
            value: function (t) {
              window.postMessage(
                { type: "cdSetCsid", csid: t },
                window.location.href
              );
            },
          },
          {
            key: "changeContext",
            value: function (t) {
              window.postMessage(
                { type: "ContextChange", context: t },
                window.location.href
              );
            },
          },
          {
            key: "startNewSession",
            value: function (t) {
              window.postMessage(
                { type: "ResetSession", resetReason: "customerApi", csid: t },
                window.location.href
              );
            },
          },
          {
            key: "setCustomerBrand",
            value: function (t) {
              window.postMessage(
                { type: "cdSetCustomerBrand", brand: t },
                window.location.href
              );
            },
          },
          {
            key: "restart",
            value: function () {
              this.stop(),
                this.start(
                  this._cdApiFacade,
                  this._startupConfigurations,
                  this._configurationLoadedCallback
                );
            },
          },
          {
            key: "flush",
            value: function () {
              this.systemBootstrapper.flushAllMessages();
            },
          },
          {
            key: "setCoordinatesMasking",
            value: function (t) {
              this.systemBootstrapper.handleCoordinatesMaskingConfigurationUpdate(
                t
              );
            },
          },
          {
            key: "submitCustomElement",
            value: function (t) {
              this.systemBootstrapper.getMessageBus().publish(Xr, t);
            },
          },
        ]
      );
    })();
    function KI() {
      return new m(new VI(), new _(), new At(), new Gt());
    }
    KI();
  })(),
    (cdwpb = r);
})();
